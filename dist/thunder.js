(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

require('core-js/modules/es6.typed.array-buffer');

require('core-js/modules/es6.typed.int8-array');

require('core-js/modules/es6.typed.uint8-array');

require('core-js/modules/es6.typed.uint8-clamped-array');

require('core-js/modules/es6.typed.int16-array');

require('core-js/modules/es6.typed.uint16-array');

require('core-js/modules/es6.typed.int32-array');

require('core-js/modules/es6.typed.uint32-array');

require('core-js/modules/es6.typed.float32-array');

require('core-js/modules/es6.typed.float64-array');

require('core-js/modules/es6.map');

require('core-js/modules/es6.set');

require('core-js/modules/es6.weak-map');

require('core-js/modules/es6.weak-set');

require('core-js/modules/es6.reflect.apply');

require('core-js/modules/es6.reflect.construct');

require('core-js/modules/es6.reflect.define-property');

require('core-js/modules/es6.reflect.delete-property');

require('core-js/modules/es6.reflect.get');

require('core-js/modules/es6.reflect.get-own-property-descriptor');

require('core-js/modules/es6.reflect.get-prototype-of');

require('core-js/modules/es6.reflect.has');

require('core-js/modules/es6.reflect.is-extensible');

require('core-js/modules/es6.reflect.own-keys');

require('core-js/modules/es6.reflect.prevent-extensions');

require('core-js/modules/es6.reflect.set');

require('core-js/modules/es6.reflect.set-prototype-of');

require('core-js/modules/es6.promise');

require('core-js/modules/es6.symbol');

require('core-js/modules/es6.object.freeze');

require('core-js/modules/es6.object.seal');

require('core-js/modules/es6.object.prevent-extensions');

require('core-js/modules/es6.object.is-frozen');

require('core-js/modules/es6.object.is-sealed');

require('core-js/modules/es6.object.is-extensible');

require('core-js/modules/es6.object.get-own-property-descriptor');

require('core-js/modules/es6.object.get-prototype-of');

require('core-js/modules/es6.object.keys');

require('core-js/modules/es6.object.get-own-property-names');

require('core-js/modules/es6.object.assign');

require('core-js/modules/es6.object.is');

require('core-js/modules/es6.object.set-prototype-of');

require('core-js/modules/es6.function.name');

require('core-js/modules/es6.string.raw');

require('core-js/modules/es6.string.from-code-point');

require('core-js/modules/es6.string.code-point-at');

require('core-js/modules/es6.string.repeat');

require('core-js/modules/es6.string.starts-with');

require('core-js/modules/es6.string.ends-with');

require('core-js/modules/es6.string.includes');

require('core-js/modules/es6.regexp.flags');

require('core-js/modules/es6.regexp.match');

require('core-js/modules/es6.regexp.replace');

require('core-js/modules/es6.regexp.split');

require('core-js/modules/es6.regexp.search');

require('core-js/modules/es6.array.from');

require('core-js/modules/es6.array.of');

require('core-js/modules/es6.array.copy-within');

require('core-js/modules/es6.array.find');

require('core-js/modules/es6.array.find-index');

require('core-js/modules/es6.array.fill');

require('core-js/modules/es6.array.iterator');

require('core-js/modules/es6.number.is-finite');

require('core-js/modules/es6.number.is-integer');

require('core-js/modules/es6.number.is-safe-integer');

require('core-js/modules/es6.number.is-nan');

require('core-js/modules/es6.number.epsilon');

require('core-js/modules/es6.number.min-safe-integer');

require('core-js/modules/es6.number.max-safe-integer');

require('core-js/modules/es6.math.acosh');

require('core-js/modules/es6.math.asinh');

require('core-js/modules/es6.math.atanh');

require('core-js/modules/es6.math.cbrt');

require('core-js/modules/es6.math.clz32');

require('core-js/modules/es6.math.cosh');

require('core-js/modules/es6.math.expm1');

require('core-js/modules/es6.math.fround');

require('core-js/modules/es6.math.hypot');

require('core-js/modules/es6.math.imul');

require('core-js/modules/es6.math.log1p');

require('core-js/modules/es6.math.log10');

require('core-js/modules/es6.math.log2');

require('core-js/modules/es6.math.sign');

require('core-js/modules/es6.math.sinh');

require('core-js/modules/es6.math.tanh');

require('core-js/modules/es6.math.trunc');

require('core-js/modules/es7.array.includes');

require('core-js/modules/es7.object.values');

require('core-js/modules/es7.object.entries');

require('core-js/modules/es7.object.get-own-property-descriptors');

require('core-js/modules/es7.string.pad-start');

require('core-js/modules/es7.string.pad-end');

require('core-js/modules/web.timers');

require('core-js/modules/web.immediate');

require('core-js/modules/web.dom.iterable');

require('regenerator-runtime/runtime');

require('imagesloaded');
require('jquery-form')(window, $);
require('jquery-match-height');
require('lightslider/dist/js/lightslider.min.js');

var Polyglot = require('node-polyglot');
var jstz = require('jstimezonedetect');
var mergeWith = require('lodash.mergeWith');

var Thunder = function Thunder(options) {

	var language = window.navigator.userLanguage || window.navigator.language || null;

	var timezone = jstz.determine().name();

	var overrideArray = function overrideArray(ov, sv) {

		if (Array.isArray(ov) && Array.isArray(sv)) {
			return sv;
		}
	};

	options = mergeWith({
		client: null,
		language: language,
		currency: null,
		timezone: timezone,
		debugLanguage: language === 'ko' ? 'ko' : 'en',
		root: location.protocol + '//' + location.host,
		baseURL: null,
		authStorage: {
			customer: '__tct__',
			order: '__tot__'
		},
		dateInputFormat: 'YYYY-MM-DD',
		legal: {
			registrationTerms: { link: null, text: null },
			registrationPrivacy: { link: null, text: null },
			orderTerms: { link: null, text: null },
			orderPrivacy: { link: null, text: null }
		},
		confirmation: {
			customerDelete: true,
			couponDelete: false,
			reviewDelete: false,
			reviewCommentDelete: false
		},
		productActions: ['add-to-cart', 'buy-now'],
		productLabels: [
			// 'unavailable',
			// 'sold-out',
			// 'discounted'
		],
		productOptionSelector: 'combined',
		productReview: true,
		productReviewRating: true,
		productReviewComment: true,
		paymentMethods: {
			order: [],
			subscription: []
		},
		refundReasonCategories: [],
		subscriptionPlans: [],
		customerAvatar: true,
		customerDashboardLogout: false,
		customerIdentity: ['name.full', 'alias', 'userId'],
		customerRegistrationFields: ['userId:required', 'email:required', 'password:required',
		// 'alias',
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		customerUpdateFields: ['userId', 'email',
		// 'alias',
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		customerOrderFields: [
		// 'name.first',
		// 'name.last',
		'name.full:required', 'email:required', 'mobile:required', 'phone'],
		recipientFields: [
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		addressDisabled: ['country', 'state', 'city', 'address1', 'postcode'],
		orderAuthFields: [
			// 'userId',
			// 'alias',
			// 'email',
			// 'mobile',
			// 'phone',
			// 'name.first',
			// 'name.last',
			// 'name.full',
		],
		socialApps: [
			// 'facebook',
			// 'google',
			// 'instagram',
			// 'naver',
			// 'kakao',
		],
		header: false,
		recaptcha: {
			sitekey: null,
			onload: 'thunderRecaptcha',
			modules: ['customer-register', 'customer-login', 'customer-reset-password', 'customer-verification',
			// 'customer-update',
			// 'customer-update-credential',
			// 'customer-update-address',
			'product-review-writer', 'product-review-comments', 'checkout', 'order-request-refund', 'search-purchase'],
			queue: []
		},
		plugins: {},
		listeners: {},
		messages: {}
	}, options, overrideArray);

	if (options.plugins) {
		$.extend(Thunder.plugins, options.plugins);
	}

	if (options.listeners) {
		Object.keys(options.listeners).forEach(function (eventName) {
			Thunder.listeners[eventName] = Thunder.listeners[eventName].concat(options.listeners[eventName]);
		});
	}

	if (options.paymentMethods) {

		Object.keys(options.paymentMethods).forEach(function (type) {

			var paymentMethods = options.paymentMethods[type];

			if (paymentMethods.length > 0) return;

			delete options.paymentMethods[type];
		});
	}

	if (options.header) {

		var defaultHeaderOptions = {
			items: ['customer', // Register, Login | My Profile
			'search-purchase', // Search Order
			'cart'],
			actions: {
				'customer-dashboard': function customerDashboard() {
					return Thunder.open('customer-dashboard');
				},
				'customer-register': function customerRegister() {
					return Thunder.open('customer-register');
				},
				'customer-login': function customerLogin() {
					return Thunder.open('customer-login');
				},
				'order-list': function orderList() {
					return Thunder.open('order-list');
				},
				'search-purchase': function searchPurchase() {
					return Thunder.open('search-purchase');
				},
				cart: function cart() {
					return Thunder.open('cart');
				}
			}
		};

		if (options.header === true) {
			options.header = defaultHeaderOptions;
		} else {
			options.header = mergeWith(defaultHeaderOptions, options.header, overrideArray);
		}
	}

	if (options.messages) {
		Thunder.setMessages(options.messages);
	}

	if (options.recaptcha.sitekey) {
		window[options.recaptcha.onload] = Thunder.util.bindRecaptcha;
	}

	Thunder.options = {
		root: options.root, // Root page URL
		baseURL: options.baseURL || 'https://api.clayful.io', // API base URL
		language: options.language, // Content language
		currency: options.currency, // Content currency
		timezone: options.timezone, // Content time zone
		authStorage: options.authStorage, // Auth token storage
		dateInputFormat: options.dateInputFormat, // Date input format
		legal: options.legal, // Legal information
		confirmation: options.confirmation, // Confirmation settings
		productActions: options.productActions, // Supported product options
		productLabels: options.productLabels, // Product labels to display
		productReview: options.productReview,
		productReviewRating: options.productReviewRating,
		productReviewComment: options.productReviewComment,
		productOptionSelector: options.productOptionSelector,
		paymentMethods: options.paymentMethods, // Supported payment methods
		refundReasonCategories: options.refundReasonCategories, // Refund reason categories
		subscriptionPlans: options.subscriptionPlans, // Supported subscription plan ids
		customerAvatar: options.customerAvatar, // Use customer avatar for `customer-update`, `product-reviews`?
		customerDashboardLogout: options.customerDashboardLogout, // Show Logout button in `customer-dashboard`?
		customerIdentity: options.customerIdentity, // Customer identity fields
		customerRegistrationFields: options.customerRegistrationFields, // Customer registration fields
		customerUpdateFields: options.customerUpdateFields, // Customer update fields
		customerOrderFields: options.customerOrderFields, // Customer fields for orders and subscriptions
		recipientFields: options.recipientFields, // Allowed recipient fields for addresses
		addressDisabled: options.addressDisabled, // Disabled address fields (when search plugin exists)
		orderAuthFields: options.orderAuthFields, // Fields to authenticate for orders & subscriptions
		socialApps: options.socialApps, // Supported social apps for customer accounts
		header: options.header, // Header navigation menu items
		recaptcha: options.recaptcha // Google reCAPTCHA options
	};

	// Expose Thunder.Cart after configurations
	Thunder.Cart = require('./lib/cart')(Thunder);

	Thunder.credential(options.client);
	Thunder.preference(options);
	Thunder.initialize();

	Thunder.trigger('init');

	return Thunder;
};

// Translation dependency
Thunder.polyglot = new Polyglot();

// TODO: Event listeners
Thunder.listeners = {
	init: [],
	componentRender: [],
	componentInit: []
};

// Custom methods
Thunder.methods = {};

// Specs for components
Thunder.components = {
	cart: component(require('./modules/cart')(Thunder)),
	'catalog-slider': component(require('./modules/catalog-slider')(Thunder)),
	checkout: component(require('./modules/checkout')(Thunder)),
	'checkout-success': component(require('./modules/checkout-success')(Thunder)),
	'product-list': component(require('./modules/product-list')(Thunder)),
	'product-detail': component(require('./modules/product-detail')(Thunder)),
	'product-review': component(require('./modules/product-review')(Thunder)),
	'product-reviews': component(require('./modules/product-reviews')(Thunder)),
	'product-review-writer': component(require('./modules/product-review-writer')(Thunder)),
	'product-review-comments': component(require('./modules/product-review-comments')(Thunder)),
	'customer-register': component(require('./modules/customer-register')(Thunder)),
	'customer-login': component(require('./modules/customer-login')(Thunder)),
	'customer-reset-password': component(require('./modules/customer-reset-password')(Thunder)),
	'customer-verification': component(require('./modules/customer-verification')(Thunder)),
	'customer-dashboard': component(require('./modules/customer-dashboard')(Thunder)),
	'customer-update': component(require('./modules/customer-update')(Thunder)),
	'customer-update-credential': component(require('./modules/customer-update-credential')(Thunder)),
	'customer-update-address': component(require('./modules/customer-update-address')(Thunder)),
	'customer-reviews': component(require('./modules/customer-reviews')(Thunder)),
	'customer-review': component(require('./modules/customer-review')(Thunder)),
	'customer-review-comments': component(require('./modules/customer-review-comments')(Thunder)),
	'customer-review-comment': component(require('./modules/customer-review-comment')(Thunder)),
	'customer-delete-account': component(require('./modules/customer-delete-account')(Thunder)),
	'customer-coupons': component(require('./modules/customer-coupons')(Thunder)),
	'search-purchase': component(require('./modules/search-purchase')(Thunder)),
	'order-list': component(require('./modules/order-list')(Thunder)),
	'order-detail': component(require('./modules/order-detail')(Thunder)),
	'order-request-refund': component(require('./modules/order-request-refund')(Thunder)),
	'subscription-list': component(require('./modules/subscription-list')(Thunder)),
	'subscription-detail': component(require('./modules/subscription-detail')(Thunder)),
	'payment-form': component(require('./modules/payment-form')(Thunder))
};

Thunder.uis = {
	'component-spinner': require('./ui/component-spinner').bind(Thunder),
	'section-spinner': require('./ui/section-spinner').bind(Thunder),
	'button-spinner': require('./ui/button-spinner').bind(Thunder),
	'overlay-navigation': require('./ui/overlay-navigation').bind(Thunder),
	'header-navigation': require('./ui/header-navigation').bind(Thunder),
	'social-login': require('./ui/social-login').bind(Thunder),
	'avatar-placeholder': require('./ui/avatar-placeholder').bind(Thunder),
	'filled-star': require('./ui/filled-star').bind(Thunder),
	'half-filled-star': require('./ui/half-filled-star').bind(Thunder),
	'empty-star': require('./ui/empty-star').bind(Thunder),
	'hallow-star': require('./ui/hallow-star').bind(Thunder),
	'review-stars': require('./ui/review-stars').bind(Thunder),
	'review-star-rating': require('./ui/review-star-rating').bind(Thunder),
	'text-box-overlay': require('./ui/text-box-overlay').bind(Thunder),
	'left-arrow': require('./ui/left-arrow').bind(Thunder),
	'right-arrow': require('./ui/right-arrow').bind(Thunder)
};

// Plugins (address search, payment, ...)
Thunder.plugins = {
	searchAddress: null,
	makePayment: null,
	redirect: require('./plugins/redirect'),
	notification: require('./plugins/notification'),
	confirmation: require('./plugins/confirmation'),
	pagination: require('./plugins/pagination'),
	cartStorage: require('./plugins/cartStorage'),
	credentialStorage: require('./plugins/credentialStorage')
};

// Utility methods
Thunder.util = {
	log: require('./util/log').bind(Thunder),
	debounce: require('./util/debounce').bind(Thunder),
	ui: require('./util/ui').bind(Thunder),
	stripHTML: require('./util/stripHTML').bind(Thunder),
	excerpt: require('./util/excerpt').bind(Thunder),
	imageURL: require('./util/imageURL').bind(Thunder),
	toPrecision: require('./util/toPrecision').bind(Thunder),
	formatNumber: require('./util/formatNumber').bind(Thunder),
	formatPrice: require('./util/formatPrice').bind(Thunder),
	getCurrency: require('./util/getCurrency').bind(Thunder),
	isExpired: require('./util/isExpired').bind(Thunder),
	addTime: require('./util/addTime').bind(Thunder),
	countryName: require('./util/countryName').bind(Thunder),
	customerIdentity: require('./util/customerIdentity').bind(Thunder),
	productName: require('./util/productName').bind(Thunder),
	variantName: require('./util/variantName').bind(Thunder),
	orderShippingStatus: require('./util/orderShippingStatus').bind(Thunder),
	formToJSON: require('./util/formToJSON').bind(Thunder),
	parseQueryString: require('./util/parseQueryString').bind(Thunder),
	parseArrayString: require('./util/parseArrayString').bind(Thunder),
	urlQuery: require('./util/urlQuery').bind(Thunder),
	requestErrorHandler: require('./util/requestErrorHandler').bind(Thunder),
	userIdOrEmail: require('./util/userIdOrEmail').bind(Thunder),
	makeAsyncButton: require('./util/makeAsyncButton').bind(Thunder),
	bindAgreements: require('./util/bindAgreements').bind(Thunder),
	makeRecaptcha: require('./util/makeRecaptcha').bind(Thunder),
	unsetRecaptcha: require('./util/unsetRecaptcha').bind(Thunder),
	bindSocialApps: require('./util/bindSocialApps').bind(Thunder),
	handleSocialLogin: require('./util/handleSocialLogin').bind(Thunder),
	bindRecaptcha: require('./util/bindRecaptcha').bind(Thunder),
	useRecaptcha: require('./util/useRecaptcha').bind(Thunder),
	imageUploader: require('./util/imageUploader').bind(Thunder),
	copyToClipboard: require('./util/copyToClipboard').bind(Thunder),
	bindBackButton: require('./util/bindBackButton').bind(Thunder),
	followingNavigation: require('./util/followingNavigation').bind(Thunder),
	quantityInput: require('./util/quantityInput').bind(Thunder),
	checkItemRefunded: require('./util/checkItemRefunded').bind(Thunder)
};

// Global template methods
Thunder.templateMethods = {
	get: require('lodash.get'),
	kebabCase: require('lodash.kebabcase'),
	camelCase: require('lodash.camelcase'),
	stripHTML: Thunder.util.stripHTML,
	excerpt: Thunder.util.excerpt,
	imageURL: Thunder.util.imageURL,
	isExpired: Thunder.util.isExpired,
	countryName: Thunder.util.countryName,
	customerIdentity: Thunder.util.customerIdentity,
	productName: Thunder.util.productName,
	variantName: Thunder.util.variantName
};

Thunder.overlay = {
	background: '<div id="thunder--overlay-background" data-thunder-close></div>',
	container: '<div id="thunder--overlay"><div id="thunder--overlay-header"></div><div id="thunder--overlay-body"></div></div>',
	body: null
};

$.extend(Thunder, {
	initialize: require('./lib/initialize').bind(Thunder), // Initialize an app
	credential: require('./lib/credential').bind(Thunder), // Client setter
	preference: require('./lib/preference').bind(Thunder), // Preference setter
	setMessages: require('./lib/setMessages').bind(Thunder), // Sets translation messages
	on: require('./lib/on').bind(Thunder), // Registers event listeners
	off: require('./lib/off').bind(Thunder), // Unregisters event listeners
	trigger: require('./lib/trigger').bind(Thunder), // Trigger registered event listeners
	method: getterSetter('methods'), // Method getter/setter
	component: getterSetter('components'), // Component getter/setter
	template: getterSetter('components', 'template'), // Custom template getter/setter
	plugin: getterSetter('plugins'), // Plugin getter/setter
	ui: getterSetter('uis'), // Custom UI getter/setter
	render: require('./lib/render').bind(Thunder), // Renders a component
	open: require('./lib/open').bind(Thunder), // Opens an overlay and renders a component
	close: require('./lib/close').bind(Thunder), // Closes an overlay
	request: require('./lib/request')(Thunder), // Make an API request
	execute: require('./lib/execute').bind(Thunder), // Execute a custom method
	notify: require('./lib/notify').bind(Thunder), // Shortcut for Thunder.plugins.notification
	logout: require('./lib/logout').bind(Thunder),
	header: require('./lib/header').bind(Thunder),
	authenticated: require('./lib/authenticated').bind(Thunder)
});

function component(definition) {

	return $.extend({
		options: function options() {
			return {};
		},
		default: {},
		pre: function pre(context, callback) {
			return callback(null, context);
		},
		init: function init() {},
		template: function template(context) {
			return '';
		}
	}, definition);
}

function getterSetter(field, child) {

	return child ? function (name, value) {

		if (!value) return Thunder[field][name][child];

		Thunder[field][name][child] = value;

		return Thunder;
	} : function (name, value) {

		if (!value) return Thunder[field][name];

		Thunder[field][name] = value;

		return Thunder;
	};
}

Thunder.version = require('./version.json');

window.Thunder = Thunder;

},{"./lib/authenticated":2,"./lib/cart":3,"./lib/close":4,"./lib/credential":5,"./lib/execute":6,"./lib/header":7,"./lib/initialize":8,"./lib/logout":9,"./lib/notify":10,"./lib/off":11,"./lib/on":12,"./lib/open":13,"./lib/preference":14,"./lib/render":15,"./lib/request":16,"./lib/setMessages":17,"./lib/trigger":18,"./modules/cart":19,"./modules/catalog-slider":20,"./modules/checkout":22,"./modules/checkout-success":21,"./modules/customer-coupons":28,"./modules/customer-dashboard":29,"./modules/customer-delete-account":30,"./modules/customer-login":31,"./modules/customer-register":32,"./modules/customer-reset-password":33,"./modules/customer-review":36,"./modules/customer-review-comment":34,"./modules/customer-review-comments":35,"./modules/customer-reviews":37,"./modules/customer-update":40,"./modules/customer-update-address":38,"./modules/customer-update-credential":39,"./modules/customer-verification":41,"./modules/order-detail":42,"./modules/order-list":43,"./modules/order-request-refund":44,"./modules/payment-form":45,"./modules/product-detail":46,"./modules/product-list":48,"./modules/product-review":51,"./modules/product-review-comments":49,"./modules/product-review-writer":50,"./modules/product-reviews":52,"./modules/search-purchase":53,"./modules/subscription-detail":54,"./modules/subscription-list":55,"./plugins/cartStorage":56,"./plugins/confirmation":57,"./plugins/credentialStorage":58,"./plugins/notification":59,"./plugins/pagination":60,"./plugins/redirect":61,"./ui/avatar-placeholder":62,"./ui/button-spinner":63,"./ui/component-spinner":64,"./ui/empty-star":65,"./ui/filled-star":66,"./ui/half-filled-star":67,"./ui/hallow-star":68,"./ui/header-navigation":69,"./ui/left-arrow":70,"./ui/overlay-navigation":71,"./ui/review-star-rating":72,"./ui/review-stars":73,"./ui/right-arrow":74,"./ui/section-spinner":75,"./ui/social-login":76,"./ui/text-box-overlay":77,"./util/addTime":78,"./util/bindAgreements":79,"./util/bindBackButton":80,"./util/bindRecaptcha":81,"./util/bindSocialApps":82,"./util/checkItemRefunded":83,"./util/copyToClipboard":84,"./util/countryName":85,"./util/customerIdentity":86,"./util/debounce":87,"./util/excerpt":88,"./util/followingNavigation":89,"./util/formToJSON":90,"./util/formatNumber":91,"./util/formatPrice":92,"./util/getCurrency":93,"./util/handleSocialLogin":94,"./util/imageURL":95,"./util/imageUploader":96,"./util/isExpired":97,"./util/log":98,"./util/makeAsyncButton":99,"./util/makeRecaptcha":100,"./util/orderShippingStatus":101,"./util/parseArrayString":102,"./util/parseQueryString":103,"./util/productName":104,"./util/quantityInput":105,"./util/requestErrorHandler":106,"./util/stripHTML":107,"./util/toPrecision":108,"./util/ui":109,"./util/unsetRecaptcha":110,"./util/urlQuery":111,"./util/useRecaptcha":112,"./util/userIdOrEmail":113,"./util/variantName":114,"./version.json":115,"core-js/modules/es6.array.copy-within":222,"core-js/modules/es6.array.fill":223,"core-js/modules/es6.array.find":225,"core-js/modules/es6.array.find-index":224,"core-js/modules/es6.array.from":226,"core-js/modules/es6.array.iterator":227,"core-js/modules/es6.array.of":228,"core-js/modules/es6.function.name":229,"core-js/modules/es6.map":230,"core-js/modules/es6.math.acosh":231,"core-js/modules/es6.math.asinh":232,"core-js/modules/es6.math.atanh":233,"core-js/modules/es6.math.cbrt":234,"core-js/modules/es6.math.clz32":235,"core-js/modules/es6.math.cosh":236,"core-js/modules/es6.math.expm1":237,"core-js/modules/es6.math.fround":238,"core-js/modules/es6.math.hypot":239,"core-js/modules/es6.math.imul":240,"core-js/modules/es6.math.log10":241,"core-js/modules/es6.math.log1p":242,"core-js/modules/es6.math.log2":243,"core-js/modules/es6.math.sign":244,"core-js/modules/es6.math.sinh":245,"core-js/modules/es6.math.tanh":246,"core-js/modules/es6.math.trunc":247,"core-js/modules/es6.number.epsilon":248,"core-js/modules/es6.number.is-finite":249,"core-js/modules/es6.number.is-integer":250,"core-js/modules/es6.number.is-nan":251,"core-js/modules/es6.number.is-safe-integer":252,"core-js/modules/es6.number.max-safe-integer":253,"core-js/modules/es6.number.min-safe-integer":254,"core-js/modules/es6.object.assign":255,"core-js/modules/es6.object.freeze":256,"core-js/modules/es6.object.get-own-property-descriptor":257,"core-js/modules/es6.object.get-own-property-names":258,"core-js/modules/es6.object.get-prototype-of":259,"core-js/modules/es6.object.is":263,"core-js/modules/es6.object.is-extensible":260,"core-js/modules/es6.object.is-frozen":261,"core-js/modules/es6.object.is-sealed":262,"core-js/modules/es6.object.keys":264,"core-js/modules/es6.object.prevent-extensions":265,"core-js/modules/es6.object.seal":266,"core-js/modules/es6.object.set-prototype-of":267,"core-js/modules/es6.promise":268,"core-js/modules/es6.reflect.apply":269,"core-js/modules/es6.reflect.construct":270,"core-js/modules/es6.reflect.define-property":271,"core-js/modules/es6.reflect.delete-property":272,"core-js/modules/es6.reflect.get":275,"core-js/modules/es6.reflect.get-own-property-descriptor":273,"core-js/modules/es6.reflect.get-prototype-of":274,"core-js/modules/es6.reflect.has":276,"core-js/modules/es6.reflect.is-extensible":277,"core-js/modules/es6.reflect.own-keys":278,"core-js/modules/es6.reflect.prevent-extensions":279,"core-js/modules/es6.reflect.set":281,"core-js/modules/es6.reflect.set-prototype-of":280,"core-js/modules/es6.regexp.flags":282,"core-js/modules/es6.regexp.match":283,"core-js/modules/es6.regexp.replace":284,"core-js/modules/es6.regexp.search":285,"core-js/modules/es6.regexp.split":286,"core-js/modules/es6.set":287,"core-js/modules/es6.string.code-point-at":288,"core-js/modules/es6.string.ends-with":289,"core-js/modules/es6.string.from-code-point":290,"core-js/modules/es6.string.includes":291,"core-js/modules/es6.string.raw":292,"core-js/modules/es6.string.repeat":293,"core-js/modules/es6.string.starts-with":294,"core-js/modules/es6.symbol":295,"core-js/modules/es6.typed.array-buffer":296,"core-js/modules/es6.typed.float32-array":297,"core-js/modules/es6.typed.float64-array":298,"core-js/modules/es6.typed.int16-array":299,"core-js/modules/es6.typed.int32-array":300,"core-js/modules/es6.typed.int8-array":301,"core-js/modules/es6.typed.uint16-array":302,"core-js/modules/es6.typed.uint32-array":303,"core-js/modules/es6.typed.uint8-array":304,"core-js/modules/es6.typed.uint8-clamped-array":305,"core-js/modules/es6.weak-map":306,"core-js/modules/es6.weak-set":307,"core-js/modules/es7.array.includes":308,"core-js/modules/es7.object.entries":309,"core-js/modules/es7.object.get-own-property-descriptors":310,"core-js/modules/es7.object.values":311,"core-js/modules/es7.string.pad-end":312,"core-js/modules/es7.string.pad-start":313,"core-js/modules/web.dom.iterable":314,"core-js/modules/web.immediate":315,"core-js/modules/web.timers":316,"imagesloaded":334,"jquery-form":336,"jquery-match-height":337,"jstimezonedetect":338,"lightslider/dist/js/lightslider.min.js":339,"lodash.camelcase":340,"lodash.get":341,"lodash.kebabcase":342,"lodash.mergeWith":343,"node-polyglot":347,"regenerator-runtime/runtime":350}],2:[function(require,module,exports){
'use strict';

module.exports = function () {
	var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'customer';


	var storage = this.plugins.credentialStorage;

	// Customer case
	if (scope === 'customer') {

		var storageKey = this.options.authStorage.customer;
		var token = storage.getItem(storageKey);

		if (!token) {
			return false;
		}

		if (isTokenExpired(token)) {
			// If the token expired, log out the customer.
			this.logout();
			return false;
		}

		return parseToken(token);
	}

	// Order or Subscription case
	if (scope === 'order') {

		var _storageKey = this.options.authStorage.order;
		var _token = storage.getItem(_storageKey);

		if (!_token) {
			return false;
		}

		if (isTokenExpired(_token)) {
			// If the token expired, unset the token from the storage.
			storage.removeItem(this.options.authStorage.order);
			return false;
		}

		return parseToken(_token);
	}
};

function parseToken(token) {

	var parts = token.split('.');
	var data = JSON.parse(atob(parts[1]));

	return data;
}

function isTokenExpired(token) {

	var expiresAt = parseToken(token).exp * 1000;

	return expiresAt - Date.now() <= 0;
}

},{}],3:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var Cart = {
		storage: '__items__',
		items: []
	};

	Cart.load = function () {

		var storage = Thunder.plugins.cartStorage;

		Cart.items = JSON.parse(storage.getItem(Cart.storage) || '[]');
	};

	Cart.persist = function () {

		var storage = Thunder.plugins.cartStorage;

		storage.setItem(Cart.storage, JSON.stringify(Cart.items));
	};

	Cart.totalItems = function (items) {

		return (Cart.items || items).reduce(function (sum, item) {
			return sum + 1 + (item.bundleItems ? item.bundleItems.length : 0);
		}, 0);
	};

	Cart.addItem = function (item, callback) {

		var items = $.extend(true, [], Cart.items);

		item._id = (Math.random() + '').slice(2, 17);

		if (item.bundleItems) {
			item.bundleItems.forEach(function (item) {
				item._id = (Math.random() + '').slice(2, 17);
			});
		}

		items.push(item);

		if (Cart.totalItems(items) >= 50) {
			return callback(CartError('items-exceeded'));
		}

		Cart.items = items;

		Cart.persist();

		return callback(null, item);
	};

	Cart.updateItem = function (itemId, update, callback) {

		itemId = itemId + '';

		var items = $.extend(true, [], Cart.items);
		var found = items.find(function (item) {
			return item._id === itemId;
		});

		if (!found) {
			return callback(CartError('no-item'));
		}

		var bundleItems = update.bundleItems;

		delete update.bundleItems;

		$.extend(found, update);

		if (bundleItems) {

			found.bundleItems = found.bundleItems || [];

			var _loop = function _loop(bundleId) {

				var item = found.bundleItems.find(function (item) {
					return item._id === bundleId;
				});
				var update = bundleItems[bundleId];

				if (!item && update) {
					found.bundleItems.push(update);
				}

				if (update) {
					$.extend(item, update);
				}

				if (update === null) {
					var index = found.bundleItems.indexOf(item);

					found.bundleItems.splice(index, 1);
				}
			};

			for (var bundleId in bundleItems) {
				_loop(bundleId);
			}
		}

		if (Cart.totalItems(items) >= 50) {
			return callback(CartError('items-exceeded'));
		}

		Cart.items = items;

		Cart.persist();

		return callback(null, found);
	};

	Cart.deleteItem = function (itemId, callback) {

		itemId = itemId + '';

		var items = $.extend(true, [], Cart.items);
		var index = null;

		for (var i = 0; i < items.length; i++) {

			var _item = items[i];

			if (_item._id === itemId) {
				index = i;
				break;
			}
		}

		if (index === null) {
			return callback(CartError('no-item'));
		}

		items.splice(index, 1);

		Cart.items = items;

		Cart.persist();

		return callback();
	};

	Cart.empty = function (callback) {

		Cart.items = [];

		Cart.persist();

		return callback();
	};

	return Cart;

	function CartError(code) {
		var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : code;


		var err = new Error(message);

		err.code = code;

		return err;
	}
};

},{}],4:[function(require,module,exports){
'use strict';

module.exports = function () {

	// Empty the contents and add a 'hidden' class
	this.overlay.container.addClass('hidden');
	this.overlay.background.addClass('hidden');

	this.overlay.body.html('');

	// show body scroll
	$('html, body').removeClass('thunder--overflow-fix');

	return this;
};

},{}],5:[function(require,module,exports){
'use strict';

module.exports = function (client) {

	this.request.setDefaultHeader('Authorization', 'Bearer ' + client);

	return this;
};

},{}],6:[function(require,module,exports){
'use strict';

module.exports = function (fn) {

		fn = typeof fn === 'string' ? this.methods[fn] : fn;

		if (!fn) return;

		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
				args[_key - 1] = arguments[_key];
		}

		return fn.apply(undefined, args);
};

},{}],7:[function(require,module,exports){
'use strict';

module.exports = function () {

	if (!this.options.header) {
		return null;
	}

	var $headerNav = $('#thunder--header-navigation');

	if (!$headerNav.length) {

		var actions = this.options.header.actions;

		$('body').prepend(this.uis['header-navigation']());
		$('body').on('click', '#thunder--header-navigation [data-component]', function (e) {
			e.preventDefault();
			actions[$(this).data('component')]();
		});
	} else {

		$headerNav.replaceWith(this.uis['header-navigation']());
	}
};

},{}],8:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _this = this;

	var Thunder = this;

	var body = $('body');

	this.Cart.load();

	// Cache overlay DOMs
	this.overlay.background = $(this.overlay.background).addClass('hidden');
	this.overlay.container = $(this.overlay.container).addClass('hidden');
	this.overlay.body = this.overlay.container.find('#thunder--overlay-body');

	// Append close button to the overlay's header
	this.overlay.container.find('#thunder--overlay-header').append(this.uis['overlay-navigation']());

	body.append(this.overlay.background);
	body.append(this.overlay.container);

	// Bind click events for DOMs with data-thunder-* attributes.
	body.on('click', '[data-thunder-open]', openOverlay);
	body.on('click', '[data-thunder-close]', function () {
		return _this.close();
	});
	body.on('click', '[data-thunder-logout]', function () {
		return _this.logout();
	});
	body.on('click', '[data-thunder-render][data-thunder-render-target]', renderComponentInTarget);

	// Render components for DOMs with 'data-thunder-render',
	// and without 'data-thunder-render-target'.
	body.find('[data-thunder-render]:not([data-thunder-render-target])').each(renderComponent);

	this.header();

	// Check whether authentication tokens are expired.
	// If it is expired -> Log out and unset from the storage...
	this.authenticated('customer');
	this.authenticated('order');

	function openOverlay($event) {

		$event.preventDefault();

		var data = $(this).data();
		var componentName = data.thunderOpen;

		// Pass the data from the caller DOM
		Thunder.open(componentName, data);
	}

	function renderComponent() {

		Thunder.render($(this), $(this).data('thunderRender'), {});
	}

	function renderComponentInTarget($event) {

		$event.preventDefault();

		var data = $(this).data();
		var thunderRender = data.thunderRender,
		    thunderRenderTarget = data.thunderRenderTarget;


		Thunder.render($(thunderRenderTarget), thunderRender, data);
	}
};

},{}],9:[function(require,module,exports){
"use strict";

module.exports = function () {

	var storage = this.plugins.credentialStorage;

	storage.removeItem(this.options.authStorage.customer);

	this.header();
};

},{}],10:[function(require,module,exports){
"use strict";

module.exports = function () {
	var _plugins;

	return (_plugins = this.plugins).notification.apply(_plugins, arguments);
};

},{}],11:[function(require,module,exports){
"use strict";

module.exports = function (scope, listener) {

	var index = this.listeners[scope].indexOf(listener);

	if (index === -1) {

		return this;
	}

	this.listeners[scope].splice(index, 1);

	return this;
};

},{}],12:[function(require,module,exports){
"use strict";

module.exports = function (scope, listener) {

	this.listeners[scope].push(listener);

	return this;
};

},{}],13:[function(require,module,exports){
'use strict';

module.exports = function (componentName, options) {
	var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	options = options || {};

	callback = typeof options === 'function' ? options : callback;

	if (this.overlay.background.hasClass('hidden')) {
		// Removes a 'hidden' class first
		this.overlay.background.removeClass('hidden');
		this.overlay.container.removeClass('hidden');
	}
	// hide body scroll
	$('html, body').addClass('thunder--overflow-fix');

	// Mark current view
	$.extend(true, options, {
		view: {
			component: componentName,
			cursor: this.cursor
		}
	});

	this.render(this.overlay.body, componentName, options, function (err, context) {

		if (err) {
			return callback.call($(this), err);
		}

		return callback.call($(this), err, context);
	});

	return this;
};

},{}],14:[function(require,module,exports){
'use strict';

module.exports = function (options) {

	var language = options.language;
	var currency = options.currency;
	var timezone = options.timezone;
	var debugLanguage = options.debugLanguage;

	this.options.language = language;
	this.options.currency = currency;
	this.options.timezone = timezone;

	this.polyglot.locale(this.options.language);

	if (language) this.request.setDefaultHeader('Accept-Language', language);
	if (currency) this.request.setDefaultHeader('Accept-Currency', currency);
	if (timezone) this.request.setDefaultHeader('Accept-Time-Zone', timezone);
	if (debugLanguage) this.request.setDefaultHeader('Accept-Debug-Language', debugLanguage);

	return this;
};

},{}],15:[function(require,module,exports){
'use strict';

var mergeWith = require('lodash.mergeWith');
var omit = require('lodash.omit');
var Pikaday = require('pikaday');

// Track component IDs
var componentIds = {};

module.exports = function (selector, componentName, options, callback) {

	var Thunder = this;

	options = options || {};
	callback = typeof options === 'function' ? options : callback;

	// Increment component counter
	componentIds[componentName] = componentIds[componentName] || 0;

	var id = componentIds[componentName]++;

	var container = selector instanceof $ ? selector : $(selector);
	var component = this.components[componentName];

	// Template context
	var context = {
		id: componentName + '-' + id
	};

	// Add 'thunder--contents' class for global css styles
	container.addClass('thunder--contents');

	// Unbind all event handlers
	container.off();
	container.find('*').off();
	container.find('[data-mh]').matchHeight({ remove: true });
	container.find('[data-pickaday]').each(function () {

		var picker = $(this).data('pickaday');

		return picker ? picker.destroy() : null;
	});

	// Start loading spinner
	container.html(this.uis['component-spinner']());

	// Copy and extend default options with runtime options
	mergeWith(context, { // Global context
		isAuthenticated: !!Thunder.authenticated() // Customer is authenticated?
	}, this.templateMethods, // Template methods
	{ // Translation method
		m: function m(key, context) {
			return Thunder.polyglot.t(componentName + '.' + key, context);
		},
		ui: Thunder.uis
	}, { options: component.options() }, { options: component.default }, { options: omit(container.data(), ['component', 'context']) }, // Declarative options
	{ options: options }, // Explicit options
	function (ov, sv) {
		if (Array.isArray(ov) && Array.isArray(sv)) {
			return sv;
		}
	});

	if (component.validate) {

		var err = component.validate(context.options);

		if (err) {
			return this.util.log(['error'], component.name + ' - ' + err);
		}
	}

	component.pre.call(container, context, function (err, context) {

		if (err) {
			return;
		}

		// Cache component
		container.data('component', Thunder.components[componentName]);

		// Cache context data
		container.data('context', context);

		container.html(component.template(context));

		Thunder.trigger('componentRender', container, componentName, container, context);

		Thunder.util.quantityInput(container);

		// Bind before automatic binding
		if (component.bind) {
			component.bind.call(container, context);
		}

		container.imagesLoaded(function () {
			return container.find('[data-mh]').matchHeight();
		});

		var t = function t(key) {
			return Thunder.polyglot.t('general.' + key);
		};

		container.find('[data-pickaday]').each(function () {

			$(this).data('pickaday', new Pikaday($.extend($(this).data(), {
				field: $(this)[0],
				format: Thunder.options.dateInputFormat,
				i18n: {
					previousMonth: t('previousMonth'),
					nextMonth: t('nextMonth'),
					months: [t('january'), t('february'), t('march'), t('april'), t('may'), t('june'), t('july'), t('august'), t('september'), t('october'), t('november'), t('december')],
					weekdays: [t('sunday'), t('monday'), t('tuesday'), t('wednesday'), t('thursday'), t('friday'), t('saturday')],
					weekdaysShort: [t('sundayShort'), t('mondayShort'), t('tuesdayShort'), t('wednesdayShort'), t('thursdayShort'), t('fridayShort'), t('saturdayShort')]
				}
			})));
		});

		var interfaces = component.init.call(container, context) || {};

		Thunder.trigger('componentInit', container, componentName, container, context);

		return callback && callback.call($(this), err, { interfaces: interfaces, context: context });
	}.bind(container));

	return this;
};

},{"lodash.mergeWith":343,"lodash.omit":344,"pikaday":348}],16:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var request = function request(requestOptions) {

		var query = $.param(requestOptions.query || {});

		query = query ? '?' + query : query;

		requestOptions.url = Thunder.options.baseURL + requestOptions.url + query;

		var recaptcha = requestOptions.recaptcha;

		delete requestOptions.query;
		delete requestOptions.recaptcha;

		var req = $.extend(true, {
			crossDomain: true,
			headers: $.extend(request.getRequestHeaders(Thunder), recaptcha ? { 'Recaptcha-Response': recaptcha } : {}),
			xhrFields: {
				withCredentials: true
			},
			converters: {
				'text json': function textJson(data) {
					return $.parseJSON(data || 'null');
				}
			}
		}, requestOptions);

		if (req.data) {

			var _recaptcha = Thunder.util.unsetRecaptcha(req.data);

			if (_recaptcha) {
				req.headers['reCAPTCHA-Response'] = _recaptcha;
			}

			req.data = JSON.stringify(req.data);
			req.dataType = 'json';
			req.contentType = 'application/json; charset=utf-8';
		}

		return $.ajax(req);
	};

	request.defaultHeaders = {
		'Clayful-SDK': 'clayful-thunder'
	};

	request.setDefaultHeader = function (key, value) {
		request.defaultHeaders[key] = value;
	};

	request.getRequestHeaders = function () {

		var storage = Thunder.plugins.credentialStorage;

		// 1. If a customer is logged-in, send a customer token.
		// 2. If an order token or a subscription token exists, send the token.
		// 3. Or else, simply do not set `Authorization-Customer` header
		var customerToken = storage.getItem(Thunder.options.authStorage.customer) || storage.getItem(Thunder.options.authStorage.order);

		return $.extend({}, request.defaultHeaders, customerToken ? {
			'Authorization-Customer': customerToken
		} : {});
	};

	return request;
};

},{}],17:[function(require,module,exports){
"use strict";

module.exports = function () {
	var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


	this.polyglot.extend(messages);

	return this;
};

},{}],18:[function(require,module,exports){
"use strict";

module.exports = function (scope, binder) {
	for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
		args[_key - 2] = arguments[_key];
	}

	this.listeners[scope].forEach(function (callback) {
		return binder ? callback.call.apply(callback, [binder].concat(args)) : callback.apply(undefined, args);
	});

	return this;
};

},{}],19:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var set = require('lodash.set');

module.exports = function (Thunder) {

	var implementation = {
		name: 'cart'
	};

	implementation.options = function () {
		return {
			orderActions: Object.keys(Thunder.options.paymentMethods), // 'order', 'subscription'
			items: null, // Item filter - e.g., ['item1', 'item2', ...]

			onCheckout: function onCheckout($container, context, type) {

				Thunder.render($container, 'checkout', {
					type: type,
					items: context.options.items,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.options.orderActions = Thunder.util.parseArrayString(context.options.orderActions);

		var errors = {
			default: context.m('cartReadFailed')
		};

		return getCart(context.options.items).then(function (cart) {
			return callback(null, set(context, 'cart', cart.cart));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $cartItems = $(this).find('.thunder--cart-items');

		$container.on('click', '.thunder--delete-cart-item', deleteItem);
		$container.on('click', '.thunder--apply-changes', applyChanges);
		$container.on('click', '.thunder--checkout button', checkout);

		function recalculate() {

			var errors = {
				default: context.m('cartReadFailed')
			};

			return getCart(context.options.items).then(function (cart) {

				context.cart = cart.cart;

				var template = Thunder.component(implementation.name).template(context);
				var cartItemsTemplate = $(template).find('.thunder--cart-items').html();

				$cartItems.find('*').off();
				$cartItems.html(cartItemsTemplate);
				Thunder.util.quantityInput($cartItems);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function deleteItem() {

			var spinner = Thunder.util.makeAsyncButton($(this), { bind: false });

			spinner.run();

			var itemId = $(this).data('item');
			var bundleItemId = $(this).data('bundleItem');

			var errors = {
				default: context.m('deleteItemFailed')
			};

			if (Thunder.authenticated()) {

				if (bundleItemId) {

					return Thunder.request({
						method: 'PUT',
						url: '/v1/me/cart/items/' + itemId,
						data: { bundleItems: _defineProperty({}, bundleItemId, null) }
					}).then(function () {
						spinner.done();
						recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				} else {

					return Thunder.request({
						method: 'DELETE',
						url: '/v1/me/cart/items/' + itemId
					}).then(function () {
						spinner.done();
						recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				}
			} else {

				if (bundleItemId) {

					var update = {
						bundleItems: _defineProperty({}, bundleItemId, null)
					};

					Thunder.Cart.updateItem(itemId, update, function (err) {

						if (err) {
							spinner.done();
							return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
						}

						spinner.done();
						recalculate();
					});
				} else {

					return Thunder.Cart.deleteItem(itemId, function (err) {

						if (err) {
							spinner.done();
							return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
						}

						spinner.done();
						recalculate();
					});
				}
			}
		}

		function applyChanges() {

			var spinner = Thunder.util.makeAsyncButton($(this), { bind: false });

			spinner.run();

			var quantityChanged = [];
			var $quantityInputs = $container.find('.thunder--cart-item-quantity input');

			$quantityInputs.each(function () {

				var itemId = $(this).data('item');
				var bundleId = $(this).data('bundleItem');
				var originalQuantity = $(this).data('originalQuantity');
				var newQuantity = parseInt($(this).val());

				if (newQuantity === originalQuantity) return;

				quantityChanged.push({
					item: itemId,
					bundle: bundleId || null,
					quantity: newQuantity
				});
			});

			var updates = quantityChanged.reduce(function (o, change) {
				var item = change.item,
				    bundle = change.bundle,
				    quantity = change.quantity;


				o[item] = o[item] || {};

				var toUpdate = o[item];

				if (bundle) {
					toUpdate.bundleItems = toUpdate.bundleItems || {};
					toUpdate.bundleItems[bundle] = { quantity: quantity };
				} else {
					toUpdate.quantity = quantity;
				}

				return o;
			}, {});

			var errors = {
				default: context.m('itemUpdateFailed')
			};

			if (Thunder.authenticated()) {
				var _$;

				var itemIdsToUpdate = Object.keys(updates);

				if (itemIdsToUpdate.length === 0) {
					// There are no items to update
					return spinner.done();
				}

				return (_$ = $).when.apply(_$, _toConsumableArray(itemIdsToUpdate.map(function (itemId) {

					return Thunder.request({
						method: 'PUT',
						url: '/v1/me/cart/items/' + itemId,
						data: updates[itemId]
					}).then(function () {

						spinner.done();
						return recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				})));
			} else {

				Object.keys(updates).forEach(function (itemId) {
					return Thunder.Cart.updateItem(itemId, updates[itemId], $.noop);
				});

				spinner.done();
				return recalculate();
			}
		}

		function checkout() {

			var cart = context.cart;
			var hasError = function hasError(code) {
				return cart.errors.some(function (err) {
					return err.code === code;
				});
			};

			if (hasError('empty-cart')) {
				return Thunder.notify('error', context.m('isEmptyCart'));
			}

			if (hasError('item-error')) {
				return Thunder.notify('error', context.m('hasErredItem'));
			}

			return Thunder.execute(context.options.onCheckout, $container, context, $(this).data('checkoutType'));
		}
	};

	function getCart(items) {

		var query = items ? { items: items.toString() } : {};

		var request = Thunder.authenticated() ? {
			method: 'POST',
			url: '/v1/me/cart',
			query: query
		} : {
			method: 'POST',
			url: '/v1/me/non-registered/cart',
			query: query,
			data: { items: Thunder.Cart.items }
		};

		return Thunder.request(request);
	}

	return implementation;
};

},{"lodash.set":345}],20:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (Thunder) {

	// Implementation
	var implementation = {
		name: 'catalog-slider'
	};

	implementation.options = function () {
		return {
			catalog: '', // Catalog ID to render
			useNav: true,
			usePager: true,
			showCaption: true,
			autoLoop: 3000
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {};
		var catalogId = context.options.catalog;

		context.targetCheck = function (url) {

			var urlTarget = document.createElement('a');

			urlTarget.href = url;

			return urlTarget.host === window.location.host ? '_self' : '_blank';
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/catalogs/' + catalogId,
			query: {
				fields: ['slug', 'items.image', 'items.link', 'items.title'].join(',')
			}
		}).then(function (data) {

			return callback(null, set(context, 'catalogSlider', data));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var options = {
			item: 1,
			speed: 800,
			slideMargin: 0,
			gallery: false,
			pauseOnHover: true,
			loop: true,
			adaptiveHeight: true,
			pager: context.options.usePager,
			controls: context.options.useNav,
			auto: !!context.options.autoLoop,
			pause: context.options.autoLoop || 3000,
			prevHtml: '<img src="' + Thunder.uis['left-arrow']() + '">',
			nextHtml: '<img src="' + Thunder.uis['right-arrow']() + '">'
		};

		var slider = $(this).find('.thunder--catlaog-slider').lightSlider(options);

		return {
			// Expose slider methods
			goToSlide: slider.goToSlide,
			goToPrevSlide: slider.goToPrevSlide,
			goToNextSlide: slider.goToNextSlide,
			play: slider.play,
			pause: slider.pause,
			// Expose custom destory method
			destroy: function destroy() {
				slider.pause(); // To clear interval
				slider.destroy(); // Destroy the slider
				slider.remove(); // Remove the DOM
			}
		};
	};

	return implementation;
};

},{"lodash.set":345}],21:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'checkout-success'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' || 'subscription'
			subject: null, // Order/Subscription ID
			onViewDetails: function onViewDetails($container, context) {
				var _context$options = context.options,
				    type = _context$options.type,
				    subject = _context$options.subject;


				return Thunder.render($container, type + '-detail', _defineProperty({}, type, subject));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var type = context.options.type;
		var subject = context.options.subject;

		var errors = {
			default: context.m(camelCase([type, 'readFailed']))
		};

		// Get an order or a subscription
		return type === 'order' ? Thunder.request({
			method: 'PUT',
			url: '/v1/me/' + type + 's/' + subject + '/transactions'
		}).then(function () {
			return getSubject();
		}) : getSubject();

		function getSubject() {
			return Thunder.request({
				method: 'GET',
				url: '/v1/me/' + type + 's/' + subject
			}).then(function (subject) {
				return callback(null, set(context, 'subject', subject));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
			});
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $viewMoreDetails = $(this).find('.thunder--view-more-details');
		var $copyToId = $(this).find('.thunder--copy-to-id');
		var $copyToIdButton = $(this).find('.thunder--copy-to-id-button');

		$viewMoreDetails.on('click', function () {
			return Thunder.execute(context.options.onViewDetails, $container, context);
		});

		$copyToIdButton.on('click', function () {
			Thunder.util.copyToClipboard($copyToId);
		});
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.set":345}],22:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');
var CouponHandler = require('./lib/couponHandler.js');
var CustomerHandler = require('./lib/customerHandler.js');
var AddressHandler = require('./lib/addressHandler.js');
var SubscriptionHandler = require('./lib/subscriptionHandler.js');
var RecaptchaHandler = require('./lib/recaptchaHandler.js');

module.exports = function (Thunder) {

	var translationKeys = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	var implementation = {
		name: 'checkout'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' or 'subscription'
			items: null, // Item filter - e.g., ['item1', 'item2', ...]
			customerFields: Thunder.options.customerOrderFields,
			recipientFields: Thunder.options.recipientFields,
			addressDisabled: Thunder.options.addressDisabled,
			subscriptionPlans: Thunder.options.subscriptionPlans,
			termsLink: Thunder.options.legal.orderTerms.link,
			termsText: Thunder.options.legal.orderTerms.text,
			privacyLink: Thunder.options.legal.orderPrivacy.link,
			privacyText: Thunder.options.legal.orderPrivacy.text,
			onCheckoutSuccess: function onCheckoutSuccess($container, context, checkoutDetail) {
				var order = checkoutDetail.order,
				    subscription = checkoutDetail.subscription;


				return Thunder.render($container, 'checkout-success', {
					type: subscription ? 'subscription' : 'order',
					subject: (subscription || order)._id
				});
			},
			onPaymentFailure: function onPaymentFailure($container, context, checkoutDetail) {
				var order = checkoutDetail.order,
				    subscription = checkoutDetail.subscription;

				var type = subscription ? 'subscription' : 'order';

				Thunder.notify('error', context.m('paymentFailed'));

				return Thunder.render($container, type + '-detail', _defineProperty({}, type, (subscription || order)._id));
			}
		};
	};

	implementation.pre = function (context, callback) {
		var _context$options = context.options,
		    type = _context$options.type,
		    items = _context$options.items,
		    customerFields = _context$options.customerFields,
		    recipientFields = _context$options.recipientFields,
		    subscriptionPlans = _context$options.subscriptionPlans,
		    termsLink = _context$options.termsLink,
		    termsText = _context$options.termsText,
		    privacyLink = _context$options.privacyLink,
		    privacyText = _context$options.privacyText;


		context.agreements = [termsLink || termsText ? 'terms' : null, privacyLink || privacyText ? 'privacy' : null].filter(function (v) {
			return v;
		});

		var $container = $(this);

		var defaultCartQuery = items ? { items: items.toString() } : {};
		var defaultCartData = {};

		var disabledAddressFields = Thunder.util.parseArrayString(context.options.addressDisabled).reduce(function (o, field) {
			return set(o, field, true);
		}, {});

		context.isSubscription = context.options.type === 'subscription';

		context.useSearchAddress = !!Thunder.plugins.searchAddress;

		context.disabled = function (field) {
			return disabledAddressFields[field] && context.useSearchAddress ? 'readonly' : '';
		};

		var toFieldDetail = function toFieldDetail() {
			var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
			return function (field) {
				var _field$split = field.split(':'),
				    _field$split2 = _slicedToArray(_field$split, 2),
				    key = _field$split2[0],
				    required = _field$split2[1];

				return {
					required: required === 'required',
					key: key,
					translationKey: camelCase([prefix, translationKeys[key] || key])
				};
			};
		};

		context.customerFields = Thunder.util.parseArrayString(customerFields).map(toFieldDetail('customer'));

		context.recipientFields = Thunder.util.parseArrayString(recipientFields).map(toFieldDetail('address'));

		var requestFailed = function requestFailed(err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, {
				default: context.m('checkoutPreparationFailed')
			}, callback);
		};

		return $.when(Thunder.authenticated() ? Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: {
				raw: true,
				fields: ['name', 'email', 'mobile', 'phone', 'gender', 'birthdate', 'country', 'language', 'currency', 'timezone', 'address.primary'].join(',')
			}
		}) : null).then(function (customer) {

			var primaryAddress = get(customer, 'address.primary', null);

			if (primaryAddress) {

				defaultCartData.address = {
					shipping: primaryAddress,
					billing: primaryAddress
				};
			}

			context.customer = customer || null;
			context.address = primaryAddress || AddressHandler.defaultAddress();

			return $.when(Thunder.request({
				method: 'GET',
				url: '/v1/countries',
				query: { fields: 'code', limit: 120, page: 1 }
			}), Thunder.request({
				method: 'GET',
				url: '/v1/countries',
				query: { fields: 'code', limit: 120, page: 2 }
			}), Thunder.request({
				method: 'GET',
				url: '/v1/countries',
				query: { fields: 'code', limit: 120, page: 3 }
			}), getCart({
				query: defaultCartQuery,
				data: defaultCartData
			}), Thunder.authenticated() ? Thunder.request({
				method: 'GET',
				url: '/v1/me/coupons',
				query: {
					limit: 120,
					fields: ['name', 'active', 'only', 'type', 'discount', 'category', 'price', 'subscription', 'expiresAt'].join(',')
				}
			}) : null, context.isSubscription ? Thunder.request({
				method: 'GET',
				url: '/v1/subscriptions/plans',
				query: {
					ids: subscriptionPlans.map(function (_ref) {
						var id = _ref.id;
						return id;
					}).join(','),
					fields: ['name', 'immediate', 'interval'].join(','),
					sort: 'ids'
				}
			}) : null);
		}, requestFailed).then(function (countries1, countries2, countries3, cart, coupons, plans) {

			var hasCartError = cart[0].cart.errors.some(function (err) {
				return err.code !== 'shipping-address-required';
			});

			if (hasCartError) {
				return Thunder.render($container, 'cart', {
					orderActions: Object.keys(Thunder.options.paymentMethods),
					items: context.options.items
				});
			}

			context.countries = [].concat(countries1[0], countries2[0], countries3[0]);

			context.cart = cart[0].cart;
			context.subscription = cart[0].subscription || null;
			context.subscriptionPlans = (plans ? plans[0] : []).map(function (plan) {
				return $.extend(plan, subscriptionPlans.find(function (s) {
					return s.id === plan._id;
				}));
			});
			context.coupons = coupons ? coupons[0] : [];

			CouponHandler.setApplicableCoupons(context.options.type, context.cart, context.coupons);

			return callback(null, context);
		}, requestFailed);
	};

	implementation.init = function (context) {
		var _this = this;

		var $paymentFormContainer = $(this).find('.thunder--payment-form-container');

		Thunder.render($paymentFormContainer, 'payment-form', {
			type: context.options.type
		}, function (err, _ref2) {
			var paymentHandler = _ref2.interfaces;


			var $container = $(_this);
			var $backToCart = $(_this).find('.thunder--back-to-cart');
			var $cartItems = $(_this).find('.thunder--cart-items table');
			var $goToUpdateCustomer = $(_this).find('.thunder--go-to-update-customer');
			var $sameForRecipient = $(_this).find('[name="sameForRecipient"]');
			var $saveAsPrimaryAddress = $(_this).find('#thunder--save-primary-address-agreement');
			var $searchAddress = $(_this).find('.thunder--search-address');
			var $disabledAddressInputs = $(_this).find('.thunder--address-location div [readonly]').parent();
			var $applyAddress = $(_this).find('.thunder--apply-address');
			var $orderRequest = $(_this).find('[name="request"]');
			var $totalDetails = $(_this).find('.thunder--total-details');
			var $proceedCheckout = $(_this).find('.thunder--proceed-checkout');
			var processCheckoutSpinner = Thunder.util.makeAsyncButton($proceedCheckout, { bind: false });

			var areTermsAgreed = Thunder.util.bindAgreements({
				$terms: $(_this).find('[data-agreement-scope]'),
				agreements: {
					terms: {
						text: context.options.termsText,
						link: context.options.termsLink,
						error: context.m('termsAgreementRequired')
					},
					privacy: {
						text: context.options.privacyText,
						link: context.options.privacyLink,
						error: context.m('privacyAgreementRequired')
					}
				}
			});

			var couponHandler = CouponHandler({
				form: $(_this).find('.thunder--cart-items'),
				labels: {
					applyCoupons: context.m('applyCoupons'),
					finishApplyingCoupons: context.m('finishApplyingCoupons')
				},
				coupons: context.coupons,
				cart: function cart() {
					return context.cart;
				},
				onCouponApply: function onCouponApply(type) {
					return applyCoupons(type);
				},
				onCouponSelectError: function onCouponSelectError(code) {
					return Thunder.notify('error', context.m(code));
				}
			});

			var customerHandler = CustomerHandler({
				customerFields: context.customerFields.map(function (_ref3) {
					var key = _ref3.key,
					    required = _ref3.required;
					return {
						field: key,
						required: required
					};
				}).map(function (detail) {
					return $.extend(detail, {
						$input: $(_this).find('.thunder--customer [name="customer.' + detail.field + '"]')
					});
				}),
				translationKeys: translationKeys
			});

			var addressHandler = AddressHandler({
				addressFields: [].concat(_toConsumableArray(context.recipientFields.map(function (_ref4) {
					var key = _ref4.key,
					    required = _ref4.required;
					return {
						field: key,
						recipient: true,
						required: required
					};
				})), [{ field: 'country', required: true }, { field: 'state', required: false }, { field: 'city', required: true }, { field: 'address1', required: true }, { field: 'address2', required: false }, { field: 'postcode', required: true }]).map(function (detail) {
					return $.extend(detail, {
						$input: $(_this).find(['.thunder--recipient-info', '.thunder--address'].join(',')).find('[name="address.' + detail.field + '"]')
					});
				}),
				translationKeys: translationKeys,
				searchAddressPlugin: Thunder.plugins.searchAddress
			});

			var debouncedApplySubscriptionDetail = Thunder.util.debounce(applySubscriptionDetail, 100, true);

			var subscriptionHandler = SubscriptionHandler({
				form: $(_this).find('.thunder--subscription-details'),
				labels: {
					firstOrderStartsAt: context.m('firstOrderStartsAt'),
					secondOrderStartsAt: context.m('secondOrderStartsAt')
				},
				subscriptionPlans: context.subscriptionPlans,
				timezone: function timezone() {
					return Thunder.options.timezone;
				},
				onPlanChange: function onPlanChange() {
					return debouncedApplySubscriptionDetail();
				},
				onStartsAtChange: function onStartsAtChange() {
					return debouncedApplySubscriptionDetail();
				}
			});

			Thunder.util.bindBackButton($backToCart, context);

			customerHandler.setCustomer(context.customer);
			addressHandler.setAddress(context.address);

			$sameForRecipient.on('change', copyToRecipient);
			$applyAddress.on('click', applyChanges);
			$searchAddress.on('click', searchAddress);
			$disabledAddressInputs.on('click', searchAddress);

			$goToUpdateCustomer.on('click', function () {
				return Thunder.render($container, 'customer-update', {
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			});

			// It's a bit hacky way to handle reCAPTCHA,
			// but if a store uses reCATPCHA for checkout and order/subscription auth,
			// bind reCATPCHA twice for the same button to get two reCAPTCHA responses.
			var recaptchaComponents = [implementation.name, 'search-purchase'];

			var recaptchaHandler = RecaptchaHandler(recaptchaComponents.filter(Thunder.util.useRecaptcha).reduce(function (o, c) {
				return set(o, c, true);
			}, {}));

			recaptchaComponents.forEach(function (componentName) {
				return Thunder.util.makeRecaptcha({
					componentName: componentName,
					button: $proceedCheckout,
					validate: validateCheckoutData,
					callback: proceedCheckout
				});
			});

			function copyToRecipient() {
				return $(this).is(':checked') ? addressHandler.setAddress(customerHandler.getCustomer()) : addressHandler.reset('recipient');
			}

			function applyChanges() {

				var options = buildCartOptions();
				var address = options.data.address.shipping;
				var discount = options.data.discount;

				var addressError = addressHandler.validateAddress(address, false);

				// Validate shipping address
				if (addressError) {
					return Thunder.notify('error', context.m(addressError));
				}

				var oldCartItems = $cartItems.html();
				var oldTotalDetails = $totalDetails.html();
				var sectionSpinner = Thunder.ui('section-spinner')();

				$cartItems.html('<tr><td>' + sectionSpinner + '</td></tr>');
				$totalDetails.html(sectionSpinner);

				var errors = {
					'invalid-postcode': context.m('invalidPostcode'),
					'starts-too-early': context.m('startsTooEarly'),
					'cart-coupon-category': context.m('cartCouponCategory'),
					'cart-coupon-price': context.m('cartCouponPrice'),
					default: context.m('cartUpdateFailed')
				};

				return getCart(options).then(function (_ref5) {
					var cart = _ref5.cart,
					    subscription = _ref5.subscription;


					var cartHasItemError = cart.errors.some(function (error) {
						return error.code === 'item-error';
					});

					if (cartHasItemError) {
						Thunder.notify('error', context.m('invalidCartItemIncluded'));
						return Thunder.render($container, 'cart', {
							orderActions: Object.keys(Thunder.options.paymentMethods),
							items: context.options.items
						});
					}

					context.cart = cart;
					context.subscription = subscription || null;

					CouponHandler.setApplicableCoupons(context.options.type, context.cart, context.coupons);

					if (discount) {

						if (discount.items) {
							discount.items.forEach(function (_ref6) {
								var item = _ref6.item,
								    coupon = _ref6.coupon;
								return set(context.cart.items.find(function (_ref7) {
									var _id = _ref7._id;
									return _id === item;
								}), 'appliedCoupon', couponHandler.getCoupon(coupon));
							});
						}

						if (discount.cart) {
							context.cart.appliedCoupon = couponHandler.getCoupon(discount.cart.coupon);
						}
					}

					var $template = $(Thunder.component(implementation.name).template(context));

					$cartItems.html($template.find('.thunder--cart-items table').html());
					$totalDetails.html($template.find('.thunder--total-details').html());

					couponHandler.bindCouponValidator();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						$cartItems.html(oldCartItems);
						$totalDetails.html(oldTotalDetails);
					});
				});
			}

			function validateCheckoutData() {

				var agreed = areTermsAgreed();

				if (!agreed) {
					return false;
				}

				var options = buildCartOptions('checkout');

				var _options$data = options.data,
				    address = _options$data.address,
				    subscription = _options$data.subscription;

				// Validate customer

				var customer = customerHandler.getCustomer();
				var customerError = customerHandler.validateCustomer(customer);

				if (customerError) {
					Thunder.notify('error', context.m(customerError));
					return false;
				}

				// Validate addresses
				var addressErrors = [address.shipping, address.billing].map(addressHandler.validateAddress).filter(function (v) {
					return v;
				});

				if (addressErrors[0]) {
					Thunder.notify('error', context.m(addressErrors[0]));
					return false;
				}

				var paymentError = paymentHandler.validate();

				if (paymentError) {
					Thunder.notify('error', paymentError.message);
					return false;
				}

				if (context.isSubscription) {
					// Validate only if checkout process is for a subscription
					var subscriptionError = subscriptionHandler.validateSubscriptionDetail(subscription);

					if (subscriptionError) {
						Thunder.notify('error', context.m(subscriptionError));
						return false;
					}
				}

				return true;
			}

			function proceedCheckout(token, resetRecaptcha) {

				var shouldExecute = recaptchaHandler.execute(token);

				if (!shouldExecute) return;

				var checkoutRes = shouldExecute.checkout,
				    searchPurchaseRes = shouldExecute['search-purchase'];


				processCheckoutSpinner.run();

				var options = buildCartOptions('checkout');
				var customer = customerHandler.getCustomer();
				var card = paymentHandler.getCard();

				var _options$data$payment = options.data.paymentMethod.split('.'),
				    _options$data$payment2 = _slicedToArray(_options$data$payment, 1),
				    paymentMethodId = _options$data$payment2[0];

				if (checkoutRes) {
					// Set reCAPTCHA response
					options.recaptcha = checkoutRes;
				}

				options.data.paymentMethod = paymentMethodId;

				if (!Thunder.authenticated()) {
					// Set customer details only for non-registered customers
					options.data.customer = customer;
				}

				var checkoutFinished = function checkoutFinished(successDetail) {

					processCheckoutSpinner.done();

					if (resetRecaptcha) {
						resetRecaptcha();
					}

					if (!successDetail) return;

					if (!Thunder.authenticated()) {
						// Delete ordered items from the local cart
						context.cart.items.forEach(function (item) {
							return Thunder.Cart.deleteItem(item._id, $.noop);
						});
					}

					return Thunder.execute(context.options.onCheckoutSuccess, $container, context, successDetail);
				};

				var order = void 0;
				var subscription = void 0;

				var authByOrderOrSubscription = {
					run: function run(_ref8) {
						var o = _ref8.order,
						    s = _ref8.subscription;


						if ($saveAsPrimaryAddress.is(':checked')) {
							// Update the primary address (Fire & Forget)
							var _options = buildCartOptions('checkout');

							Thunder.request({
								method: 'PUT',
								url: '/v1/me',
								data: {
									address: {
										primary: _options.data.address.shipping
									}
								}
							});
						}

						order = o;
						subscription = s || null;

						var type = context.options.type;
						var subject = context.isSubscription ? s : o;

						var options = {
							data: Thunder.options.orderAuthFields.reduce(function (o, field) {
								return set(o, field, get(subject.customer, field, null));
							}, {})
						};

						if (searchPurchaseRes) {
							options.recaptcha = searchPurchaseRes;
						}

						// Authenticate by an order or a subscription
						return auth(type, subject._id, options);
					},
					fail: function fail(err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, {
							default: context.m('checkoutProcessFailed')
						}, function (err) {
							return checkoutFinished();
						});
					}
				};

				var persistTokenAndMakePayment = {
					run: function run(authResult) {

						if (authResult) {

							var _token = authResult.token;
							var storage = Thunder.plugins.credentialStorage;

							// Set auth token in the storage,
							// preferably in sessionStorage to take care of redirections from payment services.
							storage.setItem(Thunder.options.authStorage.order, _token);
						}

						return paymentHandler.makePayment({
							cart: context.cart,
							order: order,
							subscription: subscription,
							customer: customer
						}, function (err) {

							if (err) {

								checkoutFinished();

								return Thunder.execute(context.options.onPaymentFailure, $container, context, { order: order, subscription: subscription });
							}

							if (!subscription) {
								// Regular order case
								return checkoutFinished({ order: order, subscription: subscription });
							}

							var options = {
								data: card ? { card: card } : {}
							};

							// Subscription case, post schedules and finish.
							return scheduleSubscription(subscription._id, options).then(function () {

								return checkoutFinished({ order: order, subscription: subscription });
							}, function (err) {
								return Thunder.util.requestErrorHandler(err.responseJSON, {
									default: context.m('scheduleFailed')
								}, function (err) {
									return checkoutFinished();
								});
							});
						});
					}
				};

				var checkoutErrorHandler = function checkoutErrorHandler(err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, {
						default: context.m('checkoutFailed')
					}, function (err) {
						return checkoutFinished();
					});
				};

				// Checkout
				checkout(options).then(authByOrderOrSubscription.run, checkoutErrorHandler).then(persistTokenAndMakePayment.run, authByOrderOrSubscription.fail);
			}

			function buildCartOptions() {
				var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'calculate';


				var address = addressHandler.getAddress();
				var discount = couponHandler.getDiscountDetails();

				var options = {
					query: {},
					data: {}
				};

				// Filter items
				if (context.options.items) {
					options.query = { items: context.options.items.toString() };
				}

				// Set address
				if (address) {
					options.data.address = { shipping: address, billing: address };
				}

				// Set subscription details
				if (context.isSubscription) {

					var subscription = subscriptionHandler.getSubscriptionDetail();

					if (subscription && subscription.plan) {
						options.data.subscription = subscription;
					}
				}

				// Apply discount (coupons)
				if (Object.keys(discount).length) {
					options.data.discount = discount;
				}

				// Request options for checkout
				if (type === 'checkout') {
					options.data.currency = context.cart.currency.payment.code;
					options.data.paymentMethod = paymentHandler.getPaymentMethodId();
					options.data.request = $orderRequest.val() || null;
				}

				return options;
			}

			function searchAddress() {

				if (couponHandler.isApplying()) {
					return Thunder.notify('error', context.m('applyCouponsFirst'));
				}

				addressHandler.searchAddress(function (err) {

					return err ? Thunder.notify('error', err.message) : applyChanges();
				});
			}

			function applyCoupons(type) {

				if (context.isSubscription) {

					var detail = subscriptionHandler.getSubscriptionDetail();

					if (!detail || !detail.plan) {
						Thunder.notify('error', context.m('selectSubscriptionPlanFirst'));
						return false; // Block further executions
					}
				}

				if (type === 'end') {
					applyChanges();
				}

				return true;
			}

			function applySubscriptionDetail() {

				var detail = subscriptionHandler.getSubscriptionDetail();
				var error = subscriptionHandler.validateSubscriptionDetail(detail);

				if (error === 'subscriptionPlanRequired') {
					return Thunder.notify('error', context.m(error));
				}

				if (error === 'subscriptionStartsAtRequired') {
					return;
				}

				return applyChanges();
			}
		});
	};

	function getCart() {
		var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


		if (!Thunder.authenticated()) {
			set(options, 'data.items', Thunder.Cart.items);
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: Thunder.authenticated() ? '/v1/me/cart' : '/v1/me/non-registered/cart'
		}, options));
	}

	function checkout() {
		var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


		var type = options.data.subscription ? 'subscription' : 'order';

		if (!Thunder.authenticated()) {
			set(options, 'data.items', Thunder.Cart.items);
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: Thunder.authenticated() ? '/v1/me/cart/checkout/' + type : '/v1/me/non-registered/cart/checkout/' + type
		}, options));
	}

	function auth(type, id) {
		var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


		if (Thunder.authenticated()) {
			return null;
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: type === 'order' ? '/v1/orders/' + id + '/auth' : '/v1/subscriptions/' + id + '/auth'
		}, options));
	}

	function scheduleSubscription(subscriptionId, options) {

		return Thunder.request($.extend({
			method: 'POST',
			url: '/v1/me/subscriptions/' + subscriptionId + '/scheduled'
		}, options));
	}

	return implementation;
};

},{"./lib/addressHandler.js":23,"./lib/couponHandler.js":24,"./lib/customerHandler.js":25,"./lib/recaptchaHandler.js":26,"./lib/subscriptionHandler.js":27,"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],23:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

var AddressHandler = function AddressHandler(_ref) {
	var addressFields = _ref.addressFields,
	    translationKeys = _ref.translationKeys,
	    searchAddressPlugin = _ref.searchAddressPlugin;


	function reset() {
		var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';


		var fieldsToClear = type === 'recipient' ? addressFields.filter(function (_ref2) {
			var recipient = _ref2.recipient;
			return recipient;
		}) : addressFields;

		fieldsToClear.forEach(function (_ref3) {
			var $input = _ref3.$input;
			return $input.val(null);
		});
	}

	function getAddress() {

		return addressFields.reduce(function (o, _ref4) {
			var field = _ref4.field,
			    $input = _ref4.$input;


			return set(o, field, $input.val() || null);
		}, {});
	}

	function setAddress(address) {

		addressFields.forEach(function (_ref5) {
			var field = _ref5.field,
			    $input = _ref5.$input;


			var value = get(address, field);

			return value === undefined ? null : $input.val(value);
		});
	}

	function validateAddress(address) {
		var validateRecipient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


		var requireds = addressFields.filter(function (_ref6) {
			var required = _ref6.required;
			return required;
		}).filter(function (_ref7) {
			var recipient = _ref7.recipient;
			return validateRecipient ? true : !recipient;
		});

		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {
			for (var _iterator = requireds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var _ref8 = _step.value;
				var field = _ref8.field;


				if (get(address, field)) continue;

				var code = camelCase(['address', translationKeys[field] || field, 'required']);

				return code;
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator.return) {
					_iterator.return();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}

		return null;
	}

	function searchAddress(callback) {

		searchAddressPlugin(function (err, address) {

			if (err) {
				return callback(err);
			}

			setAddress(address);

			return callback(null, address);
		});
	}

	return {
		reset: reset,
		getAddress: getAddress,
		setAddress: setAddress,
		validateAddress: validateAddress,
		searchAddress: searchAddress
	};
};

AddressHandler.defaultAddress = function () {
	return {
		name: {
			first: null,
			last: null,
			full: null
		},
		company: null,
		postcode: null,
		country: null,
		state: null,
		city: null,
		address1: null,
		address2: null,
		mobile: null,
		phone: null
	};
};

module.exports = AddressHandler;

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],24:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');

var CouponHandler = function CouponHandler(_ref) {
	var form = _ref.form,
	    _ref$labels = _ref.labels,
	    labels = _ref$labels === undefined ? {
		applyCoupons: '',
		finishApplyingCoupons: ''
	} : _ref$labels,
	    coupons = _ref.coupons,
	    _ref$cart = _ref.cart,
	    cart = _ref$cart === undefined ? function () {} : _ref$cart,
	    _ref$onCouponApply = _ref.onCouponApply,
	    onCouponApply = _ref$onCouponApply === undefined ? function (type) {
		return true;
	} : _ref$onCouponApply,
	    _ref$onCouponSelectEr = _ref.onCouponSelectError,
	    onCouponSelectError = _ref$onCouponSelectEr === undefined ? function (code) {} : _ref$onCouponSelectEr;


	var applying = false;

	var couponMap = coupons.reduce(function (o, c) {
		return set(o, c._id, c);
	}, {});

	var $applyCoupons = form.find('.thunder--apply-coupons');

	$applyCoupons.on('click', applyCoupons);

	bindCouponValidator();

	function isApplying() {
		return applying;
	}

	function getCoupon(couponId) {
		return couponMap[couponId];
	}

	function getCouponSelectors() {

		return form.find(['.thunder--cart-item-coupon', '.thunder--cart-coupon'].join(','));
	}

	function bindCouponValidator() {

		getCouponSelectors().on('change', validateCoupons);
	}

	function applyCoupons() {

		if (applying) {
			// Stop coupon selections
			if (!onCouponApply('end')) return;
			applying = false;
			$applyCoupons.text(labels.applyCoupons);
			getCouponSelectors().hide();
		} else {
			// Initialize coupon selections
			if (!onCouponApply('start')) return;
			applying = true;
			$applyCoupons.text(labels.finishApplyingCoupons);
			getCouponSelectors().show();
		}
	}

	function getDiscountDetails() {

		return getCouponSelectors().map(function () {

			var item = $(this).data('item') || null;
			var coupon = $(this).val();

			return { item: item, coupon: coupon };
		}).get().reduce(function (o, _ref2) {
			var item = _ref2.item,
			    coupon = _ref2.coupon;


			if (!coupon) return o;

			return item ? set(o, 'items', get(o, 'items', []).concat({ item: item, coupon: coupon })) : set(o, 'cart.coupon', coupon);
		}, {});
	}

	function validateCoupons() {

		var $selector = $(this);
		var itemId = $(this).data('item');
		var coupon = couponMap[$(this).val()];
		var item = cart().items.find(function (item) {
			return item._id === itemId;
		});

		if (!coupon || !item) return null;

		var code = null;

		// Duplicated discount applications
		if (coupon.only && item.discounts.length > 0) {
			code = 'alreadyDiscounted';
		}

		// Item's quantity must be 1 to apply a coupon
		if (item.quantity.raw !== 1) {
			code = 'mustBeOneQuantity';
		}

		// Duplicated coupon usage
		var selected = getCouponSelectors().map(function () {
			return $(this).is($selector) ? null : $(this).val();
		}).get().filter(function (v) {
			return v;
		});

		if (selected.indexOf(coupon._id) >= 0) {
			code = 'duplicatedCoupon';
		}

		if (code) {
			$selector.val('');
			return onCouponSelectError(code);
		}
	}

	return {
		isApplying: isApplying,
		getCoupon: getCoupon,
		bindCouponValidator: bindCouponValidator,
		getDiscountDetails: getDiscountDetails
	};
};

CouponHandler.setApplicableCoupons = function (orderType, cart, coupons) {

	// Filter only applicable coupons
	var applicableCoupons = coupons.filter(function (c) {
		var active = c.active,
		    expiresAt = c.expiresAt,
		    subscription = c.subscription;

		// Filter coupons where:
		// - A coupon is active
		// - A coupon is for a subscription and the view is for subscriptions
		// - A coupon is for an order and the view is for orders
		// - A coupon has no expiration dates
		// - A coupon has an expiration date and it is not passed yet

		return active && (orderType === 'subscription' && subscription.type || orderType === 'order' && !subscription.type) && (!expiresAt || new Date(expiresAt.raw).valueOf() > new Date().valueOf());
	});

	var productCoupons = applicableCoupons.filter(function (c) {
		return c.type === 'product';
	});
	var cartCoupons = applicableCoupons.filter(function (c) {
		return c.type === 'cart';
	});

	cart.items = cart.items.map(function (item) {

		item.applicableCoupons = productCoupons.filter(function (coupon) {

			return applicableByCategory(item, coupon.category) && applicableByPrice(item, coupon.price);
		});

		return item;
	});

	cart.applicableCoupons = cartCoupons;

	function applicableByCategory(item, category) {
		var _ref3;

		var brand = item.brand,
		    collections = item.collections,
		    product = item.product;


		if (category.type === 'any') {
			return true;
		}

		var subjectsToTest = {
			brands: [].concat(brand ? brand._id : []),
			collections: (_ref3 = []).concat.apply(_ref3, _toConsumableArray(collections.map(function (_ref4) {
				var path = _ref4.path;
				return path;
			}))).map(function (_ref5) {
				var _id = _ref5._id;
				return _id;
			}),
			products: [].concat(product ? product._id : [])
		};

		var categoryToTest = ['brands', 'collections', 'products'].find(function (c) {
			return category[c];
		});

		var toTest = subjectsToTest[categoryToTest];
		var pool = category[categoryToTest].map(function (_ref6) {
			var _id = _ref6._id;
			return _id;
		});

		if (category.type === 'include') {
			return pool.some(function (v) {
				return toTest.indexOf(v) >= 0;
			});
		}

		if (category.type === 'exclude') {
			return pool.every(function (v) {
				return toTest.indexOf(v) === -1;
			});
		}
	}

	function applicableByPrice(item, _ref7) {
		var min = _ref7.min,
		    max = _ref7.max;


		var price = item.variant.price.sale.raw;

		return (min === null || min.raw < price) && (max === null || max.raw > price);
	}
};

module.exports = CouponHandler;

},{"lodash.get":341,"lodash.set":345}],25:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (_ref) {
	var customerFields = _ref.customerFields,
	    translationKeys = _ref.translationKeys;


	function setCustomer(customer) {

		if (!customer) return;

		customerFields.forEach(function (_ref2) {
			var field = _ref2.field,
			    $input = _ref2.$input;


			$input.val(get(customer, field) || null);
		});
	}

	function getCustomer() {

		return customerFields.reduce(function (o, _ref3) {
			var field = _ref3.field,
			    $input = _ref3.$input;

			return set(o, field, $input.val() || null);
		}, {});
	}

	function validateCustomer(customer) {
		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {

			for (var _iterator = customerFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var _ref4 = _step.value;
				var field = _ref4.field;
				var required = _ref4.required;


				if (!required) continue;

				var value = get(customer, field);

				if (!value) {
					return camelCase(['customer', translationKeys[field] || field, 'required']);
				}
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator.return) {
					_iterator.return();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}

		return null;
	}

	return {
		setCustomer: setCustomer,
		getCustomer: getCustomer,
		validateCustomer: validateCustomer
	};
};

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],26:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (requiredResponse) {

	var handler = {
		counter: 0,
		token: [],
		requiredResponse: requiredResponse
	};

	handler.execute = function (token) {

		var requiredComponents = Object.keys(handler.requiredResponse);
		var requiredLength = requiredComponents.length;

		if (requiredLength === 0) {
			// If a number of required responses is 0,
			// simply return an empty object.
			return {};
		}

		handler.token = handler.token.concat(token).filter(function (token) {
			return token;
		});

		if (++handler.counter === 2 && requiredLength === handler.token.length) {

			var result = requiredComponents.reduce(function (o, c, i) {
				return set(o, c, handler.token[i]);
			}, {});

			handler.reset();

			return result;
		} else {

			return null;
		}
	};

	handler.reset = function () {
		handler.counter = 0;
		handler.token = [];
	};

	return handler;
};

},{"lodash.set":345}],27:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var set = require('lodash.set');

module.exports = function (_ref) {
	var form = _ref.form,
	    labels = _ref.labels,
	    subscriptionPlans = _ref.subscriptionPlans,
	    _ref$timezone = _ref.timezone,
	    timezone = _ref$timezone === undefined ? function () {
		return 'UTC';
	} : _ref$timezone,
	    _ref$onPlanChange = _ref.onPlanChange,
	    onPlanChange = _ref$onPlanChange === undefined ? function () {} : _ref$onPlanChange,
	    _ref$onStartsAtChange = _ref.onStartsAtChange,
	    onStartsAtChange = _ref$onStartsAtChange === undefined ? function () {} : _ref$onStartsAtChange;


	var $plan = form.find('[name="subscriptionPlan"]');
	var $startsAtSection = form.find('.thunder--subscription-starts-at');
	var $startsAtLabel = $startsAtSection.find('label');
	var $startsAt = $startsAtSection.find('[name="subscriptionStartsAt"]');
	var $immediateTip = $('.first-order-is-immediate');

	var datepicker = $startsAt.data('pickaday');

	var subscriptionPlanMap = subscriptionPlans.reduce(function (o, plan) {
		return set(o, plan._id, plan);
	}, {});

	subscriptionPlanChanged();

	if (datepicker) {
		// Set datepicker's min date as tomorrow (24 hours later)
		datepicker.setMinDate(new Date(new Date().valueOf() + 1000 * 3600 * 24));
	}

	$plan.on('change', function () {
		subscriptionPlanChanged();
		return onPlanChange();
	});

	$startsAt.on('change', function () {
		return onStartsAtChange();
	});

	function getSubscriptionPlan(subscriptionPlanId) {
		return subscriptionPlanMap[subscriptionPlanId];
	}

	function validateSubscriptionDetail(subscription) {

		if (!subscription || !subscription.plan) {
			return 'subscriptionPlanRequired';
		}

		var plan = subscriptionPlanMap[subscription.plan];

		if (plan.startsAt && !subscription.startsAt) {
			return 'subscriptionStartsAtRequired';
		}
	}

	function getSubscriptionDetail() {

		var plan = subscriptionPlanMap[$plan.val()];

		if (!plan) return null;

		var detail = {
			plan: plan._id,
			timezone: timezone()
		};

		var startsAt =
		// If `plan.startsAt` is a function, simply invoke and get the time value.
		typeof plan.startsAt === 'function' && plan.startsAt(plan) ||
		// If `plan.startsAt` is a 'datepicker', get the time value from datepicker.
		plan.startsAt === 'datepicker' && $startsAt.data('pickaday').getDate() || null;

		if (startsAt) {

			// Set order schedules' times (default = 09:00)
			startsAt.setHours.apply(startsAt, _toConsumableArray((plan.time || '09:00').split(':').map(function (v) {
				return parseInt(v);
			}).concat(0, 0, 0)));

			detail.startsAt = startsAt;
		}

		return detail;
	}

	function subscriptionPlanChanged() {

		var plan = subscriptionPlanMap[$plan.val()];

		if (!plan) return;

		if (plan.startsAt === 'datepicker') {
			$startsAtSection.show();
		} else {
			$startsAtSection.hide();
		}

		if (plan.immediate) {
			$immediateTip.show();
			$startsAtLabel.text(labels.secondOrderStartsAt);
		} else {
			$immediateTip.hide();
			$startsAtLabel.text(labels.firstOrderStartsAt);
		}

		$startsAt.val('');
		datepicker.setDate(null);
	}

	return {
		getSubscriptionPlan: getSubscriptionPlan,
		validateSubscriptionDetail: validateSubscriptionDetail,
		getSubscriptionDetail: getSubscriptionDetail,
		subscriptionPlanChanged: subscriptionPlanChanged
	};
};

},{"lodash.set":345}],28:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-coupons'
	};

	implementation.options = function () {
		return {
			page: 1,
			limit: 24,
			usePagination: true,
			confirmOnDelete: Thunder.options.confirmation.couponDelete, // Whether to confirm before deleting a coupon

			onDelete: function onDelete($container, context) {

				return Thunder.notify('success', context.m('deleteSuccess'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.couponListId = (Math.random() + '').slice(2);

		context.categories = function (coupon) {
			return (coupon.category.products || coupon.category.brands || coupon.category.collections).map(function (m) {
				return m.name;
			}).join(', ');
		};

		var errors = {
			default: context.m('couponListFailed')
		};

		$.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/coupons',
			query: {
				page: context.options.page,
				limit: context.options.limit
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/coupons/count',
			query: { raw: true }
		}) : null).then(function (coupons, count) {

			context.coupons = coupons[0];
			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $pagination = $(this).find('.thunder--customer-coupon-list-pagination');
		var $deleteCoupon = $(this).find('.thunder--delete-coupon');

		$deleteCoupon.on('click', deleteCoupon);

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, 'customer-coupons', $.extend(context.options, { page: page }));
				}
			});
		}

		function deleteCoupon() {
			var _this = this;

			var removeCoupon = function removeCoupon() {

				var spinner = Thunder.util.makeAsyncButton($(_this), { bind: false });

				spinner.run();

				var couponId = $(_this).data('coupon');
				var $coupon = $container.find('[data-coupon="' + couponId + '"]');

				var errors = {
					default: context.m('couponDeleteFailed')
				};

				Thunder.request({
					method: 'DELETE',
					url: '/v1/me/coupons/' + couponId
				}).then(function () {

					spinner.done();
					$coupon.remove();
					$container.find('[data-mh]').matchHeight();

					return Thunder.execute(context.options.onDelete, $container, context);
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return spinner.done();
					});
				});
			};

			if (!context.options.confirmOnDelete) {
				return removeCoupon();
			}

			return Thunder.plugins.confirmation(context.m('deleteConfirm'), function () {
				return removeCoupon();
			});
		}
	};

	return implementation;
};

},{}],29:[function(require,module,exports){
'use strict';

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var supportedComponents = function supportedComponents() {
		return ['customer-update', 'customer-update-address', 'order-list', Thunder.options.paymentMethods.subscription ? 'subscription-list' : null, 'customer-coupons', Thunder.options.productReview ? 'customer-reviews' : null, Thunder.options.productReview && Thunder.options.productReviewComment ? 'customer-review-comments' : null, 'customer-delete-account'].filter(function (v) {
			return v;
		});
	};

	// Implementation
	var implementation = {
		name: 'customer-dashboard'
	};

	implementation.options = function () {
		return $.extend({
			nav: supportedComponents(), // Navigation components
			focus: supportedComponents()[0], // Initial component to be focused
			logout: Thunder.options.customerDashboardLogout

		}, supportedComponents().reduce(function (o, component) {

			return set(o, camelCase(['onView', component]), function ($container, context, $viewContainer) {
				return Thunder.render($viewContainer, component);
			});
		}, {}));
	};

	implementation.pre = function (context, callback) {

		var translationKeys = {
			'customer-update': 'customerInfo',
			'customer-update-address': 'customerAddress',
			'order-list': 'orderList',
			'subscription-list': 'subscriptionList',
			'customer-coupons': 'customerCoupons',
			'customer-reviews': 'customerReviews',
			'customer-review-comments': 'customerReviewComments',
			'customer-delete-account': 'customerDeleteAccount'
		};

		context.nav = Thunder.util.parseArrayString(context.options.nav).map(function (component) {
			return {
				key: component,
				translationKey: translationKeys[component]
			};
		});

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $menu = $(this).find('[data-component]');
		var $viewContainer = $(this).find('.thunder--customer-dashboard-view');
		var $logoutWrap = $(this).find('.thunder--logout-wrap');
		var $logout = $(this).find('.thunder--logout');

		viewComponent(context.options.focus);

		$menu.on('click', function () {
			return viewComponent($(this).data('component'));
		});

		function viewComponent(component) {

			$logoutWrap[component === 'customer-update' ? 'removeClass' : 'addClass']('hidden');

			$menu.removeClass('active');
			$container.find('[data-component="' + component + '"]').addClass('active');

			return Thunder.execute(context.options[camelCase(['onView', component])], $container, context, $viewContainer);
		}

		$logout.on('click', function () {
			Thunder.logout();
			Thunder.close();
		});
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.set":345}],30:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-delete-account'
	};

	implementation.options = function () {
		return {

			confirmOnDelete: Thunder.options.confirmation.customerDelete, // Whether to confirm before deleting

			onDelete: function onDelete($container, context) {

				Thunder.notify('success', context.m('deleteSuccess'));

				Thunder.plugins.redirect(Thunder.options.root);
			}

		};
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--customer-delete-account-form');
		var $button = $form.find('.thunder--delete-account');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$button.on('click', function (event) {

			event.preventDefault();

			if (!context.options.confirmOnDelete) {
				return deleteCustomer();
			}

			return Thunder.plugins.confirmation(context.m('deleteConfirm'), function () {
				return deleteCustomer();
			}, function () {
				return buttonSpinner.done();
			});
		});

		function deleteCustomer() {

			var errors = {
				default: context.m('deleteFailed')
			};

			Thunder.request({
				method: 'DELETE',
				url: '/v1/me'
			}).then(function () {

				buttonSpinner.done();

				Thunder.logout();

				Thunder.execute(context.options.onDelete, $container, context);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
					return buttonSpinner.done();
				});
			});
		}
	};

	return implementation;
};

},{}],31:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-login'
	};

	implementation.options = function () {
		return {

			socialApps: Thunder.options.socialApps,

			onLogin: function onLogin($container, context) {

				Thunder.notify('success', context.m('loginSuccess'));

				Thunder.plugins.redirect(Thunder.options.root);
			},

			onSocialLogin: function onSocialLogin($container, context, data) {

				Thunder.notify('success', context.m('loginSuccess'));

				Thunder.plugins.redirect(Thunder.options.root);
			}

		};
	};

	implementation.pre = function (context, callback) {

		context.social = function () {
			return Thunder.uis['social-login']({
				type: 'login',
				vendors: context.options.socialApps
			});
		};

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--login-form');
		var $button = $form.find('.thunder--login-customer');
		var $goToResetPassword = $(this).find('.thunder--go-to-reset-password');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		Thunder.util.bindSocialApps($container);

		var socialData = Thunder.util.handleSocialLogin();

		if (socialData) {

			Thunder.execute(context.options.onSocialLogin, $container, context, socialData);
		}

		$goToResetPassword.on('click', function () {
			return Thunder.render($container, 'customer-reset-password', {
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		});

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var data = Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray()));

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'not-existing-customer': context.m('notExistingCustomer'),
				'invalid-password': context.m('invalidPassword'),
				default: context.m('loginFailed')
			};

			Thunder.request({
				method: 'POST',
				url: '/v1/customers/auth',
				data: data
			}).then(function (data) {

				var storage = Thunder.plugins.credentialStorage;

				storage.setItem(Thunder.options.authStorage.customer, data.token);

				Thunder.header();

				Thunder.execute(context.options.onLogin, $container, context);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
					return resetState();
				});
			});
		});
	};

	return implementation;
};

},{}],32:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

var get = require('lodash.get');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-register'
	};

	implementation.options = function () {
		return {

			fields: Thunder.options.customerRegistrationFields,
			birthdateFormat: Thunder.options.dateInputFormat,
			socialApps: Thunder.options.socialApps,
			termsLink: Thunder.options.legal.registrationTerms.link,
			termsText: Thunder.options.legal.registrationTerms.text,
			privacyLink: Thunder.options.legal.registrationPrivacy.link,
			privacyText: Thunder.options.legal.registrationPrivacy.text,

			onRegister: function onRegister($container, context, customer) {

				Thunder.notify('success', context.m('registerSuccess'));

				Thunder.render($container, 'customer-login');
			},
			onSocialRegister: function onSocialRegister($container, context, data) {

				if (data.error) {
					if (data.error === 'duplicated-email') {
						return Thunder.notify('error', context.m('duplicatedEmail'));
					}
				}

				Thunder.notify('success', context.m('registerSuccess'));

				Thunder.plugins.redirect(Thunder.options.root);
			}

		};
	};

	implementation.pre = function (context, callback) {
		var _context$options = context.options,
		    termsLink = _context$options.termsLink,
		    termsText = _context$options.termsText,
		    privacyLink = _context$options.privacyLink,
		    privacyText = _context$options.privacyText;


		context.agreements = [termsLink || termsText ? 'terms' : null, privacyLink || privacyText ? 'privacy' : null].filter(function (v) {
			return v;
		});

		var birthOptions = {
			YYYY: { key: 'birthYear', translationKey: 'year', tester: /^\d{4}$/ },
			MM: { key: 'birthMonth', translationKey: 'month', tester: /^\d{1,2}$/ },
			DD: { key: 'birthDate', translationKey: 'date', tester: /^\d{1,2}$/ }
		};

		var birthdateFormats = context.options.birthdateFormat.split('-');

		context.fields = Thunder.util.parseArrayString(context.options.fields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.birthdateFields = birthdateFormats.map(function (format, i) {

			return $.extend({
				last: i === birthdateFormats.length - 1
			}, birthOptions[format]);
		});

		context.social = function () {
			return Thunder.uis['social-login']({
				type: 'register',
				vendors: context.options.socialApps
			});
		};

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--register-form');
		var $button = $form.find('.thunder--register-customer');
		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		var areTermsAgreed = Thunder.util.bindAgreements({
			$terms: $(this).find('[data-agreement-scope]'),
			agreements: {
				terms: {
					text: context.options.termsText,
					link: context.options.termsLink,
					error: context.m('termsAgreementRequired')
				},
				privacy: {
					text: context.options.privacyText,
					link: context.options.privacyLink,
					error: context.m('privacyAgreementRequired')
				}
			}
		});

		Thunder.util.bindSocialApps($container, areTermsAgreed);

		var socialData = Thunder.util.handleSocialLogin();

		if (socialData) {

			Thunder.execute(context.options.onSocialRegister, $container, context, socialData);
		}

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateData,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var success = function success(customer) {

					Thunder.execute(context.options.onRegister, $container, context, customer);

					return resetState();
				};

				var fail = function fail(err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, {
						'duplicated-email': context.m('duplicatedEmail'),
						'duplicated-user-id': context.m('duplicatedUserId'),
						default: context.m('registerFailed'),
						validation: function validation(err) {
							var _err$validation$sourc = err.validation.source.split('.'),
							    _err$validation$sourc2 = _toArray(_err$validation$sourc),
							    path = _err$validation$sourc2.slice(1);

							var field = path.join('.');

							return context.m(camelCase(['invalid', translationKey[field] || field]));
						}
					}, function (err) {
						return resetState();
					});
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me',
					data: getCustomer()
				}).then(success, fail);
			}

		});

		function getCustomer() {

			var birthFields = ['birthYear', 'birthMonth', 'birthDate'];

			var data = Thunder.util.formToJSON($form.serializeArray());

			if (birthFields.every(function (field) {
				return data[field];
			})) {

				data.birthdate = new Date(data.birthYear, data.birthMonth - 1, data.birthDate);
			}

			birthFields.forEach(function (field) {
				return delete data[field];
			});

			return data;
		}

		function validateData() {

			var customer = getCustomer();

			var requiredFields = context.fields.filter(function (_ref) {
				var required = _ref.required;
				return required;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var _ref2 = _step.value;
					var key = _ref2.key;
					var _translationKey = _ref2.translationKey;


					if (!get(customer, key, null)) {
						Thunder.notify('error', context.m(_translationKey + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return areTermsAgreed();
		}
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.get":341}],33:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-reset-password'
	};

	implementation.options = function () {
		return {
			customer: 'customer',
			secret: 'secret',
			input: 'query', // 'query' or 'attribute'
			expiresIn: 60 * 60 * 24, // 24 hours
			onEmailRequest: function onEmailRequest($container, context) {

				Thunder.notify('success', context.m('requestEmailSuccess'));
			},
			onPasswordReset: function onPasswordReset($container, context) {

				Thunder.notify('success', context.m('setPasswordSuccess'));

				Thunder.render($container, 'customer-login');
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.input === 'query') {

			var query = Thunder.util.urlQuery();
			var customerField = context.options.customer;
			var secretField = context.options.secret;

			if (query[customerField] && query[secretField]) {

				context.customer = query[customerField];
				context.secret = query[secretField];
			}
		}

		if (context.options.input === 'attribute') {

			context.customer = context.options.customer;
			context.secret = context.options.secret;
		}

		context.type = context.customer && context.secret ? 'reset-password' : 'request-email';

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--reset-password-form');

		if (context.type === 'request-email') {

			var $requestEmail = $form.find('.thunder--request-email');
			var $goToCustomerLogin = $(this).find('.thunder--go-to-customer-login');
			var requestEmailSpinner = Thunder.util.makeAsyncButton($requestEmail);

			Thunder.util.bindBackButton($goToCustomerLogin, context);

			Thunder.util.makeRecaptcha(implementation.name, $requestEmail, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray())), {
					expiresIn: context.options.expiresIn,
					scope: 'reset-password'
				});

				var resetState = function resetState() {
					requestEmailSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'not-existing-customer': context.m('notExistingCustomer'),
					'email-required': context.m('customerWithoutEmail'),
					default: context.m('requestEmailFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/verifications/emails',
					data: data
				}).then(function () {

					Thunder.execute(context.options.onEmailRequest, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}

		if (context.type === 'reset-password') {

			var $resetPassword = $form.find('.thunder--reset-password');
			var resetPasswordSpinner = Thunder.util.makeAsyncButton($resetPassword);

			Thunder.util.makeRecaptcha(implementation.name, $resetPassword, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.formToJSON($form.serializeArray()), {
					secret: context.secret
				});

				var resetState = function resetState() {
					resetPasswordSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('setPasswordFailed')
				};

				Thunder.request({
					method: 'PUT',
					url: '/v1/customers/' + context.customer + '/password',
					data: data,
					recaptcha: token
				}).then(function () {

					Thunder.execute(context.options.onPasswordReset, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}
	};

	return implementation;
};

},{}],34:[function(require,module,exports){
'use strict';

var productReview = require('../product-review');

module.exports = function (Thunder) {

	var productReviewInstance = productReview(Thunder);

	var implementation = {
		name: 'customer-review-comment'
	};

	// Other options will be exactly same as `product-review` component
	implementation.options = function () {
		return $.extend(productReviewInstance.options(), {
			comment: null, // Comment ID
			showProduct: true,
			showComments: {
				filter: null,
				useBodyExcerpt: false,
				useFlag: false,
				usePagination: false
			}
		});
	};

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToComments = $(this).find('.thunder--back-to-comments');
		var $reviewContainer = $(this).find('.thunder--customer-review-comment-container');

		Thunder.util.bindBackButton($backToComments, context);

		if (context.options.showComments) {
			context.options.showComments.filter = { ids: context.options.comment };
		}

		Thunder.render($reviewContainer, 'product-review', context.options);
	};

	return implementation;
};

},{"../product-review":51}],35:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-review-comments'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of comments?
			limit: 10, // How many comments at once?
			sort: '-createdAt', // Default sort value
			usePagination: true, // Use Pagination?

			onViewComment: function onViewComment($container, context, reviewId, commentId) {

				return Thunder.render($container, 'customer-review-comment', {
					review: reviewId,
					comment: commentId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var customer = Thunder.authenticated('customer').sub;

		var errors = {
			default: context.m('commentListFailed')
		};

		return $.when(fetchComments(), countComments()).then(function (comments, count) {
			return callback(null, $.extend(context, {
				comments: comments[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchComments() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments',
				query: {
					customer: customer,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['review', 'customer', 'body', 'createdAt'].join(',')
				}
			});
		}

		function countComments() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments/count',
				query: {
					customer: customer
				}
			});
		}
	};

	implementation.init = function (context) {

		var commentMap = context.comments.reduce(function (o, comment) {
			return set(o, comment._id, comment);
		}, {});

		var $container = $(this);
		var $viewComment = $(this).find(['.thunder--customer-review-comment-body', '.thunder--view-comment'].join(','));
		var $pagination = $(this).find('.thunder--customer-review-comment-list-pagination');

		$viewComment.on('click', function (event) {

			event.preventDefault();

			var commentId = $(this).parents('[data-comment]').data('comment');
			var comment = commentMap[commentId];

			return Thunder.execute(context.options.onViewComment, $container, context, comment.review._id, comment._id);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{"lodash.set":345}],36:[function(require,module,exports){
'use strict';

var productReview = require('../product-review');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-review'
	};

	// All options are exactly same as `product-review` component
	implementation.options = function () {
		return $.extend(productReview(Thunder).options(), {
			useBodyExcerpt: false,
			useFlag: false,
			showProduct: true,
			showComments: true
		});
	};

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToReviews = $(this).find('.thunder--back-to-reviews');
		var $reviewContainer = $(this).find('.thunder--customer-review-container');

		Thunder.util.bindBackButton($backToReviews, context);

		Thunder.render($reviewContainer, 'product-review', context.options);
	};

	return implementation;
};

},{"../product-review":51}],37:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-reviews'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of reviews?
			limit: 12, // How many reviews at once?
			sort: '-createdAt', // Default sort value
			useRating: Thunder.options.productReviewRating, // Use rating?
			useComments: Thunder.options.productReviewComment, // Use review comments?
			useHelpVote: true, // Use helpful votes?
			usePagination: true, // Use Pagination?

			onViewReview: function onViewReview($container, context, reviewId) {

				return Thunder.render($container, 'customer-review', {
					review: reviewId,
					useRating: context.options.useRating,
					useHelpVote: context.options.useHelpVote,
					useComments: context.options.useComments,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var customer = Thunder.authenticated('customer').sub;

		var errors = {
			default: context.m('reviewListFailed')
		};

		return $.when(fetchReviews(), countReviews()).then(function (reviews, count) {
			return callback(null, $.extend(context, {
				reviews: reviews[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published',
				query: {
					customer: customer,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['product', 'title', 'images', 'rating', 'helped', 'totalComment', 'createdAt'].join(','),
					embed: '+product.thumbnail'
				}
			});
		}

		function countReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published/count',
				query: {
					customer: customer
				}
			});
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $viewReview = $(this).find('.thunder--view-review');
		var $pagination = $(this).find('.thunder--customer-review-list-pagination');

		$viewReview.on('click', function (event) {

			event.preventDefault();

			var reviewId = $(this).parents('[data-review]').data('review');

			return Thunder.execute(context.options.onViewReview, $container, context, reviewId);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],38:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-update-address'
	};

	implementation.options = function () {
		return {

			recipientFields: Thunder.options.recipientFields,
			addressDisabled: Thunder.options.addressDisabled,

			onUpdate: function onUpdate($container, context) {

				Thunder.notify('success', context.m('updateSuccess'));
			}

		};
	};

	implementation.pre = function (context, callback) {

		var disabledAddressFields = Thunder.util.parseArrayString(context.options.addressDisabled).reduce(function (o, field) {
			return set(o, field, true);
		}, {});

		context.useSearchAddress = !!Thunder.plugins.searchAddress;

		context.disabled = function (field) {
			return disabledAddressFields[field] && context.useSearchAddress ? 'readonly' : '';
		};

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.addressFields = [{ required: true, key: 'country', translationKey: 'country' }, { required: false, key: 'state', translationKey: 'state' }, { required: true, key: 'city', translationKey: 'city' }, { required: true, key: 'address1', translationKey: 'address1' }, { required: false, key: 'address2', translationKey: 'address2' }, { required: true, key: 'postcode', translationKey: 'postcode' }];

		var errors = {
			default: context.m('customerReadFailed')
		};

		$.when(Thunder.request({
			method: 'GET',
			url: '/v1/countries',
			query: { fields: 'code', limit: 120, page: 1 }
		}), Thunder.request({
			method: 'GET',
			url: '/v1/countries',
			query: { fields: 'code', limit: 120, page: 2 }
		}), Thunder.request({
			method: 'GET',
			url: '/v1/countries',
			query: { fields: 'code', limit: 120, page: 3 }
		}), Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: { fields: 'address' }
		})).then(function (countries1, countries2, countries3, customer) {

			context.countries = [].concat(countries1[0], countries2[0], countries3[0]);

			context.address = customer[0].address.primary || { name: {} };

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--customer-address-update-form');
		var $button = $form.find('.thunder--update-address');
		var $searchAddress = $(this).find('.thunder--search-address');
		var $disabledAddressInputs = $(this).find('.thunder--address-location div [readonly]').parent();

		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		var recipientFields = context.recipientFields.map(function (f) {
			return f.key;
		});
		var addressFields = context.addressFields.map(function (f) {
			return f.key;
		});
		var allFieldsMap = [].concat(_toConsumableArray(recipientFields), _toConsumableArray(addressFields)).reduce(function (o, field) {
			return set(o, [field], true);
		}, {});

		var $fields = [].concat(recipientFields, addressFields).reduce(function (o, key) {
			return set(o, [key], $form.find('[name="' + key + '"]'));
		}, {});

		addressToForm(context.address);

		$searchAddress.on('click', searchAddress);
		$disabledAddressInputs.on('click', searchAddress);

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateAddress,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var primaryAddress = Thunder.util.formToJSON($form.serializeArray());
				var recaptcha = Thunder.util.unsetRecaptcha(primaryAddress);

				var data = { address: { primary: primaryAddress } };

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'invalid-postcode': context.m('invalidPostcode'),
					'postcode-required': context.m('postcodeRequired'),
					default: context.m('updateFailed'),
					validation: function validation(err) {
						var _err$validation$sourc = err.validation.source.split('address.primary.'),
						    _err$validation$sourc2 = _slicedToArray(_err$validation$sourc, 2),
						    field = _err$validation$sourc2[1];

						if (!field || !allFieldsMap[field]) return;

						return context.m(camelCase(['invalid', translationKey[field] || field]));
					}
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me',
					data: data,
					recaptcha: recaptcha
				}).then(function (data) {

					var address = get(data, 'address.primary');

					addressToForm(address);

					Thunder.execute(context.options.onUpdate, $container, context, address);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			}
		});

		function validateAddress() {

			var address = Thunder.util.formToJSON($form.serializeArray());

			var requiredFields = [].concat(context.recipientFields, context.addressFields).filter(function (f) {
				return f.required;
			}).map(function (f) {
				return f.key;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var field = _step.value;


					if (!get(address, field, null)) {
						Thunder.notify('error', context.m((translationKey[field] || field) + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return true;
		}

		function addressToForm(address) {
			var onlyAddressFields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


			if (!address) return;

			var fields = onlyAddressFields ? addressFields : [].concat(recipientFields, addressFields);

			fields.forEach(function (field) {

				var value = field === 'country' ? get(address, field + '.code', get(address, field, null)) : get(address, field, null);

				$fields[field].val(value);
			});
		}

		function searchAddress(event) {

			event.preventDefault();

			Thunder.plugins.searchAddress(function (err, address) {

				if (err) {
					return Thunder.notify('error', err.message);
				}

				addressToForm(address, true);
			});
		}
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],39:[function(require,module,exports){
'use strict';

var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-update-credential'
	};

	implementation.options = function () {
		return {

			field: null, // 'userId', 'email', 'password'

			onUpdate: function onUpdate($container, context) {

				Thunder.notify('success', context.m('updateSuccess'));
			},
			onUpdateCustomer: function onUpdateCustomer($container, context, field) {

				Thunder.render($container, 'customer-update');
			}

		};
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $updateCustomer = $(this).find('.thunder--update-customer');
		var $form = $(this).find('.thunder--credential-form');
		var $button = $form.find('.thunder--update-credential');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$updateCustomer.on('click', function () {
			return Thunder.execute(context.options.onUpdateCustomer, $container, context);
		});

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var data = Thunder.util.formToJSON($form.serializeArray());

			// For customers with social registrations
			data.password = data.password || '';

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'invalid-password': context.m('invalidPassword'),
				'duplicated-user-id': context.m('duplicatedUserId'),
				'duplicated-email': context.m('duplicatedEmail'),
				default: context.m('updateFailed'),
				validation: function validation(err) {
					var path = err.validation.source.split('.');
					var field = path[path.length - 1];

					return context.m(camelCase(['invalidNew', field]));
				}
			};

			return Thunder.request({
				method: 'PUT',
				url: '/v1/me/credentials',
				data: data
			}).then(function () {

				Thunder.execute(context.options.onUpdate, $container, context);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
					return resetState();
				});
			});
		});
	};

	return implementation;
};

},{"lodash.camelcase":340}],40:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-update'
	};

	implementation.options = function () {
		return {

			fields: Thunder.options.customerUpdateFields,
			birthdateFormat: Thunder.options.dateInputFormat,

			onUpdate: function onUpdate($container, context, customer) {

				return Thunder.notify('success', context.m('updateSuccess'));
			},
			onChangeCredential: function onChangeCredential($container, context, field) {

				return Thunder.render($container, 'customer-update-credential', { field: field });
			}

		};
	};

	implementation.pre = function (context, callback) {

		var birthOptions = {
			YYYY: { key: 'birthYear', translationKey: 'year', tester: /^\d{4}$/ },
			MM: { key: 'birthMonth', translationKey: 'month', tester: /^\d{1,2}$/ },
			DD: { key: 'birthDate', translationKey: 'date', tester: /^\d{1,2}$/ }
		};

		var hasBirthDate = context.options.fields.indexOf('birthdate') >= 0;
		var birthdateFormats = context.options.birthdateFormat.split('-');

		context.fields = Thunder.util.parseArrayString(context.options.fields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.birthdateFields = hasBirthDate ? birthdateFormats.map(function (format, i) {
			return $.extend({
				last: i === birthdateFormats.length - 1
			}, birthOptions[format]);
		}) : [];

		var errors = {
			default: context.m('customerReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: {
				fields: ['avatar', 'userId', 'email', 'alias', 'name.first', 'name.last', 'name.full', 'mobile', 'phone', 'gender', 'birthdate', 'country'].join(',')
			}
		}).then(function (data) {
			return callback(null, set(context, 'customer', data));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToCheckout = $(this).find('.thunder--back-to-checkout');
		var $changeCredential = $(this).find('[data-change-credential]');
		var $avatarForm = $(this).find('.thunder--customer-avatar-form');
		var $avatar = $avatarForm.find('.thunder--customer-avatar');
		var $updateForm = $(this).find('.thunder--customer-update-form');
		var $button = $updateForm.find('.thunder--update-customer');
		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		var fields = [].concat(_toConsumableArray(context.fields), _toConsumableArray(context.birthdateFields)).filter(function (_ref) {
			var key = _ref.key;
			return key !== 'birthdate';
		}).map(function (_ref2) {
			var key = _ref2.key;
			return {
				key: key,
				$input: $updateForm.find('[name="' + key + '"]')
			};
		});

		customerToForm(context.customer);

		Thunder.util.imageUploader($avatarForm, function (image) {
			return Thunder.request({
				method: 'PUT',
				url: '/v1/me',
				data: { avatar: image._id }
			}).then(function () {
				$avatar.attr('src', Thunder.util.imageURL(image, 120, 120));
				return Thunder.notify('success', context.m('avatarUploadSuccess'));
			}, function (err) {
				return Thunder.notify('error', context.m('avatarUploadFailed'));
			});
		}, function () {
			return Thunder.notify('error', context.m('avatarUploadFailed'));
		});

		Thunder.util.bindBackButton($backToCheckout, context);

		$changeCredential.on('click', function () {

			Thunder.execute(context.options.onChangeCredential, $container, context, $(this).data('changeCredential'));
		});

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateCustomer,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('updateFailed'),

					validation: function validation(err) {
						var _err$validation$sourc = err.validation.source.split('.'),
						    _err$validation$sourc2 = _toArray(_err$validation$sourc),
						    path = _err$validation$sourc2.slice(1);

						var field = path.join('.');

						return context.m(camelCase(['invalid', translationKey[field] || field]));
					}
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me',
					data: formToCustomer()
				}).then(function (customer) {

					customerToForm(customer);

					Thunder.execute(context.options.onUpdate, $container, context, customer);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			}
		});

		function normalizeBirthdate(data) {

			var birthFields = ['birthYear', 'birthMonth', 'birthDate'];

			if (birthFields.every(function (field) {
				return data[field];
			})) {

				data.birthdate = new Date(data.birthYear, data.birthMonth - 1, data.birthDate);
			} else {
				data.birthdate = null;
			}

			birthFields.forEach(function (field) {
				return delete data[field];
			});

			return data;
		}

		function formToCustomer() {

			return normalizeBirthdate(Thunder.util.formToJSON($updateForm.serializeArray()));
		}

		function customerToForm(customer) {

			var birthdate = customer.birthdate ? new Date(customer.birthdate.raw || customer.birthdate) : null;

			delete customer.birthdate;

			if (birthdate) {
				$.extend(customer, {
					birthYear: birthdate.getFullYear(),
					birthMonth: birthdate.getMonth() + 1,
					birthDate: birthdate.getDate()
				});
			}

			fields.forEach(function (_ref3) {
				var key = _ref3.key,
				    $input = _ref3.$input;


				$input.val(get(customer, key) || null);
			});
		}

		function validateCustomer() {

			var customer = formToCustomer();

			var requiredFields = context.fields.filter(function (field) {
				return field.required;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var _ref4 = _step.value;
					var key = _ref4.key;
					var _translationKey = _ref4.translationKey;


					if (!get(customer, key, null)) {
						Thunder.notify('error', context.m(_translationKey + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return true;
		}
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],41:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-verification'
	};

	implementation.options = function () {
		return {
			customer: 'customer',
			secret: 'secret',
			input: 'query', // 'query' or 'attribute'
			expiresIn: 60 * 60 * 24, // 24 hours

			onEmailRequest: function onEmailRequest($container, context) {

				Thunder.notify('success', context.m('requestEmailSuccess'));
			},
			onVerification: function onVerification($container, context) {

				Thunder.notify('success', context.m('verificationSuccess'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.input === 'query') {

			var query = Thunder.util.urlQuery();
			var customerField = context.options.customer;
			var secretField = context.options.secret;

			if (query[customerField] && query[secretField]) {

				context.customer = query[customerField];
				context.secret = query[secretField];
			}
		}

		if (context.options.input === 'attribute') {

			context.customer = context.options.customer;
			context.secret = context.options.secret;
		}

		context.type = context.customer && context.secret ? 'verification' : 'request-email';

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--reset-password-form');

		if (context.type === 'request-email') {

			var $requestEmail = $form.find('.thunder--request-email');
			var requestEmailSpinner = Thunder.util.makeAsyncButton($requestEmail);

			Thunder.util.makeRecaptcha(implementation.name, $requestEmail, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray())), {
					expiresIn: context.options.expiresIn,
					scope: 'verification'
				});

				var resetState = function resetState() {
					requestEmailSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'not-existing-customer': context.m('notExistingCustomer'),
					'email-required': context.m('customerWithoutEmail'),
					default: context.m('requestEmailFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/verifications/emails',
					data: data
				}).then(function () {

					Thunder.execute(context.options.onEmailRequest, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}

		if (context.type === 'verification') {

			var $finishVerification = $form.find('.thunder--finish-verification');
			var finishVerificationSpinner = Thunder.util.makeAsyncButton($finishVerification);

			Thunder.util.makeRecaptcha(implementation.name, $finishVerification, function (token, resetRecaptcha) {

				var data = {
					secret: context.secret
				};

				var resetState = function resetState() {
					finishVerificationSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('verificationFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/' + context.customer + '/verified',
					data: data,
					recaptcha: token
				}).then(function () {

					Thunder.execute(context.options.onVerification, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}
	};

	return implementation;
};

},{}],42:[function(require,module,exports){
'use strict';

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'order-detail'
	};

	implementation.options = function () {
		return {
			order: '', // Order ID to render
			updateTransactions: true, // Update transactions before getting an order
			customerFields: Thunder.options.customerOrderFields.map(function (field) {
				return field.split(':')[0];
			}),
			recipientFields: Thunder.options.recipientFields.map(function (field) {
				return field.split(':')[0];
			}),

			onRequestRefund: function onRequestRefund($container, context, order) {
				return Thunder.render($container, 'order-request-refund', {
					order: order._id,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {
		var order = context.options.order;


		context.couponDetail = function (coupon) {
			return coupon ? context.m('discountedBy', { value: coupon.discount.value.converted }) : '';
		};

		context.fulfillmentTracker = function (_ref) {
			var tracking = _ref.tracking;


			var message = [tracking.company, tracking.uid ? '(' + tracking.uid + ')' : null].filter(function (v) {
				return v;
			}).join(' ');

			return tracking.url ? '<a href="' + tracking.url + '">' + (message || context.m('viewTracker')) + '</a>' : '<span>' + message + '</span>';
		};

		context.refundTotalDetail = function (total) {
			return [typeof total.items.price.withTax.raw === 'number' ? context.m('refundItemTotal', { total: total.items.price.withTax.converted }) : null, typeof total.shipping.fee.withTax.raw === 'number' ? context.m('refundShippingTotal', { total: total.shipping.fee.withTax.converted }) : null].filter(function (v) {
				return v;
			}).join(' + ');
		};

		context.calculateExpiresAt = function (order, item) {
			var _item$download$policy = item.download.policy.expires,
			    type = _item$download$policy.type,
			    value = _item$download$policy.value;


			if (!type) return null;

			return type === 'at' ? new Date(value.raw) : Thunder.util.addTime(order.createdAt.raw, type, value.raw);
		};

		context.toDateValues = function (date) {
			return {
				year: date.getFullYear().toString(),
				month: (date.getMonth() + 1).toString(),
				date: date.getDate().toString(),
				hours: date.getHours().toString()
			};
		};

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.customerFields = Thunder.util.parseArrayString(context.options.customerFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['customer', translationKeys[key] || key])
			};
		});

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['address', translationKeys[key] || key])
			};
		});

		context.undownloadableStatuses = {
			placed: true,
			cancelled: true,
			'under-paid': true
		};

		return context.options.updateTransactions ?
		// Since we are trying to make the order up-to-date with the best effort,
		// proceed following processes even if `updateTransactions` execution fails.
		updateTransactions().then(function () {
			return fetchOrder().then(function (order) {
				return success(order);
			});
		}, function () {
			return fetchOrder().then(function (order) {
				return success(order);
			});
		}) : fetchOrder().then(function (order) {
			return success(order);
		});

		function success(order) {

			// Make `updateTransactions` option as `true`,
			// event if it was passed as `false`.
			context.options.updateTransactions = true;

			var findDiscount = function findDiscount(type) {
				return function (discount) {
					return discount.coupon && discount.coupon.type === type;
				};
			};
			var findCartDiscount = findDiscount('cart');
			var findProductDiscount = findDiscount('product');

			var allItems = order.items.reduce(function (items, item) {
				return items.concat(item, item.bundleItems || []);
			}, []);
			var itemsAndShipments = [].concat(allItems, order.shipments);

			allItems.forEach(function (item) {
				// 환불 여부 플래그
				item.refunded = Thunder.util.checkItemRefunded(order, item._id);

				// 다운로드 가능 여부 플래그
				item.downloadable = item.type === 'downloadable' && // 다운로드 상품이면서
				!item.refunded && ( // 환불되지 않았고

				// 다운로드 가능 횟수 제한이 없거나, 제한량을 넘기지 않았고
				!item.download.policy.count || item.download.downloaded.raw < item.download.policy.count.raw) && (
				// 만료 날짜 제한이 없거나, 만료일이 지나지 않은 상품
				!item.download.policy.expires.type || context.calculateExpiresAt(order, item).valueOf() > Date.now());
			});

			itemsAndShipments.forEach(function (item) {

				item.appliedCoupon = (item.discounts.find(findProductDiscount) || { coupon: null }).coupon;
			});

			order.shippingStatus = Thunder.util.orderShippingStatus(order);

			order.appliedCoupon = ((itemsAndShipments.find(function (item) {
				return item.discounts.find(findCartDiscount);
			}) || { discounts: [] }).discounts.find(findCartDiscount) || { coupon: null }).coupon;

			order.hasTangibleItem = allItems.some(function (item) {
				return item.type === 'tangible';
			});

			context.order = order;
			context.vbanks = order.transactions.reduce(function (vbanks, transaction) {
				return vbanks.concat(transaction.vbanks || []);
			}, []).filter(function (vbank) {
				// Filter out expired virtual bank details
				return !Thunder.util.isExpired(vbank.expiresAt.raw);
			});

			// Set payment details.
			var thunderPaymentMethodMap = (Thunder.options.paymentMethods.order || []).reduce(function (o, p) {
				return set(o, p.id, p);
			}, {});

			// Filter viable payment methods where..
			var paymentMethods = order.transactions.map(function (_ref2) {
				var paymentMethod = _ref2.paymentMethod,
				    vbanks = _ref2.vbanks;


				var thunderPaymentMethod = thunderPaymentMethodMap[paymentMethod._id] || thunderPaymentMethodMap[paymentMethod.slug];

				var shouldDisplay =
				// the payment method is configured for Thunder and..
				thunderPaymentMethod &&
				// the payment (by the method) is not for later
				!thunderPaymentMethod.payLater && (!vbanks.length || // the payment method is not for virtual banks
				vbanks.some(function (vbank) {
					// or one or more virtual banks are expired
					return Thunder.util.isExpired(vbank.expiresAt.raw);
				}));

				return shouldDisplay ? thunderPaymentMethod : null;
			}).filter(function (v) {
				return v;
			});

			// Should display a payment form when,
			// - The order's status is 'placed'
			// - One or more viable payment methods exist
			var shouldPay = order.status === 'placed' && paymentMethods.length;

			context.paymentMethods = paymentMethods;
			context.shouldPay = shouldPay;

			return callback(null, context);
		}

		function updateTransactions() {

			return Thunder.request({
				method: 'PUT',
				url: '/v1/me/orders/' + order + '/transactions'
			});
		}

		function fetchOrder() {

			var errors = {
				default: context.m('orderReadFailed')
			};

			return Thunder.request({
				method: 'GET',
				url: '/v1/me/orders/' + order
			}).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
			});
		}
	};

	implementation.init = function (context) {
		var order = context.order,
		    paymentMethods = context.paymentMethods,
		    shouldPay = context.shouldPay;


		var $container = $(this);
		var $backToOrders = $(this).find('.thunder--back-to-orders');
		var $subscriptionid = $(this).find('.thunder--subscription-id a');
		var $markAsReceived = $(this).find('.thunder--mark-order-as-received');
		var $markAsNotReceived = $(this).find('.thunder--mark-order-as-not-received');
		var $cancelOrder = $(this).find('.thunder--cancel-order');
		var $cancellationForm = $(this).find('.thunder--order-cancellation-form');
		var $cancellationReason = $cancellationForm.find('textarea');
		var $cancelButton = $cancellationForm.find('button');
		var $requestRefund = $(this).find('.thunder--request-refund');
		var $downloadButton = $(this).find('.thunder--download-button');

		var cancelButtonSpinner = Thunder.util.makeAsyncButton($cancelButton);

		$downloadButton.on('click', getDownloadLink);
		$subscriptionid.on('click', viewSubscription);
		$markAsReceived.on('click', markAsReceived);
		$markAsNotReceived.on('click', markAsNotReceived);
		$cancelOrder.on('click', startCancellation);
		$cancelButton.on('click', cancelOrder);
		$requestRefund.on('click', requestRefund);
		$(this).on('click', '.thunder--cancel-refund', startRefundCancellation);
		$(this).on('click', '.thunder--refund-cancellation-form button', cancelRefund);

		Thunder.util.bindBackButton($backToOrders, context);

		// Render a payment form if it's needed.
		if (shouldPay) {

			var $paymentFormContainer = $(this).find('.thunder--payment-form-container');
			var $makePayment = $(this).find('.thunder--make-payment');
			var makePaymentSpinner = Thunder.util.makeAsyncButton($makePayment, { bind: false });

			Thunder.render($paymentFormContainer, 'payment-form', {
				type: 'order',
				paymentMethods: paymentMethods.map(function (p) {
					return p.id;
				})
			}, function (err, _ref3) {
				var paymentHandler = _ref3.interfaces;
				return $makePayment.on('click', function () {

					var validationError = paymentHandler.validate();

					if (validationError) {
						return Thunder.notify('error', validationError.message);
					}

					makePaymentSpinner.run();

					return paymentHandler.makePayment({
						cart: order,
						order: order,
						customer: order.customer
					}, function (err) {

						if (err) {
							Thunder.notify('error', context.m('paymentFailed'));
							return makePaymentSpinner.done();
						}

						Thunder.notify('success', context.m('paymentSuccess'));
						makePaymentSpinner.done();
						return Thunder.render($container, implementation.name, $.extend(context.options, {
							updateTransactions: true
						}));
					});
				});
			});
		}

		function getDownloadLink() {

			var $item = $(this).parents('[data-item]').eq(0);
			var itemId = $item.data('bundleItem') || $item.data('item');
			var orderId = context.order._id;

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + orderId + '/items/' + itemId + '/download/url'
			}).then(function (res) {
				if (!res.url) return;

				var $countView = $item.find('.thunder--download-count-view').eq(0);

				if ($countView.length) {
					$countView.data('current', $countView.data('current') + 1);
					$countView.text(context.m('nTimesDownloaded', $countView.data()));
				}

				window.open(res.url);
			}, function (err) {
				if (err.responseJSON.errorCode === 'fully-used-item') {
					return Thunder.notify('error', context.m('fullyUsedDownloadable'));
				}
				if (err.responseJSON.errorCode === 'expired-item') {
					return Thunder.notify('error', context.m('expiredDownloadable'));
				}
				if (err.responseJSON.errorCode === 'refunded-item') {
					return Thunder.notify('error', context.m('refundedItem'));
				}
			});
		}

		function viewSubscription() {

			return Thunder.render($container, 'subscription-detail', {
				subscription: order.subscription._id,
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		}

		function markAsReceived() {

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('markAsReceivedFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + order._id + '/received'
			}).then(function () {

				Thunder.notify('success', context.m('markAsReceivedSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function markAsNotReceived() {

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('markAsNotReceivedFailed')
			};

			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/orders/' + order._id + '/received'
			}).then(function () {

				Thunder.notify('success', context.m('markAsNotReceivedSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function startCancellation() {
			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
			$cancellationReason.focus();
		}

		function cancelOrder(event) {

			event.preventDefault();

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('cancellationFailed')
			};

			var resetState = function resetState() {
				cancelButtonSpinner.done();
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + order._id + '/cancellation',
				data: data
			}).then(function () {

				resetState();

				Thunder.notify('success', context.m('cancellationSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
			});
		}

		function requestRefund() {
			Thunder.execute(context.options.onRequestRefund, $container, context, order);
		}

		function startRefundCancellation(event) {

			event.preventDefault();

			var $refund = $(this).parents('[data-refund]');
			var $cancellationForm = $refund.find('.thunder--refund-cancellation-form');

			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
		}

		function cancelRefund(event) {

			event.preventDefault();

			var $refund = $(this).parents('[data-refund]');
			var $cancellationForm = $refund.find('.thunder--refund-cancellation-form');
			var refundId = $refund.data('refund');

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			return cancel().then(function () {
				Thunder.notify('success', context.m('refundCancellationSuccess'));
				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			});

			function cancel() {

				var errors = {
					'invalid-refund-status': context.m('invalidRefundStatus'),
					default: context.m('refundCancellationFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/orders/' + order._id + '/refunds/' + refundId + '/cancellation',
					data: data
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}
		}
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.set":345}],43:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'order-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of orders?
			limit: 10, // How many orders at once?
			usePagination: true, // Use pagination?
			onViewOrder: function onViewOrder($container, context, orderId) {

				return Thunder.render($container, 'order-detail', {
					order: orderId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('orderListFailed')
		};

		return $.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/orders',
			query: {
				page: context.options.page,
				limit: context.options.limit,
				sort: '-createdAt',
				fields: ['subscription', 'status', 'items.type', 'items.product', 'items.bundleItems.type', 'fulfillments.status', 'total.price.withTax', 'cancellation', 'receivedAt', 'createdAt'].join(',')
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/orders/count',
			query: {
				raw: true
			}
		}) : null).then(function (orders, count) {

			context.orders = (orders[0] || []).map(function (order) {
				order.shippingStatus = Thunder.util.orderShippingStatus(order);
				return order;
			});

			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $order = $(this).find('[data-order]');
		var $pagination = $(this).find('.thunder--order-list-pagination');

		$order.on('click', ['.thunder--order-id', '.thunder--order-thumbnail', '.thunder--order-first-item', '.thunder--order-rest-items'].join(','), function (event) {
			return Thunder.execute(context.options.onViewOrder, $container, context, $(event.delegateTarget).data('order'));
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],44:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var set = require('lodash.set');

module.exports = function (Thunder) {

	var implementation = {
		name: 'order-request-refund'
	};

	implementation.options = function () {
		return {
			order: '', // Order ID to refund
			reasonCategories: Thunder.options.refundReasonCategories,

			onRequestRefundSuccess: function onRequestRefundSuccess($container, context, refund) {

				Thunder.notify('success', context.m('requestRefundSuccess'));

				var back = context.options.back;

				if (!back) return;

				return Thunder.render(back.$container, back.component, back.options);
			}
		};
	};

	implementation.pre = function (context, callback) {

		var order = null;

		return fetchOrder(context.options.order).then(function (o) {
			order = o;
			return fetchCurrency(order.currency.payment.code);
		}).then(function (_ref) {
			var _ref2 = _slicedToArray(_ref, 1),
			    currency = _ref2[0];

			return success(order, currency);
		});

		function success(order, currency) {

			context.currency = $.extend(currency, {
				// Override precision with a snapshot version
				precision: order.currency.payment.precision
			});

			var refundsInProcess = order.refunds.filter(function (_ref3) {
				var status = _ref3.status;
				return status !== 'cancelled';
			});

			// { [itemId]: shipment, ... }
			var itemToShipmentMap = order.shipments.reduce(function (o, shipment) {

				return shipment.items.reduce(function (o, item) {

					return set(o, item._id, shipment);
				}, o);
			}, {});

			// { [itemId]: quantity, ... }
			var refundedItemQuantityMap = refundsInProcess.reduce(function (o, refund) {

				return refund.items.reduce(function (o, _ref4) {
					var item = _ref4.item,
					    quantity = _ref4.quantity;

					o[item._id] = o[item._id] || 0;
					o[item._id] += quantity.raw;
					return o;
				}, o);
			}, {});

			// { [shipmentId]: amount, ... }
			var refundedShipmentAmountMap = refundsInProcess.reduce(function (o, refund) {

				return refund.shipments.reduce(function (o, _ref5) {
					var shipment = _ref5.shipment,
					    fee = _ref5.fee;

					o[shipment._id] = o[shipment._id] || 0;
					o[shipment._id] = Thunder.util.toPrecision(o[shipment._id] + fee.withTax.raw, context.currency.precision);
					return o;
				}, o);
			}, {});

			order.items.forEach(function (item) {
				return [].concat(item, item.bundleItems || []).forEach(function (item) {

					var shipment = itemToShipmentMap[item._id];
					var refundedItemQuantity = refundedItemQuantityMap[item._id] || 0;

					item.shipment = shipment;
					item.refundableQuantity = item.quantity.raw - refundedItemQuantity;
				});
			});

			order.shipments.forEach(function (shipment) {

				var refundedShipmentAmount = refundedShipmentAmountMap[shipment._id] || 0;

				shipment.refundableFee = Thunder.util.toPrecision(shipment.fee.withTax.raw - refundedShipmentAmount, context.currency.precision);
			});

			order.hasRefundableItem = order.items.some(function (item) {
				return [].concat(item, item.bundleItems || []).some(function (item) {
					return item.refundableQuantity > 0;
				});
			});

			return callback(null, set(context, 'order', order));
		}

		function fetchOrder(order) {

			var errors = {
				default: context.m('orderReadFailed')
			};

			return Thunder.request({
				method: 'GET',
				url: '/v1/me/orders/' + order,
				fields: ['items', 'shipments', 'refunds', 'transactions', 'total'].join(',')
			}).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
			});
		}

		function fetchCurrency(code) {

			var errors = {
				default: context.m('currencyReadFailed')
			};

			return Thunder.request({
				method: 'GET',
				url: '/v1/currencies',
				query: { code: code }
			}).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
			});
		}
	};

	implementation.init = function (context) {
		var order = context.order,
		    currency = context.currency;


		var categoryMap = context.options.reasonCategories.reduce(function (o, category) {
			return set(o, category.label, category);
		}, {});

		var itemMap = order.items.reduce(function (o, item) {
			return [].concat(item, item.bundleItems || []).reduce(function (o, item) {
				return set(o, item._id, item);
			}, o);
		}, {});

		var shipmentMap = order.shipments.reduce(function (o, shipment) {
			return set(o, shipment._id, shipment);
		}, {});

		var shipmentItemQuantityMap = order.shipments.reduce(function (o, shipment) {
			return shipment.items.reduce(function (o, item) {
				return set(o, [shipment._id, item._id], item.quantity.raw);
			}, o);
		}, {});

		var $container = $(this);
		var $backToOrder = $(this).find('.thunder--back-to-order');
		var $cartItems = $(this).find('.thunder--cart-item');
		var $toggleItemSelection = $(this).find('.thunder--toggle-item-selection');
		var $refundQuantity = $(this).find('.thunder--cart-item input[name="refundQuantity"]');
		var $refundCategory = $(this).find('.thunder--refund-category');
		var $refundReason = $(this).find('.thunder--refund-reason');
		var $requiresReason = $(this).find('.thunder--requires-refund-reason');
		var $totalDetail = $(this).find('.thunder--refund-total-detail');
		var $refundItemsTotal = $(this).find('.thunder--refund-items-total td');
		var $refundShippingTotal = $(this).find('.thunder--refund-shipping-total td');
		var $refundTotal = $(this).find('.thunder--refund-total td');
		var $requestRefund = $(this).find('.thunder--request-refund');
		var requestButtonSpinner = Thunder.util.makeAsyncButton($requestRefund, { bind: false });

		$toggleItemSelection.on('click', toggleItemSelection);
		$refundQuantity.on('change', refundQuantityChanged);
		$refundCategory.on('change', updateRefundTotal);

		Thunder.util.bindBackButton($backToOrder, context);

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $requestRefund,
			validate: validateRequest,
			callback: requestRefund
		});

		updateRefundTotal();

		function getOneItemPrice(item) {
			return item.price.withTax.raw / item.quantity.raw;
		}

		function markItemActive($cartItem, active, quantity) {

			var $toggleButton = $cartItem.find('.thunder--toggle-item-selection');
			var $refundQuantity = $cartItem.find('input[name="refundQuantity"]');
			var item = itemMap[$cartItem.data('item')];

			if (active) {
				$cartItem.data('active', true).removeClass('inactive');
				$toggleButton.text(context.m('removeFromRefund'));
				$refundQuantity.val(quantity === undefined ? item.refundableQuantity : quantity);
			} else {
				$cartItem.data('active', false).addClass('inactive');
				$toggleButton.text(context.m('addToRefund'));
				$refundQuantity.val(0);
			}
		}

		function toggleItemSelection(event) {

			event.preventDefault();

			var $cartItem = $(this).parents('.thunder--cart-item');

			markItemActive($cartItem, !$cartItem.data('active'));
			updateRefundTotal();
		}

		function refundQuantityChanged() {

			var $cartItem = $(this).parents('.thunder--cart-item');
			var quantity = parseInt($(this).val());

			markItemActive($cartItem, !!quantity, quantity);
			updateRefundTotal();
		}

		function updateRefundTotal() {

			$cartItems.each(function () {

				var $cartItem = $(this);
				var $refundAmount = $cartItem.find('.thunder--cart-item-refund-amount');
				var item = itemMap[$cartItem.data('item')];
				var quantity = parseInt($cartItem.find('input[name="refundQuantity"]').val());

				var refundAmount = Thunder.util.formatPrice(getOneItemPrice(item) * quantity, currency);

				$refundAmount.text(refundAmount);
			});

			var category = categoryMap[$refundCategory.val()];

			if (!category) {
				$requiresReason.removeClass('hidden');
				$totalDetail.addClass('hidden');
				return;
			}

			var refundItems = getRefundItems();
			var refundShipments = getRefundShipments(category, refundItems);

			var itemsTotal = refundItems.reduce(function (sum, _ref6) {
				var item = _ref6.item,
				    quantity = _ref6.quantity;

				return sum + getOneItemPrice(item) * quantity;
			}, 0);

			var shippingTotal = refundShipments.reduce(function (sum, shipment) {
				return sum + shipment.refundableFee;
			}, 0);

			var total = itemsTotal + shippingTotal;

			$refundItemsTotal.text(Thunder.util.formatPrice(itemsTotal, currency));
			$refundShippingTotal.text(Thunder.util.formatPrice(shippingTotal, currency));
			$refundTotal.text(Thunder.util.formatPrice(total, currency));

			$requiresReason.addClass('hidden');
			$totalDetail.removeClass('hidden');
		}

		function getRefundItems() {

			return $refundQuantity.map(function () {

				return {
					item: itemMap[$(this).parents('[data-item]').data('item')],
					quantity: parseInt($(this).val())
				};
			}).get().filter(function (_ref7) {
				var quantity = _ref7.quantity;
				return quantity;
			});
		}

		function getRefundShipments(category, refundItems) {

			if (!category) {
				return [];
			}

			var shipmentToRefundItems = {};

			refundItems.forEach(function (refundItem) {

				var shipment = refundItem.item.shipment;

				if (!shipment) return;

				shipmentToRefundItems[shipment._id] = (shipmentToRefundItems[shipment._id] || []).concat(refundItem);
			});

			var shipmentIdsToRefund = Object.keys(shipmentToRefundItems);

			return shipmentIdsToRefund.map(function (shipmentId) {

				// Clone first to avoid side effects
				var shipmentItemQuantity = $.extend({}, shipmentItemQuantityMap[shipmentId]);
				var refundItems = shipmentToRefundItems[shipmentId];

				refundItems.forEach(function (_ref8) {
					var item = _ref8.item,
					    quantity = _ref8.quantity;

					shipmentItemQuantity[item._id] -= quantity;
				});

				var areAllItemsRefunded = Object.keys(shipmentItemQuantity).every(function (itemId) {
					return shipmentItemQuantity[itemId] === 0;
				});

				return {
					shipment: shipmentMap[shipmentId],
					shouldRefund: areAllItemsRefunded ? category.shippingFee.allItems : category.shippingFee.someItems
				};
			}).filter(function (_ref9) {
				var shipment = _ref9.shipment,
				    shouldRefund = _ref9.shouldRefund;


				// When the shipment should be refunded
				// and its refundable fee is greater than 0
				return shouldRefund && shipment.refundableFee > 0;
			}).map(function (_ref10) {
				var shipment = _ref10.shipment;
				return shipment;
			});
		}

		function getRequestDetail() {

			var category = categoryMap[$refundCategory.val()];
			var items = getRefundItems();
			var shipments = getRefundShipments(category, items).map(function (s) {
				return s._id;
			});

			items.forEach(function (detail) {
				return detail.item = detail.item._id;
			});

			var reason = {
				category: category ? context.m(category.label) : null,
				body: $refundReason.val()
			};

			return { items: items, shipments: shipments, reason: reason };
		}

		function validateRequest() {
			var _getRequestDetail = getRequestDetail(),
			    items = _getRequestDetail.items,
			    category = _getRequestDetail.reason.category;

			if (!items.length) {
				Thunder.notify('error', context.m('atLeastOneItemRequired'));
				return false;
			}

			if (!category) {
				Thunder.notify('error', context.m('reasonCategoryRequired'));
				return false;
			}

			return true;
		}

		function requestRefund(token, resetRecaptcha) {

			requestButtonSpinner.run();

			var detail = getRequestDetail();

			detail.reason = ('[' + detail.reason.category + '] ' + (detail.reason.body || '')).trim();

			var resetState = function resetState() {
				requestButtonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('requestRefundFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + order._id + '/refunds',
				data: detail,
				recaptcha: token
			}).then(function (refund) {

				resetState();

				Thunder.execute(context.options.onRequestRefundSuccess, $container, context, refund);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
			});
		}
	};

	return implementation;
};

},{"lodash.set":345}],45:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'payment-form'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' or 'subscription'
			paymentMethods: null
		};
	};

	implementation.pre = function (context, callback) {
		var type = context.options.type;


		var paymentMethodFilter = context.options.paymentMethods;
		var defaultPaymentMethods = Thunder.options.paymentMethods[type] || [];

		context.paymentMethods = context.options.paymentMethods ? defaultPaymentMethods.filter(function (paymentMethod) {
			return paymentMethodFilter.some(function (p) {
				return paymentMethod.id === p;
			});
		}) : defaultPaymentMethods;

		return callback(null, context);
	};

	implementation.init = function (context) {

		var owner = {
			person: { label: context.m('cardOwnerBirthdate'), format: 'YYMMDD' },
			company: { label: context.m('cardOwnerCompanyNumber'), format: 'XXXXXXXXXX' }
		};

		var paymentMethodMap = context.paymentMethods.reduce(function (o, p) {
			return set(o, [p.id + '.' + p.label], p);
		}, {});

		var $cardForm = $(this).find('.thunder--payment-card-detail');
		var $paymentMethod = $(this).find('[name="paymentMethod"]');
		var $cardNumber = $(this).find('[name="card.number"]');
		var $isCompanyCard = $(this).find('.thunder--is-company-card input[type="checkbox"]');
		var $cardOwnerLabel = $(this).find('.thunder--card-owner label');
		var $cardOwnerInput = $(this).find('.thunder--card-owner input[type="text"]');

		$paymentMethod.on('change', displayCardForm);
		$cardNumber.on('keyup', normalizeCardNumber);
		$isCompanyCard.on('change', decideCardOwner);

		decideCardOwner();

		function getPaymentMethodId() {
			return $paymentMethod.val() || null;
		}

		function getPaymentMethod() {
			return paymentMethodMap[getPaymentMethodId()] || null;
		}

		function getCard() {

			var paymentMethod = getPaymentMethod();

			if (!paymentMethod || !paymentMethod.cardFields) {
				return null;
			}

			var data = {};

			$cardForm.find('[name]').each(function () {
				set(data, $(this).prop('name'), $(this).val() || null);
			});

			var card = data.card;

			if (card) {
				if (card.number) {
					card.number = card.number.replace(/\s/g, '-');
				}
			}

			return card;
		}

		function validate() {

			var card = getCard();
			var paymentMethod = getPaymentMethod();

			if (!paymentMethod) {

				var code = 'paymentMethodRequired';
				var err = new Error(context.m(code));

				err.code = code;

				return err;
			}

			if (!paymentMethod.cardFields) {
				return null;
			}

			// Validate if the payment method requires manual card inputs

			var fields = $cardForm.find('[name]').map(function () {
				return $(this).prop('name');
			}).get();

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var field = _step.value;


					var value = get(card, field.replace('card.', ''));

					if (value) continue;

					var _code = camelCase([field, 'required']);
					var _err = new Error(context.m(_code));

					_err.code = _code;

					return _err;
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return null;
		}

		function normalizeCardNumber() {

			var value = ($(this).val() || '').replace(/[^\d]/g, '');

			var normalized = [0, 1, 2, 3].reduce(function (numbers, i) {

				return numbers.concat(value.slice(i * 4, (i + 1) * 4));
			}, []);

			$(this).val(normalized.filter(function (v) {
				return v;
			}).join(' '));
		}

		function decideCardOwner() {

			var isCompanyCard = $isCompanyCard.is(':checked');

			var _ref = isCompanyCard ? owner.company : owner.person,
			    label = _ref.label,
			    format = _ref.format;

			$cardOwnerLabel.text(label);
			$cardOwnerInput.prop('placeholder', format);

			// Reset card owner input's value
			$cardOwnerInput.val('');
		}

		function resetCard() {

			// Reset all input values
			$cardForm.find('input').each(function () {

				return $(this).is('[type="checkbox"]') ? $(this).prop('checked', false) : $(this).val('');
			});

			decideCardOwner();
		}

		function displayCardForm() {

			// Reset all input values
			resetCard();

			var paymentMethod = getPaymentMethod();

			return paymentMethod.cardFields ? $cardForm.show() : $cardForm.hide();
		}

		function makePayment(_ref2, callback) {
			var cart = _ref2.cart,
			    order = _ref2.order,
			    subscription = _ref2.subscription,
			    customer = _ref2.customer;


			var paymentMethod = getPaymentMethod();

			if (!paymentMethod) {
				return callback(new Error(context.m('paymentMethodRequired')));
			}

			if (paymentMethod.payLater) {
				// If a payment is to be made after all checkout processes,
				// simply finish checkout processes.
				return callback();
			}

			return Thunder.plugins.makePayment({
				paymentMethod: paymentMethod,
				cart: cart,
				order: order,
				subscription: subscription,
				customer: customer
			}, function (err) {
				return callback(err);
			});
		}

		// Return interfaces
		return {
			getPaymentMethodId: getPaymentMethodId,
			getPaymentMethod: getPaymentMethod,
			getCard: getCard,
			resetCard: resetCard,
			validate: validate,
			makePayment: makePayment
		};
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],46:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var set = require('lodash.set');
var productCatalog = require('./lib/productCatalog.js');

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-detail'
	};

	implementation.options = function () {
		return {
			product: '', // Product ID to render
			productActions: Thunder.options.productActions, // ['add-to-cart', 'buy-now'],
			optionSelector: Thunder.options.productOptionSelector, // 'combined' || 'separated'
			descriptionStyle: 'detailed', // 'simple' || 'detailed'
			useFollowingNav: true, // Use following navigation?
			useReviews: Thunder.options.productReview, // Use reviews?
			useRating: // Use review rating?
			Thunder.options.productReview && Thunder.options.productReviewRating,

			onBuyNow: function onBuyNow($container, context, item) {
				return Thunder.render($container, 'cart', { items: [item._id] });
			},
			onItemAdd: function onItemAdd($container, context) {
				return Thunder.notify('success', context.m('itemAddSuccess'));
			},
			onGoToCart: function onGoToCart($container, context) {
				return Thunder.render($container, 'cart');
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.options.productActions = Thunder.util.parseArrayString(context.options.productActions);

		var product = context.options.product;


		context.isUnavailableProduct = function (product) {

			return (
				// A product is unavailable
				!product.available || product.variants && ( // While a product has variants array

				// A product doesn't have any variants
				!product.variants.length ||
				// All variants are unavailable
				product.variants.every(function (v) {
					return !v.available;
				})) ||
				// A tangible product doesn't support any shipping methods
				product.type === 'tangible' && product.shipping.methods.length === 0
			);
		};

		context.isSoldOutProduct = function (product) {
			return product.variants.every(function (v) {
				return v.quantity && v.quantity.raw === 0;
			});
		};

		context.isUnavailableVariant = function (product, variant) {

			if (context.isUnavailableProduct(product) || !variant.available) {
				return 'notAvailableVariant';
			}

			if (variant.quantity && variant.quantity.raw === 0) {
				return 'soldOutVariant';
			}
		};

		context.showOptionSelector = function () {
			return context.options.optionSelector === 'separated' && context.product.options.length >= 2 && context.product.variants.length >= 2;
		};

		var errors = {
			'not-existing-product': context.m('notExistingProduct'),
			default: context.m('productReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/products/' + product,
			query: {
				embed: '+bundles.items.product.shipping'
			}
		}).then(function (product, textStatus, jqXHR) {

			return Thunder.util.getCurrency(jqXHR.getResponseHeader('content-currency')).then(function (currency) {

				context.currency = currency;
				context.product = moveUnavailablesToEnd(product);

				return callback(null, context);
			});

			function moveUnavailablesToEnd(product) {

				var okVariants = [];
				var notOkVariants = [];

				product.variants.forEach(function (variant) {
					return context.isUnavailableVariant(product, variant) ? notOkVariants.push(variant) : okVariants.push(variant);
				});

				product.variants = [].concat(okVariants, notOkVariants);

				product.bundles.forEach(function (bundle) {

					var okItems = [];
					var notOkItems = [];

					bundle.items.forEach(function (item) {
						return context.isUnavailableVariant(item.product, item.variant) ? notOkItems.push(item) : okItems.push(item);
					});

					bundle.items = [].concat(okItems, notOkItems);
				});

				return product;
			}
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.bind = function (context) {

		var $container = $(this);
		var $followingNav = $(this).find('.thunder--following-nav-container');

		Thunder.util.followingNavigation($followingNav, context.options.useFollowingNav, [{
			name: context.m('productInfo'),
			$el: $container.find('.thunder--product-detail')
		}, context.options.useReviews ? {
			name: [context.m('productReviews'), '<span class="thunder--product-total-comments">(' + context.product.totalReview.converted + ')</span>'].join(' '),
			$el: $container.find('.thunder--product-reviews-wrapper')
		} : null].filter(function (v) {
			return v;
		}));
	};

	implementation.init = function (context) {

		var product = context.product;

		var variantMap = [].concat(context.product.variants, context.product.bundles.reduce(function (variants, bundle) {
			return bundle.items.reduce(function (variants, item) {
				return variants.concat(item.variant);
			}, variants);
		}, [])).reduce(function (o, variant) {
			return set(o, variant._id, variant);
		}, {});

		var bundleProductMap = context.product.bundles.reduce(function (o, bundle) {
			return bundle.items.reduce(function (o, item) {
				return set(o, item.product._id, item.product);
			}, o);
		}, {});

		var variantToBundleMap = context.product.bundles.reduce(function (o, bundle) {
			return bundle.items.reduce(function (o, item) {
				return set(o, item.variant._id, bundle);
			}, o);
		}, {});

		var $container = $(this);
		var $optionSelect = $(this).find('.thunder--product-option-wrap select');
		var $variantSelector = $(this).find('.thunder--product-info .thunder--product-option .thunder--product-variant select');
		var $shippingMethodSelector = $(this).find('.thunder--shipping-method select');
		var $itemQuantityInput = $(this).find('.thunder--item-quantity input');
		var $bundleItems = $(this).find('.thunder--product-bundle-item');
		var $bundleItemSelectors = $bundleItems.find('select');
		var $totalWrap = $(this).find('.thunder--price-total-wrap');
		var $totalValue = $(this).find('.thunder--price-total-value');
		var $addToCart = $(this).find('.thunder--add-to-cart');
		var $buyNow = $(this).find('.thunder--buy-now');
		var $goToCart = $(this).find('.thunder--go-to-cart');

		var variationToVariants = context.product.variants.reduce(function (o, v) {

			var key = v.types.map(function (type) {
				return type.variation._id;
			}).sort().join('.');

			return set(o, [key], v._id);
		}, {});

		var addToCartSpinner = Thunder.util.makeAsyncButton($addToCart);

		productCatalog($container);

		$bundleItemSelectors.on('change', function () {

			var value = $(this).val();
			var $quantity = $(this).closest('.thunder--product-bundle-item').find('input[type="number"]');

			$quantity.val(value ? 1 : 0);
		});

		var calculatePrice = function calculatePrice() {

			var item = buildItemData();

			if (!item || !item.variant || !item.quantity) {
				return $totalWrap.hide();
			}

			var price = [].concat(item, item.bundleItems || []).map(function (item) {

				var variant = variantMap[item.variant];
				var quantity = item.quantity;

				return variant && quantity ? variant.price.sale.raw * quantity : 0;
			}).reduce(function (sum, price) {
				return sum + price;
			}, 0);

			$totalValue.text(Thunder.util.formatPrice(price, context.currency));

			return price ? $totalWrap.fadeIn(400) : $totalWrap.hide();
		};

		$variantSelector.on('change', function () {

			var variant = variantMap[$(this).val()];

			if (!variant) return;

			variant.types.forEach(function (_ref) {
				var option = _ref.option,
				    variation = _ref.variation;

				$optionSelect.filter('[name="' + option._id + '"]').val(variation._id);
			});
		});

		// 옵션 선택 이벤트 ('separated')
		$optionSelect.on('change', function () {

			var variations = $optionSelect.map(function () {
				return $(this).val();
			}).get().sort();

			var key = variations.join('.');

			var value = variationToVariants[key] || null;

			if (!value && variations.length === $optionSelect.length) {
				$totalWrap.hide();
				$totalValue.text('');
				Thunder.notify('error', context.m('notExistingVariant'));
			}

			return $variantSelector.val() === value ? null : $variantSelector.val(value);
		});

		$container.find('input,select').on('change', calculatePrice);

		$addToCart.on('click', function () {
			return addToCart();
		});

		$buyNow.on('click', function () {
			return addToCart(function (item) {
				return Thunder.execute(context.options.onBuyNow, $container, context, item);
			});
		});

		$goToCart.on('click', function () {
			return Thunder.execute(context.options.onGoToCart, $container, context);
		});

		if (context.options.useReviews) {

			var $reviewsContainer = $(this).find('.thunder--product-reviews-wrapper');

			Thunder.render($reviewsContainer, 'product-reviews', {
				product: context.product._id,
				productRating: context.options.useRating ? product.rating : null,
				useRating: context.options.useRating
			});
		}

		function clearAllOptions() {
			$totalWrap.hide();
			$totalValue.text('');
			$container.find('.thunder--product-option select').val('');
			$container.find('.thunder--product-option input[type="number"]').val(1);
			$container.find('.thunder--product-bundles select').val('');
			$container.find('.thunder--product-bundles input[type="number"]').val(0);
		}

		function addToCart(success) {
			var item = buildItemData();

			success = success || function () {

				$goToCart.show();

				Thunder.execute(context.options.onItemAdd, $container, context);
			};

			if (!validateItemData(item)) {
				return addToCartSpinner.done();
			}

			var errors = {
				'items-exceeded': context.m('itemsExceeded'),
				default: context.m('itemAddFailed')
			};

			if (Thunder.authenticated()) {

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/cart/items',
					data: item
				}).then(function (item) {
					addToCartSpinner.done();
					clearAllOptions();
					return success(item);
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return addToCartSpinner.done();
					});
				});
			} else {

				Thunder.Cart.addItem(item, function (err) {

					if (err) {
						addToCartSpinner.done();
						return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
					}

					addToCartSpinner.done();
					clearAllOptions();
					return success(item);
				});
			}
		}

		function validateItemData(itemData) {
			if (!itemData.variant) {
				Thunder.notify('error', context.m('variantRequired'));
				return false;
			}

			if (!validateQuantity(product.name, itemData)) {
				return false;
			}

			var selectedBundles = [];

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = (itemData.bundleItems || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var item = _step.value;


					var bundle = variantToBundleMap[item.variant];

					selectedBundles.push(bundle);

					if (!validateQuantity(bundle.name, item)) {
						return false;
					}

					if (bundle.required && item.quantity !== itemData.quantity) {
						Thunder.notify('error', context.m('invalidRequiredBundleItemQuantity', { bundle: bundle.name }));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			var requiredBundles = product.bundles.filter(function (b) {
				return b.required;
			});

			var _iteratorNormalCompletion2 = true;
			var _didIteratorError2 = false;
			var _iteratorError2 = undefined;

			try {
				for (var _iterator2 = requiredBundles[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
					var bundle = _step2.value;


					if (selectedBundles.indexOf(bundle) === -1) {
						Thunder.notify('error', context.m('requiredBundleItemRequired', { bundle: bundle.name }));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError2 = true;
				_iteratorError2 = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion2 && _iterator2.return) {
						_iterator2.return();
					}
				} finally {
					if (_didIteratorError2) {
						throw _iteratorError2;
					}
				}
			}

			return true;

			function validateQuantity(scope, item) {

				if (!item.quantity) {
					Thunder.notify('error', context.m('itemQuantityRequired', { scope: scope }));
					return false;
				}

				var variant = variantMap[item.variant];

				if (variant.quantity && variant.quantity.raw < item.quantity) {
					Thunder.notify('error', context.m('exceededItemQuantity', { scope: scope }));
					return false;
				}

				return true;
			}
		}

		function buildItemData() {

			var shippingMethod = $shippingMethodSelector.val();
			var bundleItems = [];

			$bundleItems.each(function () {
				var _split = ($(this).find('select').val() || '').split('.'),
				    _split2 = _slicedToArray(_split, 2),
				    product = _split2[0],
				    variant = _split2[1];

				var bundleItemQuantity = $(this).find('input[type="number"]').val() || 0;

				if (!product || !variant) return;

				bundleItems.push({
					product: product,
					variant: variant,
					shippingMethod: bundleProductMap[product].type === 'tangible' ? shippingMethod : null,
					quantity: bundleItemQuantity ? parseInt(bundleItemQuantity) : null
				});
			});

			var itemQuantity = $itemQuantityInput.val() || 0;
			var variant = $variantSelector.val() || (product.variants.length === 1 ? product.variants[0]._id : null) || null;

			return {
				product: product._id,
				variant: variant,
				shippingMethod: shippingMethod,
				quantity: itemQuantity ? parseInt(itemQuantity) : null,
				bundleItems: bundleItems
			};
		}
	};
	return implementation;
};

},{"./lib/productCatalog.js":47,"lodash.set":345}],47:[function(require,module,exports){
'use strict';

module.exports = function ($container) {

	var catalogMap = {};

	var $details = $container.find('.thunder--product-catalog-detail');
	var $thumbnails = $container.find('.thunder--product-catalog-thumbnails img');

	$details.each(function () {
		catalogMap[getImageId($(this))] = $(this);
	});

	setCurrentImage(getImageId($details.eq(0)));

	// Click events for mobile devices..
	$thumbnails.on('click', function () {
		setCurrentImage(getImageId($(this)));
	});

	// Hover events for laptops
	$thumbnails.hover(function () {
		catalogMap[getImageId($(this))].addClass('active');
	}, function () {
		catalogMap[getImageId($(this))].removeClass('active');
	});

	function setCurrentImage(imageId) {
		setAnchor($details, imageId);
		setAnchor($thumbnails, imageId);
	}

	function setAnchor(images, imageId) {

		images.removeClass('anchored').filter(function () {
			return $(this).data().catalogImage === imageId;
		}).addClass('anchored');
	}

	function getImageId(selector) {

		return selector.data('catalogImage') || null;
	}
};

},{}],48:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of products?
			limit: 24, // How many products at once?
			sort: '-createdAt', // Default sort order
			fields: '', // Additional fields
			columns: 4, // How many columns? (css supports for 1-12)
			filter: '', // Extra filters. e.g., brand=abcd
			labels: Thunder.options.productLabels, // Product labels (unavailable, sold-out, discounted)
			imageWidth: 240, // Image width
			imageHeight: 240, // Image height
			showSummary: true, // Show `product.summary`
			showRating: // Show `product.rating`
			Thunder.options.productReview && Thunder.options.productReviewRating,
			showComparePrice: true, // Show `product.price.original`
			showCartButton: true, // Show an add to cart button
			usePagination: true, // Use pagination?
			onItemAdd: function onItemAdd($container, context) {
				return Thunder.notify('success', context.m('itemAddSuccess'));
			},
			onViewProduct: function onViewProduct($container, context, productId) {
				return Thunder.open('product-detail', {
					product: productId
				});
			}
		};
	};

	implementation.pre = function (context, callback) {
		var _$;

		var options = context.options;

		var query = $.extend({
			bundled: false // Only display root products
		}, Thunder.util.parseQueryString(options.filter));

		var listQuery = $.extend({
			fields: ['thumbnail', 'slug', 'name', 'summary', 'price', 'discount', 'rating', 'available', 'variants.available', 'variants.quantity'].concat(Thunder.util.parseArrayString(options.fields)).join(','),
			page: options.page, // Page option
			limit: options.limit, // Limit option
			sort: options.sort // Sort option
		}, query);

		var countQuery = $.extend({
			raw: true
		}, query);

		var errors = {
			default: context.m('productListFailed')
		};

		var labels = Thunder.util.parseArrayString(options.labels).map(function (label) {
			return {
				label: label,
				check: {
					unavailable: function unavailable(product) {
						return !product.available || product.variants.every(function (v) {
							return !v.available;
						});
					},
					'sold-out': function soldOut(product) {
						return product.variants.every(function (v) {
							return v.quantity && v.quantity.raw === 0;
						});
					},
					discounted: function discounted(product) {
						return !!product.discount.type;
					}
				}[label]
			};
		}, {});

		return (_$ = $).when.apply(_$, [Thunder.request({
			method: 'GET',
			url: '/v1/products',
			query: listQuery
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/products/count',
			query: countQuery
		}) : null]).then(function (products, count) {

			context.count = count ? count[0].count : null;
			context.products = products[0].map(function (product) {

				product.label = (labels.find(function (_ref) {
					var check = _ref.check;
					return check(product);
				}) || { label: null }).label;

				return product;
			});

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $product = $(this).find('.thunder--product');
		var $addToCart = $(this).find('.thunder--add-to-cart');
		var $pagination = $(this).find('.thunder--product-list-pagination');

		var addToCartSpinner = Thunder.util.makeAsyncButton($addToCart);

		$product.on('click', ['.thunder--product-thumbnail-wrapper', '.thunder--product-name', '.thunder--product-summary'].join(','), function (event) {
			return Thunder.execute(context.options.onViewProduct, $container, context, $(event.delegateTarget).data('product'));
		});

		$addToCart.on('click', function () {
			return addToCart();
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref2) {
					var page = _ref2.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}

		function addToCart(success) {
			var item = buildItemData();

			success = success || function () {

				Thunder.execute(context.options.onItemAdd, $container, context);
			};

			var errors = {
				'items-exceeded': context.m('itemsExceeded'),
				default: context.m('itemAddFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/customers/VY6BEFBJX7RU/cart/items',
				data: item
			}).then(function (item) {
				addToCartSpinner.done();
				return success(item);
			}, function (err) {
				return console.log("Error");
			});

			// Thunder.Cart.addItem(item, err => {
			//
			//     if (err) {
			//         addToCartSpinner.done();
			//         return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
			//     }
			//
			//     addToCartSpinner.done();
			//     return success(item);
			// });

			// if (Thunder.authenticated()) {
			//
			//     return Thunder.request({
			//         method: 'POST',
			//         url:    '/v1/me/cart/items',
			//         data:   item
			//     }).then(item => {
			//         addToCartSpinner.done();
			//         return success(item);
			//     }, err => console.log("Error"));
			//
			// } else {
			//
			//     Thunder.Cart.addItem(item, err => {
			//
			//         if (err) {
			//             addToCartSpinner.done();
			//             return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
			//         }
			//
			//         addToCartSpinner.done();
			//         return success(item);
			//     });
			// }
		}

		function buildItemData() {

			var shippingMethod = '2J4JDYZBJ9H9';
			var bundleItems = [];

			var itemQuantity = 1;
			var variant = null;

			return {
				product: $product._id,
				variant: variant,
				shippingMethod: shippingMethod,
				quantity: itemQuantity ? parseInt(itemQuantity) : null,
				bundleItems: bundleItems
			};
		}
	};

	return implementation;
};

},{}],49:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');

module.exports = function (Thunder) {

	var commentFields = ['customer', 'collaborator', 'body', 'flagged', 'createdAt'];

	// Implementation
	var implementation = {
		name: 'product-review-comments'
	};

	implementation.options = function () {
		return {
			review: null, // Review ID
			page: 1, // Which page of comments?
			limit: 10, // How many comments at once?
			sort: 'createdAt', // Default sort value
			filter: null, // Extra query filter
			useBodyExcerpt: 140, // Length of a body excerpt || false
			useFlag: true, // Use flag?
			usePagination: true, // Use Pagination?
			hasNoComments: false, // Has no comments? (when it's already known)
			confirmOnDelete: Thunder.options.confirmation.reviewCommentDelete, // Whether to confirm before deleting a review comment

			onUnauthenticatedWriteComment: function onUnauthenticatedWriteComment($container, context) {
				return Thunder.notify('info', context.m('loginRequired'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.hasNoComments) {
			// If the review doesn't have any comments, do not call APIs.
			context.comments = [];
			context.count = { raw: 0, formatted: '0', converted: '0' };
			return callback(null, context);
		}

		var errors = {
			default: context.m('commentListFailed')
		};

		var defaultQuery = $.extend({
			review: context.options.review
		}, Thunder.util.parseQueryString(context.options.filter));

		return $.when(fetchComments(), countComments()).then(function (comments, count) {
			return callback(null, $.extend(context, {
				comments: (comments[0] || []).map(function (c) {
					return buildReviewComment(c, context.options.useBodyExcerpt);
				}),
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchComments() {

			var query = $.extend({}, defaultQuery, {
				page: context.options.page,
				limit: context.options.limit,
				sort: context.options.sort,
				fields: commentFields.join(',')
			});

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments',
				query: query
			});
		}

		function countComments() {

			var query = $.extend({}, defaultQuery);

			delete query.ids;

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments/count',
				query: query
			});
		}
	};

	implementation.init = function (context) {

		var commentMap = {};

		var $container = $(this);
		var $writeComment = $(this).find('.thunder--write-comment');
		var $hasNoComments = $(this).find('.thunder--review-has-no-comments');
		var $commentWriterContainer = $(this).find('.thunder--comment-writer-container');
		var $commentBody = $commentWriterContainer.find('textarea');
		var $postComment = $commentWriterContainer.find('.thunder--post-comment');
		var $cancelComment = $commentWriterContainer.find('.thunder--cancel-comment');
		var $commentList = $(this).find('.thunder--review-comment-list');
		var $pagination = $(this).find('.thunder--review-comment-list-pagination');

		updateCommentMap();

		$writeComment.on('click', startCommentWriting);
		$cancelComment.on('click', cancelComment);

		$container.on('click', '.thunder--read-more', readMore);
		$container.on('click', '.thunder--edit-review-comment', editComment);
		$container.on('click', '.thunder--delete-review-comment', deleteComment);
		$container.on('click', '.thunder--flag', flagComment);

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $postComment,
			validate: validateComment,
			callback: postComment
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				type: 'simple',
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}

		function updateCommentMap() {

			commentMap = context.comments.reduce(function (o, comment) {
				return set(o, comment._id, comment);
			}, {});
		}

		function startCommentWriting(event) {

			event.preventDefault();

			if (Thunder.authenticated()) {
				return showCommentWriter();
			}

			return Thunder.execute(context.options.onUnauthenticatedWriteComment, $container, context);
		}

		function getComment() {
			return {
				review: context.options.review,
				body: $commentBody.val()
			};
		}

		function validateComment(comment) {

			comment = comment || getComment();

			if (!comment.body) {
				Thunder.notify('error', context.m('bodyRequired'));
				return false;
			}

			return true;
		}

		function postComment(token, resetRecaptcha) {

			var resetState = function resetState() {
				return resetRecaptcha && resetRecaptcha();
			};

			var data = getComment();

			return createComment(data).then(function (comment) {
				return fetchComment(comment);
			}).then(function (comment) {
				return done(comment);
			});

			function done(comment) {

				comment = buildReviewComment(comment, context.options.useBodyExcerpt);

				context.comments.unshift(comment);

				updateCommentMap();

				var $template = $(Thunder.component(implementation.name).template($.extend({}, context, {
					comments: [comment]
				})));

				var $comment = $($template.find('.thunder--review-comment-list').html());

				$commentList.prepend($comment);

				cancelComment();

				resetState();

				$hasNoComments.remove();

				return Thunder.notify('success', context.m('commentPostSuccess'));
			}

			function createComment(data) {

				var errors = {
					default: context.m('commentPostFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/products/reviews/comments',
					data: data,
					recaptcha: token
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}

			function fetchComment(comment) {

				var errors = {
					default: context.m('commentReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/comments/' + comment._id,
					query: {
						fields: commentFields.join(',')
					}
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}
		}

		function cancelComment(event) {

			if (event) event.preventDefault();

			$commentBody.val(null);
			hideCommentWriter();
		}

		function showCommentWriter() {
			$writeComment.hide();
			$commentWriterContainer.show();
		}

		function hideCommentWriter() {
			$writeComment.show();
			$commentWriterContainer.hide();
		}

		function readMore(event) {

			event.preventDefault();

			var $comment = $(this).parents('[data-review-comment]');
			var commentId = $comment.data('reviewComment');
			var body = commentMap[commentId].body;

			$comment.find('.thunder--review-comment-body').html(body);
		}

		function editComment(event) {
			var _this = this;

			event.preventDefault();

			var isEditing = $(this).data('editing');
			var $comment = $(this).parents('[data-review-comment]');
			var commentId = $comment.data('reviewComment');

			if (isEditing) {

				var $input = $comment.find('textarea.thunder--review-comment-body');

				var data = { body: $input.val() || null };

				if (!validateComment(data)) {
					return;
				}

				var errors = {
					default: context.m('saveFailed')
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me/products/reviews/comments/' + commentId,
					data: data
				}).then(function (comment) {

					$(_this).text(context.m('editComment'));
					$(_this).data('editing', false);

					var $body = $('<div class="' + $input.attr('class') + '"></div>');

					$body.html(comment.body);

					$input.replaceWith($body);

					return Thunder.notify('success', context.m('saveSuccess'));
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			} else {

				var comment = commentMap[commentId];

				var $body = $comment.find('.thunder--review-comment-body');

				var _$input = $('<textarea class="' + $body.attr('class') + '">' + (comment.body || '') + '</textarea>');

				$body.replaceWith(_$input);

				$(this).text(context.m('saveComment'));
				$(this).data('editing', true);
			}
		}

		function deleteComment(event) {
			var _this2 = this;

			if (event) event.preventDefault();

			var removeComment = function removeComment() {

				var $comment = $(_this2).parents('[data-review-comment]');
				var commentId = $comment.data('reviewComment');

				var errors = {
					default: context.m('deleteFailed')
				};

				return Thunder.request({
					method: 'DELETE',
					url: '/v1/me/products/reviews/comments/' + commentId
				}).then(function () {
					$comment.addClass('hidden').hide();
					return Thunder.notify('success', context.m('deleteSuccess'));
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			};

			if (!context.options.confirmOnDelete) {
				return removeComment();
			}

			return Thunder.plugins.confirmation(context.m('deleteConfirm'), function () {
				return removeComment();
			});
		}

		function flagComment(event) {

			if (event) event.preventDefault();

			var commentId = $(this).parents('[data-review-comment]').data('reviewComment');

			var errors = {
				default: context.m('flagFailed'),
				'duplicated-flag': context.m('duplicatedFlag')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/comments/' + commentId + '/flags'
			}).then(function () {
				return Thunder.notify('success', context.m('flagSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}
	};

	return implementation;

	function buildReviewComment(comment, useBodyExcerpt) {

		var customer = get(Thunder.authenticated('customer'), 'sub', 'unauthenticated');

		comment.editable = get(comment, 'customer._id') === customer;
		comment.excerpt = Thunder.util.excerpt(comment.body, useBodyExcerpt) || '';
		comment.body = comment.body || '';

		return comment;
	}
};

},{"lodash.get":341,"lodash.set":345}],50:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var reviewFields = ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'];

	// Implementation
	var implementation = {
		name: 'product-review-writer'
	};

	implementation.options = function () {
		return {

			product: null, // Product ID to write a review
			useRating: Thunder.options.productReviewRating, // Use rating?

			onReviewPost: function onReviewPost($container, context, review) {},
			onReviewCancel: function onReviewCancel($container, context) {}

		};
	};

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var review = { images: [] };

		var $container = $(this);
		var $writeReviewForm = $(this).find('.thunder--write-review-form');
		var $writeReviewImageForm = $(this).find('.thunder--review-image-form');
		var $writeReviewImages = $writeReviewImageForm.find('.thunder--review-images');
		var $postReview = $(this).find('.thunder--post-product-review');
		var $cancelReview = $(this).find('.thunder--cancel-product-review');

		$cancelReview.on('click', cancelReviewWriting);

		$container.on('click', '.thunder--delete-review-image', function () {

			var imageId = $(this).parents('[data-image]').data('image');

			return removeImage(imageId);
		});

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $postReview,
			validate: validateReview,
			callback: postReview
		});

		Thunder.util.imageUploader($writeReviewImageForm, function (image) {
			return addImage(image);
		}, function () {
			return Thunder.notify('error', context.m('imageUploadFailed'));
		});

		function cancelReviewWriting(event) {

			if (event) event.preventDefault();

			// Possibly a bug from Babel?
			// `review.images` actually contains multiple id,
			// but `removeImage()` only gets called once in `.forEach`
			review.images.forEach(function (imageId) {
				setTimeout(function () {
					return removeImage(imageId);
				}, 0);
			});

			resetForm();

			return Thunder.execute(context.options.onReviewCancel, $container, context);
		}

		function resetForm() {

			review.images.forEach(function (imageId) {
				return removeImage(imageId, true);
			});

			$writeReviewForm.find('select').val(5);
			$writeReviewForm.find('input[type="text"],textarea').each(function () {
				$(this).val(null);
			});
			$writeReviewImageForm.find('input[type="file"]').val(null);
		}

		function getReview() {

			return $.extend(Thunder.util.formToJSON($writeReviewForm.serializeArray()), review);
		}

		function addImage(image) {

			// Update review
			review.images.push(image._id);

			// Update DOM
			$writeReviewImages.append(('\n\t\t\t\t<div class="thunder--review-image" data-image="' + image._id + '">\n\t\t\t\t\t<img src="' + Thunder.util.imageURL(image, 120, 120) + '">\n\t\t\t\t\t<span class="thunder--delete-review-image">' + context.m('deleteImage') + '</span>\n\t\t\t\t</div>\n\t\t\t').trim());
		}

		function removeImage(imageId) {
			var doNotDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


			// Update review
			review.images.splice(review.images.indexOf(imageId), 1);

			// Update DOM
			$writeReviewImages.find('[data-image="' + imageId + '"]').remove();

			if (doNotDelete) return;

			// Remove from the storage (Fire & Forget)
			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/images/' + imageId
			});
		}

		function validateReview() {

			var review = getReview();

			if (!review.title) {
				Thunder.notify('error', context.m('titleRequired'));
				return false;
			}

			return true;
		}

		function postReview(token, resetRecaptcha) {

			var resetState = function resetState() {
				return resetRecaptcha && resetRecaptcha();
			};

			return createReview().then(function (review) {
				return fetchReview(review);
			}).then(function (review) {
				return done(review);
			});

			function done(review) {

				resetForm();

				Thunder.notify('success', context.m('reviewPostSuccess'));

				return Thunder.execute(context.options.onReviewPost, $container, context, review);
			}

			function createReview() {

				var errors = {
					'not-purchased-product': context.m('notPurchasedProduct'),
					default: context.m('reviewPostFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/products/reviews',
					data: getReview(),
					recaptcha: token
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}

			function fetchReview(review) {

				var errors = {
					default: context.m('reviewReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/published/' + review._id,
					query: { fields: reviewFields.join(',') }
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}
		}
	};

	return implementation;
};

},{}],51:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');

module.exports = function (Thunder) {

	var reviewQuery = function reviewQuery(showProduct) {
		return {
			fields: ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'].concat(showProduct ? 'product' : []).join(','),
			embed: '+product.thumbnail'
		};
	};

	// Implementation
	var implementation = {
		name: 'product-review'
	};

	implementation.options = function () {
		return {
			review: null, // Review ID or review object
			useCustomerAvatar: Thunder.options.customerAvatar, // Use customer avatar
			useBodyExcerpt: 140, // Body excerpt length || false
			useRating: Thunder.options.productReviewRating, // Use rating?
			useHelpVote: true, // Use helpful votes?
			useFlag: true, // Use flag?
			useComments: Thunder.options.productReviewComment, // Use review comments?
			confirmOnDelete: Thunder.options.confirmation.reviewDelete, // Whether to confirm before deleting a review
			showProduct: false, // Show product detail?
			// Load & Show comments from the beginning?
			// (If it's an object, it will be passed as an option to `product-review-comments` component)
			showComments: false,

			onDelete: function onDelete($container, context) {

				return Thunder.notify('success', context.m('deleteSuccess'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var review = context.options.review;

		if ((typeof review === 'undefined' ? 'undefined' : _typeof(review)) === 'object') {

			return callback(null, setReview(review));
		}

		var errors = {
			default: context.m('reviewReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/products/reviews/published/' + review,
			query: reviewQuery(context.options.showProduct)
		}).then(function (review) {

			return callback(null, setReview(review));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function setReview(review) {
			return set(context, 'review', buildReview(review, context.options.useBodyExcerpt));
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $review = $container.find('.thunder--product-review');
		var $imageForm = $container.find('.thunder--edit-review-image-form');
		var $reviewImages = $container.find('.thunder--review-images');

		$container.on('click', '.thunder--helped-vote', helpVote);
		$container.on('click', '.thunder--flag', flag);
		$container.on('click', '.thunder--edit-product-review', editReview);
		$container.on('click', '.thunder--delete-product-review', deleteReview);
		$container.on('click', '.thunder--delete-review-image', function () {

			var $imageList = $(this).parents('.thunder--review-images');
			var imageId = $(this).parents('[data-image]').data('image');

			return removeImage($imageList, context.review, imageId);
		});

		$container.on('click', '.thunder--read-more', function () {

			var $reviewBody = $(this).parents('.thunder--product-review-body');

			$reviewBody.html(context.review.body);
		});

		$container.on('click', '.thunder--show-product-review-comment', showComments);

		Thunder.util.imageUploader($imageForm, function (image) {
			return addImage($reviewImages, context.review, image);
		}, function () {
			return Thunder.notify('error', context.m('imageUploadFailed'));
		});

		if (context.options.useComments && context.options.showComments) {
			// If `showComments` option is set to `true`,
			// render comments when the component initiates.
			showComments();
		}

		function validateReview(review) {

			if (!review.title) {
				return 'titleRequired';
			}

			return null;
		}

		function addImage($imageList, review, image) {

			// Update review
			review.images.push(image);

			// Update DOM
			$imageList.append(('\n\t\t\t\t<div class="thunder--review-image" data-image="' + image._id + '">\n\t\t\t\t\t<img src="' + Thunder.util.imageURL(image, 120, 120) + '">\n\t\t\t\t\t<span class="thunder--delete-review-image">' + context.m('deleteImage') + '</span>\n\t\t\t\t</div>\n\t\t\t').trim());
		}

		function removeImage($imageList, review, imageId) {

			var image = review.images.find(function (image) {
				return image && image._id === imageId;
			});

			if (!image) return;

			// Update review
			review.images.splice(review.images.indexOf(image), 1);

			// Update DOM
			$imageList.find('[data-image="' + imageId + '"]').remove();

			// Remove from the storage (Fire & Forget)
			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/images/' + imageId
			});
		}

		function helpVote(event) {

			event.preventDefault();

			var review = context.review;
			var upDown = $(this).data('type');

			var errors = {
				unauthorized: { type: 'info', message: context.m('loginRequired') },
				'duplicated-vote': context.m('duplicatedVote'),
				default: context.m('helpVoteFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/' + review._id + '/helped/' + upDown
			}).then(function () {
				return Thunder.notify('success', context.m('helpVoteSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function flag(event) {

			event.preventDefault();

			var review = context.review;

			var errors = {
				unauthorized: { type: 'info', message: context.m('loginRequired') },
				'duplicated-flag': context.m('duplicatedFlag'),
				default: context.m('flagFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/' + review._id + '/flags'
			}).then(function () {
				return Thunder.notify('success', context.m('flagSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function editReview(event) {

			event.preventDefault();

			var isEditing = $review.data('editing') || false;

			if (isEditing) {
				endReviewEditing();
				$review.removeClass('editing');
				$(this).text(context.m('editReview'));
			} else {
				startReviewEditing();
				$review.addClass('editing');
				$(this).text(context.m('saveReview'));
			}

			$review.data('editing', !isEditing);
		}

		function startReviewEditing() {

			var review = context.review;

			var $rating = $container.find('.thunder--review-stars');
			var $title = $container.find('.thunder--product-review-title');
			var $body = $container.find('.thunder--product-review-body');

			var $newRating = $(Thunder.ui('review-star-rating')($rating.data('rating'))).addClass($rating.attr('class'));
			var $newTitle = $('<input class="' + $title.attr('class') + '" type="text" value="' + review.title + '" required>');
			var $newBody = $('<textarea class="' + $body.attr('class') + '">' + review.body + '</textarea>');

			$rating.replaceWith($newRating);
			$title.replaceWith($newTitle);
			$body.replaceWith($newBody);
		}

		function endReviewEditing() {

			var review = context.review;

			var data = {
				rating: $container.find('.thunder--review-stars').val(),
				title: $container.find('.thunder--product-review-title').val(),
				body: $container.find('.thunder--product-review-body').val(),
				images: $container.find('.thunder--review-images [data-image]').map(function () {
					return $(this).data('image');
				}).get()
			};

			var errorCode = validateReview(data);

			if (errorCode) {
				return Thunder.notify('error', context.m(errorCode));
			}

			return updateReview(data).then(function (review) {
				return fetchReview(review);
			}).then(function (review) {
				return done(review);
			});

			function done(review) {

				context.review = review;

				Thunder.render($container, implementation.name, context);

				return Thunder.notify('success', context.m('reviewSaveSuccess'));
			}

			function updateReview(data) {

				var errors = {
					default: context.m('reviewSaveFailed')
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me/products/reviews/' + review._id,
					data: data
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}

			function fetchReview(review) {

				var errors = {
					default: context.m('reviewReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/published/' + review._id,
					query: reviewQuery(context.options.showProduct)
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}
		}

		function deleteReview(event) {

			event.preventDefault();

			var removeReview = function removeReview() {

				var review = context.review;

				deleteReviewImages(review);

				var errors = {
					default: context.m('deleteFailed')
				};

				return Thunder.request({
					method: 'DELETE',
					url: '/v1/me/products/reviews/' + review._id
				}).then(function () {

					// Hide the review
					$container.addClass('hidden').hide();

					// Hide comments of the review
					$container.next('.thunder--review-comments-container').addClass('hidden').hide();

					return Thunder.execute(context.options.onDelete, $container, context);
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			};

			if (!context.options.confirmOnDelete) {
				return removeReview();
			}

			return Thunder.plugins.confirmation(context.m('deleteConfirm'), function () {
				return removeReview();
			});
		}

		function deleteReviewImages(review) {
			var _$;

			var errors = {
				default: context.m('imageDeleteFailed')
			};

			return (_$ = $).when.apply(_$, _toConsumableArray(review.images.map(function (image) {
				return Thunder.request({
					method: 'DELETE',
					url: '/v1/me/images/' + (image._id || image)
				});
			}))).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function showComments() {

			if (context.commentsLoaded) {
				return;
			}

			context.commentsLoaded = true;

			var review = context.review;

			var $commentsContainer = $('<div class="thunder--review-comments-container" data-review="' + review._id + '"></div>');

			$commentsContainer.insertAfter($container);

			return Thunder.render($commentsContainer, 'product-review-comments', $.extend(
			// Use `showComments` as an option when it's an object.
			_typeof(context.options.showComments) === 'object' ? context.options.showComments : {}, {
				review: review._id,
				hasNoComments: context.review.totalComment.raw === 0
			}));
		}
	};

	return implementation;

	function buildReview(review, useBodyExcerpt) {

		var customer = get(Thunder.authenticated('customer'), 'sub', 'unauthenticated');

		review.editable = get(review, 'customer._id') === customer;
		review.excerpt = Thunder.util.excerpt(review.body, useBodyExcerpt) || '';
		review.body = review.body || '';

		return review;
	}
};

},{"lodash.get":341,"lodash.set":345}],52:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-reviews'
	};

	implementation.options = function () {
		return {
			product: null, // Product ID
			page: 1, // Which page of products?
			limit: 10, // How many products at once?
			sort: '-createdAt', // Default sort value
			productRating: null, // Product rating?
			useCustomerAvatar: Thunder.options.customerAvatar, // Use customer avatar?
			useBodyExcerpt: 140, // Body excerpt length || false
			useRating: // Use rating?
			Thunder.options.productReview && Thunder.options.productReviewRating,
			useHelpVote: true, // Use helpful votes?
			useFlag: true, // Use flag?
			useComments: Thunder.options.productReviewComment, // Use comments?
			usePagination: true, // Use Pagination?

			onUnauthenticatedWriteReview: function onUnauthenticatedWriteReview($container, context) {
				return Thunder.notify('info', context.m('loginRequired'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('reviewListFailed')
		};

		return $.when(fetchReviews(), countReviews()).then(function (reviews, count) {
			return callback(null, $.extend(context, {
				reviews: reviews[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchReviews() {
			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published',
				query: {
					product: context.options.product,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'].join(',')
				}
			});
		}

		function countReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published/count',
				query: {
					product: context.options.product
				}
			});
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $writeReview = $(this).find('.thunder--write-review');
		var $reviewList = $(this).find('.thunder--product-review-list');
		var $pagination = $(this).find('.thunder--product-review-list-pagination');
		var $reviewWriterContainer = $(this).find('.thunder--review-writer-container');

		$writeReview.on('click', startReviewWriting);

		Thunder.render($reviewWriterContainer, 'product-review-writer', {
			product: context.options.product,
			useRating: context.options.useRating,
			onReviewPost: onReviewPost,
			onReviewCancel: function onReviewCancel() {
				return hideReviewWriter();
			}
		});

		context.reviews.forEach(function (review) {
			return renderReview('append', review);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}

		function renderReview(command, review) {

			var $reviewContainer = $('<div class="thunder--product-review-wrapper" data-review="' + review._id + '"></div>');

			$reviewList[command]($reviewContainer);

			return Thunder.render($reviewContainer, 'product-review', {
				review: review,
				useCustomerAvatar: context.options.useCustomerAvatar,
				useBodyExcerpt: context.options.useBodyExcerpt,
				useRating: context.options.useRating,
				useHelpVote: context.options.useHelpVote,
				useFlag: context.options.useFlag,
				useComments: context.options.useComments,
				showProduct: false,
				showComments: false
			});
		}

		function startReviewWriting(event) {

			event.preventDefault();

			if (Thunder.authenticated()) {
				return showReviewWriter();
			}

			return Thunder.execute(context.options.onUnauthenticatedWriteReview, $container, context);
		}

		function onReviewPost(_$container, _context, review) {

			context.reviews.unshift(review);

			hideReviewWriter();
			renderReview('prepend', review);
		}

		function showReviewWriter() {
			$writeReview.hide();
			$reviewWriterContainer.show();
		}

		function hideReviewWriter() {
			$writeReview.show();
			$reviewWriterContainer.hide();
		}
	};

	return implementation;
};

},{}],53:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = function (Thunder) {

	var implementation = {
		name: 'search-purchase'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' || 'subscription'

			onSearch: function onSearch($container, context, subject) {

				var type = context.options.type;

				Thunder.render($container, type + '-detail', _defineProperty({}, type, subject));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.authFields = Thunder.options.orderAuthFields.map(function (field) {
			return {
				key: field,
				translationKey: translationKeys[field] || field
			};
		});

		context.showLinks = {
			order: true,
			subscription: !!Thunder.options.paymentMethods.subscription
		};

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--search-purchase-form');
		var $button = $form.find('.thunder--search-purchase');
		var $goToSearch = $(this).find('.thunder--go-to-search-purchase');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$goToSearch.on('click', goToSearch);

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var type = context.options.type;
			var data = Thunder.util.formToJSON($form.serializeArray());
			var subject = data.subject;

			delete data.subject;

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'not-existing-order': context.m('notExistingOrder'),
				'not-existing-subscription': context.m('notExistingSubscription'),
				'invalid-customer-info': context.m('invalidCustomerInfo'),
				default: context.m('searchFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/' + type + 's/' + subject + '/auth',
				data: data
			}).then(function (authResult) {

				var storage = Thunder.plugins.credentialStorage;
				var token = authResult.token;

				// Set auth token in the storage.
				storage.setItem(Thunder.options.authStorage.order, token);

				Thunder.execute(context.options.onSearch, $container, context, subject);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
					return resetState();
				});
			});
		});

		function goToSearch() {

			return Thunder.render($container, 'search-purchase', {
				type: $(this).data('type')
			});
		}
	};

	return implementation;
};

},{}],54:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'subscription-detail'
	};

	implementation.options = function () {
		return {
			subscription: '', // Subscription ID to render
			customerFields: Thunder.options.customerOrderFields.map(function (field) {
				return field.split(':')[0];
			}),
			recipientFields: Thunder.options.recipientFields.map(function (field) {
				return field.split(':')[0];
			})
		};
	};

	implementation.pre = function (context, callback) {
		var subscription = context.options.subscription;


		context.couponDetail = function (coupon) {

			if (!coupon) return '';

			return [context.m('discountedBy', { value: coupon.discount.value.converted }), '&#10;(', context.m({
				first: 'firstNTimesDiscounted',
				last: 'lastNTimesDiscounted',
				every: 'allDiscounted'
			}[coupon.subscription.type], {
				count: get(coupon.subscription, 'value.converted'),
				smart_count: get(coupon.subscription, 'value.raw')
			}), ')'].join('');
		};

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.customerFields = Thunder.util.parseArrayString(context.options.customerFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['customer', translationKeys[key] || key])
			};
		});

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['address', translationKeys[key] || key])
			};
		});

		var errors = {
			default: context.m('subscriptionReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions/' + subscription
		}).then(function (subscription) {

			var itemMap = subscription.items.reduce(function (o, item) {
				return [].concat(item, item.bundleItems || []).reduce(function (o, item) {
					return set(o, item._id, item);
				}, o);
			}, {});

			var discount = subscription.discount || {};

			Object.keys(discount).forEach(function (scope) {

				if (scope === 'shipping') {
					// IMPORTANT: For now we will only display 'items' and 'cart' coupons
					return;
				}

				[].concat(discount[scope]).forEach(function (_ref) {
					var item = _ref.item,
					    coupon = _ref.coupon;


					if (!coupon) return;

					return item ? set(itemMap[item._id], 'appliedCoupon', coupon) : set(subscription, 'appliedCoupon', coupon);
				});
			});

			var scheduleStatus = subscription.status === 'cancelled' ? 'cancelled' : null;

			subscription.schedules.forEach(function (schedule) {
				// When the subscription is cancelled,
				// make all schedules' statuses as 'cancelled' as well unless a schedule is 'done'.
				schedule.status = schedule.status === 'done' ? schedule.status : scheduleStatus || schedule.status;
			});

			context.subscription = subscription;

			// Set payment details.
			var paymentMethod = subscription.paymentMethod;

			var thunderPaymentMethodMap = Thunder.options.paymentMethods.subscription.reduce(function (o, p) {
				return set(o, p.id, p);
			}, {});

			var thunderPaymentMethod = thunderPaymentMethodMap[paymentMethod._id] || thunderPaymentMethodMap[paymentMethod.slug];

			var shouldPay = subscription.status === 'pending' && thunderPaymentMethod;

			context.paymentMethod = thunderPaymentMethod;
			context.shouldPay = shouldPay;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {
		var subscription = context.subscription,
		    paymentMethod = context.paymentMethod,
		    shouldPay = context.shouldPay;


		var $container = $(this);
		var $backToSubscriptions = $(this).find('.thunder--back-to-subscriptions');
		var $cancelSubscription = $(this).find('.thunder--cancel-subscription');
		var $cancellationForm = $(this).find('.thunder--subscription-cancellation-form');
		var $cancellationReason = $cancellationForm.find('textarea');
		var $cancelButton = $cancellationForm.find('button');
		var $viewOrder = $(this).find('[data-order][data-status="done"]');
		var $omittedSchedules = $(this).find('.thunder--subscription-omitted-schedules');
		var $viewAllSchedules = $(this).find('.thunder--view-all-schedules');
		var $hiddenSchedules = $(this).find('.thunder--subscription-schedule.hidden');

		var cancelButtonSpinner = Thunder.util.makeAsyncButton($cancelButton);

		$cancelSubscription.on('click', startCancellation);
		$cancelButton.on('click', cancelSubscription);
		$viewAllSchedules.on('click', viewAllSchedules);
		$viewOrder.on('click', '.thunder--schedule-order', function (event) {
			return Thunder.render($container, 'order-detail', {
				order: $(event.delegateTarget).data('order'),
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		});

		Thunder.util.bindBackButton($backToSubscriptions, context);

		// Render a payment form if it's needed.
		if (shouldPay) {

			var $paymentFormContainer = $(this).find('.thunder--payment-form-container');
			var $makePayment = $(this).find('.thunder--make-payment');
			var makePaymentSpinner = Thunder.util.makeAsyncButton($makePayment, { bind: false });

			Thunder.render($paymentFormContainer, 'payment-form', {
				type: 'subscription',
				paymentMethods: [paymentMethod.id]
			}, function (err, _ref2) {
				var paymentHandler = _ref2.interfaces;
				return $makePayment.on('click', function () {

					var validationError = paymentHandler.validate();

					if (validationError) {
						return Thunder.notify('error', validationError.message);
					}

					var card = paymentHandler.getCard();

					makePaymentSpinner.run();

					return paymentHandler.makePayment({
						subscription: subscription,
						customer: subscription.customer
					}, function (err) {

						if (err) {
							Thunder.notify('error', context.m('paymentFailed'));
							return makePaymentSpinner.done();
						}

						var errors = {
							default: context.m('schedulingFailed')
						};

						return Thunder.request({
							method: 'POST',
							url: '/v1/me/subscriptions/' + subscription._id + '/scheduled',
							data: card ? { card: card } : {}
						}).then(function () {

							Thunder.notify('success', context.m('schedulingSuccess'));
							makePaymentSpinner.done();
							return Thunder.render($container, implementation.name, context.options);
						}, function (err) {
							return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
								return makePaymentSpinner.done();
							});
						});
					});
				});
			});
		}

		function startCancellation() {
			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
			$cancellationReason.focus();
		}

		function cancelSubscription(event) {

			event.preventDefault();

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			var errors = {
				'invalid-subscription-status': context.m('invalidSubscriptionStatus'),
				default: context.m('cancellationFailed')
			};

			var resetState = function resetState() {
				cancelButtonSpinner.done();
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/subscriptions/' + subscription._id + '/cancellation',
				data: data
			}).then(function () {

				resetState();

				Thunder.notify('success', context.m('cancellationSuccess'));

				return Thunder.render($container, implementation.name, context.options);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
			});
		}

		function viewAllSchedules() {
			$omittedSchedules.addClass('hidden');
			$hiddenSchedules.removeClass('hidden');
		}
	};

	return implementation;
};

},{"lodash.camelcase":340,"lodash.get":341,"lodash.set":345}],55:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'subscription-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of subscriptions?
			limit: 10, // How many subscriptions at once?
			usePagination: true, // Use pagination?
			onViewSubscription: function onViewSubscription($container, context, subscriptionId) {

				return Thunder.render($container, 'subscription-detail', {
					subscription: subscriptionId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('subscriptionListFailed')
		};

		return $.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions',
			query: {
				page: context.options.page,
				limit: context.options.limit,
				sort: '-createdAt',
				fields: ['status', 'plan', 'schedules', 'items.product', 'cancellation', 'endsAt', 'createdAt'].join(',')
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions/count',
			query: {
				raw: true
			}
		}) : null).then(function (subscriptions, count) {

			context.subscriptions = (subscriptions[0] || []).map(function (s) {

				s.maxScheduledAmount = s.schedules.reduce(function (max, s) {
					return max > s.amount.raw ? max : s.amount;
				}, 0);

				s.duration = [s.schedules[0].time === 'now' ? s.createdAt : s.schedules[0].time, s.endsAt];

				return s;
			});

			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $subscription = $(this).find('[data-subscription]');
		var $pagination = $(this).find('.thunder--subscription-list-pagination');

		$subscription.on('click', ['.thunder--subscription-id', '.thunder--subscription-thumbnail', '.thunder--subscription-first-item', '.thunder--subscription-rest-items'].join(','), function (event) {
			return Thunder.execute(context.options.onViewSubscription, $container, context, $(event.delegateTarget).data('subscription'));
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],56:[function(require,module,exports){
"use strict";

module.exports = localStorage;

},{}],57:[function(require,module,exports){
"use strict";

module.exports = function (message, ok) {
	var no = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	return confirm("\uD83D\uDD14 " + message) ? ok() : no();
};

},{}],58:[function(require,module,exports){
"use strict";

module.exports = sessionStorage;

},{}],59:[function(require,module,exports){
'use strict';

var emojiByType = {
	error: '🚨',
	success: '✅',
	info: '💬'
};

module.exports = function (type, message) {

	return alert((emojiByType[type] || '') + ' ' + message);
};

},{}],60:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var groupStart = function groupStart(group, pagesAtOnce) {
	return (group - 1) * pagesAtOnce + 1;
};

var groupEnd = function groupEnd(group, pagesAtOnce) {
	return groupStart(group, pagesAtOnce) + pagesAtOnce - 1;
};

module.exports = function () {
	var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var _options$type = options.type,
	    type = _options$type === undefined ? 'normal' : _options$type,
	    container = options.container,
	    _options$currentPage = options.currentPage,
	    currentPage = _options$currentPage === undefined ? 1 : _options$currentPage,
	    totalResult = options.totalResult,
	    resultPerPage = options.resultPerPage,
	    _options$pagesAtOnce = options.pagesAtOnce,
	    pagesAtOnce = _options$pagesAtOnce === undefined ? 10 : _options$pagesAtOnce,
	    _options$onPageChange = options.onPageChange,
	    onPageChange = _options$onPageChange === undefined ? function () {} : _options$onPageChange;


	var lastPage = Math.ceil(totalResult / resultPerPage);
	var totalGroups = Math.ceil(lastPage / pagesAtOnce);
	var currentGroup = Math.ceil(currentPage / pagesAtOnce);
	var currentGroupStart = groupStart(currentGroup, pagesAtOnce);

	var iterator = Array.apply(null, Array(pagesAtOnce)).map(function (v, i) {
		return i;
	}).filter(function (v) {
		return currentGroupStart + v <= lastPage;
	});

	if (iterator.length <= 1) {
		return;
	}

	var page = function page(text, type, _page, current) {
		return ('\n\t\t<li data-page="' + _page + '"\n\t\t\tclass="' + type + ' ' + (_page === current ? 'current' : '') + '">\n\t\t\t<span>' + (text || _page) + '</span>\n\t\t</li>\n\t').trim();
	};

	var $pagination = $(['<ul class="thunder--pagination ' + type + '">', currentGroup <= 1 ? '' : page('<', 'thunder--pagination-prev', groupEnd(currentGroup - 1, pagesAtOnce))].concat(_toConsumableArray(iterator.map(function (i) {
		return page(null, 'thunder--pagination-page', currentGroupStart + i, currentPage);
	})), [currentGroup >= totalGroups ? '' : page('>', 'thunder--pagination-next', groupStart(currentGroup + 1, pagesAtOnce)), '</ul>']).join(''));

	container.html($pagination);

	$pagination.find('[data-page]').on('click', function () {

		var page = $(this).data('page');

		if (currentPage === page) return;

		var $overlay = $(this).parents('#thunder--overlay');

		var isOverlay = !!$overlay.length;

		var $scrollTarget = isOverlay ? $overlay.eq(0) : $('html, body');
		var $positionTarget = $(this).parents('.thunder--contents').eq(0);

		var offset = -60;

		var scrollTop = isOverlay ? $positionTarget.offset().top - $scrollTarget.offset().top + $scrollTarget.scrollTop() + offset : $positionTarget.offset().top + offset;

		var shouldNotScroll = !isOverlay && $scrollTarget.scrollTop() <= scrollTop;

		onPageChange({ page: page });

		if (shouldNotScroll) return;

		// 오버레이 창인 경우
		return setTimeout(function () {
			return $scrollTarget.animate({ scrollTop: scrollTop }, 400);
		}, 300);
	});
};

},{}],61:[function(require,module,exports){
"use strict";

module.exports = function (to) {

	return location.replace(to);
};

},{}],62:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,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";
};

},{}],63:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<span class=\"thunder--button-spinner\"></span>\n\t".trim();
};

},{}],64:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--component-spinner-wrapper\">\n\t\t\t<div class=\"thunder--component-spinner\"></div>\n\t\t</div>\n\t".trim();
};

},{}],65:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAYFBMVEX////Y2NjW1tbT09PY2NjV1dXT09PX19fX19fX19fX19fW1tbW1tbW1tbV1dXV1dXU1NTV1dXT09PU1NTU1NTT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d0MlpiEAAAAFXRSTlMAHy4wPD1AcIecr8DP3Ofv8vb5+/5ldZdlAAAAqElEQVQYGWXBgVrCIBgF0GtRuIgto/sjjnHf/y1dSvuanoPN6zueOXLAk8lKOuCBZ20W8CCdpQsddj7YJNmIP+4Yph9etKpMY/BYDWQu86KbOp+NDMCYtddKAgYW7VRGAANn/bNYxK/AWZvFJtxFNnXNTgfcOS7qGj06T23o0R2pjQ3oQpZUS2mSckAXsubMU2Kuyp/oohlHD/iJlid0L1/R4cbF7zesrqgiFx5ZJ+DfAAAAAElFTkSuQmCC";
};

},{}],66:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaVBMVEX////4yQD2xwDywwD4yQD1xgDywwD4yQD3yAD3yAD3yAD2xwD2xwD2xwD1xgD1xgDzxAD0xQDywwDzxADzxADywwDzxAD0xQD1xgD2xwD3yAD4yQD5ygD6ywD7zAD8zQD9zgD+zwD/0ABDG/+EAAAAFXRSTlMAHy4wPD1AcIecr8DP3Ofv8vb5+/5ldZdlAAAAq0lEQVQYGWXBAVaDMBQEwK1GU4yB1rj8FETC3v+QYht50s5g8/yKR45s8KCzIR1wx3Ne+oA76SKNdNh5Y5FkLf64Y+g+OWo1M7XBY9WQNk5FV/PXxcgAtKa9ZUhAw1E734wAGk76p/QRvwInbUrf4SayqFrsfMCNY1FV6FF5akOP6kht+gZVMEnzMBRJOaAKWVPmOTHPyu+oohlbD/iOZh2qp1N0uHLx4wWrH9+RGLe/2RyqAAAAAElFTkSuQmCC";
};

},{}],67:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQ4jZ2UO2sUURTH/+fumdmdgCRWQhoVhJ0lWgiCERJibyUI+gEsLba28QNYaC8p/ABiIGAnRBA0WwlaTLNGe9vVedx7rpwZZ50M2Uf2wNmZvffc35znhfd+oabH2Pn57dWDZWxJf+ZJNqLLRYGTH+tfKQiC3X6//3GevZlLAyCC1wCIiOCcO1xkPxeYjWjHWuyFIRCGIURkI0mS4cpA53BojMKATqcDY4x6+XwlYDaioXPY6PX+r3W7XU08J0nydta5aVGyET30Ho+8xw0RbIog6nSAtbXK8PuFcfksiqJUIrJE9MsY8xnAhziOX5bA9BjDPMeL8g8BGqKCmKt3XWsCq1Q4zedUa6eY+YBF8EQPRlEFWEY0n6q1KFC9FpG7hghHIhrKcrCzRD221mrRjkzvtn8cBNjP89WgCsvzXD0ex3F8vwxSocz4kqbng2r+athgMLiGZttE2/4mM8YK1RQsEs1blmVa7T81DO0+jLZ9ubFgvKeiUGPM0+baKaCO2rLhUt1PLWk3yi2g6sNzQPdmeug9LrUPafhZVk1I+6pToPf+YnONW4fv1M2thdFWsrbasrYcOWJmnYjyovgn6zM9rEUrPZmUMMuMgyDA1a2t64aZ951zNk1TqFZO+CunvG6G8fsT7YrgvTGYGIM32p9nfVDvRBF5pvcjM9+L4/hduQHgL43IKyO6pNEvAAAAAElFTkSuQmCC";
};

},{}],68:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQ4EaVU203DQBAcIv5JCSlgpZgOQgXQAaYCXEJKgApiKiAdJFQAaKeA0IE7MBprHV0cJ85jpJPt83n2NeObuq4xBJITAGMz+xk6OzqRTETfJJ+uJgTwBqAC8BH3lxOSnAF4BFAAmKtskvNrMlRGX2a2NLNNPBckx2cTkswBTAHknQDVsdKbKUfEDMAsud4BeDezoifQAsBvDKtZZrZuCN1dk/uM8+mh9SGZRG+7wYUXEZbtCzOrDnbzCEJaGtZkFP2YniKJI1CWzwCWUA/dPXf32t0LPZ+z3D2Lb8vGde3HCWl+KmGQVS2Z1o6XSarsVwD3Q75NLLkxs6zd7+qwdcFB4SYYx3RTne4RtpEG/ypJBTvBe51yqXyE254M/9KNEHERlitbRwRkBL3f7nUzVPr6CTQWI6n7VexrCCuS67CfsFdJX8kZSR2UXxVZE5eLlMlDBFxEMAXR2qIrG2UiK6rhKq/JtouQjNrQeHrbcwD/48MIr+PHIqoAAAAASUVORK5CYII=";
};

},{}],69:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _this = this;

	if (!this.options.header) return '';

	var templates = [];
	var items = this.options.header.items;


	var menuItem = function menuItem(component, message) {
		return '<li><a data-component="' + component + '">' + message + '</a></li>';
	};

	items.forEach(function (type) {

		if (type === 'customer') {

			if (_this.authenticated()) {

				templates.push('\n\t\t\t\t\t<li><a data-thunder-logout>' + _this.polyglot.t('header-navigation.logout') + '</a></li>\n\t\t\t\t');

				templates.push(menuItem('customer-dashboard', _this.polyglot.t('header-navigation.profile')));
			} else {

				templates.push(menuItem('customer-register', _this.polyglot.t('header-navigation.register')));

				templates.push(menuItem('customer-login', _this.polyglot.t('header-navigation.login')));
			}
		}

		if (type === 'search-purchase') {

			if (!_this.authenticated()) {

				templates.push(menuItem('search-purchase', _this.polyglot.t('header-navigation.searchOrder')));
			}
		}

		if (type === 'cart') {

			templates.push(menuItem('cart', _this.polyglot.t('header-navigation.cart')));
		}
	});

	return '\n\t\t<div id="thunder--header-navigation">\n\t\t\t<ul>\n\t\t\t\t' + templates.join('') + '\n\t\t\t</ul>\n\t\t</div>\n\t';
};

},{}],70:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAgVBMVEUAAAAAAAAAAADY2NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADv7+8zMzMAAAAAAAAAAADa2toAAAAAAAAAAAAAAADd3d0AAADY2NjMzMzr6+vQ0NC9vb0AAAD39/fw8PDQ0NC7u7sjIyOgoKApKSmqqqo5OTl1dXVCQkL///+VHsZ8AAAAKnRSTlMABQu9EwlBIB4xLhEV3U9FIhi7PCklD7g0l4zhxGxX996cg3RmYmBHRj4AjhiCAAABJklEQVRIx+3Xy27DIBAFUA8xBhuaBNv4lSZ9v/j/D+yUdqRm15lGlSqZhXdH95rFaCh+fKAQHgDQGj8yqwbnnNIgsHrw1hjrBw1860JslvlovAK2LW3TjSmlo3UauLlo24RnNojZuVW2adkjZttNtmNtHTA7k227PiiQ5W6qhu6Lb3e1KVnWfbd7r0S5ZEHamaywM6yd186szpe3gs6EVei79stOnNwcbKYx2+vdFFkWcRmXT3uq+jCg5WDf333Ym4dTF2naMZLvc/LhiZIl/3zY0j9Lbvtqi9NSCWc8afgzrUpTn+uCp3+VvTZfm//H5hq1sDntYaLmL7QBSprfvtHuydBnW69Yz4Q5mjb9Z0uYNxVj/Ti/0vbJ1UHyuiFN76oLvujeAaPnQON4QEwtAAAAAElFTkSuQmCC";
};

},{}],71:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--overlay-nav\">\n\t\t\t<span class=\"thunder--close-overlay\" data-thunder-close>&times;<span>\n\t\t</div>\n\t".trim();
};

},{}],72:[function(require,module,exports){
'use strict';

module.exports = function () {
	var defaultRating = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;


	var ratings = [1, 2, 3, 4, 5];

	return ('\n\t<select name="rating">' + ratings.map(function (r) {
		return ('\n\t\t<option value="' + r + '" ' + (defaultRating === r ? 'selected' : '') + '>' + '⭐'.repeat(r) + '</option>\n\t').trim();
	}).join('') + '\n\t</select>\n\t').trim();
};

},{}],73:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

module.exports = function () {
	var _this = this;

	var starred = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;


	var stars = [];

	for (var i = 0; i < starred - 1; i++) {
		stars.push(1);
	}

	var rest = starred - stars.length;

	if (rest > 0) {
		stars.push(rest);
	}

	return ['<span class="thunder--review-stars" data-rating="' + starred + '">'].concat(_toConsumableArray(Array.apply(null, { length: 5 }).map(function (el, i) {
		return starred === 0 ? '<img src="' + _this.ui(star(-1))() + '">' : '<img src="' + _this.ui(star(stars[i] || 0))() + '">';
	})), ['</span>']).join('');
};

function star() {
	var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;


	if (n === -1) return 'hallow-star';
	if (n === 0) return 'empty-star';
	if (n === 1) return 'filled-star';

	return n >= 0.5 ? 'half-filled-star' : 'empty-star';
}

},{}],74:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAgVBMVEUAAAAAAAAAAAAAAAD5+fkAAAAAAAAAAAAAAAAAAAB1dXUAAAAAAAAAAACrq6ttbW0AAAAAAAAAAAAAAAAAAAD7+/sAAAB/f38AAAB4eHgAAAAAAADY2Ni+vr5iYmIAAAD39/f19fXw8PCvr6+amprNzc0AAACNjY1BQUFNTU3///8iU2L+AAAAKnRSTlMAAwYM9QkWNRwlaBArPY9wEiMZLR/0KGAxZTpOl4F8RObYy7qei2RWPjXdioHaAAABB0lEQVRIx+3XyW4DIQwG4AHChAnTlgFmy9J0X3j/B2wTEvmQ0+8cokj4/snCSJb/6qLEsSpWCSm1lpI4ZLWyziotBcMq52MXvVO4FtqZ3+32e4h11lhjP7ym1I9TlzWGTUjpX8+kIdwf9GK1bLJGsG/HBVdr1y1XuKaJrZ+4WlvTPjC1uKWWRRd9j7q7TjslK0yHs56DsVJA2sVp/5z12NQa3Il1s95k3QfP2Imbr/d0qGAyxjp/HO1L7gy9OewfE70Z3WgnO0/RaoFb+mfBtE1dbLHForbiWrrDcEvbDrd0e+5Yln/1Es67jiw0rze69PGMMew+f9pIFko3htINrq0DchU/0f0BP61AGpJ0kg4AAAAASUVORK5CYII=";
};

},{}],75:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--section-spinner-wrapper\">\n\t\t\t<span class=\"thunder--section-spinner\"></span>\n\t\t</div>\n\t".trim();
};

},{}],76:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _this = this;

	var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var _options$type = options.type,
	    type = _options$type === undefined ? 'login' : _options$type,
	    _options$vendors = options.vendors,
	    vendors = _options$vendors === undefined ? ['facebook', 'google', 'instagram', 'naver', 'kakao'] : _options$vendors,
	    _options$logos = options.logos,
	    logos = _options$logos === undefined ? {
		facebook: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M19.4.5H1.6C1 .5.5 1 .5 1.6v17.8c0 .6.5 1.1 1.1 1.1h9.6v-7.7H8.6v-3h2.6V7.5c0-2.6 1.6-4 3.9-4 .8 0 1.6 0 2.3.1v2.7h-1.6c-1.3 0-1.5.6-1.5 1.5v1.9h3l-.4 3h-2.6v7.7h5.1c.6 0 1.1-.5 1.1-1.1V1.6c0-.6-.5-1.1-1.1-1.1z" fill="#fff"/></svg>',
		google: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M20.1 10.7c0-.7-.1-1.4-.2-2h-9.4v3.9h5.4c-.2 1.3-.9 2.3-2 3v2.5h3.2c1.9-1.8 3-4.3 3-7.4z" fill="#4285f4"/><path d="M10.5 20.5c2.7 0 5-.9 6.6-2.4l-3.2-2.5c-.9.6-2 1-3.4 1-2.6 0-4.8-1.8-5.6-4.1H1.6V15c1.6 3.3 5 5.5 8.9 5.5z" fill="#34a853"/><path d="M4.9 12.4c-.2-.6-.3-1.2-.3-1.9s.1-1.3.3-1.9V6H1.6C.9 7.4.5 8.9.5 10.5s.4 3.1 1.1 4.5l3.3-2.6z" fill="#fbbc05"/><path d="M10.5 4.5c1.5 0 2.8.5 3.8 1.5l2.9-2.9c-1.7-1.6-4-2.6-6.7-2.6C6.6.5 3.2 2.7 1.6 6l3.3 2.6c.8-2.4 3-4.1 5.6-4.1z" fill="#ea4335"/><path d="M.5.5h20v20H.5V.5z" fill="none"/></svg>',
		instagram: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><style>.st0{fill:#fff}</style><path class="st0" d="M10.5 1.9c2.8 0 3.1 0 4.2.1 1 0 1.6.2 1.9.4.5.2.8.4 1.2.8.4.4.6.7.8 1.2.2.3.4.8.4 1.9.1 1.1.1 1.4.1 4.2s0 3.1-.1 4.2c0 1-.2 1.6-.4 1.9-.2.5-.4.8-.8 1.2-.4.4-.7.6-1.2.8-.4.1-.9.3-1.9.4-1.1.1-1.4.1-4.2.1s-3.1 0-4.2-.1c-1 0-1.6-.2-1.9-.4-.5-.2-.8-.4-1.2-.8-.4-.4-.6-.7-.8-1.2-.2-.3-.4-.8-.4-1.9-.1-1.1-.1-1.4-.1-4.2s0-3.1.1-4.2c0-1 .2-1.6.4-1.9.2-.5.4-.8.8-1.2.4-.4.7-.6 1.2-.8.3-.2.8-.4 1.9-.4 1.1-.1 1.4-.1 4.2-.1m0-1.9C7.6 0 7.3 0 6.2.1 5.1.1 4.3.3 3.6.6c-.7.2-1.3.6-1.8 1.2-.6.5-1 1.1-1.2 1.8-.3.7-.5 1.5-.5 2.6C0 7.3 0 7.6 0 10.5s0 3.2.1 4.3c.1 1.1.2 1.9.5 2.5.3.7.6 1.3 1.2 1.9.6.6 1.2.9 1.9 1.2.7.3 1.4.4 2.5.5 1.1.1 1.4.1 4.3.1s3.2 0 4.3-.1c1.1-.1 1.9-.2 2.5-.5.7-.3 1.3-.6 1.9-1.2.6-.6.9-1.2 1.2-1.9.3-.7.4-1.4.5-2.5.1-1.1.1-1.5.1-4.3s0-3.2-.1-4.3c-.1-1.1-.2-1.9-.5-2.5-.3-.7-.6-1.3-1.2-1.9-.6-.6-1.2-.9-1.9-1.2-.7-.3-1.4-.4-2.5-.5-1.1-.1-1.4-.1-4.3-.1z"/><path class="st0" d="M10.5 5.1c-3 0-5.4 2.4-5.4 5.4s2.4 5.4 5.4 5.4 5.4-2.4 5.4-5.4-2.4-5.4-5.4-5.4zm0 8.9C8.6 14 7 12.4 7 10.5S8.6 7 10.5 7 14 8.6 14 10.5 12.4 14 10.5 14z"/><circle class="st0" cx="16.1" cy="4.9" r="1.3"/></svg>',
		naver: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path fill="#fff" d="M13.5 1.8v8.8l-6-8.8H.9v17.5h6.6v-8.9l6 8.9h6.6V1.8z"/></svg>',
		kakao: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M10.5 1.7C5 1.7.5 5.2.5 9.6c0 2.8 1.9 5.3 4.7 6.7-.2.8-.8 2.8-.9 3.3-.1.5.2.5.4.4.2-.1 2.7-1.9 3.8-2.6.6.1 1.2.1 1.9.1 5.5 0 10-3.5 10-7.9S16 1.7 10.5 1.7z" fill="#3c1e1e"/></svg>'
	} : _options$logos;


	vendors = typeof vendors === 'string' ? vendors.split(',').filter(function (v) {
		return v;
	}) : vendors;

	if (vendors.length === 0) {
		return '';
	}

	return ('\n\t\t<ul class="thunder--social-app-actions thunder--social-app-' + type + '">\n\t\t\t' + vendors.map(function (vendor) {
		return '\n\t\t\t<li class="thunder-social-app-' + vendor + '">\n\t\t\t\t<button data-social-app="' + vendor + '">\n\t\t\t\t\t<span class="thunder--social-app-logo">' + logos[vendor] + '</span>\n\t\t\t\t\t<span class="thunder--social-app-button-message">' + _this.polyglot.t('social-login.' + type + 'By' + (vendor[0].toUpperCase() + vendor.slice(1))) + '</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t';
	}).join('') + '\n\t\t</ul>\n\t').trim();
};

},{}],77:[function(require,module,exports){
"use strict";

module.exports = function (body) {

	return ("\n\t\t<div class=\"thunder--text-box-overlay\">\n\t\t\t<div class=\"thunder--text-box-overlay-header\">\n\t\t\t\t<span class=\"thunder--text-box-overlay-close\">\xD7</span>\n\t\t\t</div>\n\t\t\t<div class=\"thunder--text-box-overlay-body\">\n\t\t\t\t" + body + "\n\t\t\t</div>\n\t\t</div>\n\t").trim();
};

},{}],78:[function(require,module,exports){
'use strict';

module.exports = function (from, type, value) {

	var timeMap = {
		days: 86400000, // 하루를 밀리초로 환산
		weeks: 604800000 // 한 주를 밀리초로 환산
	};

	var toDate = function toDate(date) {
		return date ? new Date(date) : new Date();
	};

	var original = toDate(from);
	var originalTime = original.valueOf();
	var originalYear = original.getFullYear();
	var originalMonth = original.getMonth();
	var originalDate = original.getDate();

	// `days`, `weeks` 케이스 (단순히 오프셋을 계산해 더함)
	if (timeMap[type]) {

		var offset = timeMap[type] * Number(value);

		return toDate(originalTime + offset);
	}

	// 월 케이스
	if (type === 'months') {

		var yearOffset = Math.floor((originalMonth + Number(value)) / 12);
		var newMonth = (originalMonth + Number(value)) % 12;

		original.setFullYear(originalYear + yearOffset);
		original.setMonth(newMonth);

		if (newMonth !== original.getMonth()) {
			original.setDate(0);
		}

		return original;
	}

	// 년 케이스
	if (type === 'years') {

		var expiresYear = original.getFullYear() + Number(value);

		original.setFullYear(expiresYear);

		// 기존 날짜가 2월 29일이면서,
		// 더해진 날짜로 갔을 때 3월이 된 경우 (2월 29일이 없는 경우)
		if (originalMonth === 1 && originalDate === 29 && original.getMonth() === 2) {
			original.setDate(0);
		}

		return original;
	}

	throw new Error('Unsupported time type');
};

},{}],79:[function(require,module,exports){
'use strict';

module.exports = function (_ref) {
	var $terms = _ref.$terms,
	    agreements = _ref.agreements;


	var $all = $terms.filter('[data-agreement-scope="all"]');
	var $allCheck = $all.find('input[type="checkbox"]');

	$terms = $terms.filter('[data-agreement-scope!="all"]');
	var $termsChecks = $terms.find('input[type="checkbox"]');

	var $requiredTermsChecks = $terms.find('input[type="checkbox"][required]');

	$termsChecks.on('change', function () {

		$allCheck.prop('checked', $termsChecks.map(function () {
			return $(this).is(':checked');
		}).get().every(function (v) {
			return v;
		}));
	});

	$allCheck.on('change', function () {

		var checked = $allCheck.is(':checked');

		$termsChecks.each(function () {
			$(this).prop('checked', checked);
		});
	});

	$terms.find('a').filter(':not([href])').on('click', function (e) {

		e.preventDefault();

		var scope = $(this).parents('[data-agreement-scope]').data('agreementScope');
		var $overlay = $(Thunder.ui('text-box-overlay')(agreements[scope].text));
		var $close = $overlay.find('.thunder--text-box-overlay-close');

		$('body').append($overlay);

		$close.on('click', function () {
			$overlay.remove();
		});
	});

	return function () {

		if (!$requiredTermsChecks.length) {
			return true;
		}

		for (var i = 0; i < $requiredTermsChecks.length; i++) {

			var $term = $requiredTermsChecks.eq(i);

			if (!$term.is(':checked')) {

				var scope = $term.parents('[data-agreement-scope]').data('agreementScope');

				Thunder.notify('error', agreements[scope].error);

				return false;
			}
		}
		return true;
	};
};

},{}],80:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

module.exports = function ($button, context) {
	var _this = this;

	var history = get(context, 'options.back');

	if (!$button || !history) return;

	var $container = history.$container,
	    component = history.component,
	    options = history.options;


	$button.on('click', function (event) {

		if (event) event.preventDefault();

		return _this.render($container, component, options || {});
	});
};

},{"lodash.get":341}],81:[function(require,module,exports){
"use strict";

module.exports = function () {
	var _this = this;

	this.options.recaptcha.queue.forEach(function (option) {

		_this.util.makeRecaptcha(option.componentName, option.$button, option.fn);
	});

	this.options.recaptcha.queue = [];
};

},{}],82:[function(require,module,exports){
'use strict';

module.exports = function ($container) {
	var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {
		return true;
	};


	var Thunder = this;

	var $socialButton = $container.find('[data-social-app]');

	$socialButton.on('click', function () {

		if (!validate()) {
			return;
		}

		var vendor = $(this).data('socialApp');

		Thunder.request({
			method: 'POST',
			url: '/v1/customers/auth/' + vendor
		}).done(function (data) {

			location.replace(data.redirect);
		}).fail(function (res, status) {

			// TODO: Error handling

		});
	});
};

},{}],83:[function(require,module,exports){
'use strict';

var refundStatusToCheck = {
	requested: true,
	accepted: true
};

module.exports = function (order, itemId) {

	if (!Array.isArray(order.items) || !Array.isArray(order.refunds)) {
		throw new Error('Order must have items and refunds field to check item refund status.');
	}

	var itemQuantity = order.items.reduce(function (all, item) {
		return all.concat(item, item.bundleItems);
	}, []).find(function (item) {
		return item._id === itemId;
	}).quantity.raw;

	var refundedQuantity = order.refunds.filter(function (r) {
		return refundStatusToCheck[r.status];
	}) // requested, accepted 환불 내역에서
	.reduce(function (sum, r) {

		var item = r.items.find(function (i) {
			return i.item._id === itemId;
		});

		return sum + (item ? item.quantity.raw : 0);
	}, 0); // 이 아이템에 대해서 환불된 전체 수량을 계산

	if (itemQuantity <= refundedQuantity) {
		return true;
	}

	return false;
};

},{}],84:[function(require,module,exports){
'use strict';

module.exports = function (elem) {

	var $temp = $('<input>');

	$temp.css({
		position: 'absolute',
		left: '-9999px',
		top: '0'
	});

	$('body').append($temp);

	$temp.val($(elem).text().trim()).select();

	var result = false;

	try {
		result = document.execCommand('copy');
		this.notify('success', this.polyglot.t('general.copySucceeded'));
	} catch (err) {
		this.notify('error', this.polyglot.t('general.copyFailed'));
	}

	$temp.remove();

	return result;
};

},{}],85:[function(require,module,exports){
'use strict';

module.exports = function () {
	var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
	var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';


	if (!code || !name) return '';

	var flag = code.toUpperCase().replace(/./g, function (char) {
		return String.fromCodePoint(char.charCodeAt(0) + 127397);
	});

	return [flag, name].filter(function (v) {
		return v;
	}).join(' ');
};

},{}],86:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

module.exports = function (customer) {

	if (!customer) return null;

	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = this.options.customerIdentity[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var field = _step.value;


			var value = get(customer, field);

			if (value) {
				return value;
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return null;
};

},{"lodash.get":341}],87:[function(require,module,exports){
"use strict";

// David Walsh's debounce function snippets (slightly modified)
// Ref: https://davidwalsh.name/javascript-debounce-function
module.exports = function (func, wait, immediate) {

	var timeout = void 0;

	return function () {

		var context = this;
		var args = arguments;
		var callNow = immediate && !timeout;
		var later = function later() {
			timeout = null;
			if (!immediate) func.apply(context, args);
		};

		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) func.apply(context, args);
	};
};

},{}],88:[function(require,module,exports){
'use strict';

module.exports = function (text, length) {

	if (typeof length !== 'number') {
		return text;
	}

	// Remove HTML tags
	text = $('<div>' + (text || '') + '</div>').text();

	var reduced = text.replace(/\s+/g, ' ') // Replace all empty spaced to one space
	.trim().slice(0, length).trim();

	return text.length <= length ? reduced : reduced + '...';
};

},{}],89:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function ($container, follow) {
	var menuItems = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];


	var id = Math.random().toString().slice(2);

	var itemMap = menuItems.reduce(function (o, item, i) {
		return set(o, [id + '.' + i], item);
	}, {});

	var items = menuItems.map(function (item, i) {
		return '<li><span data-scroll-to="' + id + '.' + i + '">' + item.name + '</span></li>';
	}).join('');

	$container.addClass('thunder--following-nav-container').addClass(follow ? 'sticky' : '').html('<ul class="thunder--following-nav">' + items + '</ul>');

	$container.on('click', '[data-scroll-to]', function (event) {

		event.preventDefault();

		var itemId = $(this).data('scrollTo');
		var item = itemMap[itemId];

		return item.$el.get(0).scrollIntoView();
	});
};

},{"lodash.set":345}],90:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (serialized) {

	var data = {};

	serialized.forEach(function (d) {
		return set(data, d.name, d.value || null);
	});

	return data;
};

},{"lodash.set":345}],91:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

module.exports = function (number) {
	var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


	if (typeof number !== 'number') {

		return '';
	}

	var precision = currency.precision,
	    _currency$delimiter = currency.delimiter,
	    delimiter = _currency$delimiter === undefined ? {} : _currency$delimiter;
	var _delimiter$thousands = delimiter.thousands,
	    thousands = _delimiter$thousands === undefined ? '' : _delimiter$thousands,
	    _delimiter$decimal = delimiter.decimal,
	    decimal = _delimiter$decimal === undefined ? '.' : _delimiter$decimal;


	if (typeof precision === 'number') {

		number = this.util.toPrecision(number, precision);
	}

	var _String$split = String(number).split('.'),
	    _String$split2 = _slicedToArray(_String$split, 2),
	    a = _String$split2[0],
	    _String$split2$ = _String$split2[1],
	    b = _String$split2$ === undefined ? '' : _String$split2$;

	var reversedArray = a.split('').reverse();

	var segments = [];

	while (reversedArray.length) {

		segments.unshift(reversedArray.splice(0, 3).reverse().join(''));
	}

	if (precision) {

		var diff = precision - b.length;

		for (var i = 0; i < diff; i++) {
			b += '0';
		}
	}

	return [segments.join(thousands), b].join(b ? decimal : '');
};

},{}],92:[function(require,module,exports){
'use strict';

module.exports = function (number) {
	var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


	var formattedNumber = this.util.formatNumber(number, currency);

	if (!formattedNumber) {

		return '';
	}

	var _currency$symbol = currency.symbol,
	    symbol = _currency$symbol === undefined ? '' : _currency$symbol,
	    _currency$format = currency.format,
	    format = _currency$format === undefined ? '{price}' : _currency$format;


	return format.replace('{symbol}', symbol).replace('{price}', formattedNumber);
};

},{}],93:[function(require,module,exports){
'use strict';

module.exports = function (code) {

	if (!code) {
		return deferred.reject(new Error('Currency code is required.'));
	}

	code = code.toUpperCase();

	var deferred = $.Deferred();
	var key = '__currency:' + code + '__';
	var saved = sessionStorage.getItem(key);

	if (saved) {

		return deferred.resolve(JSON.parse(saved));
	} else {

		Thunder.request({
			method: 'GET',
			url: '/v1/currencies',
			query: {
				raw: true,
				fields: ['code', 'delimiter', 'format', 'precision', 'symbol'].join(','),
				code: code
			}
		}).then(function (res) {
			sessionStorage.setItem(key, JSON.stringify(res[0]));
			return deferred.resolve(res[0]);
		});
	}

	return deferred.promise();
};

},{}],94:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _util$urlQuery = this.util.urlQuery(),
	    action = _util$urlQuery.action,
	    customer = _util$urlQuery.customer,
	    token = _util$urlQuery.token;

	if (!action) {
		return null;
	}

	if (action && customer && token) {

		var storage = this.plugins.credentialStorage;

		storage.setItem(this.options.authStorage.customer, token);

		// Re-render header
		this.header();
	}

	var query = this.util.urlQuery();
	var payload = {};

	['action', 'customer', 'token', 'error'].forEach(function (field) {
		return payload[field] = query[field];
	});

	return payload;
};

},{}],95:[function(require,module,exports){
'use strict';

module.exports = function (image, width, height) {

	if (!image) return '';

	var dimension = [];

	width = width ? 'width=' + width : '';
	height = height ? 'height=' + height : '';

	if (width) dimension.push(width);
	if (height) dimension.push(height);

	dimension = dimension.length ? '?' + dimension.join('&') : '';

	return image.url + dimension;
};

},{}],96:[function(require,module,exports){
'use strict';

module.exports = function ($uploadForm, successCallback, errorCallback) {
	var _this = this;

	var $file = $uploadForm.find('input[type="file"]');
	var $label = $uploadForm.find('label[for="' + $file.attr('id') + '"]');
	var originalLabel = $label.text();

	return $file.on('change', function () {

		if (!$file.val()) {
			return $label.html(originalLabel);
		}

		$label.html(_this.ui('button-spinner'));

		$uploadForm.ajaxSubmit({
			method: 'POST',
			url: _this.options.baseURL + '/v1/me/images',
			headers: _this.request.getRequestHeaders(),
			success: function success() {
				$label.html(originalLabel);
				return successCallback.apply(undefined, arguments);
			},
			error: function error() {
				$label.html(originalLabel);
				return errorCallback.apply(undefined, arguments);
			}
		});
	});
};

},{}],97:[function(require,module,exports){
"use strict";

module.exports = function (date) {
	var timeToCompare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();


	return new Date(date).valueOf() - timeToCompare < 0;
};

},{}],98:[function(require,module,exports){
'use strict';

module.exports = function () {
				var tags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
				var message = arguments[1];


				var type = tags.indexOf('error') === -1 ? 'log' : 'error';

				return console[type]('[' + tags.join(',') + '] Thunder: ' + message);
};

},{}],99:[function(require,module,exports){
'use strict';

module.exports = function ($button, options) {
	var _this = this;

	options = options || {};

	var _options = options,
	    _options$bind = _options.bind,
	    bind = _options$bind === undefined ? true : _options$bind;


	var original = $button.html();

	var run = function run() {
		return $button.html(_this.ui('button-spinner'));
	};
	var done = function done() {
		return $button.html(original);
	};

	if (bind) {
		$button.on('click', run);
	}

	return { run: run, done: done };
};

},{}],100:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = function (componentName, $button, _callback) {

	var validate = function validate() {
		return true;
	};

	if ((typeof componentName === 'undefined' ? 'undefined' : _typeof(componentName)) === 'object') {

		var options = componentName;

		componentName = options.componentName;
		$button = options.button;
		validate = options.validate || validate;
		_callback = options.callback;
	}

	var signature = 'thunder--recaptcha-handler';

	if (!$button.hasClass(signature)) {

		$button.addClass(signature);

		$button.data('execute', ($button.data('execute') || []).concat(_callback));

		$button.on('click', function (event) {

			event.preventDefault();

			if (!validate()) return;

			$button.data('execute').forEach(function (execute) {
				return execute();
			});
		});
	}

	if (!this.util.useRecaptcha(componentName)) {
		return $button.data('execute');
	}

	var grecaptcha = window.grecaptcha;

	if (!grecaptcha || !grecaptcha.render) {

		this.options.recaptcha.queue.push({
			componentName: componentName,
			$button: $button,
			fn: _callback
		});

		return $button.data('execute');
	}

	var $challenge = $('<div class="g-recaptcha"></div>');

	$button.before($challenge);

	var challenge = $challenge.get(0);

	var id = grecaptcha.render(challenge, {
		sitekey: this.options.recaptcha.sitekey,
		size: 'invisible',
		badge: 'bottomright',
		isolated: true,
		callback: function callback(token) {
			return _callback(token, function () {
				return grecaptcha.reset(id);
			});
		},
		'expired-callback': function expiredCallback(err) {
			// TODO: Implement callback
		},
		'error-callback': function errorCallback(err) {
			// TODO: Implement callback
		}
	});

	$challenge.prop('id', 'g-recaptcha-' + id);

	var callbacks = ($button.data('execute') || []).concat(function () {
		return grecaptcha.execute(id);
	}).filter(function (fn) {
		return fn !== _callback;
	}); // Remove original callback

	$button.data('execute', callbacks);

	return $button.data('execute');
};

},{}],101:[function(require,module,exports){
'use strict';

module.exports = function (order) {

	if (!order) return null;

	if (order.status === 'placed' || order.status === 'cancelled') {
		return null;
	}

	var hasTangibleItem = order.items.reduce(function (items, item) {
		return items.concat(item, item.bundleItems || []);
	}, []).some(function (item) {
		return item.type === 'tangible';
	});

	if (!hasTangibleItem) return null;

	if (order.receivedAt) {
		return 'received';
	}

	var countByStatus = order.fulfillments.reduce(function (o, _ref) {
		var status = _ref.status;

		o[status] = o[status] || 0;
		o[status]++;
		return o;
	}, {});

	if (order.fulfillments.length === 0 || order.fulfillments.length === countByStatus.pending) {
		return 'pending';
	}

	if (order.fulfillments.length === countByStatus.arrived) {
		return 'arrived';
	}

	return 'shipped';
};

},{}],102:[function(require,module,exports){
'use strict';

module.exports = function (value) {

		return typeof value === 'string' ? value.split(',').filter(function (v) {
				return v;
		}) : value;
};

},{}],103:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

var set = require('lodash.set');

module.exports = function (query) {

	query = query || {};

	if ((typeof query === 'undefined' ? 'undefined' : _typeof(query)) === 'object') {
		return query;
	}

	if (typeof query !== 'string') {
		return {};
	}

	return query.split('&').reduce(function (o, segment) {
		var _segment$split = segment.split('='),
		    _segment$split2 = _toArray(_segment$split),
		    key = _segment$split2[0],
		    values = _segment$split2.slice(1);

		return set(o, [key], decodeURIComponent(values.join('=').replace(/\+/g, ' ')));
	}, {});
};

},{"lodash.set":345}],104:[function(require,module,exports){
'use strict';

module.exports = function (product, variant) {

	return [].concat(product.name, variant && variant.types.length ? this.util.variantName(variant) : []).join(' / ');
};

},{}],105:[function(require,module,exports){
'use strict';

module.exports = function ($container) {

	$container.find('.thunder--quantity').each(function () {
		var _this = this;

		var min = parseInt($(this).attr('min') || 0);
		var max = parseInt($(this).attr('max') || 100);

		var $wrapper = $('\n\t\t\t<span class="thunder--quantity-wrapper"></span>\n\t\t');

		$(this).wrap($wrapper);

		var $dec = $('<span class="thunder--quantity-action" data-type="dec">\n\t\t\t<span class="thunder--quantity-action-bar"></span>\n\t\t</span>');
		var $inc = $('<span class="thunder--quantity-action" data-type="inc">\n\t\t\t<span class="thunder--quantity-action-bar"></span>\n\t\t\t<span class="thunder--quantity-action-bar"></span>\n\t\t</span>');

		$dec.insertBefore($(this));
		$inc.insertAfter($(this));

		$dec.on('click', function () {

			var oldVal = parseInt($(_this).val());
			var newVal = oldVal - 1;

			if (oldVal === min) {
				return;
			}

			$(_this).val(newVal);
			$(_this).trigger('change');
		});

		$inc.on('click', function () {

			var oldVal = parseInt($(_this).val());
			var newVal = oldVal + 1;

			if (oldVal === max) {
				return;
			}

			$(_this).val(newVal);
			$(_this).trigger('change');
		});
	});
};

},{}],106:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

var HandlerError = function HandlerError(code, message) {

	var error = new Error(message);

	error.code = code;

	return error;
};

module.exports = function (res, codeToMessage) {
	var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	if (!res.error) {
		// Not an error case
		return callback();
	}

	// Find a Clayful error code
	var errorCode = get(res, 'errorCode', null);

	var messageGetter = codeToMessage[errorCode];
	var defaultMessage = codeToMessage.default;
	var message = messageGetter ? typeof messageGetter === 'function' ? messageGetter(res) || defaultMessage : messageGetter.message || messageGetter || defaultMessage : defaultMessage;

	if (message) {
		this.plugins.notification(get(messageGetter, 'type') || 'error', message);
		return callback(HandlerError(errorCode, message));
	}

	return callback(HandlerError('unknown', 'Unknown Error'));
};

},{"lodash.get":341}],107:[function(require,module,exports){
'use strict';

module.exports = function () {
	var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';


	return $('<div>' + text + '</div>').text();
};

},{}],108:[function(require,module,exports){
"use strict";

module.exports = function () {
	var number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
	var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;


	var n = Math.pow(10, precision);

	return Math.round(number * n) / n;
};

},{}],109:[function(require,module,exports){
'use strict';

module.exports = function (name) {

	return this.uis[name] ? this.uis[name]() : '';
};

},{}],110:[function(require,module,exports){
'use strict';

module.exports = function (data) {

	if (!data) return null;

	var recaptchaField = 'g-recaptcha-response';
	var response = data[recaptchaField];

	delete data[recaptchaField];

	return response || null;
};

},{}],111:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var parseQueryString = require('./parseQueryString.js');

module.exports = function () {

	// Since SPA(Single Page App) might use hashbang(/#/?hello=world) in its url,
	// `location.href` is being used to find query string.
	var _location$href$split = location.href.split('?'),
	    _location$href$split2 = _slicedToArray(_location$href$split, 2),
	    _location$href$split3 = _location$href$split2[1],
	    queryAfter = _location$href$split3 === undefined ? '' : _location$href$split3;

	// Remove URL hash


	var _queryAfter$split = queryAfter.split('#'),
	    _queryAfter$split2 = _slicedToArray(_queryAfter$split, 1),
	    search = _queryAfter$split2[0];

	if (!search) return {};

	return parseQueryString(search);
};

},{"./parseQueryString.js":103}],112:[function(require,module,exports){
"use strict";

module.exports = function (moduleName) {

	return this.options.recaptcha.sitekey && this.options.recaptcha.modules.some(function (m) {
		return m === moduleName;
	});
};

},{}],113:[function(require,module,exports){
'use strict';

module.exports = function (data) {

	if (!data.userIdOrEmail) {
		return data;
	}

	if (data.userIdOrEmail.indexOf('@') > 0) {
		data.email = data.userIdOrEmail;
	} else {
		data.userId = data.userIdOrEmail;
	}

	delete data.userIdOrEmail;

	return data;
};

},{}],114:[function(require,module,exports){
'use strict';

module.exports = function (variant) {

		return variant.types.map(function (type) {
				return type.option.name + ' - ' + type.variation.value;
		}).join(', ');
};

},{}],115:[function(require,module,exports){
module.exports="1.2.3"
},{}],116:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],117:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./_wks')('unscopables');
var ArrayProto = Array.prototype;
if (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});
module.exports = function (key) {
  ArrayProto[UNSCOPABLES][key] = true;
};

},{"./_hide":148,"./_wks":220}],118:[function(require,module,exports){
module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

},{}],119:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":157}],120:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');

module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
  var O = toObject(this);
  var len = toLength(O.length);
  var to = toAbsoluteIndex(target, len);
  var from = toAbsoluteIndex(start, len);
  var end = arguments.length > 2 ? arguments[2] : undefined;
  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);
  var inc = 1;
  if (from < to && to < from + count) {
    inc = -1;
    from += count - 1;
    to += count - 1;
  }
  while (count-- > 0) {
    if (from in O) O[to] = O[from];
    else delete O[to];
    to += inc;
    from += inc;
  } return O;
};

},{"./_to-absolute-index":205,"./_to-length":209,"./_to-object":210}],121:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
module.exports = function fill(value /* , start = 0, end = @length */) {
  var O = toObject(this);
  var length = toLength(O.length);
  var aLen = arguments.length;
  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);
  var end = aLen > 2 ? arguments[2] : undefined;
  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);
  while (endPos > index) O[index++] = value;
  return O;
};

},{"./_to-absolute-index":205,"./_to-length":209,"./_to-object":210}],122:[function(require,module,exports){
// false -> Array#indexOf
// true  -> Array#includes
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');
var toAbsoluteIndex = require('./_to-absolute-index');
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

},{"./_to-absolute-index":205,"./_to-iobject":208,"./_to-length":209}],123:[function(require,module,exports){
// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = require('./_ctx');
var IObject = require('./_iobject');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var asc = require('./_array-species-create');
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};

},{"./_array-species-create":125,"./_ctx":134,"./_iobject":153,"./_to-length":209,"./_to-object":210}],124:[function(require,module,exports){
var isObject = require('./_is-object');
var isArray = require('./_is-array');
var SPECIES = require('./_wks')('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};

},{"./_is-array":155,"./_is-object":157,"./_wks":220}],125:[function(require,module,exports){
// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = require('./_array-species-constructor');

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};

},{"./_array-species-constructor":124}],126:[function(require,module,exports){
'use strict';
var aFunction = require('./_a-function');
var isObject = require('./_is-object');
var invoke = require('./_invoke');
var arraySlice = [].slice;
var factories = {};

var construct = function (F, len, args) {
  if (!(len in factories)) {
    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';
    // eslint-disable-next-line no-new-func
    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
  } return factories[len](F, args);
};

module.exports = Function.bind || function bind(that /* , ...args */) {
  var fn = aFunction(this);
  var partArgs = arraySlice.call(arguments, 1);
  var bound = function (/* args... */) {
    var args = partArgs.concat(arraySlice.call(arguments));
    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);
  };
  if (isObject(fn.prototype)) bound.prototype = fn.prototype;
  return bound;
};

},{"./_a-function":116,"./_invoke":152,"./_is-object":157}],127:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./_cof');
var TAG = require('./_wks')('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

},{"./_cof":128,"./_wks":220}],128:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],129:[function(require,module,exports){
'use strict';
var dP = require('./_object-dp').f;
var create = require('./_object-create');
var redefineAll = require('./_redefine-all');
var ctx = require('./_ctx');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var $iterDefine = require('./_iter-define');
var step = require('./_iter-step');
var setSpecies = require('./_set-species');
var DESCRIPTORS = require('./_descriptors');
var fastKey = require('./_meta').fastKey;
var validate = require('./_validate-collection');
var SIZE = DESCRIPTORS ? '_s' : 'size';

var getEntry = function (that, key) {
  // fast case
  var index = fastKey(key);
  var entry;
  if (index !== 'F') return that._i[index];
  // frozen object case
  for (entry = that._f; entry; entry = entry.n) {
    if (entry.k == key) return entry;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;         // collection type
      that._i = create(null); // index
      that._f = undefined;    // first entry
      that._l = undefined;    // last entry
      that[SIZE] = 0;         // size
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.1.3.1 Map.prototype.clear()
      // 23.2.3.2 Set.prototype.clear()
      clear: function clear() {
        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {
          entry.r = true;
          if (entry.p) entry.p = entry.p.n = undefined;
          delete data[entry.i];
        }
        that._f = that._l = undefined;
        that[SIZE] = 0;
      },
      // 23.1.3.3 Map.prototype.delete(key)
      // 23.2.3.4 Set.prototype.delete(value)
      'delete': function (key) {
        var that = validate(this, NAME);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.n;
          var prev = entry.p;
          delete that._i[entry.i];
          entry.r = true;
          if (prev) prev.n = next;
          if (next) next.p = prev;
          if (that._f == entry) that._f = next;
          if (that._l == entry) that._l = prev;
          that[SIZE]--;
        } return !!entry;
      },
      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
      forEach: function forEach(callbackfn /* , that = undefined */) {
        validate(this, NAME);
        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
        var entry;
        while (entry = entry ? entry.n : this._f) {
          f(entry.v, entry.k, this);
          // revert to the last existing entry
          while (entry && entry.r) entry = entry.p;
        }
      },
      // 23.1.3.7 Map.prototype.has(key)
      // 23.2.3.7 Set.prototype.has(value)
      has: function has(key) {
        return !!getEntry(validate(this, NAME), key);
      }
    });
    if (DESCRIPTORS) dP(C.prototype, 'size', {
      get: function () {
        return validate(this, NAME)[SIZE];
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var entry = getEntry(that, key);
    var prev, index;
    // change existing entry
    if (entry) {
      entry.v = value;
    // create new entry
    } else {
      that._l = entry = {
        i: index = fastKey(key, true), // <- index
        k: key,                        // <- key
        v: value,                      // <- value
        p: prev = that._l,             // <- previous entry
        n: undefined,                  // <- next entry
        r: false                       // <- removed
      };
      if (!that._f) that._f = entry;
      if (prev) prev.n = entry;
      that[SIZE]++;
      // add to index
      if (index !== 'F') that._i[index] = entry;
    } return that;
  },
  getEntry: getEntry,
  setStrong: function (C, NAME, IS_MAP) {
    // add .keys, .values, .entries, [@@iterator]
    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
    $iterDefine(C, NAME, function (iterated, kind) {
      this._t = validate(iterated, NAME); // target
      this._k = kind;                     // kind
      this._l = undefined;                // previous
    }, function () {
      var that = this;
      var kind = that._k;
      var entry = that._l;
      // revert to the last existing entry
      while (entry && entry.r) entry = entry.p;
      // get next entry
      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
        // or finish the iteration
        that._t = undefined;
        return step(1);
      }
      // return step by kind
      if (kind == 'keys') return step(0, entry.k);
      if (kind == 'values') return step(0, entry.v);
      return step(0, [entry.k, entry.v]);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // add [@@species], 23.1.2.2, 23.2.2.2
    setSpecies(NAME);
  }
};

},{"./_an-instance":118,"./_ctx":134,"./_descriptors":136,"./_for-of":145,"./_iter-define":161,"./_iter-step":163,"./_meta":170,"./_object-create":174,"./_object-dp":175,"./_redefine-all":191,"./_set-species":195,"./_validate-collection":217}],130:[function(require,module,exports){
'use strict';
var redefineAll = require('./_redefine-all');
var getWeak = require('./_meta').getWeak;
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var createArrayMethod = require('./_array-methods');
var $has = require('./_has');
var validate = require('./_validate-collection');
var arrayFind = createArrayMethod(5);
var arrayFindIndex = createArrayMethod(6);
var id = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function (that) {
  return that._l || (that._l = new UncaughtFrozenStore());
};
var UncaughtFrozenStore = function () {
  this.a = [];
};
var findUncaughtFrozen = function (store, key) {
  return arrayFind(store.a, function (it) {
    return it[0] === key;
  });
};
UncaughtFrozenStore.prototype = {
  get: function (key) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) return entry[1];
  },
  has: function (key) {
    return !!findUncaughtFrozen(this, key);
  },
  set: function (key, value) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) entry[1] = value;
    else this.a.push([key, value]);
  },
  'delete': function (key) {
    var index = arrayFindIndex(this.a, function (it) {
      return it[0] === key;
    });
    if (~index) this.a.splice(index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;      // collection type
      that._i = id++;      // collection id
      that._l = undefined; // leak store for uncaught frozen objects
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.3.3.2 WeakMap.prototype.delete(key)
      // 23.4.3.3 WeakSet.prototype.delete(value)
      'delete': function (key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);
        return data && $has(data, this._i) && delete data[this._i];
      },
      // 23.3.3.4 WeakMap.prototype.has(key)
      // 23.4.3.4 WeakSet.prototype.has(value)
      has: function has(key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);
        return data && $has(data, this._i);
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var data = getWeak(anObject(key), true);
    if (data === true) uncaughtFrozenStore(that).set(key, value);
    else data[that._i] = value;
    return that;
  },
  ufstore: uncaughtFrozenStore
};

},{"./_an-instance":118,"./_an-object":119,"./_array-methods":123,"./_for-of":145,"./_has":147,"./_is-object":157,"./_meta":170,"./_redefine-all":191,"./_validate-collection":217}],131:[function(require,module,exports){
'use strict';
var global = require('./_global');
var $export = require('./_export');
var redefine = require('./_redefine');
var redefineAll = require('./_redefine-all');
var meta = require('./_meta');
var forOf = require('./_for-of');
var anInstance = require('./_an-instance');
var isObject = require('./_is-object');
var fails = require('./_fails');
var $iterDetect = require('./_iter-detect');
var setToStringTag = require('./_set-to-string-tag');
var inheritIfRequired = require('./_inherit-if-required');

module.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
  var Base = global[NAME];
  var C = Base;
  var ADDER = IS_MAP ? 'set' : 'add';
  var proto = C && C.prototype;
  var O = {};
  var fixMethod = function (KEY) {
    var fn = proto[KEY];
    redefine(proto, KEY,
      KEY == 'delete' ? function (a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'has' ? function has(a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'get' ? function get(a) {
        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }
        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }
    );
  };
  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {
    new C().entries().next();
  }))) {
    // create collection constructor
    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
    redefineAll(C.prototype, methods);
    meta.NEED = true;
  } else {
    var instance = new C();
    // early implementations not supports chaining
    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false
    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });
    // most early implementations doesn't supports iterables, most modern - not close it correctly
    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new
    // for early implementations -0 and +0 not the same
    var BUGGY_ZERO = !IS_WEAK && fails(function () {
      // V8 ~ Chromium 42- fails only with 5+ elements
      var $instance = new C();
      var index = 5;
      while (index--) $instance[ADDER](index, index);
      return !$instance.has(-0);
    });
    if (!ACCEPT_ITERABLES) {
      C = wrapper(function (target, iterable) {
        anInstance(target, C, NAME);
        var that = inheritIfRequired(new Base(), target, C);
        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
        return that;
      });
      C.prototype = proto;
      proto.constructor = C;
    }
    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
      fixMethod('delete');
      fixMethod('has');
      IS_MAP && fixMethod('get');
    }
    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
    // weak collections should not contains .clear method
    if (IS_WEAK && proto.clear) delete proto.clear;
  }

  setToStringTag(C, NAME);

  O[NAME] = C;
  $export($export.G + $export.W + $export.F * (C != Base), O);

  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);

  return C;
};

},{"./_an-instance":118,"./_export":140,"./_fails":142,"./_for-of":145,"./_global":146,"./_inherit-if-required":151,"./_is-object":157,"./_iter-detect":162,"./_meta":170,"./_redefine":192,"./_redefine-all":191,"./_set-to-string-tag":196}],132:[function(require,module,exports){
var core = module.exports = { version: '2.5.7' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],133:[function(require,module,exports){
'use strict';
var $defineProperty = require('./_object-dp');
var createDesc = require('./_property-desc');

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

},{"./_object-dp":175,"./_property-desc":190}],134:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":116}],135:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],136:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":142}],137:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":146,"./_is-object":157}],138:[function(require,module,exports){
// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

},{}],139:[function(require,module,exports){
// all enumerable object keys, includes symbols
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};

},{"./_object-gops":180,"./_object-keys":183,"./_object-pie":184}],140:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var hide = require('./_hide');
var redefine = require('./_redefine');
var ctx = require('./_ctx');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
  var key, own, out, exp;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if (target) redefine(target, key, out, type & $export.U);
    // export
    if (exports[key] != out) hide(exports, key, exp);
    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
  }
};
global.core = core;
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":132,"./_ctx":134,"./_global":146,"./_hide":148,"./_redefine":192}],141:[function(require,module,exports){
var MATCH = require('./_wks')('match');
module.exports = function (KEY) {
  var re = /./;
  try {
    '/./'[KEY](re);
  } catch (e) {
    try {
      re[MATCH] = false;
      return !'/./'[KEY](re);
    } catch (f) { /* empty */ }
  } return true;
};

},{"./_wks":220}],142:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],143:[function(require,module,exports){
'use strict';
var hide = require('./_hide');
var redefine = require('./_redefine');
var fails = require('./_fails');
var defined = require('./_defined');
var wks = require('./_wks');

module.exports = function (KEY, length, exec) {
  var SYMBOL = wks(KEY);
  var fns = exec(defined, SYMBOL, ''[KEY]);
  var strfn = fns[0];
  var rxfn = fns[1];
  if (fails(function () {
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  })) {
    redefine(String.prototype, KEY, strfn);
    hide(RegExp.prototype, SYMBOL, length == 2
      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
      // 21.2.5.11 RegExp.prototype[@@split](string, limit)
      ? function (string, arg) { return rxfn.call(string, this, arg); }
      // 21.2.5.6 RegExp.prototype[@@match](string)
      // 21.2.5.9 RegExp.prototype[@@search](string)
      : function (string) { return rxfn.call(string, this); }
    );
  }
};

},{"./_defined":135,"./_fails":142,"./_hide":148,"./_redefine":192,"./_wks":220}],144:[function(require,module,exports){
'use strict';
// 21.2.5.3 get RegExp.prototype.flags
var anObject = require('./_an-object');
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.unicode) result += 'u';
  if (that.sticky) result += 'y';
  return result;
};

},{"./_an-object":119}],145:[function(require,module,exports){
var ctx = require('./_ctx');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var anObject = require('./_an-object');
var toLength = require('./_to-length');
var getIterFn = require('./core.get-iterator-method');
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;

},{"./_an-object":119,"./_ctx":134,"./_is-array-iter":154,"./_iter-call":159,"./_to-length":209,"./core.get-iterator-method":221}],146:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],147:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],148:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":136,"./_object-dp":175,"./_property-desc":190}],149:[function(require,module,exports){
var document = require('./_global').document;
module.exports = document && document.documentElement;

},{"./_global":146}],150:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":136,"./_dom-create":137,"./_fails":142}],151:[function(require,module,exports){
var isObject = require('./_is-object');
var setPrototypeOf = require('./_set-proto').set;
module.exports = function (that, target, C) {
  var S = target.constructor;
  var P;
  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
    setPrototypeOf(that, P);
  } return that;
};

},{"./_is-object":157,"./_set-proto":194}],152:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};

},{}],153:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":128}],154:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./_iterators');
var ITERATOR = require('./_wks')('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

},{"./_iterators":164,"./_wks":220}],155:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":128}],156:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var isObject = require('./_is-object');
var floor = Math.floor;
module.exports = function isInteger(it) {
  return !isObject(it) && isFinite(it) && floor(it) === it;
};

},{"./_is-object":157}],157:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],158:[function(require,module,exports){
// 7.2.8 IsRegExp(argument)
var isObject = require('./_is-object');
var cof = require('./_cof');
var MATCH = require('./_wks')('match');
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
};

},{"./_cof":128,"./_is-object":157,"./_wks":220}],159:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./_an-object');
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};

},{"./_an-object":119}],160:[function(require,module,exports){
'use strict';
var create = require('./_object-create');
var descriptor = require('./_property-desc');
var setToStringTag = require('./_set-to-string-tag');
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};

},{"./_hide":148,"./_object-create":174,"./_property-desc":190,"./_set-to-string-tag":196,"./_wks":220}],161:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var $export = require('./_export');
var redefine = require('./_redefine');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var $iterCreate = require('./_iter-create');
var setToStringTag = require('./_set-to-string-tag');
var getPrototypeOf = require('./_object-gpo');
var ITERATOR = require('./_wks')('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

},{"./_export":140,"./_hide":148,"./_iter-create":160,"./_iterators":164,"./_library":165,"./_object-gpo":181,"./_redefine":192,"./_set-to-string-tag":196,"./_wks":220}],162:[function(require,module,exports){
var ITERATOR = require('./_wks')('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};

},{"./_wks":220}],163:[function(require,module,exports){
module.exports = function (done, value) {
  return { value: value, done: !!done };
};

},{}],164:[function(require,module,exports){
module.exports = {};

},{}],165:[function(require,module,exports){
module.exports = false;

},{}],166:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $expm1 = Math.expm1;
module.exports = (!$expm1
  // Old FF bug
  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168
  // Tor Browser bug
  || $expm1(-2e-17) != -2e-17
) ? function expm1(x) {
  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;
} : $expm1;

},{}],167:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var sign = require('./_math-sign');
var pow = Math.pow;
var EPSILON = pow(2, -52);
var EPSILON32 = pow(2, -23);
var MAX32 = pow(2, 127) * (2 - EPSILON32);
var MIN32 = pow(2, -126);

var roundTiesToEven = function (n) {
  return n + 1 / EPSILON - 1 / EPSILON;
};

module.exports = Math.fround || function fround(x) {
  var $abs = Math.abs(x);
  var $sign = sign(x);
  var a, result;
  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
  a = (1 + EPSILON32 / EPSILON) * $abs;
  result = a - (a - $abs);
  // eslint-disable-next-line no-self-compare
  if (result > MAX32 || result != result) return $sign * Infinity;
  return $sign * result;
};

},{"./_math-sign":169}],168:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
module.exports = Math.log1p || function log1p(x) {
  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);
};

},{}],169:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x) {
  // eslint-disable-next-line no-self-compare
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};

},{}],170:[function(require,module,exports){
var META = require('./_uid')('meta');
var isObject = require('./_is-object');
var has = require('./_has');
var setDesc = require('./_object-dp').f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !require('./_fails')(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};

},{"./_fails":142,"./_has":147,"./_is-object":157,"./_object-dp":175,"./_uid":215}],171:[function(require,module,exports){
var global = require('./_global');
var macrotask = require('./_task').set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = require('./_cof')(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};

},{"./_cof":128,"./_global":146,"./_task":204}],172:[function(require,module,exports){
'use strict';
// 25.4.1.5 NewPromiseCapability(C)
var aFunction = require('./_a-function');

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};

},{"./_a-function":116}],173:[function(require,module,exports){
'use strict';
// 19.1.2.1 Object.assign(target, source, ...)
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || require('./_fails')(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
  } return T;
} : $assign;

},{"./_fails":142,"./_iobject":153,"./_object-gops":180,"./_object-keys":183,"./_object-pie":184,"./_to-object":210}],174:[function(require,module,exports){
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = require('./_an-object');
var dPs = require('./_object-dps');
var enumBugKeys = require('./_enum-bug-keys');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = require('./_dom-create')('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  require('./_html').appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};

},{"./_an-object":119,"./_dom-create":137,"./_enum-bug-keys":138,"./_html":149,"./_object-dps":176,"./_shared-key":197}],175:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":119,"./_descriptors":136,"./_ie8-dom-define":150,"./_to-primitive":211}],176:[function(require,module,exports){
var dP = require('./_object-dp');
var anObject = require('./_an-object');
var getKeys = require('./_object-keys');

module.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

},{"./_an-object":119,"./_descriptors":136,"./_object-dp":175,"./_object-keys":183}],177:[function(require,module,exports){
var pIE = require('./_object-pie');
var createDesc = require('./_property-desc');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var has = require('./_has');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};

},{"./_descriptors":136,"./_has":147,"./_ie8-dom-define":150,"./_object-pie":184,"./_property-desc":190,"./_to-iobject":208,"./_to-primitive":211}],178:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = require('./_to-iobject');
var gOPN = require('./_object-gopn').f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};

},{"./_object-gopn":179,"./_to-iobject":208}],179:[function(require,module,exports){
// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = require('./_object-keys-internal');
var hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};

},{"./_enum-bug-keys":138,"./_object-keys-internal":182}],180:[function(require,module,exports){
exports.f = Object.getOwnPropertySymbols;

},{}],181:[function(require,module,exports){
// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = require('./_has');
var toObject = require('./_to-object');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

},{"./_has":147,"./_shared-key":197,"./_to-object":210}],182:[function(require,module,exports){
var has = require('./_has');
var toIObject = require('./_to-iobject');
var arrayIndexOf = require('./_array-includes')(false);
var IE_PROTO = require('./_shared-key')('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

},{"./_array-includes":122,"./_has":147,"./_shared-key":197,"./_to-iobject":208}],183:[function(require,module,exports){
// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = require('./_object-keys-internal');
var enumBugKeys = require('./_enum-bug-keys');

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};

},{"./_enum-bug-keys":138,"./_object-keys-internal":182}],184:[function(require,module,exports){
exports.f = {}.propertyIsEnumerable;

},{}],185:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
var $export = require('./_export');
var core = require('./_core');
var fails = require('./_fails');
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};

},{"./_core":132,"./_export":140,"./_fails":142}],186:[function(require,module,exports){
var getKeys = require('./_object-keys');
var toIObject = require('./_to-iobject');
var isEnum = require('./_object-pie').f;
module.exports = function (isEntries) {
  return function (it) {
    var O = toIObject(it);
    var keys = getKeys(O);
    var length = keys.length;
    var i = 0;
    var result = [];
    var key;
    while (length > i) if (isEnum.call(O, key = keys[i++])) {
      result.push(isEntries ? [key, O[key]] : O[key]);
    } return result;
  };
};

},{"./_object-keys":183,"./_object-pie":184,"./_to-iobject":208}],187:[function(require,module,exports){
// all object keys, includes non-enumerable and symbols
var gOPN = require('./_object-gopn');
var gOPS = require('./_object-gops');
var anObject = require('./_an-object');
var Reflect = require('./_global').Reflect;
module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {
  var keys = gOPN.f(anObject(it));
  var getSymbols = gOPS.f;
  return getSymbols ? keys.concat(getSymbols(it)) : keys;
};

},{"./_an-object":119,"./_global":146,"./_object-gopn":179,"./_object-gops":180}],188:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};

},{}],189:[function(require,module,exports){
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var newPromiseCapability = require('./_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};

},{"./_an-object":119,"./_is-object":157,"./_new-promise-capability":172}],190:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],191:[function(require,module,exports){
var redefine = require('./_redefine');
module.exports = function (target, src, safe) {
  for (var key in src) redefine(target, key, src[key], safe);
  return target;
};

},{"./_redefine":192}],192:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var has = require('./_has');
var SRC = require('./_uid')('src');
var TO_STRING = 'toString';
var $toString = Function[TO_STRING];
var TPL = ('' + $toString).split(TO_STRING);

require('./_core').inspectSource = function (it) {
  return $toString.call(it);
};

(module.exports = function (O, key, val, safe) {
  var isFunction = typeof val == 'function';
  if (isFunction) has(val, 'name') || hide(val, 'name', key);
  if (O[key] === val) return;
  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
  if (O === global) {
    O[key] = val;
  } else if (!safe) {
    delete O[key];
    hide(O, key, val);
  } else if (O[key]) {
    O[key] = val;
  } else {
    hide(O, key, val);
  }
// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
})(Function.prototype, TO_STRING, function toString() {
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});

},{"./_core":132,"./_global":146,"./_has":147,"./_hide":148,"./_uid":215}],193:[function(require,module,exports){
// 7.2.9 SameValue(x, y)
module.exports = Object.is || function is(x, y) {
  // eslint-disable-next-line no-self-compare
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};

},{}],194:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

},{"./_an-object":119,"./_ctx":134,"./_is-object":157,"./_object-gopd":177}],195:[function(require,module,exports){
'use strict';
var global = require('./_global');
var dP = require('./_object-dp');
var DESCRIPTORS = require('./_descriptors');
var SPECIES = require('./_wks')('species');

module.exports = function (KEY) {
  var C = global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};

},{"./_descriptors":136,"./_global":146,"./_object-dp":175,"./_wks":220}],196:[function(require,module,exports){
var def = require('./_object-dp').f;
var has = require('./_has');
var TAG = require('./_wks')('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};

},{"./_has":147,"./_object-dp":175,"./_wks":220}],197:[function(require,module,exports){
var shared = require('./_shared')('keys');
var uid = require('./_uid');
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};

},{"./_shared":198,"./_uid":215}],198:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":132,"./_global":146,"./_library":165}],199:[function(require,module,exports){
// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var SPECIES = require('./_wks')('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

},{"./_a-function":116,"./_an-object":119,"./_wks":220}],200:[function(require,module,exports){
var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

},{"./_defined":135,"./_to-integer":207}],201:[function(require,module,exports){
// helper for String#{startsWith, endsWith, includes}
var isRegExp = require('./_is-regexp');
var defined = require('./_defined');

module.exports = function (that, searchString, NAME) {
  if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!");
  return String(defined(that));
};

},{"./_defined":135,"./_is-regexp":158}],202:[function(require,module,exports){
// https://github.com/tc39/proposal-string-pad-start-end
var toLength = require('./_to-length');
var repeat = require('./_string-repeat');
var defined = require('./_defined');

module.exports = function (that, maxLength, fillString, left) {
  var S = String(defined(that));
  var stringLength = S.length;
  var fillStr = fillString === undefined ? ' ' : String(fillString);
  var intMaxLength = toLength(maxLength);
  if (intMaxLength <= stringLength || fillStr == '') return S;
  var fillLen = intMaxLength - stringLength;
  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);
  return left ? stringFiller + S : S + stringFiller;
};

},{"./_defined":135,"./_string-repeat":203,"./_to-length":209}],203:[function(require,module,exports){
'use strict';
var toInteger = require('./_to-integer');
var defined = require('./_defined');

module.exports = function repeat(count) {
  var str = String(defined(this));
  var res = '';
  var n = toInteger(count);
  if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;
  return res;
};

},{"./_defined":135,"./_to-integer":207}],204:[function(require,module,exports){
var ctx = require('./_ctx');
var invoke = require('./_invoke');
var html = require('./_html');
var cel = require('./_dom-create');
var global = require('./_global');
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (require('./_cof')(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};

},{"./_cof":128,"./_ctx":134,"./_dom-create":137,"./_global":146,"./_html":149,"./_invoke":152}],205:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":207}],206:[function(require,module,exports){
// https://tc39.github.io/ecma262/#sec-toindex
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
module.exports = function (it) {
  if (it === undefined) return 0;
  var number = toInteger(it);
  var length = toLength(number);
  if (number !== length) throw RangeError('Wrong length!');
  return length;
};

},{"./_to-integer":207,"./_to-length":209}],207:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],208:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./_iobject');
var defined = require('./_defined');
module.exports = function (it) {
  return IObject(defined(it));
};

},{"./_defined":135,"./_iobject":153}],209:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":207}],210:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":135}],211:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":157}],212:[function(require,module,exports){
'use strict';
if (require('./_descriptors')) {
  var LIBRARY = require('./_library');
  var global = require('./_global');
  var fails = require('./_fails');
  var $export = require('./_export');
  var $typed = require('./_typed');
  var $buffer = require('./_typed-buffer');
  var ctx = require('./_ctx');
  var anInstance = require('./_an-instance');
  var propertyDesc = require('./_property-desc');
  var hide = require('./_hide');
  var redefineAll = require('./_redefine-all');
  var toInteger = require('./_to-integer');
  var toLength = require('./_to-length');
  var toIndex = require('./_to-index');
  var toAbsoluteIndex = require('./_to-absolute-index');
  var toPrimitive = require('./_to-primitive');
  var has = require('./_has');
  var classof = require('./_classof');
  var isObject = require('./_is-object');
  var toObject = require('./_to-object');
  var isArrayIter = require('./_is-array-iter');
  var create = require('./_object-create');
  var getPrototypeOf = require('./_object-gpo');
  var gOPN = require('./_object-gopn').f;
  var getIterFn = require('./core.get-iterator-method');
  var uid = require('./_uid');
  var wks = require('./_wks');
  var createArrayMethod = require('./_array-methods');
  var createArrayIncludes = require('./_array-includes');
  var speciesConstructor = require('./_species-constructor');
  var ArrayIterators = require('./es6.array.iterator');
  var Iterators = require('./_iterators');
  var $iterDetect = require('./_iter-detect');
  var setSpecies = require('./_set-species');
  var arrayFill = require('./_array-fill');
  var arrayCopyWithin = require('./_array-copy-within');
  var $DP = require('./_object-dp');
  var $GOPD = require('./_object-gopd');
  var dP = $DP.f;
  var gOPD = $GOPD.f;
  var RangeError = global.RangeError;
  var TypeError = global.TypeError;
  var Uint8Array = global.Uint8Array;
  var ARRAY_BUFFER = 'ArrayBuffer';
  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;
  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
  var PROTOTYPE = 'prototype';
  var ArrayProto = Array[PROTOTYPE];
  var $ArrayBuffer = $buffer.ArrayBuffer;
  var $DataView = $buffer.DataView;
  var arrayForEach = createArrayMethod(0);
  var arrayFilter = createArrayMethod(2);
  var arraySome = createArrayMethod(3);
  var arrayEvery = createArrayMethod(4);
  var arrayFind = createArrayMethod(5);
  var arrayFindIndex = createArrayMethod(6);
  var arrayIncludes = createArrayIncludes(true);
  var arrayIndexOf = createArrayIncludes(false);
  var arrayValues = ArrayIterators.values;
  var arrayKeys = ArrayIterators.keys;
  var arrayEntries = ArrayIterators.entries;
  var arrayLastIndexOf = ArrayProto.lastIndexOf;
  var arrayReduce = ArrayProto.reduce;
  var arrayReduceRight = ArrayProto.reduceRight;
  var arrayJoin = ArrayProto.join;
  var arraySort = ArrayProto.sort;
  var arraySlice = ArrayProto.slice;
  var arrayToString = ArrayProto.toString;
  var arrayToLocaleString = ArrayProto.toLocaleString;
  var ITERATOR = wks('iterator');
  var TAG = wks('toStringTag');
  var TYPED_CONSTRUCTOR = uid('typed_constructor');
  var DEF_CONSTRUCTOR = uid('def_constructor');
  var ALL_CONSTRUCTORS = $typed.CONSTR;
  var TYPED_ARRAY = $typed.TYPED;
  var VIEW = $typed.VIEW;
  var WRONG_LENGTH = 'Wrong length!';

  var $map = createArrayMethod(1, function (O, length) {
    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);
  });

  var LITTLE_ENDIAN = fails(function () {
    // eslint-disable-next-line no-undef
    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;
  });

  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {
    new Uint8Array(1).set({});
  });

  var toOffset = function (it, BYTES) {
    var offset = toInteger(it);
    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');
    return offset;
  };

  var validate = function (it) {
    if (isObject(it) && TYPED_ARRAY in it) return it;
    throw TypeError(it + ' is not a typed array!');
  };

  var allocate = function (C, length) {
    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
      throw TypeError('It is not a typed array constructor!');
    } return new C(length);
  };

  var speciesFromList = function (O, list) {
    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);
  };

  var fromList = function (C, list) {
    var index = 0;
    var length = list.length;
    var result = allocate(C, length);
    while (length > index) result[index] = list[index++];
    return result;
  };

  var addGetter = function (it, key, internal) {
    dP(it, key, { get: function () { return this._d[internal]; } });
  };

  var $from = function from(source /* , mapfn, thisArg */) {
    var O = toObject(source);
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var iterFn = getIterFn(O);
    var i, length, values, result, step, iterator;
    if (iterFn != undefined && !isArrayIter(iterFn)) {
      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
        values.push(step.value);
      } O = values;
    }
    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);
    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
      result[i] = mapping ? mapfn(O[i], i) : O[i];
    }
    return result;
  };

  var $of = function of(/* ...items */) {
    var index = 0;
    var length = arguments.length;
    var result = allocate(this, length);
    while (length > index) result[index] = arguments[index++];
    return result;
  };

  // iOS Safari 6.x fails here
  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });

  var $toLocaleString = function toLocaleString() {
    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);
  };

  var proto = {
    copyWithin: function copyWithin(target, start /* , end */) {
      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
    },
    every: function every(callbackfn /* , thisArg */) {
      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars
      return arrayFill.apply(validate(this), arguments);
    },
    filter: function filter(callbackfn /* , thisArg */) {
      return speciesFromList(this, arrayFilter(validate(this), callbackfn,
        arguments.length > 1 ? arguments[1] : undefined));
    },
    find: function find(predicate /* , thisArg */) {
      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    findIndex: function findIndex(predicate /* , thisArg */) {
      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    forEach: function forEach(callbackfn /* , thisArg */) {
      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    indexOf: function indexOf(searchElement /* , fromIndex */) {
      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    includes: function includes(searchElement /* , fromIndex */) {
      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    join: function join(separator) { // eslint-disable-line no-unused-vars
      return arrayJoin.apply(validate(this), arguments);
    },
    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars
      return arrayLastIndexOf.apply(validate(this), arguments);
    },
    map: function map(mapfn /* , thisArg */) {
      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduce.apply(validate(this), arguments);
    },
    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduceRight.apply(validate(this), arguments);
    },
    reverse: function reverse() {
      var that = this;
      var length = validate(that).length;
      var middle = Math.floor(length / 2);
      var index = 0;
      var value;
      while (index < middle) {
        value = that[index];
        that[index++] = that[--length];
        that[length] = value;
      } return that;
    },
    some: function some(callbackfn /* , thisArg */) {
      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    sort: function sort(comparefn) {
      return arraySort.call(validate(this), comparefn);
    },
    subarray: function subarray(begin, end) {
      var O = validate(this);
      var length = O.length;
      var $begin = toAbsoluteIndex(begin, length);
      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(
        O.buffer,
        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,
        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)
      );
    }
  };

  var $slice = function slice(start, end) {
    return speciesFromList(this, arraySlice.call(validate(this), start, end));
  };

  var $set = function set(arrayLike /* , offset */) {
    validate(this);
    var offset = toOffset(arguments[1], 1);
    var length = this.length;
    var src = toObject(arrayLike);
    var len = toLength(src.length);
    var index = 0;
    if (len + offset > length) throw RangeError(WRONG_LENGTH);
    while (index < len) this[offset + index] = src[index++];
  };

  var $iterators = {
    entries: function entries() {
      return arrayEntries.call(validate(this));
    },
    keys: function keys() {
      return arrayKeys.call(validate(this));
    },
    values: function values() {
      return arrayValues.call(validate(this));
    }
  };

  var isTAIndex = function (target, key) {
    return isObject(target)
      && target[TYPED_ARRAY]
      && typeof key != 'symbol'
      && key in target
      && String(+key) == String(key);
  };
  var $getDesc = function getOwnPropertyDescriptor(target, key) {
    return isTAIndex(target, key = toPrimitive(key, true))
      ? propertyDesc(2, target[key])
      : gOPD(target, key);
  };
  var $setDesc = function defineProperty(target, key, desc) {
    if (isTAIndex(target, key = toPrimitive(key, true))
      && isObject(desc)
      && has(desc, 'value')
      && !has(desc, 'get')
      && !has(desc, 'set')
      // TODO: add validation descriptor w/o calling accessors
      && !desc.configurable
      && (!has(desc, 'writable') || desc.writable)
      && (!has(desc, 'enumerable') || desc.enumerable)
    ) {
      target[key] = desc.value;
      return target;
    } return dP(target, key, desc);
  };

  if (!ALL_CONSTRUCTORS) {
    $GOPD.f = $getDesc;
    $DP.f = $setDesc;
  }

  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {
    getOwnPropertyDescriptor: $getDesc,
    defineProperty: $setDesc
  });

  if (fails(function () { arrayToString.call({}); })) {
    arrayToString = arrayToLocaleString = function toString() {
      return arrayJoin.call(this);
    };
  }

  var $TypedArrayPrototype$ = redefineAll({}, proto);
  redefineAll($TypedArrayPrototype$, $iterators);
  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
  redefineAll($TypedArrayPrototype$, {
    slice: $slice,
    set: $set,
    constructor: function () { /* noop */ },
    toString: arrayToString,
    toLocaleString: $toLocaleString
  });
  addGetter($TypedArrayPrototype$, 'buffer', 'b');
  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');
  addGetter($TypedArrayPrototype$, 'byteLength', 'l');
  addGetter($TypedArrayPrototype$, 'length', 'e');
  dP($TypedArrayPrototype$, TAG, {
    get: function () { return this[TYPED_ARRAY]; }
  });

  // eslint-disable-next-line max-statements
  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {
    CLAMPED = !!CLAMPED;
    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';
    var GETTER = 'get' + KEY;
    var SETTER = 'set' + KEY;
    var TypedArray = global[NAME];
    var Base = TypedArray || {};
    var TAC = TypedArray && getPrototypeOf(TypedArray);
    var FORCED = !TypedArray || !$typed.ABV;
    var O = {};
    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
    var getter = function (that, index) {
      var data = that._d;
      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);
    };
    var setter = function (that, index, value) {
      var data = that._d;
      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;
      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);
    };
    var addElement = function (that, index) {
      dP(that, index, {
        get: function () {
          return getter(this, index);
        },
        set: function (value) {
          return setter(this, index, value);
        },
        enumerable: true
      });
    };
    if (FORCED) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME, '_d');
        var index = 0;
        var offset = 0;
        var buffer, byteLength, length, klass;
        if (!isObject(data)) {
          length = toIndex(data);
          byteLength = length * BYTES;
          buffer = new $ArrayBuffer(byteLength);
        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          buffer = data;
          offset = toOffset($offset, BYTES);
          var $len = data.byteLength;
          if ($length === undefined) {
            if ($len % BYTES) throw RangeError(WRONG_LENGTH);
            byteLength = $len - offset;
            if (byteLength < 0) throw RangeError(WRONG_LENGTH);
          } else {
            byteLength = toLength($length) * BYTES;
            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);
          }
          length = byteLength / BYTES;
        } else if (TYPED_ARRAY in data) {
          return fromList(TypedArray, data);
        } else {
          return $from.call(TypedArray, data);
        }
        hide(that, '_d', {
          b: buffer,
          o: offset,
          l: byteLength,
          e: length,
          v: new $DataView(buffer)
        });
        while (index < length) addElement(that, index++);
      });
      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
      hide(TypedArrayPrototype, 'constructor', TypedArray);
    } else if (!fails(function () {
      TypedArray(1);
    }) || !fails(function () {
      new TypedArray(-1); // eslint-disable-line no-new
    }) || !$iterDetect(function (iter) {
      new TypedArray(); // eslint-disable-line no-new
      new TypedArray(null); // eslint-disable-line no-new
      new TypedArray(1.5); // eslint-disable-line no-new
      new TypedArray(iter); // eslint-disable-line no-new
    }, true)) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME);
        var klass;
        // `ws` module bug, temporarily remove validation length for Uint8Array
        // https://github.com/websockets/ws/pull/645
        if (!isObject(data)) return new Base(toIndex(data));
        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          return $length !== undefined
            ? new Base(data, toOffset($offset, BYTES), $length)
            : $offset !== undefined
              ? new Base(data, toOffset($offset, BYTES))
              : new Base(data);
        }
        if (TYPED_ARRAY in data) return fromList(TypedArray, data);
        return $from.call(TypedArray, data);
      });
      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {
        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);
      });
      TypedArray[PROTOTYPE] = TypedArrayPrototype;
      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;
    }
    var $nativeIterator = TypedArrayPrototype[ITERATOR];
    var CORRECT_ITER_NAME = !!$nativeIterator
      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);
    var $iterator = $iterators.values;
    hide(TypedArray, TYPED_CONSTRUCTOR, true);
    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
    hide(TypedArrayPrototype, VIEW, true);
    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);

    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
      dP(TypedArrayPrototype, TAG, {
        get: function () { return NAME; }
      });
    }

    O[NAME] = TypedArray;

    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);

    $export($export.S, NAME, {
      BYTES_PER_ELEMENT: BYTES
    });

    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {
      from: $from,
      of: $of
    });

    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);

    $export($export.P, NAME, proto);

    setSpecies(NAME);

    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });

    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);

    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;

    $export($export.P + $export.F * fails(function () {
      new TypedArray(1).slice();
    }), NAME, { slice: $slice });

    $export($export.P + $export.F * (fails(function () {
      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();
    }) || !fails(function () {
      TypedArrayPrototype.toLocaleString.call([1, 2]);
    })), NAME, { toLocaleString: $toLocaleString });

    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);
  };
} else module.exports = function () { /* empty */ };

},{"./_an-instance":118,"./_array-copy-within":120,"./_array-fill":121,"./_array-includes":122,"./_array-methods":123,"./_classof":127,"./_ctx":134,"./_descriptors":136,"./_export":140,"./_fails":142,"./_global":146,"./_has":147,"./_hide":148,"./_is-array-iter":154,"./_is-object":157,"./_iter-detect":162,"./_iterators":164,"./_library":165,"./_object-create":174,"./_object-dp":175,"./_object-gopd":177,"./_object-gopn":179,"./_object-gpo":181,"./_property-desc":190,"./_redefine-all":191,"./_set-species":195,"./_species-constructor":199,"./_to-absolute-index":205,"./_to-index":206,"./_to-integer":207,"./_to-length":209,"./_to-object":210,"./_to-primitive":211,"./_typed":214,"./_typed-buffer":213,"./_uid":215,"./_wks":220,"./core.get-iterator-method":221,"./es6.array.iterator":227}],213:[function(require,module,exports){
'use strict';
var global = require('./_global');
var DESCRIPTORS = require('./_descriptors');
var LIBRARY = require('./_library');
var $typed = require('./_typed');
var hide = require('./_hide');
var redefineAll = require('./_redefine-all');
var fails = require('./_fails');
var anInstance = require('./_an-instance');
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
var toIndex = require('./_to-index');
var gOPN = require('./_object-gopn').f;
var dP = require('./_object-dp').f;
var arrayFill = require('./_array-fill');
var setToStringTag = require('./_set-to-string-tag');
var ARRAY_BUFFER = 'ArrayBuffer';
var DATA_VIEW = 'DataView';
var PROTOTYPE = 'prototype';
var WRONG_LENGTH = 'Wrong length!';
var WRONG_INDEX = 'Wrong index!';
var $ArrayBuffer = global[ARRAY_BUFFER];
var $DataView = global[DATA_VIEW];
var Math = global.Math;
var RangeError = global.RangeError;
// eslint-disable-next-line no-shadow-restricted-names
var Infinity = global.Infinity;
var BaseBuffer = $ArrayBuffer;
var abs = Math.abs;
var pow = Math.pow;
var floor = Math.floor;
var log = Math.log;
var LN2 = Math.LN2;
var BUFFER = 'buffer';
var BYTE_LENGTH = 'byteLength';
var BYTE_OFFSET = 'byteOffset';
var $BUFFER = DESCRIPTORS ? '_b' : BUFFER;
var $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;
var $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;

// IEEE754 conversions based on https://github.com/feross/ieee754
function packIEEE754(value, mLen, nBytes) {
  var buffer = new Array(nBytes);
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;
  var i = 0;
  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
  var e, m, c;
  value = abs(value);
  // eslint-disable-next-line no-self-compare
  if (value != value || value === Infinity) {
    // eslint-disable-next-line no-self-compare
    m = value != value ? 1 : 0;
    e = eMax;
  } else {
    e = floor(log(value) / LN2);
    if (value * (c = pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }
    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * pow(2, eBias - 1) * pow(2, mLen);
      e = 0;
    }
  }
  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);
  e = e << mLen | m;
  eLen += mLen;
  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);
  buffer[--i] |= s * 128;
  return buffer;
}
function unpackIEEE754(buffer, mLen, nBytes) {
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = eLen - 7;
  var i = nBytes - 1;
  var s = buffer[i--];
  var e = s & 127;
  var m;
  s >>= 7;
  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);
  m = e & (1 << -nBits) - 1;
  e >>= -nBits;
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);
  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : s ? -Infinity : Infinity;
  } else {
    m = m + pow(2, mLen);
    e = e - eBias;
  } return (s ? -1 : 1) * m * pow(2, e - mLen);
}

function unpackI32(bytes) {
  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];
}
function packI8(it) {
  return [it & 0xff];
}
function packI16(it) {
  return [it & 0xff, it >> 8 & 0xff];
}
function packI32(it) {
  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];
}
function packF64(it) {
  return packIEEE754(it, 52, 8);
}
function packF32(it) {
  return packIEEE754(it, 23, 4);
}

function addGetter(C, key, internal) {
  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });
}

function get(view, bytes, index, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = store.slice(start, start + bytes);
  return isLittleEndian ? pack : pack.reverse();
}
function set(view, bytes, index, conversion, value, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = conversion(+value);
  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];
}

if (!$typed.ABV) {
  $ArrayBuffer = function ArrayBuffer(length) {
    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
    var byteLength = toIndex(length);
    this._b = arrayFill.call(new Array(byteLength), 0);
    this[$LENGTH] = byteLength;
  };

  $DataView = function DataView(buffer, byteOffset, byteLength) {
    anInstance(this, $DataView, DATA_VIEW);
    anInstance(buffer, $ArrayBuffer, DATA_VIEW);
    var bufferLength = buffer[$LENGTH];
    var offset = toInteger(byteOffset);
    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');
    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);
    this[$BUFFER] = buffer;
    this[$OFFSET] = offset;
    this[$LENGTH] = byteLength;
  };

  if (DESCRIPTORS) {
    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');
    addGetter($DataView, BUFFER, '_b');
    addGetter($DataView, BYTE_LENGTH, '_l');
    addGetter($DataView, BYTE_OFFSET, '_o');
  }

  redefineAll($DataView[PROTOTYPE], {
    getInt8: function getInt8(byteOffset) {
      return get(this, 1, byteOffset)[0] << 24 >> 24;
    },
    getUint8: function getUint8(byteOffset) {
      return get(this, 1, byteOffset)[0];
    },
    getInt16: function getInt16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
    },
    getUint16: function getUint16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return bytes[1] << 8 | bytes[0];
    },
    getInt32: function getInt32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1]));
    },
    getUint32: function getUint32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;
    },
    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);
    },
    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);
    },
    setInt8: function setInt8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setUint8: function setUint8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packF32, value, arguments[2]);
    },
    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {
      set(this, 8, byteOffset, packF64, value, arguments[2]);
    }
  });
} else {
  if (!fails(function () {
    $ArrayBuffer(1);
  }) || !fails(function () {
    new $ArrayBuffer(-1); // eslint-disable-line no-new
  }) || fails(function () {
    new $ArrayBuffer(); // eslint-disable-line no-new
    new $ArrayBuffer(1.5); // eslint-disable-line no-new
    new $ArrayBuffer(NaN); // eslint-disable-line no-new
    return $ArrayBuffer.name != ARRAY_BUFFER;
  })) {
    $ArrayBuffer = function ArrayBuffer(length) {
      anInstance(this, $ArrayBuffer);
      return new BaseBuffer(toIndex(length));
    };
    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {
      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);
    }
    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;
  }
  // iOS Safari 7.x bug
  var view = new $DataView(new $ArrayBuffer(2));
  var $setInt8 = $DataView[PROTOTYPE].setInt8;
  view.setInt8(0, 2147483648);
  view.setInt8(1, 2147483649);
  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {
    setInt8: function setInt8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    },
    setUint8: function setUint8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    }
  }, true);
}
setToStringTag($ArrayBuffer, ARRAY_BUFFER);
setToStringTag($DataView, DATA_VIEW);
hide($DataView[PROTOTYPE], $typed.VIEW, true);
exports[ARRAY_BUFFER] = $ArrayBuffer;
exports[DATA_VIEW] = $DataView;

},{"./_an-instance":118,"./_array-fill":121,"./_descriptors":136,"./_fails":142,"./_global":146,"./_hide":148,"./_library":165,"./_object-dp":175,"./_object-gopn":179,"./_redefine-all":191,"./_set-to-string-tag":196,"./_to-index":206,"./_to-integer":207,"./_to-length":209,"./_typed":214}],214:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var uid = require('./_uid');
var TYPED = uid('typed_array');
var VIEW = uid('view');
var ABV = !!(global.ArrayBuffer && global.DataView);
var CONSTR = ABV;
var i = 0;
var l = 9;
var Typed;

var TypedArrayConstructors = (
  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'
).split(',');

while (i < l) {
  if (Typed = global[TypedArrayConstructors[i++]]) {
    hide(Typed.prototype, TYPED, true);
    hide(Typed.prototype, VIEW, true);
  } else CONSTR = false;
}

module.exports = {
  ABV: ABV,
  CONSTR: CONSTR,
  TYPED: TYPED,
  VIEW: VIEW
};

},{"./_global":146,"./_hide":148,"./_uid":215}],215:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],216:[function(require,module,exports){
var global = require('./_global');
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';

},{"./_global":146}],217:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it, TYPE) {
  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');
  return it;
};

},{"./_is-object":157}],218:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var LIBRARY = require('./_library');
var wksExt = require('./_wks-ext');
var defineProperty = require('./_object-dp').f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};

},{"./_core":132,"./_global":146,"./_library":165,"./_object-dp":175,"./_wks-ext":219}],219:[function(require,module,exports){
exports.f = require('./_wks');

},{"./_wks":220}],220:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":146,"./_shared":198,"./_uid":215}],221:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

},{"./_classof":127,"./_core":132,"./_iterators":164,"./_wks":220}],222:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });

require('./_add-to-unscopables')('copyWithin');

},{"./_add-to-unscopables":117,"./_array-copy-within":120,"./_export":140}],223:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { fill: require('./_array-fill') });

require('./_add-to-unscopables')('fill');

},{"./_add-to-unscopables":117,"./_array-fill":121,"./_export":140}],224:[function(require,module,exports){
'use strict';
// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(6);
var KEY = 'findIndex';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  findIndex: function findIndex(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":117,"./_array-methods":123,"./_export":140}],225:[function(require,module,exports){
'use strict';
// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(5);
var KEY = 'find';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":117,"./_array-methods":123,"./_export":140}],226:[function(require,module,exports){
'use strict';
var ctx = require('./_ctx');
var $export = require('./_export');
var toObject = require('./_to-object');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var toLength = require('./_to-length');
var createProperty = require('./_create-property');
var getIterFn = require('./core.get-iterator-method');

$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});

},{"./_create-property":133,"./_ctx":134,"./_export":140,"./_is-array-iter":154,"./_iter-call":159,"./_iter-detect":162,"./_to-length":209,"./_to-object":210,"./core.get-iterator-method":221}],227:[function(require,module,exports){
'use strict';
var addToUnscopables = require('./_add-to-unscopables');
var step = require('./_iter-step');
var Iterators = require('./_iterators');
var toIObject = require('./_to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

},{"./_add-to-unscopables":117,"./_iter-define":161,"./_iter-step":163,"./_iterators":164,"./_to-iobject":208}],228:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var createProperty = require('./_create-property');

// WebKit Array.of isn't generic
$export($export.S + $export.F * require('./_fails')(function () {
  function F() { /* empty */ }
  return !(Array.of.call(F) instanceof F);
}), 'Array', {
  // 22.1.2.3 Array.of( ...items)
  of: function of(/* ...args */) {
    var index = 0;
    var aLen = arguments.length;
    var result = new (typeof this == 'function' ? this : Array)(aLen);
    while (aLen > index) createProperty(result, index, arguments[index++]);
    result.length = aLen;
    return result;
  }
});

},{"./_create-property":133,"./_export":140,"./_fails":142}],229:[function(require,module,exports){
var dP = require('./_object-dp').f;
var FProto = Function.prototype;
var nameRE = /^\s*function ([^ (]*)/;
var NAME = 'name';

// 19.2.4.2 name
NAME in FProto || require('./_descriptors') && dP(FProto, NAME, {
  configurable: true,
  get: function () {
    try {
      return ('' + this).match(nameRE)[1];
    } catch (e) {
      return '';
    }
  }
});

},{"./_descriptors":136,"./_object-dp":175}],230:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var MAP = 'Map';

// 23.1 Map Objects
module.exports = require('./_collection')(MAP, function (get) {
  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.1.3.6 Map.prototype.get(key)
  get: function get(key) {
    var entry = strong.getEntry(validate(this, MAP), key);
    return entry && entry.v;
  },
  // 23.1.3.9 Map.prototype.set(key, value)
  set: function set(key, value) {
    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);
  }
}, strong, true);

},{"./_collection":131,"./_collection-strong":129,"./_validate-collection":217}],231:[function(require,module,exports){
// 20.2.2.3 Math.acosh(x)
var $export = require('./_export');
var log1p = require('./_math-log1p');
var sqrt = Math.sqrt;
var $acosh = Math.acosh;

$export($export.S + $export.F * !($acosh
  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509
  && Math.floor($acosh(Number.MAX_VALUE)) == 710
  // Tor Browser bug: Math.acosh(Infinity) -> NaN
  && $acosh(Infinity) == Infinity
), 'Math', {
  acosh: function acosh(x) {
    return (x = +x) < 1 ? NaN : x > 94906265.62425156
      ? Math.log(x) + Math.LN2
      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
  }
});

},{"./_export":140,"./_math-log1p":168}],232:[function(require,module,exports){
// 20.2.2.5 Math.asinh(x)
var $export = require('./_export');
var $asinh = Math.asinh;

function asinh(x) {
  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));
}

// Tor Browser bug: Math.asinh(0) -> -0
$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });

},{"./_export":140}],233:[function(require,module,exports){
// 20.2.2.7 Math.atanh(x)
var $export = require('./_export');
var $atanh = Math.atanh;

// Tor Browser bug: Math.atanh(-0) -> 0
$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {
  atanh: function atanh(x) {
    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;
  }
});

},{"./_export":140}],234:[function(require,module,exports){
// 20.2.2.9 Math.cbrt(x)
var $export = require('./_export');
var sign = require('./_math-sign');

$export($export.S, 'Math', {
  cbrt: function cbrt(x) {
    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);
  }
});

},{"./_export":140,"./_math-sign":169}],235:[function(require,module,exports){
// 20.2.2.11 Math.clz32(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  clz32: function clz32(x) {
    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
  }
});

},{"./_export":140}],236:[function(require,module,exports){
// 20.2.2.12 Math.cosh(x)
var $export = require('./_export');
var exp = Math.exp;

$export($export.S, 'Math', {
  cosh: function cosh(x) {
    return (exp(x = +x) + exp(-x)) / 2;
  }
});

},{"./_export":140}],237:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $export = require('./_export');
var $expm1 = require('./_math-expm1');

$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });

},{"./_export":140,"./_math-expm1":166}],238:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var $export = require('./_export');

$export($export.S, 'Math', { fround: require('./_math-fround') });

},{"./_export":140,"./_math-fround":167}],239:[function(require,module,exports){
// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])
var $export = require('./_export');
var abs = Math.abs;

$export($export.S, 'Math', {
  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars
    var sum = 0;
    var i = 0;
    var aLen = arguments.length;
    var larg = 0;
    var arg, div;
    while (i < aLen) {
      arg = abs(arguments[i++]);
      if (larg < arg) {
        div = larg / arg;
        sum = sum * div * div + 1;
        larg = arg;
      } else if (arg > 0) {
        div = arg / larg;
        sum += div * div;
      } else sum += arg;
    }
    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
  }
});

},{"./_export":140}],240:[function(require,module,exports){
// 20.2.2.18 Math.imul(x, y)
var $export = require('./_export');
var $imul = Math.imul;

// some WebKit versions fails with big numbers, some has wrong arity
$export($export.S + $export.F * require('./_fails')(function () {
  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
}), 'Math', {
  imul: function imul(x, y) {
    var UINT16 = 0xffff;
    var xn = +x;
    var yn = +y;
    var xl = UINT16 & xn;
    var yl = UINT16 & yn;
    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
  }
});

},{"./_export":140,"./_fails":142}],241:[function(require,module,exports){
// 20.2.2.21 Math.log10(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log10: function log10(x) {
    return Math.log(x) * Math.LOG10E;
  }
});

},{"./_export":140}],242:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
var $export = require('./_export');

$export($export.S, 'Math', { log1p: require('./_math-log1p') });

},{"./_export":140,"./_math-log1p":168}],243:[function(require,module,exports){
// 20.2.2.22 Math.log2(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log2: function log2(x) {
    return Math.log(x) / Math.LN2;
  }
});

},{"./_export":140}],244:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $export = require('./_export');

$export($export.S, 'Math', { sign: require('./_math-sign') });

},{"./_export":140,"./_math-sign":169}],245:[function(require,module,exports){
// 20.2.2.30 Math.sinh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

// V8 near Chromium 38 has a problem with very small numbers
$export($export.S + $export.F * require('./_fails')(function () {
  return !Math.sinh(-2e-17) != -2e-17;
}), 'Math', {
  sinh: function sinh(x) {
    return Math.abs(x = +x) < 1
      ? (expm1(x) - expm1(-x)) / 2
      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);
  }
});

},{"./_export":140,"./_fails":142,"./_math-expm1":166}],246:[function(require,module,exports){
// 20.2.2.33 Math.tanh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

$export($export.S, 'Math', {
  tanh: function tanh(x) {
    var a = expm1(x = +x);
    var b = expm1(-x);
    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
  }
});

},{"./_export":140,"./_math-expm1":166}],247:[function(require,module,exports){
// 20.2.2.34 Math.trunc(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  trunc: function trunc(it) {
    return (it > 0 ? Math.floor : Math.ceil)(it);
  }
});

},{"./_export":140}],248:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $export = require('./_export');

$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });

},{"./_export":140}],249:[function(require,module,exports){
// 20.1.2.2 Number.isFinite(number)
var $export = require('./_export');
var _isFinite = require('./_global').isFinite;

$export($export.S, 'Number', {
  isFinite: function isFinite(it) {
    return typeof it == 'number' && _isFinite(it);
  }
});

},{"./_export":140,"./_global":146}],250:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var $export = require('./_export');

$export($export.S, 'Number', { isInteger: require('./_is-integer') });

},{"./_export":140,"./_is-integer":156}],251:[function(require,module,exports){
// 20.1.2.4 Number.isNaN(number)
var $export = require('./_export');

$export($export.S, 'Number', {
  isNaN: function isNaN(number) {
    // eslint-disable-next-line no-self-compare
    return number != number;
  }
});

},{"./_export":140}],252:[function(require,module,exports){
// 20.1.2.5 Number.isSafeInteger(number)
var $export = require('./_export');
var isInteger = require('./_is-integer');
var abs = Math.abs;

$export($export.S, 'Number', {
  isSafeInteger: function isSafeInteger(number) {
    return isInteger(number) && abs(number) <= 0x1fffffffffffff;
  }
});

},{"./_export":140,"./_is-integer":156}],253:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });

},{"./_export":140}],254:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });

},{"./_export":140}],255:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $export = require('./_export');

$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });

},{"./_export":140,"./_object-assign":173}],256:[function(require,module,exports){
// 19.1.2.5 Object.freeze(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('freeze', function ($freeze) {
  return function freeze(it) {
    return $freeze && isObject(it) ? $freeze(meta(it)) : it;
  };
});

},{"./_is-object":157,"./_meta":170,"./_object-sap":185}],257:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./_to-iobject');
var $getOwnPropertyDescriptor = require('./_object-gopd').f;

require('./_object-sap')('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});

},{"./_object-gopd":177,"./_object-sap":185,"./_to-iobject":208}],258:[function(require,module,exports){
// 19.1.2.7 Object.getOwnPropertyNames(O)
require('./_object-sap')('getOwnPropertyNames', function () {
  return require('./_object-gopn-ext').f;
});

},{"./_object-gopn-ext":178,"./_object-sap":185}],259:[function(require,module,exports){
// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = require('./_to-object');
var $getPrototypeOf = require('./_object-gpo');

require('./_object-sap')('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});

},{"./_object-gpo":181,"./_object-sap":185,"./_to-object":210}],260:[function(require,module,exports){
// 19.1.2.11 Object.isExtensible(O)
var isObject = require('./_is-object');

require('./_object-sap')('isExtensible', function ($isExtensible) {
  return function isExtensible(it) {
    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;
  };
});

},{"./_is-object":157,"./_object-sap":185}],261:[function(require,module,exports){
// 19.1.2.12 Object.isFrozen(O)
var isObject = require('./_is-object');

require('./_object-sap')('isFrozen', function ($isFrozen) {
  return function isFrozen(it) {
    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;
  };
});

},{"./_is-object":157,"./_object-sap":185}],262:[function(require,module,exports){
// 19.1.2.13 Object.isSealed(O)
var isObject = require('./_is-object');

require('./_object-sap')('isSealed', function ($isSealed) {
  return function isSealed(it) {
    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;
  };
});

},{"./_is-object":157,"./_object-sap":185}],263:[function(require,module,exports){
// 19.1.3.10 Object.is(value1, value2)
var $export = require('./_export');
$export($export.S, 'Object', { is: require('./_same-value') });

},{"./_export":140,"./_same-value":193}],264:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./_to-object');
var $keys = require('./_object-keys');

require('./_object-sap')('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});

},{"./_object-keys":183,"./_object-sap":185,"./_to-object":210}],265:[function(require,module,exports){
// 19.1.2.15 Object.preventExtensions(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('preventExtensions', function ($preventExtensions) {
  return function preventExtensions(it) {
    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;
  };
});

},{"./_is-object":157,"./_meta":170,"./_object-sap":185}],266:[function(require,module,exports){
// 19.1.2.17 Object.seal(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('seal', function ($seal) {
  return function seal(it) {
    return $seal && isObject(it) ? $seal(meta(it)) : it;
  };
});

},{"./_is-object":157,"./_meta":170,"./_object-sap":185}],267:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = require('./_export');
$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });

},{"./_export":140,"./_set-proto":194}],268:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var global = require('./_global');
var ctx = require('./_ctx');
var classof = require('./_classof');
var $export = require('./_export');
var isObject = require('./_is-object');
var aFunction = require('./_a-function');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var speciesConstructor = require('./_species-constructor');
var task = require('./_task').set;
var microtask = require('./_microtask')();
var newPromiseCapabilityModule = require('./_new-promise-capability');
var perform = require('./_perform');
var userAgent = require('./_user-agent');
var promiseResolve = require('./_promise-resolve');
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = require('./_redefine-all')($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
require('./_set-to-string-tag')($Promise, PROMISE);
require('./_set-species')(PROMISE);
Wrapper = require('./_core')[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});

},{"./_a-function":116,"./_an-instance":118,"./_classof":127,"./_core":132,"./_ctx":134,"./_export":140,"./_for-of":145,"./_global":146,"./_is-object":157,"./_iter-detect":162,"./_library":165,"./_microtask":171,"./_new-promise-capability":172,"./_perform":188,"./_promise-resolve":189,"./_redefine-all":191,"./_set-species":195,"./_set-to-string-tag":196,"./_species-constructor":199,"./_task":204,"./_user-agent":216,"./_wks":220}],269:[function(require,module,exports){
// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)
var $export = require('./_export');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var rApply = (require('./_global').Reflect || {}).apply;
var fApply = Function.apply;
// MS Edge argumentsList argument is optional
$export($export.S + $export.F * !require('./_fails')(function () {
  rApply(function () { /* empty */ });
}), 'Reflect', {
  apply: function apply(target, thisArgument, argumentsList) {
    var T = aFunction(target);
    var L = anObject(argumentsList);
    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);
  }
});

},{"./_a-function":116,"./_an-object":119,"./_export":140,"./_fails":142,"./_global":146}],270:[function(require,module,exports){
// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])
var $export = require('./_export');
var create = require('./_object-create');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var fails = require('./_fails');
var bind = require('./_bind');
var rConstruct = (require('./_global').Reflect || {}).construct;

// MS Edge supports only 2 arguments and argumentsList argument is optional
// FF Nightly sets third argument as `new.target`, but does not create `this` from it
var NEW_TARGET_BUG = fails(function () {
  function F() { /* empty */ }
  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);
});
var ARGS_BUG = !fails(function () {
  rConstruct(function () { /* empty */ });
});

$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {
  construct: function construct(Target, args /* , newTarget */) {
    aFunction(Target);
    anObject(args);
    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);
    if (Target == newTarget) {
      // w/o altered newTarget, optimization for 0-4 arguments
      switch (args.length) {
        case 0: return new Target();
        case 1: return new Target(args[0]);
        case 2: return new Target(args[0], args[1]);
        case 3: return new Target(args[0], args[1], args[2]);
        case 4: return new Target(args[0], args[1], args[2], args[3]);
      }
      // w/o altered newTarget, lot of arguments case
      var $args = [null];
      $args.push.apply($args, args);
      return new (bind.apply(Target, $args))();
    }
    // with altered newTarget, not support built-in constructors
    var proto = newTarget.prototype;
    var instance = create(isObject(proto) ? proto : Object.prototype);
    var result = Function.apply.call(Target, instance, args);
    return isObject(result) ? result : instance;
  }
});

},{"./_a-function":116,"./_an-object":119,"./_bind":126,"./_export":140,"./_fails":142,"./_global":146,"./_is-object":157,"./_object-create":174}],271:[function(require,module,exports){
// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)
var dP = require('./_object-dp');
var $export = require('./_export');
var anObject = require('./_an-object');
var toPrimitive = require('./_to-primitive');

// MS Edge has broken Reflect.defineProperty - throwing instead of returning false
$export($export.S + $export.F * require('./_fails')(function () {
  // eslint-disable-next-line no-undef
  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });
}), 'Reflect', {
  defineProperty: function defineProperty(target, propertyKey, attributes) {
    anObject(target);
    propertyKey = toPrimitive(propertyKey, true);
    anObject(attributes);
    try {
      dP.f(target, propertyKey, attributes);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":119,"./_export":140,"./_fails":142,"./_object-dp":175,"./_to-primitive":211}],272:[function(require,module,exports){
// 26.1.4 Reflect.deleteProperty(target, propertyKey)
var $export = require('./_export');
var gOPD = require('./_object-gopd').f;
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  deleteProperty: function deleteProperty(target, propertyKey) {
    var desc = gOPD(anObject(target), propertyKey);
    return desc && !desc.configurable ? false : delete target[propertyKey];
  }
});

},{"./_an-object":119,"./_export":140,"./_object-gopd":177}],273:[function(require,module,exports){
// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)
var gOPD = require('./_object-gopd');
var $export = require('./_export');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
    return gOPD.f(anObject(target), propertyKey);
  }
});

},{"./_an-object":119,"./_export":140,"./_object-gopd":177}],274:[function(require,module,exports){
// 26.1.8 Reflect.getPrototypeOf(target)
var $export = require('./_export');
var getProto = require('./_object-gpo');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getPrototypeOf: function getPrototypeOf(target) {
    return getProto(anObject(target));
  }
});

},{"./_an-object":119,"./_export":140,"./_object-gpo":181}],275:[function(require,module,exports){
// 26.1.6 Reflect.get(target, propertyKey [, receiver])
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var isObject = require('./_is-object');
var anObject = require('./_an-object');

function get(target, propertyKey /* , receiver */) {
  var receiver = arguments.length < 3 ? target : arguments[2];
  var desc, proto;
  if (anObject(target) === receiver) return target[propertyKey];
  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')
    ? desc.value
    : desc.get !== undefined
      ? desc.get.call(receiver)
      : undefined;
  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);
}

$export($export.S, 'Reflect', { get: get });

},{"./_an-object":119,"./_export":140,"./_has":147,"./_is-object":157,"./_object-gopd":177,"./_object-gpo":181}],276:[function(require,module,exports){
// 26.1.9 Reflect.has(target, propertyKey)
var $export = require('./_export');

$export($export.S, 'Reflect', {
  has: function has(target, propertyKey) {
    return propertyKey in target;
  }
});

},{"./_export":140}],277:[function(require,module,exports){
// 26.1.10 Reflect.isExtensible(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $isExtensible = Object.isExtensible;

$export($export.S, 'Reflect', {
  isExtensible: function isExtensible(target) {
    anObject(target);
    return $isExtensible ? $isExtensible(target) : true;
  }
});

},{"./_an-object":119,"./_export":140}],278:[function(require,module,exports){
// 26.1.11 Reflect.ownKeys(target)
var $export = require('./_export');

$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });

},{"./_export":140,"./_own-keys":187}],279:[function(require,module,exports){
// 26.1.12 Reflect.preventExtensions(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $preventExtensions = Object.preventExtensions;

$export($export.S, 'Reflect', {
  preventExtensions: function preventExtensions(target) {
    anObject(target);
    try {
      if ($preventExtensions) $preventExtensions(target);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":119,"./_export":140}],280:[function(require,module,exports){
// 26.1.14 Reflect.setPrototypeOf(target, proto)
var $export = require('./_export');
var setProto = require('./_set-proto');

if (setProto) $export($export.S, 'Reflect', {
  setPrototypeOf: function setPrototypeOf(target, proto) {
    setProto.check(target, proto);
    try {
      setProto.set(target, proto);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_export":140,"./_set-proto":194}],281:[function(require,module,exports){
// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])
var dP = require('./_object-dp');
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var createDesc = require('./_property-desc');
var anObject = require('./_an-object');
var isObject = require('./_is-object');

function set(target, propertyKey, V /* , receiver */) {
  var receiver = arguments.length < 4 ? target : arguments[3];
  var ownDesc = gOPD.f(anObject(target), propertyKey);
  var existingDescriptor, proto;
  if (!ownDesc) {
    if (isObject(proto = getPrototypeOf(target))) {
      return set(proto, propertyKey, V, receiver);
    }
    ownDesc = createDesc(0);
  }
  if (has(ownDesc, 'value')) {
    if (ownDesc.writable === false || !isObject(receiver)) return false;
    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {
      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
      existingDescriptor.value = V;
      dP.f(receiver, propertyKey, existingDescriptor);
    } else dP.f(receiver, propertyKey, createDesc(0, V));
    return true;
  }
  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);
}

$export($export.S, 'Reflect', { set: set });

},{"./_an-object":119,"./_export":140,"./_has":147,"./_is-object":157,"./_object-dp":175,"./_object-gopd":177,"./_object-gpo":181,"./_property-desc":190}],282:[function(require,module,exports){
// 21.2.5.3 get RegExp.prototype.flags()
if (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {
  configurable: true,
  get: require('./_flags')
});

},{"./_descriptors":136,"./_flags":144,"./_object-dp":175}],283:[function(require,module,exports){
// @@match logic
require('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {
  // 21.1.3.11 String.prototype.match(regexp)
  return [function match(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[MATCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
  }, $match];
});

},{"./_fix-re-wks":143}],284:[function(require,module,exports){
// @@replace logic
require('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {
  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)
  return [function replace(searchValue, replaceValue) {
    'use strict';
    var O = defined(this);
    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];
    return fn !== undefined
      ? fn.call(searchValue, O, replaceValue)
      : $replace.call(String(O), searchValue, replaceValue);
  }, $replace];
});

},{"./_fix-re-wks":143}],285:[function(require,module,exports){
// @@search logic
require('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {
  // 21.1.3.15 String.prototype.search(regexp)
  return [function search(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[SEARCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
  }, $search];
});

},{"./_fix-re-wks":143}],286:[function(require,module,exports){
// @@split logic
require('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {
  'use strict';
  var isRegExp = require('./_is-regexp');
  var _split = $split;
  var $push = [].push;
  var $SPLIT = 'split';
  var LENGTH = 'length';
  var LAST_INDEX = 'lastIndex';
  if (
    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||
    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||
    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||
    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||
    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||
    ''[$SPLIT](/.?/)[LENGTH]
  ) {
    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group
    // based on es5-shim implementation, need to rework it
    $split = function (separator, limit) {
      var string = String(this);
      if (separator === undefined && limit === 0) return [];
      // If `separator` is not a regex, use native split
      if (!isRegExp(separator)) return _split.call(string, separator, limit);
      var output = [];
      var flags = (separator.ignoreCase ? 'i' : '') +
                  (separator.multiline ? 'm' : '') +
                  (separator.unicode ? 'u' : '') +
                  (separator.sticky ? 'y' : '');
      var lastLastIndex = 0;
      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;
      // Make `global` and avoid `lastIndex` issues by working with a copy
      var separatorCopy = new RegExp(separator.source, flags + 'g');
      var separator2, match, lastIndex, lastLength, i;
      // Doesn't need flags gy, but they don't hurt
      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\s)', flags);
      while (match = separatorCopy.exec(string)) {
        // `separatorCopy.lastIndex` is not reliable cross-browser
        lastIndex = match.index + match[0][LENGTH];
        if (lastIndex > lastLastIndex) {
          output.push(string.slice(lastLastIndex, match.index));
          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG
          // eslint-disable-next-line no-loop-func
          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {
            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;
          });
          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));
          lastLength = match[0][LENGTH];
          lastLastIndex = lastIndex;
          if (output[LENGTH] >= splitLimit) break;
        }
        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop
      }
      if (lastLastIndex === string[LENGTH]) {
        if (lastLength || !separatorCopy.test('')) output.push('');
      } else output.push(string.slice(lastLastIndex));
      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;
    };
  // Chakra, V8
  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {
    $split = function (separator, limit) {
      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);
    };
  }
  // 21.1.3.17 String.prototype.split(separator, limit)
  return [function split(separator, limit) {
    var O = defined(this);
    var fn = separator == undefined ? undefined : separator[SPLIT];
    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);
  }, $split];
});

},{"./_fix-re-wks":143,"./_is-regexp":158}],287:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var SET = 'Set';

// 23.2 Set Objects
module.exports = require('./_collection')(SET, function (get) {
  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.2.3.1 Set.prototype.add(value)
  add: function add(value) {
    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);
  }
}, strong);

},{"./_collection":131,"./_collection-strong":129,"./_validate-collection":217}],288:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $at = require('./_string-at')(false);
$export($export.P, 'String', {
  // 21.1.3.3 String.prototype.codePointAt(pos)
  codePointAt: function codePointAt(pos) {
    return $at(this, pos);
  }
});

},{"./_export":140,"./_string-at":200}],289:[function(require,module,exports){
// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var ENDS_WITH = 'endsWith';
var $endsWith = ''[ENDS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {
  endsWith: function endsWith(searchString /* , endPosition = @length */) {
    var that = context(this, searchString, ENDS_WITH);
    var endPosition = arguments.length > 1 ? arguments[1] : undefined;
    var len = toLength(that.length);
    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);
    var search = String(searchString);
    return $endsWith
      ? $endsWith.call(that, search, end)
      : that.slice(end - search.length, end) === search;
  }
});

},{"./_export":140,"./_fails-is-regexp":141,"./_string-context":201,"./_to-length":209}],290:[function(require,module,exports){
var $export = require('./_export');
var toAbsoluteIndex = require('./_to-absolute-index');
var fromCharCode = String.fromCharCode;
var $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars
    var res = [];
    var aLen = arguments.length;
    var i = 0;
    var code;
    while (aLen > i) {
      code = +arguments[i++];
      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});

},{"./_export":140,"./_to-absolute-index":205}],291:[function(require,module,exports){
// 21.1.3.7 String.prototype.includes(searchString, position = 0)
'use strict';
var $export = require('./_export');
var context = require('./_string-context');
var INCLUDES = 'includes';

$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~context(this, searchString, INCLUDES)
      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
  }
});

},{"./_export":140,"./_fails-is-regexp":141,"./_string-context":201}],292:[function(require,module,exports){
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');

$export($export.S, 'String', {
  // 21.1.2.4 String.raw(callSite, ...substitutions)
  raw: function raw(callSite) {
    var tpl = toIObject(callSite.raw);
    var len = toLength(tpl.length);
    var aLen = arguments.length;
    var res = [];
    var i = 0;
    while (len > i) {
      res.push(String(tpl[i++]));
      if (i < aLen) res.push(String(arguments[i]));
    } return res.join('');
  }
});

},{"./_export":140,"./_to-iobject":208,"./_to-length":209}],293:[function(require,module,exports){
var $export = require('./_export');

$export($export.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./_string-repeat')
});

},{"./_export":140,"./_string-repeat":203}],294:[function(require,module,exports){
// 21.1.3.18 String.prototype.startsWith(searchString [, position ])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var STARTS_WITH = 'startsWith';
var $startsWith = ''[STARTS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {
  startsWith: function startsWith(searchString /* , position = 0 */) {
    var that = context(this, searchString, STARTS_WITH);
    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));
    var search = String(searchString);
    return $startsWith
      ? $startsWith.call(that, search, index)
      : that.slice(index, index + search.length) === search;
  }
});

},{"./_export":140,"./_fails-is-regexp":141,"./_string-context":201,"./_to-length":209}],295:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var global = require('./_global');
var has = require('./_has');
var DESCRIPTORS = require('./_descriptors');
var $export = require('./_export');
var redefine = require('./_redefine');
var META = require('./_meta').KEY;
var $fails = require('./_fails');
var shared = require('./_shared');
var setToStringTag = require('./_set-to-string-tag');
var uid = require('./_uid');
var wks = require('./_wks');
var wksExt = require('./_wks-ext');
var wksDefine = require('./_wks-define');
var enumKeys = require('./_enum-keys');
var isArray = require('./_is-array');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var createDesc = require('./_property-desc');
var _create = require('./_object-create');
var gOPNExt = require('./_object-gopn-ext');
var $GOPD = require('./_object-gopd');
var $DP = require('./_object-dp');
var $keys = require('./_object-keys');
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;
  require('./_object-pie').f = $propertyIsEnumerable;
  require('./_object-gops').f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !require('./_library')) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

},{"./_an-object":119,"./_descriptors":136,"./_enum-keys":139,"./_export":140,"./_fails":142,"./_global":146,"./_has":147,"./_hide":148,"./_is-array":155,"./_is-object":157,"./_library":165,"./_meta":170,"./_object-create":174,"./_object-dp":175,"./_object-gopd":177,"./_object-gopn":179,"./_object-gopn-ext":178,"./_object-gops":180,"./_object-keys":183,"./_object-pie":184,"./_property-desc":190,"./_redefine":192,"./_set-to-string-tag":196,"./_shared":198,"./_to-iobject":208,"./_to-primitive":211,"./_uid":215,"./_wks":220,"./_wks-define":218,"./_wks-ext":219}],296:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $typed = require('./_typed');
var buffer = require('./_typed-buffer');
var anObject = require('./_an-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
var isObject = require('./_is-object');
var ArrayBuffer = require('./_global').ArrayBuffer;
var speciesConstructor = require('./_species-constructor');
var $ArrayBuffer = buffer.ArrayBuffer;
var $DataView = buffer.DataView;
var $isView = $typed.ABV && ArrayBuffer.isView;
var $slice = $ArrayBuffer.prototype.slice;
var VIEW = $typed.VIEW;
var ARRAY_BUFFER = 'ArrayBuffer';

$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });

$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {
  // 24.1.3.1 ArrayBuffer.isView(arg)
  isView: function isView(it) {
    return $isView && $isView(it) || isObject(it) && VIEW in it;
  }
});

$export($export.P + $export.U + $export.F * require('./_fails')(function () {
  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;
}), ARRAY_BUFFER, {
  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)
  slice: function slice(start, end) {
    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix
    var len = anObject(this).byteLength;
    var first = toAbsoluteIndex(start, len);
    var fin = toAbsoluteIndex(end === undefined ? len : end, len);
    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));
    var viewS = new $DataView(this);
    var viewT = new $DataView(result);
    var index = 0;
    while (first < fin) {
      viewT.setUint8(index++, viewS.getUint8(first++));
    } return result;
  }
});

require('./_set-species')(ARRAY_BUFFER);

},{"./_an-object":119,"./_export":140,"./_fails":142,"./_global":146,"./_is-object":157,"./_set-species":195,"./_species-constructor":199,"./_to-absolute-index":205,"./_to-length":209,"./_typed":214,"./_typed-buffer":213}],297:[function(require,module,exports){
require('./_typed-array')('Float32', 4, function (init) {
  return function Float32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],298:[function(require,module,exports){
require('./_typed-array')('Float64', 8, function (init) {
  return function Float64Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],299:[function(require,module,exports){
require('./_typed-array')('Int16', 2, function (init) {
  return function Int16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],300:[function(require,module,exports){
require('./_typed-array')('Int32', 4, function (init) {
  return function Int32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],301:[function(require,module,exports){
require('./_typed-array')('Int8', 1, function (init) {
  return function Int8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],302:[function(require,module,exports){
require('./_typed-array')('Uint16', 2, function (init) {
  return function Uint16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],303:[function(require,module,exports){
require('./_typed-array')('Uint32', 4, function (init) {
  return function Uint32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],304:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":212}],305:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8ClampedArray(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
}, true);

},{"./_typed-array":212}],306:[function(require,module,exports){
'use strict';
var each = require('./_array-methods')(0);
var redefine = require('./_redefine');
var meta = require('./_meta');
var assign = require('./_object-assign');
var weak = require('./_collection-weak');
var isObject = require('./_is-object');
var fails = require('./_fails');
var validate = require('./_validate-collection');
var WEAK_MAP = 'WeakMap';
var getWeak = meta.getWeak;
var isExtensible = Object.isExtensible;
var uncaughtFrozenStore = weak.ufstore;
var tmp = {};
var InternalMap;

var wrapper = function (get) {
  return function WeakMap() {
    return get(this, arguments.length > 0 ? arguments[0] : undefined);
  };
};

var methods = {
  // 23.3.3.3 WeakMap.prototype.get(key)
  get: function get(key) {
    if (isObject(key)) {
      var data = getWeak(key);
      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);
      return data ? data[this._i] : undefined;
    }
  },
  // 23.3.3.5 WeakMap.prototype.set(key, value)
  set: function set(key, value) {
    return weak.def(validate(this, WEAK_MAP), key, value);
  }
};

// 23.3 WeakMap Objects
var $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);

// IE11 WeakMap frozen keys fix
if (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {
  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);
  assign(InternalMap.prototype, methods);
  meta.NEED = true;
  each(['delete', 'has', 'get', 'set'], function (key) {
    var proto = $WeakMap.prototype;
    var method = proto[key];
    redefine(proto, key, function (a, b) {
      // store frozen objects on internal weakmap shim
      if (isObject(a) && !isExtensible(a)) {
        if (!this._f) this._f = new InternalMap();
        var result = this._f[key](a, b);
        return key == 'set' ? this : result;
      // store all the rest on native weakmap
      } return method.call(this, a, b);
    });
  });
}

},{"./_array-methods":123,"./_collection":131,"./_collection-weak":130,"./_fails":142,"./_is-object":157,"./_meta":170,"./_object-assign":173,"./_redefine":192,"./_validate-collection":217}],307:[function(require,module,exports){
'use strict';
var weak = require('./_collection-weak');
var validate = require('./_validate-collection');
var WEAK_SET = 'WeakSet';

// 23.4 WeakSet Objects
require('./_collection')(WEAK_SET, function (get) {
  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.4.3.1 WeakSet.prototype.add(value)
  add: function add(value) {
    return weak.def(validate(this, WEAK_SET), value, true);
  }
}, weak, false, true);

},{"./_collection":131,"./_collection-weak":130,"./_validate-collection":217}],308:[function(require,module,exports){
'use strict';
// https://github.com/tc39/Array.prototype.includes
var $export = require('./_export');
var $includes = require('./_array-includes')(true);

$export($export.P, 'Array', {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

require('./_add-to-unscopables')('includes');

},{"./_add-to-unscopables":117,"./_array-includes":122,"./_export":140}],309:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $entries = require('./_object-to-array')(true);

$export($export.S, 'Object', {
  entries: function entries(it) {
    return $entries(it);
  }
});

},{"./_export":140,"./_object-to-array":186}],310:[function(require,module,exports){
// https://github.com/tc39/proposal-object-getownpropertydescriptors
var $export = require('./_export');
var ownKeys = require('./_own-keys');
var toIObject = require('./_to-iobject');
var gOPD = require('./_object-gopd');
var createProperty = require('./_create-property');

$export($export.S, 'Object', {
  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
    var O = toIObject(object);
    var getDesc = gOPD.f;
    var keys = ownKeys(O);
    var result = {};
    var i = 0;
    var key, desc;
    while (keys.length > i) {
      desc = getDesc(O, key = keys[i++]);
      if (desc !== undefined) createProperty(result, key, desc);
    }
    return result;
  }
});

},{"./_create-property":133,"./_export":140,"./_object-gopd":177,"./_own-keys":187,"./_to-iobject":208}],311:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $values = require('./_object-to-array')(false);

$export($export.S, 'Object', {
  values: function values(it) {
    return $values(it);
  }
});

},{"./_export":140,"./_object-to-array":186}],312:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);
  }
});

},{"./_export":140,"./_string-pad":202,"./_user-agent":216}],313:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padStart: function padStart(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);
  }
});

},{"./_export":140,"./_string-pad":202,"./_user-agent":216}],314:[function(require,module,exports){
var $iterators = require('./es6.array.iterator');
var getKeys = require('./_object-keys');
var redefine = require('./_redefine');
var global = require('./_global');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var wks = require('./_wks');
var ITERATOR = wks('iterator');
var TO_STRING_TAG = wks('toStringTag');
var ArrayValues = Iterators.Array;

var DOMIterables = {
  CSSRuleList: true, // TODO: Not spec compliant, should be false.
  CSSStyleDeclaration: false,
  CSSValueList: false,
  ClientRectList: false,
  DOMRectList: false,
  DOMStringList: false,
  DOMTokenList: true,
  DataTransferItemList: false,
  FileList: false,
  HTMLAllCollection: false,
  HTMLCollection: false,
  HTMLFormElement: false,
  HTMLSelectElement: false,
  MediaList: true, // TODO: Not spec compliant, should be false.
  MimeTypeArray: false,
  NamedNodeMap: false,
  NodeList: true,
  PaintRequestList: false,
  Plugin: false,
  PluginArray: false,
  SVGLengthList: false,
  SVGNumberList: false,
  SVGPathSegList: false,
  SVGPointList: false,
  SVGStringList: false,
  SVGTransformList: false,
  SourceBufferList: false,
  StyleSheetList: true, // TODO: Not spec compliant, should be false.
  TextTrackCueList: false,
  TextTrackList: false,
  TouchList: false
};

for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {
  var NAME = collections[i];
  var explicit = DOMIterables[NAME];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  var key;
  if (proto) {
    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);
    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
    Iterators[NAME] = ArrayValues;
    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);
  }
}

},{"./_global":146,"./_hide":148,"./_iterators":164,"./_object-keys":183,"./_redefine":192,"./_wks":220,"./es6.array.iterator":227}],315:[function(require,module,exports){
var $export = require('./_export');
var $task = require('./_task');
$export($export.G + $export.B, {
  setImmediate: $task.set,
  clearImmediate: $task.clear
});

},{"./_export":140,"./_task":204}],316:[function(require,module,exports){
// ie9- setTimeout & setInterval additional parameters fix
var global = require('./_global');
var $export = require('./_export');
var userAgent = require('./_user-agent');
var slice = [].slice;
var MSIE = /MSIE .\./.test(userAgent); // <- dirty ie9- check
var wrap = function (set) {
  return function (fn, time /* , ...args */) {
    var boundArgs = arguments.length > 2;
    var args = boundArgs ? slice.call(arguments, 2) : false;
    return set(boundArgs ? function () {
      // eslint-disable-next-line no-new-func
      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);
    } : fn, time);
  };
};
$export($export.G + $export.B + $export.F * MSIE, {
  setTimeout: wrap(global.setTimeout),
  setInterval: wrap(global.setInterval)
});

},{"./_export":140,"./_global":146,"./_user-agent":216}],317:[function(require,module,exports){
'use strict';

var keys = require('object-keys');
var foreach = require('foreach');
var hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';

var toStr = Object.prototype.toString;

var isFunction = function (fn) {
	return typeof fn === 'function' && toStr.call(fn) === '[object Function]';
};

var arePropertyDescriptorsSupported = function () {
	var obj = {};
	try {
		Object.defineProperty(obj, 'x', { enumerable: false, value: obj });
        /* eslint-disable no-unused-vars, no-restricted-syntax */
        for (var _ in obj) { return false; }
        /* eslint-enable no-unused-vars, no-restricted-syntax */
		return obj.x === obj;
	} catch (e) { /* this is IE 8. */
		return false;
	}
};
var supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();

var defineProperty = function (object, name, value, predicate) {
	if (name in object && (!isFunction(predicate) || !predicate())) {
		return;
	}
	if (supportsDescriptors) {
		Object.defineProperty(object, name, {
			configurable: true,
			enumerable: false,
			value: value,
			writable: true
		});
	} else {
		object[name] = value;
	}
};

var defineProperties = function (object, map) {
	var predicates = arguments.length > 2 ? arguments[2] : {};
	var props = keys(map);
	if (hasSymbols) {
		props = props.concat(Object.getOwnPropertySymbols(map));
	}
	foreach(props, function (name) {
		defineProperty(object, name, map[name], predicates[name]);
	});
};

defineProperties.supportsDescriptors = !!supportsDescriptors;

module.exports = defineProperties;

},{"foreach":330,"object-keys":318}],318:[function(require,module,exports){
'use strict';

// modified from https://github.com/es-shims/es5-shim
var has = Object.prototype.hasOwnProperty;
var toStr = Object.prototype.toString;
var slice = Array.prototype.slice;
var isArgs = require('./isArguments');
var isEnumerable = Object.prototype.propertyIsEnumerable;
var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
var dontEnums = [
	'toString',
	'toLocaleString',
	'valueOf',
	'hasOwnProperty',
	'isPrototypeOf',
	'propertyIsEnumerable',
	'constructor'
];
var equalsConstructorPrototype = function (o) {
	var ctor = o.constructor;
	return ctor && ctor.prototype === o;
};
var excludedKeys = {
	$applicationCache: true,
	$console: true,
	$external: true,
	$frame: true,
	$frameElement: true,
	$frames: true,
	$innerHeight: true,
	$innerWidth: true,
	$outerHeight: true,
	$outerWidth: true,
	$pageXOffset: true,
	$pageYOffset: true,
	$parent: true,
	$scrollLeft: true,
	$scrollTop: true,
	$scrollX: true,
	$scrollY: true,
	$self: true,
	$webkitIndexedDB: true,
	$webkitStorageInfo: true,
	$window: true
};
var hasAutomationEqualityBug = (function () {
	/* global window */
	if (typeof window === 'undefined') { return false; }
	for (var k in window) {
		try {
			if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
				try {
					equalsConstructorPrototype(window[k]);
				} catch (e) {
					return true;
				}
			}
		} catch (e) {
			return true;
		}
	}
	return false;
}());
var equalsConstructorPrototypeIfNotBuggy = function (o) {
	/* global window */
	if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
		return equalsConstructorPrototype(o);
	}
	try {
		return equalsConstructorPrototype(o);
	} catch (e) {
		return false;
	}
};

var keysShim = function keys(object) {
	var isObject = object !== null && typeof object === 'object';
	var isFunction = toStr.call(object) === '[object Function]';
	var isArguments = isArgs(object);
	var isString = isObject && toStr.call(object) === '[object String]';
	var theKeys = [];

	if (!isObject && !isFunction && !isArguments) {
		throw new TypeError('Object.keys called on a non-object');
	}

	var skipProto = hasProtoEnumBug && isFunction;
	if (isString && object.length > 0 && !has.call(object, 0)) {
		for (var i = 0; i < object.length; ++i) {
			theKeys.push(String(i));
		}
	}

	if (isArguments && object.length > 0) {
		for (var j = 0; j < object.length; ++j) {
			theKeys.push(String(j));
		}
	} else {
		for (var name in object) {
			if (!(skipProto && name === 'prototype') && has.call(object, name)) {
				theKeys.push(String(name));
			}
		}
	}

	if (hasDontEnumBug) {
		var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

		for (var k = 0; k < dontEnums.length; ++k) {
			if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
				theKeys.push(dontEnums[k]);
			}
		}
	}
	return theKeys;
};

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			return (Object.keys(arguments) || '').length === 2;
		}(1, 2));
		if (!keysWorksWithArguments) {
			var originalKeys = Object.keys;
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				} else {
					return originalKeys(object);
				}
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

module.exports = keysShim;

},{"./isArguments":319}],319:[function(require,module,exports){
'use strict';

var toStr = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toStr.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr.call(value.callee) === '[object Function]';
	}
	return isArgs;
};

},{}],320:[function(require,module,exports){
'use strict';

/* globals
	Set,
	Map,
	WeakSet,
	WeakMap,

	Promise,

	Symbol,
	Proxy,

	Atomics,
	SharedArrayBuffer,

	ArrayBuffer,
	DataView,
	Uint8Array,
	Float32Array,
	Float64Array,
	Int8Array,
	Int16Array,
	Int32Array,
	Uint8ClampedArray,
	Uint16Array,
	Uint32Array,
*/

var undefined; // eslint-disable-line no-shadow-restricted-names

var ThrowTypeError = Object.getOwnPropertyDescriptor
	? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())
	: function () { throw new TypeError(); };

var hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'$ %Array%': Array,
	'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'$ %ArrayPrototype%': Array.prototype,
	'$ %ArrayProto_entries%': Array.prototype.entries,
	'$ %ArrayProto_forEach%': Array.prototype.forEach,
	'$ %ArrayProto_keys%': Array.prototype.keys,
	'$ %ArrayProto_values%': Array.prototype.values,
	'$ %AsyncFromSyncIteratorPrototype%': undefined,
	'$ %AsyncFunction%': asyncFunction,
	'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'$ %AsyncGeneratorFunction%': asyncGenFunction,
	'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'$ %Boolean%': Boolean,
	'$ %BooleanPrototype%': Boolean.prototype,
	'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'$ %Date%': Date,
	'$ %DatePrototype%': Date.prototype,
	'$ %decodeURI%': decodeURI,
	'$ %decodeURIComponent%': decodeURIComponent,
	'$ %encodeURI%': encodeURI,
	'$ %encodeURIComponent%': encodeURIComponent,
	'$ %Error%': Error,
	'$ %ErrorPrototype%': Error.prototype,
	'$ %eval%': eval, // eslint-disable-line no-eval
	'$ %EvalError%': EvalError,
	'$ %EvalErrorPrototype%': EvalError.prototype,
	'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'$ %Function%': Function,
	'$ %FunctionPrototype%': Function.prototype,
	'$ %Generator%': generator ? getProto(generator()) : undefined,
	'$ %GeneratorFunction%': generatorFunction,
	'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'$ %isFinite%': isFinite,
	'$ %isNaN%': isNaN,
	'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'$ %JSON%': JSON,
	'$ %JSONParse%': JSON.parse,
	'$ %Map%': typeof Map === 'undefined' ? undefined : Map,
	'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'$ %Math%': Math,
	'$ %Number%': Number,
	'$ %NumberPrototype%': Number.prototype,
	'$ %Object%': Object,
	'$ %ObjectPrototype%': Object.prototype,
	'$ %ObjProto_toString%': Object.prototype.toString,
	'$ %ObjProto_valueOf%': Object.prototype.valueOf,
	'$ %parseFloat%': parseFloat,
	'$ %parseInt%': parseInt,
	'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'$ %RangeError%': RangeError,
	'$ %RangeErrorPrototype%': RangeError.prototype,
	'$ %ReferenceError%': ReferenceError,
	'$ %ReferenceErrorPrototype%': ReferenceError.prototype,
	'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'$ %RegExp%': RegExp,
	'$ %RegExpPrototype%': RegExp.prototype,
	'$ %Set%': typeof Set === 'undefined' ? undefined : Set,
	'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'$ %String%': String,
	'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'$ %StringPrototype%': String.prototype,
	'$ %Symbol%': hasSymbols ? Symbol : undefined,
	'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'$ %SyntaxError%': SyntaxError,
	'$ %SyntaxErrorPrototype%': SyntaxError.prototype,
	'$ %ThrowTypeError%': ThrowTypeError,
	'$ %TypedArray%': TypedArray,
	'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'$ %TypeError%': TypeError,
	'$ %TypeErrorPrototype%': TypeError.prototype,
	'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'$ %URIError%': URIError,
	'$ %URIErrorPrototype%': URIError.prototype,
	'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var key = '$ ' + name;
	if (!(key in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {
		throw new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}
	return INTRINSICS[key];
};

},{}],321:[function(require,module,exports){
'use strict';

var GetIntrinsic = require('./GetIntrinsic');

var $Object = GetIntrinsic('%Object%');
var $TypeError = GetIntrinsic('%TypeError%');
var $String = GetIntrinsic('%String%');

var $isNaN = require('./helpers/isNaN');
var $isFinite = require('./helpers/isFinite');

var sign = require('./helpers/sign');
var mod = require('./helpers/mod');

var IsCallable = require('is-callable');
var toPrimitive = require('es-to-primitive/es5');

var has = require('has');

// https://es5.github.io/#x9
var ES5 = {
	ToPrimitive: toPrimitive,

	ToBoolean: function ToBoolean(value) {
		return !!value;
	},
	ToNumber: function ToNumber(value) {
		return +value; // eslint-disable-line no-implicit-coercion
	},
	ToInteger: function ToInteger(value) {
		var number = this.ToNumber(value);
		if ($isNaN(number)) { return 0; }
		if (number === 0 || !$isFinite(number)) { return number; }
		return sign(number) * Math.floor(Math.abs(number));
	},
	ToInt32: function ToInt32(x) {
		return this.ToNumber(x) >> 0;
	},
	ToUint32: function ToUint32(x) {
		return this.ToNumber(x) >>> 0;
	},
	ToUint16: function ToUint16(value) {
		var number = this.ToNumber(value);
		if ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }
		var posInt = sign(number) * Math.floor(Math.abs(number));
		return mod(posInt, 0x10000);
	},
	ToString: function ToString(value) {
		return $String(value);
	},
	ToObject: function ToObject(value) {
		this.CheckObjectCoercible(value);
		return $Object(value);
	},
	CheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {
		/* jshint eqnull:true */
		if (value == null) {
			throw new $TypeError(optMessage || 'Cannot call method on ' + value);
		}
		return value;
	},
	IsCallable: IsCallable,
	SameValue: function SameValue(x, y) {
		if (x === y) { // 0 === -0, but they are not identical.
			if (x === 0) { return 1 / x === 1 / y; }
			return true;
		}
		return $isNaN(x) && $isNaN(y);
	},

	// https://www.ecma-international.org/ecma-262/5.1/#sec-8
	Type: function Type(x) {
		if (x === null) {
			return 'Null';
		}
		if (typeof x === 'undefined') {
			return 'Undefined';
		}
		if (typeof x === 'function' || typeof x === 'object') {
			return 'Object';
		}
		if (typeof x === 'number') {
			return 'Number';
		}
		if (typeof x === 'boolean') {
			return 'Boolean';
		}
		if (typeof x === 'string') {
			return 'String';
		}
	},

	// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type
	IsPropertyDescriptor: function IsPropertyDescriptor(Desc) {
		if (this.Type(Desc) !== 'Object') {
			return false;
		}
		var allowed = {
			'[[Configurable]]': true,
			'[[Enumerable]]': true,
			'[[Get]]': true,
			'[[Set]]': true,
			'[[Value]]': true,
			'[[Writable]]': true
		};
		// jscs:disable
		for (var key in Desc) { // eslint-disable-line
			if (has(Desc, key) && !allowed[key]) {
				return false;
			}
		}
		// jscs:enable
		var isData = has(Desc, '[[Value]]');
		var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');
		if (isData && IsAccessor) {
			throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');
		}
		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1
	IsAccessorDescriptor: function IsAccessorDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {
			return false;
		}

		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2
	IsDataDescriptor: function IsDataDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {
			return false;
		}

		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3
	IsGenericDescriptor: function IsGenericDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {
			return true;
		}

		return false;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4
	FromPropertyDescriptor: function FromPropertyDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return Desc;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (this.IsDataDescriptor(Desc)) {
			return {
				value: Desc['[[Value]]'],
				writable: !!Desc['[[Writable]]'],
				enumerable: !!Desc['[[Enumerable]]'],
				configurable: !!Desc['[[Configurable]]']
			};
		} else if (this.IsAccessorDescriptor(Desc)) {
			return {
				get: Desc['[[Get]]'],
				set: Desc['[[Set]]'],
				enumerable: !!Desc['[[Enumerable]]'],
				configurable: !!Desc['[[Configurable]]']
			};
		} else {
			throw new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');
		}
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5
	ToPropertyDescriptor: function ToPropertyDescriptor(Obj) {
		if (this.Type(Obj) !== 'Object') {
			throw new $TypeError('ToPropertyDescriptor requires an object');
		}

		var desc = {};
		if (has(Obj, 'enumerable')) {
			desc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);
		}
		if (has(Obj, 'configurable')) {
			desc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);
		}
		if (has(Obj, 'value')) {
			desc['[[Value]]'] = Obj.value;
		}
		if (has(Obj, 'writable')) {
			desc['[[Writable]]'] = this.ToBoolean(Obj.writable);
		}
		if (has(Obj, 'get')) {
			var getter = Obj.get;
			if (typeof getter !== 'undefined' && !this.IsCallable(getter)) {
				throw new TypeError('getter must be a function');
			}
			desc['[[Get]]'] = getter;
		}
		if (has(Obj, 'set')) {
			var setter = Obj.set;
			if (typeof setter !== 'undefined' && !this.IsCallable(setter)) {
				throw new $TypeError('setter must be a function');
			}
			desc['[[Set]]'] = setter;
		}

		if ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {
			throw new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');
		}
		return desc;
	}
};

module.exports = ES5;

},{"./GetIntrinsic":320,"./helpers/isFinite":322,"./helpers/isNaN":323,"./helpers/mod":324,"./helpers/sign":325,"es-to-primitive/es5":326,"has":333,"is-callable":335}],322:[function(require,module,exports){
var $isNaN = Number.isNaN || function (a) { return a !== a; };

module.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };

},{}],323:[function(require,module,exports){
module.exports = Number.isNaN || function isNaN(a) {
	return a !== a;
};

},{}],324:[function(require,module,exports){
module.exports = function mod(number, modulo) {
	var remain = number % modulo;
	return Math.floor(remain >= 0 ? remain : remain + modulo);
};

},{}],325:[function(require,module,exports){
module.exports = function sign(number) {
	return number >= 0 ? 1 : -1;
};

},{}],326:[function(require,module,exports){
'use strict';

var toStr = Object.prototype.toString;

var isPrimitive = require('./helpers/isPrimitive');

var isCallable = require('is-callable');

// https://es5.github.io/#x8.12
var ES5internalSlots = {
	'[[DefaultValue]]': function (O, hint) {
		var actualHint = hint || (toStr.call(O) === '[object Date]' ? String : Number);

		if (actualHint === String || actualHint === Number) {
			var methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];
			var value, i;
			for (i = 0; i < methods.length; ++i) {
				if (isCallable(O[methods[i]])) {
					value = O[methods[i]]();
					if (isPrimitive(value)) {
						return value;
					}
				}
			}
			throw new TypeError('No default value');
		}
		throw new TypeError('invalid [[DefaultValue]] hint supplied');
	}
};

// https://es5.github.io/#x9
module.exports = function ToPrimitive(input, PreferredType) {
	if (isPrimitive(input)) {
		return input;
	}
	return ES5internalSlots['[[DefaultValue]]'](input, PreferredType);
};

},{"./helpers/isPrimitive":327,"is-callable":335}],327:[function(require,module,exports){
module.exports = function isPrimitive(value) {
	return value === null || (typeof value !== 'function' && typeof value !== 'object');
};

},{}],328:[function(require,module,exports){
/**
 * EvEmitter v1.1.0
 * Lil' event emitter
 * MIT License
 */

/* jshint unused: true, undef: true, strict: true */

( function( global, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, window */
  if ( typeof define == 'function' && define.amd ) {
    // AMD - RequireJS
    define( factory );
  } else if ( typeof module == 'object' && module.exports ) {
    // CommonJS - Browserify, Webpack
    module.exports = factory();
  } else {
    // Browser globals
    global.EvEmitter = factory();
  }

}( typeof window != 'undefined' ? window : this, function() {

"use strict";

function EvEmitter() {}

var proto = EvEmitter.prototype;

proto.on = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // set events hash
  var events = this._events = this._events || {};
  // set listeners array
  var listeners = events[ eventName ] = events[ eventName ] || [];
  // only add once
  if ( listeners.indexOf( listener ) == -1 ) {
    listeners.push( listener );
  }

  return this;
};

proto.once = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // add event
  this.on( eventName, listener );
  // set once flag
  // set onceEvents hash
  var onceEvents = this._onceEvents = this._onceEvents || {};
  // set onceListeners object
  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};
  // set flag
  onceListeners[ listener ] = true;

  return this;
};

proto.off = function( eventName, listener ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  var index = listeners.indexOf( listener );
  if ( index != -1 ) {
    listeners.splice( index, 1 );
  }

  return this;
};

proto.emitEvent = function( eventName, args ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  // copy over to avoid interference if .off() in listener
  listeners = listeners.slice(0);
  args = args || [];
  // once stuff
  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];

  for ( var i=0; i < listeners.length; i++ ) {
    var listener = listeners[i]
    var isOnce = onceListeners && onceListeners[ listener ];
    if ( isOnce ) {
      // remove listener
      // remove before trigger to prevent recursion
      this.off( eventName, listener );
      // unset once flag
      delete onceListeners[ listener ];
    }
    // trigger listener
    listener.apply( this, args );
  }

  return this;
};

proto.allOff = function() {
  delete this._events;
  delete this._onceEvents;
};

return EvEmitter;

}));

},{}],329:[function(require,module,exports){
'use strict';

var isCallable = require('is-callable');

var toStr = Object.prototype.toString;
var hasOwnProperty = Object.prototype.hasOwnProperty;

var forEachArray = function forEachArray(array, iterator, receiver) {
    for (var i = 0, len = array.length; i < len; i++) {
        if (hasOwnProperty.call(array, i)) {
            if (receiver == null) {
                iterator(array[i], i, array);
            } else {
                iterator.call(receiver, array[i], i, array);
            }
        }
    }
};

var forEachString = function forEachString(string, iterator, receiver) {
    for (var i = 0, len = string.length; i < len; i++) {
        // no such thing as a sparse string.
        if (receiver == null) {
            iterator(string.charAt(i), i, string);
        } else {
            iterator.call(receiver, string.charAt(i), i, string);
        }
    }
};

var forEachObject = function forEachObject(object, iterator, receiver) {
    for (var k in object) {
        if (hasOwnProperty.call(object, k)) {
            if (receiver == null) {
                iterator(object[k], k, object);
            } else {
                iterator.call(receiver, object[k], k, object);
            }
        }
    }
};

var forEach = function forEach(list, iterator, thisArg) {
    if (!isCallable(iterator)) {
        throw new TypeError('iterator must be a function');
    }

    var receiver;
    if (arguments.length >= 3) {
        receiver = thisArg;
    }

    if (toStr.call(list) === '[object Array]') {
        forEachArray(list, iterator, receiver);
    } else if (typeof list === 'string') {
        forEachString(list, iterator, receiver);
    } else {
        forEachObject(list, iterator, receiver);
    }
};

module.exports = forEach;

},{"is-callable":335}],330:[function(require,module,exports){

var hasOwn = Object.prototype.hasOwnProperty;
var toString = Object.prototype.toString;

module.exports = function forEach (obj, fn, ctx) {
    if (toString.call(fn) !== '[object Function]') {
        throw new TypeError('iterator must be a function');
    }
    var l = obj.length;
    if (l === +l) {
        for (var i = 0; i < l; i++) {
            fn.call(ctx, obj[i], i, obj);
        }
    } else {
        for (var k in obj) {
            if (hasOwn.call(obj, k)) {
                fn.call(ctx, obj[k], k, obj);
            }
        }
    }
};


},{}],331:[function(require,module,exports){
'use strict';

/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice = Array.prototype.slice;
var toStr = Object.prototype.toString;
var funcType = '[object Function]';

module.exports = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};

},{}],332:[function(require,module,exports){
'use strict';

var implementation = require('./implementation');

module.exports = Function.prototype.bind || implementation;

},{"./implementation":331}],333:[function(require,module,exports){
'use strict';

var bind = require('function-bind');

module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);

},{"function-bind":332}],334:[function(require,module,exports){
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */

( function( window, factory ) { 'use strict';
  // universal module definition

  /*global define: false, module: false, require: false */

  if ( typeof define == 'function' && define.amd ) {
    // AMD
    define( [
      'ev-emitter/ev-emitter'
    ], function( EvEmitter ) {
      return factory( window, EvEmitter );
    });
  } else if ( typeof module == 'object' && module.exports ) {
    // CommonJS
    module.exports = factory(
      window,
      require('ev-emitter')
    );
  } else {
    // browser global
    window.imagesLoaded = factory(
      window,
      window.EvEmitter
    );
  }

})( typeof window !== 'undefined' ? window : this,

// --------------------------  factory -------------------------- //

function factory( window, EvEmitter ) {

'use strict';

var $ = window.jQuery;
var console = window.console;

// -------------------------- helpers -------------------------- //

// extend objects
function extend( a, b ) {
  for ( var prop in b ) {
    a[ prop ] = b[ prop ];
  }
  return a;
}

var arraySlice = Array.prototype.slice;

// turn element or nodeList into an array
function makeArray( obj ) {
  if ( Array.isArray( obj ) ) {
    // use object if already an array
    return obj;
  }

  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';
  if ( isArrayLike ) {
    // convert nodeList to array
    return arraySlice.call( obj );
  }

  // array of single index
  return [ obj ];
}

// -------------------------- imagesLoaded -------------------------- //

/**
 * @param {Array, Element, NodeList, String} elem
 * @param {Object or Function} options - if function, use as callback
 * @param {Function} onAlways - callback function
 */
function ImagesLoaded( elem, options, onAlways ) {
  // coerce ImagesLoaded() without new, to be new ImagesLoaded()
  if ( !( this instanceof ImagesLoaded ) ) {
    return new ImagesLoaded( elem, options, onAlways );
  }
  // use elem as selector string
  var queryElem = elem;
  if ( typeof elem == 'string' ) {
    queryElem = document.querySelectorAll( elem );
  }
  // bail if bad element
  if ( !queryElem ) {
    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );
    return;
  }

  this.elements = makeArray( queryElem );
  this.options = extend( {}, this.options );
  // shift arguments if no options set
  if ( typeof options == 'function' ) {
    onAlways = options;
  } else {
    extend( this.options, options );
  }

  if ( onAlways ) {
    this.on( 'always', onAlways );
  }

  this.getImages();

  if ( $ ) {
    // add jQuery Deferred object
    this.jqDeferred = new $.Deferred();
  }

  // HACK check async to allow time to bind listeners
  setTimeout( this.check.bind( this ) );
}

ImagesLoaded.prototype = Object.create( EvEmitter.prototype );

ImagesLoaded.prototype.options = {};

ImagesLoaded.prototype.getImages = function() {
  this.images = [];

  // filter & find items if we have an item selector
  this.elements.forEach( this.addElementImages, this );
};

/**
 * @param {Node} element
 */
ImagesLoaded.prototype.addElementImages = function( elem ) {
  // filter siblings
  if ( elem.nodeName == 'IMG' ) {
    this.addImage( elem );
  }
  // get background image on element
  if ( this.options.background === true ) {
    this.addElementBackgroundImages( elem );
  }

  // find children
  // no non-element nodes, #143
  var nodeType = elem.nodeType;
  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {
    return;
  }
  var childImgs = elem.querySelectorAll('img');
  // concat childElems to filterFound array
  for ( var i=0; i < childImgs.length; i++ ) {
    var img = childImgs[i];
    this.addImage( img );
  }

  // get child background images
  if ( typeof this.options.background == 'string' ) {
    var children = elem.querySelectorAll( this.options.background );
    for ( i=0; i < children.length; i++ ) {
      var child = children[i];
      this.addElementBackgroundImages( child );
    }
  }
};

var elementNodeTypes = {
  1: true,
  9: true,
  11: true
};

ImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {
  var style = getComputedStyle( elem );
  if ( !style ) {
    // Firefox returns null if in a hidden iframe https://bugzil.la/548397
    return;
  }
  // get url inside url("...")
  var reURL = /url\((['"])?(.*?)\1\)/gi;
  var matches = reURL.exec( style.backgroundImage );
  while ( matches !== null ) {
    var url = matches && matches[2];
    if ( url ) {
      this.addBackground( url, elem );
    }
    matches = reURL.exec( style.backgroundImage );
  }
};

/**
 * @param {Image} img
 */
ImagesLoaded.prototype.addImage = function( img ) {
  var loadingImage = new LoadingImage( img );
  this.images.push( loadingImage );
};

ImagesLoaded.prototype.addBackground = function( url, elem ) {
  var background = new Background( url, elem );
  this.images.push( background );
};

ImagesLoaded.prototype.check = function() {
  var _this = this;
  this.progressedCount = 0;
  this.hasAnyBroken = false;
  // complete if no images
  if ( !this.images.length ) {
    this.complete();
    return;
  }

  function onProgress( image, elem, message ) {
    // HACK - Chrome triggers event before object properties have changed. #83
    setTimeout( function() {
      _this.progress( image, elem, message );
    });
  }

  this.images.forEach( function( loadingImage ) {
    loadingImage.once( 'progress', onProgress );
    loadingImage.check();
  });
};

ImagesLoaded.prototype.progress = function( image, elem, message ) {
  this.progressedCount++;
  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;
  // progress event
  this.emitEvent( 'progress', [ this, image, elem ] );
  if ( this.jqDeferred && this.jqDeferred.notify ) {
    this.jqDeferred.notify( this, image );
  }
  // check if completed
  if ( this.progressedCount == this.images.length ) {
    this.complete();
  }

  if ( this.options.debug && console ) {
    console.log( 'progress: ' + message, image, elem );
  }
};

ImagesLoaded.prototype.complete = function() {
  var eventName = this.hasAnyBroken ? 'fail' : 'done';
  this.isComplete = true;
  this.emitEvent( eventName, [ this ] );
  this.emitEvent( 'always', [ this ] );
  if ( this.jqDeferred ) {
    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';
    this.jqDeferred[ jqMethod ]( this );
  }
};

// --------------------------  -------------------------- //

function LoadingImage( img ) {
  this.img = img;
}

LoadingImage.prototype = Object.create( EvEmitter.prototype );

LoadingImage.prototype.check = function() {
  // If complete is true and browser supports natural sizes,
  // try to check for image status manually.
  var isComplete = this.getIsImageComplete();
  if ( isComplete ) {
    // report based on naturalWidth
    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );
    return;
  }

  // If none of the checks above matched, simulate loading on detached element.
  this.proxyImage = new Image();
  this.proxyImage.addEventListener( 'load', this );
  this.proxyImage.addEventListener( 'error', this );
  // bind to image as well for Firefox. #191
  this.img.addEventListener( 'load', this );
  this.img.addEventListener( 'error', this );
  this.proxyImage.src = this.img.src;
};

LoadingImage.prototype.getIsImageComplete = function() {
  // check for non-zero, non-undefined naturalWidth
  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671
  return this.img.complete && this.img.naturalWidth;
};

LoadingImage.prototype.confirm = function( isLoaded, message ) {
  this.isLoaded = isLoaded;
  this.emitEvent( 'progress', [ this, this.img, message ] );
};

// ----- events ----- //

// trigger specified handler for event type
LoadingImage.prototype.handleEvent = function( event ) {
  var method = 'on' + event.type;
  if ( this[ method ] ) {
    this[ method ]( event );
  }
};

LoadingImage.prototype.onload = function() {
  this.confirm( true, 'onload' );
  this.unbindEvents();
};

LoadingImage.prototype.onerror = function() {
  this.confirm( false, 'onerror' );
  this.unbindEvents();
};

LoadingImage.prototype.unbindEvents = function() {
  this.proxyImage.removeEventListener( 'load', this );
  this.proxyImage.removeEventListener( 'error', this );
  this.img.removeEventListener( 'load', this );
  this.img.removeEventListener( 'error', this );
};

// -------------------------- Background -------------------------- //

function Background( url, element ) {
  this.url = url;
  this.element = element;
  this.img = new Image();
}

// inherit LoadingImage prototype
Background.prototype = Object.create( LoadingImage.prototype );

Background.prototype.check = function() {
  this.img.addEventListener( 'load', this );
  this.img.addEventListener( 'error', this );
  this.img.src = this.url;
  // check if image is already complete
  var isComplete = this.getIsImageComplete();
  if ( isComplete ) {
    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );
    this.unbindEvents();
  }
};

Background.prototype.unbindEvents = function() {
  this.img.removeEventListener( 'load', this );
  this.img.removeEventListener( 'error', this );
};

Background.prototype.confirm = function( isLoaded, message ) {
  this.isLoaded = isLoaded;
  this.emitEvent( 'progress', [ this, this.element, message ] );
};

// -------------------------- jQuery -------------------------- //

ImagesLoaded.makeJQueryPlugin = function( jQuery ) {
  jQuery = jQuery || window.jQuery;
  if ( !jQuery ) {
    return;
  }
  // set local variable
  $ = jQuery;
  // $().imagesLoaded()
  $.fn.imagesLoaded = function( options, callback ) {
    var instance = new ImagesLoaded( this, options, callback );
    return instance.jqDeferred.promise( $(this) );
  };
};
// try making plugin
ImagesLoaded.makeJQueryPlugin();

// --------------------------  -------------------------- //

return ImagesLoaded;

});

},{"ev-emitter":328}],335:[function(require,module,exports){
'use strict';

var fnToStr = Function.prototype.toString;

var constructorRegex = /^\s*class /;
var isES6ClassFn = function isES6ClassFn(value) {
	try {
		var fnStr = fnToStr.call(value);
		var singleStripped = fnStr.replace(/\/\/.*\n/g, '');
		var multiStripped = singleStripped.replace(/\/\*[.\s\S]*\*\//g, '');
		var spaceStripped = multiStripped.replace(/\n/mg, ' ').replace(/ {2}/g, ' ');
		return constructorRegex.test(spaceStripped);
	} catch (e) {
		return false; // not a function
	}
};

var tryFunctionObject = function tryFunctionObject(value) {
	try {
		if (isES6ClassFn(value)) { return false; }
		fnToStr.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr = Object.prototype.toString;
var fnClass = '[object Function]';
var genClass = '[object GeneratorFunction]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isCallable(value) {
	if (!value) { return false; }
	if (typeof value !== 'function' && typeof value !== 'object') { return false; }
	if (hasToStringTag) { return tryFunctionObject(value); }
	if (isES6ClassFn(value)) { return false; }
	var strClass = toStr.call(value);
	return strClass === fnClass || strClass === genClass;
};

},{}],336:[function(require,module,exports){
(function (global){
/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,r){return void 0===r&&(r="undefined"!=typeof window?(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null):(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null)(t)),e(r),r}:e(jQuery)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).closest("form").ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=r.form;if(i.clk=r,"image"===r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n=/\r?\n/g,i={};i.fileapi=void 0!==e('<input type="file">').get(0).files,i.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t,r,n,s){function u(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;a<o;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function c(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){a("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function i(){function t(){try{var e=n(v).readyState;a("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(e){a("Server abort: ",e," (",e.name,")"),s(L),j&&clearTimeout(j),j=void 0}}var r=p.attr2("target"),i=p.attr2("action"),o=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";w.setAttribute("target",m),l&&!/post/i.test(l)||w.setAttribute("method","POST"),i!==f.url&&w.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(j=setTimeout(function(){T=!0,s(A)},f.timeout));var u=[];try{if(f.extraData)for(var c in f.extraData)f.extraData.hasOwnProperty(c)&&(e.isPlainObject(f.extraData[c])&&f.extraData[c].hasOwnProperty("name")&&f.extraData[c].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+f.extraData[c].name+'">',k).val(f.extraData[c].value).appendTo(w)[0]):u.push(e('<input type="hidden" name="'+c+'">',k).val(f.extraData[c]).appendTo(w)[0]));f.iframeTarget||h.appendTo(D),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(e){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",o),r?w.setAttribute("target",r):p.removeAttr("target"),e(u).remove()}}function s(t){if(!x.aborted&&!X){if((O=n(v))||(a("cannot access response document"),t=L),t===A&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t===L&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(O&&O.location.href!==f.iframeSrc||T){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"===f.dataType||O.XMLDocument||e.isXMLDoc(O);if(a("isXml="+o),!o&&window.opera&&(null===O.body||!O.body.innerHTML)&&--C)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=O.body?O.body:O.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=O.XMLDocument?O.XMLDocument:O,o&&(f.dataType="xml"),x.getResponseHeader=function(e){return{"content-type":f.dataType}[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(f.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||f.textarea){var p=O.getElementsByTagName("textarea")[0];if(p)x.responseText=p.value,x.status=Number(p.getAttribute("status"))||x.status,x.statusText=p.getAttribute("statusText")||x.statusText;else if(l){var m=O.getElementsByTagName("pre")[0],g=O.getElementsByTagName("body")[0];m?x.responseText=m.textContent?m.textContent:m.innerText:g&&(x.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"===c&&!x.responseXML&&x.responseText&&(x.responseXML=q(x.responseText));try{M=N(x,c,f)}catch(e){i="parsererror",x.error=r=e||i}}catch(e){a("error caught: ",e),i="error",x.error=r=e||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(f.success&&f.success.call(f.context,M,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,f])):i&&(void 0===r&&(r=x.statusText),f.error&&f.error.call(f.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,f,r])),d&&e.event.trigger("ajaxComplete",[x,f]),d&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,x,i),X=!0,f.timeout&&clearTimeout(j),setTimeout(function(){f.iframeTarget?h.attr("src",f.iframeSrc):h.remove(),x.responseXML=null},100)}}}var u,c,f,d,m,h,v,x,y,b,T,j,w=p[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(c=0;c<g.length;c++)u=e(g[c]),o?u.prop("disabled",!1):u.removeAttr("disabled");(f=e.extend(!0,{},e.ajaxSettings,t)).context=f.context||f,m="jqFormIO"+(new Date).getTime();var k=w.ownerDocument,D=p.closest("body");if(f.iframeTarget?(b=(h=e(f.iframeTarget,k)).attr2("name"))?m=b:h.attr2("name",m):(h=e('<iframe name="'+m+'" src="'+f.iframeSrc+'" />',k)).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=h[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(e){}h.attr("src",f.iframeSrc),x.error=r,f.error&&f.error.call(f.context,x,r,t),d&&e.event.trigger("ajaxError",[x,f,r]),f.complete&&f.complete.call(f.context,x,r)}},(d=f.global)&&0==e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,f]),f.beforeSend&&!1===f.beforeSend.call(f.context,x,f))return f.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;(y=w.clk)&&(b=y.name)&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[b]=y.value,"image"===y.type&&(f.extraData[b+".x"]=w.clk_x,f.extraData[b+".y"]=w.clk_y));var A=1,L=2,F=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&F&&(f.extraData=f.extraData||{},f.extraData[E]=F),f.forceSync?i():setTimeout(i,10);var M,O,X,C=50,q=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},_=e.parseJSON||function(e){return window.eval("("+e+")")},N=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i=("xml"===r||!r)&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&(("json"===r||!r)&&n.indexOf("json")>=0?o=_(o):("script"===r||!r)&&n.indexOf("javascript")>=0&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var l,f,d,p=this;"function"==typeof t?t={success:t}:"string"==typeof t||!1===t&&arguments.length>0?(t={url:t,data:r,dataType:n},"function"==typeof s&&(t.success=s)):void 0===t&&(t={}),l=t.method||t.type||this.attr2("method"),(d=(d="string"==typeof(f=t.url||this.attr2("action"))?e.trim(f):"")||window.location.href||"")&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=t.traditional;void 0===h&&(h=e.ajaxSettings.traditional);var v,g=[],x=this.formToArray(t.semantic,g,t.filtering);if(t.data){var y=e.isFunction(t.data)?t.data(x):t.data;t.extraData=y,v=e.param(y,h)}if(t.beforeSubmit&&!1===t.beforeSubmit(x,this,t))return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[x,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var b=e.param(x,h);v&&(b=b?b+"&"+v:v),"GET"===t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+b,t.data=null):t.data=b;var T=[];if(t.resetForm&&T.push(function(){p.resetForm()}),t.clearForm&&T.push(function(){p.clearForm(t.includeHidden)}),!t.dataType&&t.target){var j=t.success||function(){};T.push(function(r,a,n){var i=arguments,o=t.replaceTarget?"replaceWith":"html";e(t.target)[o](r).each(function(){j.apply(this,i)})})}else t.success&&(e.isArray(t.success)?e.merge(T,t.success):T.push(t.success));if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=T.length;i<o;i++)T[i].apply(n,[e,r,a||p,p])},t.error){var w=t.error;t.error=function(e,r,a){var n=t.context||this;w.apply(n,[e,r,a,p])}}if(t.complete){var S=t.complete;t.complete=function(e,r){var a=t.context||this;S.apply(a,[e,r,p])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,D="multipart/form-data",A=p.attr("enctype")===D||p.attr("encoding")===D,L=i.fileapi&&i.formdata;a("fileAPI :"+L);var F,E=(k||A)&&!L;!1!==t.iframe&&(t.iframe||E)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){F=c(x)}):F=c(x):F=(k||A)&&L?function(r){for(var a=new FormData,n=0;n<r.length;n++)a.append(r[n].name,r[n].value);if(t.extraData){var i=u(t.extraData);for(n=0;n<i.length;n++)i[n]&&a.append(i[n][0],i[n][1])}t.data=null;var o=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(o.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),o.data=null;var s=o.beforeSend;return o.beforeSend=function(e,r){t.formData?r.data=t.formData:r.data=a,s&&s.call(this,e,r)},e.ajax(o)}(x):e.ajax(t),p.removeData("jqxhr").data("jqxhr",F);for(var M=0;M<g.length;M++)g[M]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n,i,o,s){if(("string"==typeof n||!1===n&&arguments.length>0)&&(n={url:n,data:i,dataType:o},"function"==typeof s&&(n.success=s)),n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var u={s:this.selector,c:this.context};return!e.isReady&&u.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(u.s,u.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().on("submit.form-plugin",n,t).on("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r,a){var n=[];if(0===this.length)return n;var o,s=this[0],u=this.attr("id"),c=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(c&&(c=e.makeArray(c)),u&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(o=e(':input[form="'+u+'"]').get()).length&&(c=(c||[]).concat(o)),!c||!c.length)return n;e.isFunction(a)&&(c=e.map(c,a));var l,f,d,p,m,h,v;for(l=0,h=c.length;l<h;l++)if(m=c[l],(d=m.name)&&!m.disabled)if(t&&s.clk&&"image"===m.type)s.clk===m&&(n.push({name:d,value:e(m).val(),type:m.type}),n.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}));else if((p=e.fieldValue(m,!0))&&p.constructor===Array)for(r&&r.push(m),f=0,v=p.length;f<v;f++)n.push({name:d,value:p[f]});else if(i.fileapi&&"file"===m.type){r&&r.push(m);var g=m.files;if(g.length)for(f=0;f<g.length;f++)n.push({name:d,value:g[f],type:m.type});else n.push({name:d,value:"",type:m.type})}else null!==p&&void 0!==p&&(r&&r.push(m),n.push({name:d,value:p,type:m.type,required:m.required}));if(!t&&s.clk){var x=e(s.clk),y=x[0];(d=y.name)&&!y.disabled&&"image"===y.type&&(n.push({name:d,value:x.val()}),n.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor===Array)for(var i=0,o=n.length;i<o;i++)r.push({name:a,value:n[i]});else null!==n&&void 0!==n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;a<n;a++){var i=this[a],o=e.fieldValue(i,t);null===o||void 0===o||o.constructor===Array&&!o.length||(o.constructor===Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,i=t.type,o=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"===i||"button"===i||("checkbox"===i||"radio"===i)&&!t.checked||("submit"===i||"image"===i)&&t.form&&t.form.clk!==t||"select"===o&&-1===t.selectedIndex))return null;if("select"===o){var s=t.selectedIndex;if(s<0)return null;for(var u=[],c=t.options,l="select-one"===i,f=l?s+1:c.length,d=l?s:0;d<f;d++){var p=c[d];if(p.selected&&!p.disabled){var m=p.value;if(m||(m=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),l)return m;u.push(m)}}return u}return e(t).val().replace(n,"\r\n")},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"===n?this.value="":"checkbox"===a||"radio"===a?this.checked=!1:"select"===n?this.selectedIndex=-1:"file"===a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){var t=e(this),r=this.tagName.toLowerCase();switch(r){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var a=t.parents("select");return a.length&&a[0].multiple?"option"===r?this.selected=this.defaultSelected:t.find("option").resetForm():a.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var n=e(t.attr("for")),i=t.find("input,select,textarea");return n[0]&&i.unshift(n[0]),i.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"===r||"radio"===r)this.checked=t;else if("option"===this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"===a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],337:[function(require,module,exports){
(function (global){
/**
* jquery-match-height 0.7.2 by @liabru
* http://brm.io/jquery-match-height/
* License: MIT
*/

;(function(factory) { // eslint-disable-line no-extra-semi
    'use strict';
    if (typeof define === 'function' && define.amd) {
        // AMD
        define(['jquery'], factory);
    } else if (typeof module !== 'undefined' && module.exports) {
        // CommonJS
        module.exports = factory((typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null));
    } else {
        // Global
        factory(jQuery);
    }
})(function($) {
    /*
    *  internal
    */

    var _previousResizeWidth = -1,
        _updateTimeout = -1;

    /*
    *  _parse
    *  value parse utility function
    */

    var _parse = function(value) {
        // parse value and convert NaN to 0
        return parseFloat(value) || 0;
    };

    /*
    *  _rows
    *  utility function returns array of jQuery selections representing each row
    *  (as displayed after float wrapping applied by browser)
    */

    var _rows = function(elements) {
        var tolerance = 1,
            $elements = $(elements),
            lastTop = null,
            rows = [];

        // group elements by their top position
        $elements.each(function(){
            var $that = $(this),
                top = $that.offset().top - _parse($that.css('margin-top')),
                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;

            if (lastRow === null) {
                // first item on the row, so just push it
                rows.push($that);
            } else {
                // if the row top is the same, add to the row group
                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {
                    rows[rows.length - 1] = lastRow.add($that);
                } else {
                    // otherwise start a new row group
                    rows.push($that);
                }
            }

            // keep track of the last row top
            lastTop = top;
        });

        return rows;
    };

    /*
    *  _parseOptions
    *  handle plugin options
    */

    var _parseOptions = function(options) {
        var opts = {
            byRow: true,
            property: 'height',
            target: null,
            remove: false
        };

        if (typeof options === 'object') {
            return $.extend(opts, options);
        }

        if (typeof options === 'boolean') {
            opts.byRow = options;
        } else if (options === 'remove') {
            opts.remove = true;
        }

        return opts;
    };

    /*
    *  matchHeight
    *  plugin definition
    */

    var matchHeight = $.fn.matchHeight = function(options) {
        var opts = _parseOptions(options);

        // handle remove
        if (opts.remove) {
            var that = this;

            // remove fixed height from all selected elements
            this.css(opts.property, '');

            // remove selected elements from all groups
            $.each(matchHeight._groups, function(key, group) {
                group.elements = group.elements.not(that);
            });

            // TODO: cleanup empty groups

            return this;
        }

        if (this.length <= 1 && !opts.target) {
            return this;
        }

        // keep track of this group so we can re-apply later on load and resize events
        matchHeight._groups.push({
            elements: this,
            options: opts
        });

        // match each element's height to the tallest element in the selection
        matchHeight._apply(this, opts);

        return this;
    };

    /*
    *  plugin global options
    */

    matchHeight.version = '0.7.2';
    matchHeight._groups = [];
    matchHeight._throttle = 80;
    matchHeight._maintainScroll = false;
    matchHeight._beforeUpdate = null;
    matchHeight._afterUpdate = null;
    matchHeight._rows = _rows;
    matchHeight._parse = _parse;
    matchHeight._parseOptions = _parseOptions;

    /*
    *  matchHeight._apply
    *  apply matchHeight to given elements
    */

    matchHeight._apply = function(elements, options) {
        var opts = _parseOptions(options),
            $elements = $(elements),
            rows = [$elements];

        // take note of scroll position
        var scrollTop = $(window).scrollTop(),
            htmlHeight = $('html').outerHeight(true);

        // get hidden parents
        var $hiddenParents = $elements.parents().filter(':hidden');

        // cache the original inline style
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.data('style-cache', $that.attr('style'));
        });

        // temporarily must force hidden parents visible
        $hiddenParents.css('display', 'block');

        // get rows if using byRow, otherwise assume one row
        if (opts.byRow && !opts.target) {

            // must first force an arbitrary equal height so floating elements break evenly
            $elements.each(function() {
                var $that = $(this),
                    display = $that.css('display');

                // temporarily force a usable display value
                if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {
                    display = 'block';
                }

                // cache the original inline style
                $that.data('style-cache', $that.attr('style'));

                $that.css({
                    'display': display,
                    'padding-top': '0',
                    'padding-bottom': '0',
                    'margin-top': '0',
                    'margin-bottom': '0',
                    'border-top-width': '0',
                    'border-bottom-width': '0',
                    'height': '100px',
                    'overflow': 'hidden'
                });
            });

            // get the array of rows (based on element top position)
            rows = _rows($elements);

            // revert original inline styles
            $elements.each(function() {
                var $that = $(this);
                $that.attr('style', $that.data('style-cache') || '');
            });
        }

        $.each(rows, function(key, row) {
            var $row = $(row),
                targetHeight = 0;

            if (!opts.target) {
                // skip apply to rows with only one item
                if (opts.byRow && $row.length <= 1) {
                    $row.css(opts.property, '');
                    return;
                }

                // iterate the row and find the max height
                $row.each(function(){
                    var $that = $(this),
                        style = $that.attr('style'),
                        display = $that.css('display');

                    // temporarily force a usable display value
                    if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {
                        display = 'block';
                    }

                    // ensure we get the correct actual height (and not a previously set height value)
                    var css = { 'display': display };
                    css[opts.property] = '';
                    $that.css(css);

                    // find the max height (including padding, but not margin)
                    if ($that.outerHeight(false) > targetHeight) {
                        targetHeight = $that.outerHeight(false);
                    }

                    // revert styles
                    if (style) {
                        $that.attr('style', style);
                    } else {
                        $that.css('display', '');
                    }
                });
            } else {
                // if target set, use the height of the target element
                targetHeight = opts.target.outerHeight(false);
            }

            // iterate the row and apply the height to all elements
            $row.each(function(){
                var $that = $(this),
                    verticalPadding = 0;

                // don't apply to a target
                if (opts.target && $that.is(opts.target)) {
                    return;
                }

                // handle padding and border correctly (required when not using border-box)
                if ($that.css('box-sizing') !== 'border-box') {
                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));
                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));
                }

                // set the height (accounting for padding and border)
                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');
            });
        });

        // revert hidden parents
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.attr('style', $that.data('style-cache') || null);
        });

        // restore scroll position if enabled
        if (matchHeight._maintainScroll) {
            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));
        }

        return this;
    };

    /*
    *  matchHeight._applyDataApi
    *  applies matchHeight to all elements with a data-match-height attribute
    */

    matchHeight._applyDataApi = function() {
        var groups = {};

        // generate groups by their groupId set by elements using data-match-height
        $('[data-match-height], [data-mh]').each(function() {
            var $this = $(this),
                groupId = $this.attr('data-mh') || $this.attr('data-match-height');

            if (groupId in groups) {
                groups[groupId] = groups[groupId].add($this);
            } else {
                groups[groupId] = $this;
            }
        });

        // apply matchHeight to each group
        $.each(groups, function() {
            this.matchHeight(true);
        });
    };

    /*
    *  matchHeight._update
    *  updates matchHeight on all current groups with their correct options
    */

    var _update = function(event) {
        if (matchHeight._beforeUpdate) {
            matchHeight._beforeUpdate(event, matchHeight._groups);
        }

        $.each(matchHeight._groups, function() {
            matchHeight._apply(this.elements, this.options);
        });

        if (matchHeight._afterUpdate) {
            matchHeight._afterUpdate(event, matchHeight._groups);
        }
    };

    matchHeight._update = function(throttle, event) {
        // prevent update if fired from a resize event
        // where the viewport width hasn't actually changed
        // fixes an event looping bug in IE8
        if (event && event.type === 'resize') {
            var windowWidth = $(window).width();
            if (windowWidth === _previousResizeWidth) {
                return;
            }
            _previousResizeWidth = windowWidth;
        }

        // throttle updates
        if (!throttle) {
            _update(event);
        } else if (_updateTimeout === -1) {
            _updateTimeout = setTimeout(function() {
                _update(event);
                _updateTimeout = -1;
            }, matchHeight._throttle);
        }
    };

    /*
    *  bind events
    */

    // apply on DOM ready event
    $(matchHeight._applyDataApi);

    // use on or bind where supported
    var on = $.fn.on ? 'on' : 'bind';

    // update heights on load and resize events
    $(window)[on]('load', function(event) {
        matchHeight._update(false, event);
    });

    // throttled update heights on resize events
    $(window)[on]('resize orientationchange', function(event) {
        matchHeight._update(true, event);
    });

});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],338:[function(require,module,exports){
(function (root) {/*global exports, Intl*/
/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.6
 * @author Jon Nylander
 * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */


/**
 * Namespace to hold all the code for timezone detection.
 */
var jstz = (function () {
    'use strict';
    var HEMISPHERE_SOUTH = 's',

        consts = {
            DAY: 86400000,
            HOUR: 3600000,
            MINUTE: 60000,
            SECOND: 1000,
            BASELINE_YEAR: 2014,
            MAX_SCORE: 864000000, // 10 days
            AMBIGUITIES: {
                'America/Denver':       ['America/Mazatlan'],
                'Europe/London':        ['Africa/Casablanca'],
                'America/Chicago':      ['America/Mexico_City'],
                'America/Asuncion':     ['America/Campo_Grande', 'America/Santiago'],
                'America/Montevideo':   ['America/Sao_Paulo', 'America/Santiago'],
                // Europe/Minsk should not be in this list... but Windows.
                'Asia/Beirut':          ['Asia/Amman', 'Asia/Jerusalem', 'Europe/Helsinki', 'Asia/Damascus', 'Africa/Cairo', 'Asia/Gaza', 'Europe/Minsk'],
                'Pacific/Auckland':     ['Pacific/Fiji'],
                'America/Los_Angeles':  ['America/Santa_Isabel'],
                'America/New_York':     ['America/Havana'],
                'America/Halifax':      ['America/Goose_Bay'],
                'America/Godthab':      ['America/Miquelon'],
                'Asia/Dubai':           ['Asia/Yerevan'],
                'Asia/Jakarta':         ['Asia/Krasnoyarsk'],
                'Asia/Shanghai':        ['Asia/Irkutsk', 'Australia/Perth'],
                'Australia/Sydney':     ['Australia/Lord_Howe'],
                'Asia/Tokyo':           ['Asia/Yakutsk'],
                'Asia/Dhaka':           ['Asia/Omsk'],
                // In the real world Yerevan is not ambigous for Baku... but Windows.
                'Asia/Baku':            ['Asia/Yerevan'],
                'Australia/Brisbane':   ['Asia/Vladivostok'],
                'Pacific/Noumea':       ['Asia/Vladivostok'],
                'Pacific/Majuro':       ['Asia/Kamchatka', 'Pacific/Fiji'],
                'Pacific/Tongatapu':    ['Pacific/Apia'],
                'Asia/Baghdad':         ['Europe/Minsk', 'Europe/Moscow'],
                'Asia/Karachi':         ['Asia/Yekaterinburg'],
                'Africa/Johannesburg':  ['Asia/Gaza', 'Africa/Cairo']
            }
        },

        /**
         * Gets the offset in minutes from UTC for a certain date.
         * @param {Date} date
         * @returns {Number}
         */
        get_date_offset = function get_date_offset(date) {
            var offset = -date.getTimezoneOffset();
            return (offset !== null ? offset : 0);
        },

        /**
         * This function does some basic calculations to create information about
         * the user's timezone. It uses REFERENCE_YEAR as a solid year for which
         * the script has been tested rather than depend on the year set by the
         * client device.
         *
         * Returns a key that can be used to do lookups in jstz.olson.timezones.
         * eg: "720,1,2".
         *
         * @returns {String}
         */
        lookup_key = function lookup_key() {
            var january_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 0, 2)),
                june_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 5, 2)),
                diff = january_offset - june_offset;

            if (diff < 0) {
                return january_offset + ",1";
            } else if (diff > 0) {
                return june_offset + ",1," + HEMISPHERE_SOUTH;
            }

            return january_offset + ",0";
        },


        /**
         * Tries to get the time zone key directly from the operating system for those
         * environments that support the ECMAScript Internationalization API.
         */
        get_from_internationalization_api = function get_from_internationalization_api() {
            var format, timezone;
            if (typeof Intl === "undefined" || typeof Intl.DateTimeFormat === "undefined") {
                return;
            }

            format = Intl.DateTimeFormat();

            if (typeof format === "undefined" || typeof format.resolvedOptions === "undefined") {
                return;
            }

            timezone = format.resolvedOptions().timeZone;

            if (timezone && (timezone.indexOf("/") > -1 || timezone === 'UTC')) {
                return timezone;
            }

        },

        /**
         * Starting point for getting all the DST rules for a specific year
         * for the current timezone (as described by the client system).
         *
         * Returns an object with start and end attributes, or false if no
         * DST rules were found for the year.
         *
         * @param year
         * @returns {Object} || {Boolean}
         */
        dst_dates = function dst_dates(year) {
            var yearstart = new Date(year, 0, 1, 0, 0, 1, 0).getTime();
            var yearend = new Date(year, 12, 31, 23, 59, 59).getTime();
            var current = yearstart;
            var offset = (new Date(current)).getTimezoneOffset();
            var dst_start = null;
            var dst_end = null;

            while (current < yearend - 86400000) {
                var dateToCheck = new Date(current);
                var dateToCheckOffset = dateToCheck.getTimezoneOffset();

                if (dateToCheckOffset !== offset) {
                    if (dateToCheckOffset < offset) {
                        dst_start = dateToCheck;
                    }
                    if (dateToCheckOffset > offset) {
                        dst_end = dateToCheck;
                    }
                    offset = dateToCheckOffset;
                }

                current += 86400000;
            }

            if (dst_start && dst_end) {
                return {
                    s: find_dst_fold(dst_start).getTime(),
                    e: find_dst_fold(dst_end).getTime()
                };
            }

            return false;
        },

        /**
         * Probably completely unnecessary function that recursively finds the
         * exact (to the second) time when a DST rule was changed.
         *
         * @param a_date - The candidate Date.
         * @param padding - integer specifying the padding to allow around the candidate
         *                  date for finding the fold.
         * @param iterator - integer specifying how many milliseconds to iterate while
         *                   searching for the fold.
         *
         * @returns {Date}
         */
        find_dst_fold = function find_dst_fold(a_date, padding, iterator) {
            if (typeof padding === 'undefined') {
                padding = consts.DAY;
                iterator = consts.HOUR;
            }

            var date_start = new Date(a_date.getTime() - padding).getTime();
            var date_end = a_date.getTime() + padding;
            var offset = new Date(date_start).getTimezoneOffset();

            var current = date_start;

            var dst_change = null;
            while (current < date_end - iterator) {
                var dateToCheck = new Date(current);
                var dateToCheckOffset = dateToCheck.getTimezoneOffset();

                if (dateToCheckOffset !== offset) {
                    dst_change = dateToCheck;
                    break;
                }
                current += iterator;
            }

            if (padding === consts.DAY) {
                return find_dst_fold(dst_change, consts.HOUR, consts.MINUTE);
            }

            if (padding === consts.HOUR) {
                return find_dst_fold(dst_change, consts.MINUTE, consts.SECOND);
            }

            return dst_change;
        },

        windows7_adaptations = function windows7_adaptions(rule_list, preliminary_timezone, score, sample) {
            if (score !== 'N/A') {
                return score;
            }
            if (preliminary_timezone === 'Asia/Beirut') {
                if (sample.name === 'Africa/Cairo') {
                    if (rule_list[6].s === 1398376800000 && rule_list[6].e === 1411678800000) {
                        return 0;
                    }
                }
                if (sample.name === 'Asia/Jerusalem') {
                    if (rule_list[6].s === 1395964800000 && rule_list[6].e === 1411858800000) {
                        return 0;
                }
            }
            } else if (preliminary_timezone === 'America/Santiago') {
                if (sample.name === 'America/Asuncion') {
                    if (rule_list[6].s === 1412481600000 && rule_list[6].e === 1397358000000) {
                        return 0;
                    }
                }
                if (sample.name === 'America/Campo_Grande') {
                    if (rule_list[6].s === 1413691200000 && rule_list[6].e === 1392519600000) {
                        return 0;
                    }
                }
            } else if (preliminary_timezone === 'America/Montevideo') {
                if (sample.name === 'America/Sao_Paulo') {
                    if (rule_list[6].s === 1413687600000 && rule_list[6].e === 1392516000000) {
                        return 0;
                    }
                }
            } else if (preliminary_timezone === 'Pacific/Auckland') {
                if (sample.name === 'Pacific/Fiji') {
                    if (rule_list[6].s === 1414245600000 && rule_list[6].e === 1396101600000) {
                        return 0;
                    }
                }
            }

            return score;
        },

        /**
         * Takes the DST rules for the current timezone, and proceeds to find matches
         * in the jstz.olson.dst_rules.zones array.
         *
         * Compares samples to the current timezone on a scoring basis.
         *
         * Candidates are ruled immediately if either the candidate or the current zone
         * has a DST rule where the other does not.
         *
         * Candidates are ruled out immediately if the current zone has a rule that is
         * outside the DST scope of the candidate.
         *
         * Candidates are included for scoring if the current zones rules fall within the
         * span of the samples rules.
         *
         * Low score is best, the score is calculated by summing up the differences in DST
         * rules and if the consts.MAX_SCORE is overreached the candidate is ruled out.
         *
         * Yah follow? :)
         *
         * @param rule_list
         * @param preliminary_timezone
         * @returns {*}
         */
        best_dst_match = function best_dst_match(rule_list, preliminary_timezone) {
            var score_sample = function score_sample(sample) {
                var score = 0;

                for (var j = 0; j < rule_list.length; j++) {

                    // Both sample and current time zone report DST during the year.
                    if (!!sample.rules[j] && !!rule_list[j]) {

                        // The current time zone's DST rules are inside the sample's. Include.
                        if (rule_list[j].s >= sample.rules[j].s && rule_list[j].e <= sample.rules[j].e) {
                            score = 0;
                            score += Math.abs(rule_list[j].s - sample.rules[j].s);
                            score += Math.abs(sample.rules[j].e - rule_list[j].e);

                        // The current time zone's DST rules are outside the sample's. Discard.
                        } else {
                            score = 'N/A';
                            break;
                        }

                        // The max score has been reached. Discard.
                        if (score > consts.MAX_SCORE) {
                            score = 'N/A';
                            break;
                        }
                    }
                }

                score = windows7_adaptations(rule_list, preliminary_timezone, score, sample);

                return score;
            };
            var scoreboard = {};
            var dst_zones = jstz.olson.dst_rules.zones;
            var dst_zones_length = dst_zones.length;
            var ambiguities = consts.AMBIGUITIES[preliminary_timezone];

            for (var i = 0; i < dst_zones_length; i++) {
                var sample = dst_zones[i];
                var score = score_sample(dst_zones[i]);

                if (score !== 'N/A') {
                    scoreboard[sample.name] = score;
                }
            }

            for (var tz in scoreboard) {
                if (scoreboard.hasOwnProperty(tz)) {
                    for (var j = 0; j < ambiguities.length; j++) {
                        if (ambiguities[j] === tz) {
                            return tz;
                        }
                    }
                }
            }

            return preliminary_timezone;
        },

        /**
         * Takes the preliminary_timezone as detected by lookup_key().
         *
         * Builds up the current timezones DST rules for the years defined
         * in the jstz.olson.dst_rules.years array.
         *
         * If there are no DST occurences for those years, immediately returns
         * the preliminary timezone. Otherwise proceeds and tries to solve
         * ambiguities.
         *
         * @param preliminary_timezone
         * @returns {String} timezone_name
         */
        get_by_dst = function get_by_dst(preliminary_timezone) {
            var get_rules = function get_rules() {
                var rule_list = [];
                for (var i = 0; i < jstz.olson.dst_rules.years.length; i++) {
                    var year_rules = dst_dates(jstz.olson.dst_rules.years[i]);
                    rule_list.push(year_rules);
                }
                return rule_list;
            };
            var check_has_dst = function check_has_dst(rules) {
                for (var i = 0; i < rules.length; i++) {
                    if (rules[i] !== false) {
                        return true;
                    }
                }
                return false;
            };
            var rules = get_rules();
            var has_dst = check_has_dst(rules);

            if (has_dst) {
                return best_dst_match(rules, preliminary_timezone);
            }

            return preliminary_timezone;
        },

        /**
         * Uses get_timezone_info() to formulate a key to use in the olson.timezones dictionary.
         *
         * Returns an object with one function ".name()"
         *
         * @returns Object
         */
        determine = function determine() {
            var preliminary_tz = get_from_internationalization_api();

            if (!preliminary_tz) {
                preliminary_tz = jstz.olson.timezones[lookup_key()];

                if (typeof consts.AMBIGUITIES[preliminary_tz] !== 'undefined') {
                    preliminary_tz = get_by_dst(preliminary_tz);
                }
            }

            return {
                name: function () {
                    return preliminary_tz;
                }
            };
        };

    return {
        determine: determine
    };
}());


jstz.olson = jstz.olson || {};

/**
 * The keys in this dictionary are comma separated as such:
 *
 * First the offset compared to UTC time in minutes.
 *
 * Then a flag which is 0 if the timezone does not take daylight savings into account and 1 if it
 * does.
 *
 * Thirdly an optional 's' signifies that the timezone is in the southern hemisphere,
 * only interesting for timezones with DST.
 *
 * The mapped arrays is used for constructing the jstz.TimeZone object from within
 * jstz.determine();
 */
jstz.olson.timezones = {
    '-720,0': 'Etc/GMT+12',
    '-660,0': 'Pacific/Pago_Pago',
    '-660,1,s': 'Pacific/Apia', // Why? Because windows... cry!
    '-600,1': 'America/Adak',
    '-600,0': 'Pacific/Honolulu',
    '-570,0': 'Pacific/Marquesas',
    '-540,0': 'Pacific/Gambier',
    '-540,1': 'America/Anchorage',
    '-480,1': 'America/Los_Angeles',
    '-480,0': 'Pacific/Pitcairn',
    '-420,0': 'America/Phoenix',
    '-420,1': 'America/Denver',
    '-360,0': 'America/Guatemala',
    '-360,1': 'America/Chicago',
    '-360,1,s': 'Pacific/Easter',
    '-300,0': 'America/Bogota',
    '-300,1': 'America/New_York',
    '-270,0': 'America/Caracas',
    '-240,1': 'America/Halifax',
    '-240,0': 'America/Santo_Domingo',
    '-240,1,s': 'America/Asuncion',
    '-210,1': 'America/St_Johns',
    '-180,1': 'America/Godthab',
    '-180,0': 'America/Argentina/Buenos_Aires',
    '-180,1,s': 'America/Montevideo',
    '-120,0': 'America/Noronha',
    '-120,1': 'America/Noronha',
    '-60,1': 'Atlantic/Azores',
    '-60,0': 'Atlantic/Cape_Verde',
    '0,0': 'UTC',
    '0,1': 'Europe/London',
    '60,1': 'Europe/Berlin',
    '60,0': 'Africa/Lagos',
    '60,1,s': 'Africa/Windhoek',
    '120,1': 'Asia/Beirut',
    '120,0': 'Africa/Johannesburg',
    '180,0': 'Asia/Baghdad',
    '180,1': 'Europe/Moscow',
    '210,1': 'Asia/Tehran',
    '240,0': 'Asia/Dubai',
    '240,1': 'Asia/Baku',
    '270,0': 'Asia/Kabul',
    '300,1': 'Asia/Yekaterinburg',
    '300,0': 'Asia/Karachi',
    '330,0': 'Asia/Kolkata',
    '345,0': 'Asia/Kathmandu',
    '360,0': 'Asia/Dhaka',
    '360,1': 'Asia/Omsk',
    '390,0': 'Asia/Rangoon',
    '420,1': 'Asia/Krasnoyarsk',
    '420,0': 'Asia/Jakarta',
    '480,0': 'Asia/Shanghai',
    '480,1': 'Asia/Irkutsk',
    '525,0': 'Australia/Eucla',
    '525,1,s': 'Australia/Eucla',
    '540,1': 'Asia/Yakutsk',
    '540,0': 'Asia/Tokyo',
    '570,0': 'Australia/Darwin',
    '570,1,s': 'Australia/Adelaide',
    '600,0': 'Australia/Brisbane',
    '600,1': 'Asia/Vladivostok',
    '600,1,s': 'Australia/Sydney',
    '630,1,s': 'Australia/Lord_Howe',
    '660,1': 'Asia/Kamchatka',
    '660,0': 'Pacific/Noumea',
    '690,0': 'Pacific/Norfolk',
    '720,1,s': 'Pacific/Auckland',
    '720,0': 'Pacific/Majuro',
    '765,1,s': 'Pacific/Chatham',
    '780,0': 'Pacific/Tongatapu',
    '780,1,s': 'Pacific/Apia',
    '840,0': 'Pacific/Kiritimati'
};

/* Build time: 2015-11-02 13:01:00Z Build by invoking python utilities/dst.py generate */
jstz.olson.dst_rules = {
    "years": [
        2008,
        2009,
        2010,
        2011,
        2012,
        2013,
        2014
    ],
    "zones": [
        {
            "name": "Africa/Cairo",
            "rules": [
                {
                    "e": 1219957200000,
                    "s": 1209074400000
                },
                {
                    "e": 1250802000000,
                    "s": 1240524000000
                },
                {
                    "e": 1285880400000,
                    "s": 1284069600000
                },
                false,
                false,
                false,
                {
                    "e": 1411678800000,
                    "s": 1406844000000
                }
            ]
        },
        {
            "name": "Africa/Casablanca",
            "rules": [
                {
                    "e": 1220223600000,
                    "s": 1212278400000
                },
                {
                    "e": 1250809200000,
                    "s": 1243814400000
                },
                {
                    "e": 1281222000000,
                    "s": 1272758400000
                },
                {
                    "e": 1312066800000,
                    "s": 1301788800000
                },
                {
                    "e": 1348970400000,
                    "s": 1345428000000
                },
                {
                    "e": 1382839200000,
                    "s": 1376100000000
                },
                {
                    "e": 1414288800000,
                    "s": 1406944800000
                }
            ]
        },
        {
            "name": "America/Asuncion",
            "rules": [
                {
                    "e": 1205031600000,
                    "s": 1224388800000
                },
                {
                    "e": 1236481200000,
                    "s": 1255838400000
                },
                {
                    "e": 1270954800000,
                    "s": 1286078400000
                },
                {
                    "e": 1302404400000,
                    "s": 1317528000000
                },
                {
                    "e": 1333854000000,
                    "s": 1349582400000
                },
                {
                    "e": 1364094000000,
                    "s": 1381032000000
                },
                {
                    "e": 1395543600000,
                    "s": 1412481600000
                }
            ]
        },
        {
            "name": "America/Campo_Grande",
            "rules": [
                {
                    "e": 1203217200000,
                    "s": 1224388800000
                },
                {
                    "e": 1234666800000,
                    "s": 1255838400000
                },
                {
                    "e": 1266721200000,
                    "s": 1287288000000
                },
                {
                    "e": 1298170800000,
                    "s": 1318737600000
                },
                {
                    "e": 1330225200000,
                    "s": 1350792000000
                },
                {
                    "e": 1361070000000,
                    "s": 1382241600000
                },
                {
                    "e": 1392519600000,
                    "s": 1413691200000
                }
            ]
        },
        {
            "name": "America/Goose_Bay",
            "rules": [
                {
                    "e": 1225594860000,
                    "s": 1205035260000
                },
                {
                    "e": 1257044460000,
                    "s": 1236484860000
                },
                {
                    "e": 1289098860000,
                    "s": 1268539260000
                },
                {
                    "e": 1320555600000,
                    "s": 1299988860000
                },
                {
                    "e": 1352005200000,
                    "s": 1331445600000
                },
                {
                    "e": 1383454800000,
                    "s": 1362895200000
                },
                {
                    "e": 1414904400000,
                    "s": 1394344800000
                }
            ]
        },
        {
            "name": "America/Havana",
            "rules": [
                {
                    "e": 1224997200000,
                    "s": 1205643600000
                },
                {
                    "e": 1256446800000,
                    "s": 1236488400000
                },
                {
                    "e": 1288501200000,
                    "s": 1268542800000
                },
                {
                    "e": 1321160400000,
                    "s": 1300597200000
                },
                {
                    "e": 1352005200000,
                    "s": 1333256400000
                },
                {
                    "e": 1383454800000,
                    "s": 1362891600000
                },
                {
                    "e": 1414904400000,
                    "s": 1394341200000
                }
            ]
        },
        {
            "name": "America/Mazatlan",
            "rules": [
                {
                    "e": 1225008000000,
                    "s": 1207472400000
                },
                {
                    "e": 1256457600000,
                    "s": 1238922000000
                },
                {
                    "e": 1288512000000,
                    "s": 1270371600000
                },
                {
                    "e": 1319961600000,
                    "s": 1301821200000
                },
                {
                    "e": 1351411200000,
                    "s": 1333270800000
                },
                {
                    "e": 1382860800000,
                    "s": 1365325200000
                },
                {
                    "e": 1414310400000,
                    "s": 1396774800000
                }
            ]
        },
        {
            "name": "America/Mexico_City",
            "rules": [
                {
                    "e": 1225004400000,
                    "s": 1207468800000
                },
                {
                    "e": 1256454000000,
                    "s": 1238918400000
                },
                {
                    "e": 1288508400000,
                    "s": 1270368000000
                },
                {
                    "e": 1319958000000,
                    "s": 1301817600000
                },
                {
                    "e": 1351407600000,
                    "s": 1333267200000
                },
                {
                    "e": 1382857200000,
                    "s": 1365321600000
                },
                {
                    "e": 1414306800000,
                    "s": 1396771200000
                }
            ]
        },
        {
            "name": "America/Miquelon",
            "rules": [
                {
                    "e": 1225598400000,
                    "s": 1205038800000
                },
                {
                    "e": 1257048000000,
                    "s": 1236488400000
                },
                {
                    "e": 1289102400000,
                    "s": 1268542800000
                },
                {
                    "e": 1320552000000,
                    "s": 1299992400000
                },
                {
                    "e": 1352001600000,
                    "s": 1331442000000
                },
                {
                    "e": 1383451200000,
                    "s": 1362891600000
                },
                {
                    "e": 1414900800000,
                    "s": 1394341200000
                }
            ]
        },
        {
            "name": "America/Santa_Isabel",
            "rules": [
                {
                    "e": 1225011600000,
                    "s": 1207476000000
                },
                {
                    "e": 1256461200000,
                    "s": 1238925600000
                },
                {
                    "e": 1288515600000,
                    "s": 1270375200000
                },
                {
                    "e": 1319965200000,
                    "s": 1301824800000
                },
                {
                    "e": 1351414800000,
                    "s": 1333274400000
                },
                {
                    "e": 1382864400000,
                    "s": 1365328800000
                },
                {
                    "e": 1414314000000,
                    "s": 1396778400000
                }
            ]
        },
        {
            "name": "America/Santiago",
            "rules": [
                {
                    "e": 1206846000000,
                    "s": 1223784000000
                },
                {
                    "e": 1237086000000,
                    "s": 1255233600000
                },
                {
                    "e": 1270350000000,
                    "s": 1286683200000
                },
                {
                    "e": 1304823600000,
                    "s": 1313899200000
                },
                {
                    "e": 1335668400000,
                    "s": 1346558400000
                },
                {
                    "e": 1367118000000,
                    "s": 1378612800000
                },
                {
                    "e": 1398567600000,
                    "s": 1410062400000
                }
            ]
        },
        {
            "name": "America/Sao_Paulo",
            "rules": [
                {
                    "e": 1203213600000,
                    "s": 1224385200000
                },
                {
                    "e": 1234663200000,
                    "s": 1255834800000
                },
                {
                    "e": 1266717600000,
                    "s": 1287284400000
                },
                {
                    "e": 1298167200000,
                    "s": 1318734000000
                },
                {
                    "e": 1330221600000,
                    "s": 1350788400000
                },
                {
                    "e": 1361066400000,
                    "s": 1382238000000
                },
                {
                    "e": 1392516000000,
                    "s": 1413687600000
                }
            ]
        },
        {
            "name": "Asia/Amman",
            "rules": [
                {
                    "e": 1225404000000,
                    "s": 1206655200000
                },
                {
                    "e": 1256853600000,
                    "s": 1238104800000
                },
                {
                    "e": 1288303200000,
                    "s": 1269554400000
                },
                {
                    "e": 1319752800000,
                    "s": 1301608800000
                },
                false,
                false,
                {
                    "e": 1414706400000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Damascus",
            "rules": [
                {
                    "e": 1225486800000,
                    "s": 1207260000000
                },
                {
                    "e": 1256850000000,
                    "s": 1238104800000
                },
                {
                    "e": 1288299600000,
                    "s": 1270159200000
                },
                {
                    "e": 1319749200000,
                    "s": 1301608800000
                },
                {
                    "e": 1351198800000,
                    "s": 1333058400000
                },
                {
                    "e": 1382648400000,
                    "s": 1364508000000
                },
                {
                    "e": 1414702800000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Dubai",
            "rules": [
                false,
                false,
                false,
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Gaza",
            "rules": [
                {
                    "e": 1219957200000,
                    "s": 1206655200000
                },
                {
                    "e": 1252015200000,
                    "s": 1238104800000
                },
                {
                    "e": 1281474000000,
                    "s": 1269640860000
                },
                {
                    "e": 1312146000000,
                    "s": 1301608860000
                },
                {
                    "e": 1348178400000,
                    "s": 1333058400000
                },
                {
                    "e": 1380229200000,
                    "s": 1364508000000
                },
                {
                    "e": 1414098000000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Irkutsk",
            "rules": [
                {
                    "e": 1224957600000,
                    "s": 1206813600000
                },
                {
                    "e": 1256407200000,
                    "s": 1238263200000
                },
                {
                    "e": 1288461600000,
                    "s": 1269712800000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Jerusalem",
            "rules": [
                {
                    "e": 1223161200000,
                    "s": 1206662400000
                },
                {
                    "e": 1254006000000,
                    "s": 1238112000000
                },
                {
                    "e": 1284246000000,
                    "s": 1269561600000
                },
                {
                    "e": 1317510000000,
                    "s": 1301616000000
                },
                {
                    "e": 1348354800000,
                    "s": 1333065600000
                },
                {
                    "e": 1382828400000,
                    "s": 1364515200000
                },
                {
                    "e": 1414278000000,
                    "s": 1395964800000
                }
            ]
        },
        {
            "name": "Asia/Kamchatka",
            "rules": [
                {
                    "e": 1224943200000,
                    "s": 1206799200000
                },
                {
                    "e": 1256392800000,
                    "s": 1238248800000
                },
                {
                    "e": 1288450800000,
                    "s": 1269698400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Krasnoyarsk",
            "rules": [
                {
                    "e": 1224961200000,
                    "s": 1206817200000
                },
                {
                    "e": 1256410800000,
                    "s": 1238266800000
                },
                {
                    "e": 1288465200000,
                    "s": 1269716400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Omsk",
            "rules": [
                {
                    "e": 1224964800000,
                    "s": 1206820800000
                },
                {
                    "e": 1256414400000,
                    "s": 1238270400000
                },
                {
                    "e": 1288468800000,
                    "s": 1269720000000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Vladivostok",
            "rules": [
                {
                    "e": 1224950400000,
                    "s": 1206806400000
                },
                {
                    "e": 1256400000000,
                    "s": 1238256000000
                },
                {
                    "e": 1288454400000,
                    "s": 1269705600000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yakutsk",
            "rules": [
                {
                    "e": 1224954000000,
                    "s": 1206810000000
                },
                {
                    "e": 1256403600000,
                    "s": 1238259600000
                },
                {
                    "e": 1288458000000,
                    "s": 1269709200000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yekaterinburg",
            "rules": [
                {
                    "e": 1224968400000,
                    "s": 1206824400000
                },
                {
                    "e": 1256418000000,
                    "s": 1238274000000
                },
                {
                    "e": 1288472400000,
                    "s": 1269723600000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yerevan",
            "rules": [
                {
                    "e": 1224972000000,
                    "s": 1206828000000
                },
                {
                    "e": 1256421600000,
                    "s": 1238277600000
                },
                {
                    "e": 1288476000000,
                    "s": 1269727200000
                },
                {
                    "e": 1319925600000,
                    "s": 1301176800000
                },
                false,
                false,
                false
            ]
        },
        {
            "name": "Australia/Lord_Howe",
            "rules": [
                {
                    "e": 1207407600000,
                    "s": 1223134200000
                },
                {
                    "e": 1238857200000,
                    "s": 1254583800000
                },
                {
                    "e": 1270306800000,
                    "s": 1286033400000
                },
                {
                    "e": 1301756400000,
                    "s": 1317483000000
                },
                {
                    "e": 1333206000000,
                    "s": 1349537400000
                },
                {
                    "e": 1365260400000,
                    "s": 1380987000000
                },
                {
                    "e": 1396710000000,
                    "s": 1412436600000
                }
            ]
        },
        {
            "name": "Australia/Perth",
            "rules": [
                {
                    "e": 1206813600000,
                    "s": 1224957600000
                },
                false,
                false,
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Europe/Helsinki",
            "rules": [
                {
                    "e": 1224982800000,
                    "s": 1206838800000
                },
                {
                    "e": 1256432400000,
                    "s": 1238288400000
                },
                {
                    "e": 1288486800000,
                    "s": 1269738000000
                },
                {
                    "e": 1319936400000,
                    "s": 1301187600000
                },
                {
                    "e": 1351386000000,
                    "s": 1332637200000
                },
                {
                    "e": 1382835600000,
                    "s": 1364691600000
                },
                {
                    "e": 1414285200000,
                    "s": 1396141200000
                }
            ]
        },
        {
            "name": "Europe/Minsk",
            "rules": [
                {
                    "e": 1224979200000,
                    "s": 1206835200000
                },
                {
                    "e": 1256428800000,
                    "s": 1238284800000
                },
                {
                    "e": 1288483200000,
                    "s": 1269734400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Europe/Moscow",
            "rules": [
                {
                    "e": 1224975600000,
                    "s": 1206831600000
                },
                {
                    "e": 1256425200000,
                    "s": 1238281200000
                },
                {
                    "e": 1288479600000,
                    "s": 1269730800000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Pacific/Apia",
            "rules": [
                false,
                false,
                false,
                {
                    "e": 1301752800000,
                    "s": 1316872800000
                },
                {
                    "e": 1333202400000,
                    "s": 1348927200000
                },
                {
                    "e": 1365256800000,
                    "s": 1380376800000
                },
                {
                    "e": 1396706400000,
                    "s": 1411826400000
                }
            ]
        },
        {
            "name": "Pacific/Fiji",
            "rules": [
                false,
                false,
                {
                    "e": 1269698400000,
                    "s": 1287842400000
                },
                {
                    "e": 1327154400000,
                    "s": 1319292000000
                },
                {
                    "e": 1358604000000,
                    "s": 1350741600000
                },
                {
                    "e": 1390050000000,
                    "s": 1382796000000
                },
                {
                    "e": 1421503200000,
                    "s": 1414850400000
                }
            ]
        },
        {
            "name": "Europe/London",
            "rules": [
                {
                    "e": 1224982800000,
                    "s": 1206838800000
                },
                {
                    "e": 1256432400000,
                    "s": 1238288400000
                },
                {
                    "e": 1288486800000,
                    "s": 1269738000000
                },
                {
                    "e": 1319936400000,
                    "s": 1301187600000
                },
                {
                    "e": 1351386000000,
                    "s": 1332637200000
                },
                {
                    "e": 1382835600000,
                    "s": 1364691600000
                },
                {
                    "e": 1414285200000,
                    "s": 1396141200000
                }
            ]
        }
    ]
};
if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {
    module.exports = jstz;
} else if ((typeof define !== 'undefined' && define !== null) && (define.amd != null)) {
    define([], function() {
        return jstz;
    });
} else {
    if (typeof root === 'undefined') {
        window.jstz = jstz;
    } else {
        root.jstz = jstz;
    }
}
}());

},{}],339:[function(require,module,exports){
/*! lightslider - v1.1.6 - 2016-10-25
* https://github.com/sachinchoolur/lightslider
* Copyright (c) 2016 Sachin N; Licensed MIT */
!function(a,b){"use strict";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,"fade"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p="",q=0,r=e.vertical===!0?"height":"width",s=e.vertical===!0?"margin-bottom":"margin-right",t=0,u=0,v=0,w=0,x=null,y="ontouchstart"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if("undefined"!=typeof k&&null!==k)for(var d in k.settings)k.settings.hasOwnProperty(d)&&(("undefined"==typeof f[d]||null===f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i>e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(".lslide").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return e.useCSS&&a()?!0:!1},keyPress:function(){e.keyPress&&a(document).on("keyup.lightslider",function(b){a(":focus").is("input, textarea")||(b.preventDefault?b.preventDefault():b.returnValue=!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div class="lSAction"><a class="lSPrev">'+e.prevHtml+'</a><a class="lSNext">'+e.nextHtml+"</a></div>"),e.autoWidth?z.calWidth(!1)<o&&p.find(".lSAction").hide():l<=e.item&&p.find(".lSAction").hide(),p.find(".lSAction a").on("click",function(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,"lSPrev"===a(this).attr("class")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var a=this;"fade"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass("lightSlider").wrap('<div class="lSSlideOuter '+e.addClass+'"><div class="lSSlideWrapper"></div></div>'),p=g.parent(".lSSlideWrapper"),e.rtl===!0&&p.parent().addClass("lSrtl"),e.vertical?(p.parent().addClass("vertical"),o=e.verticalHeight,p.css("height",o+"px")):o=g.outerWidth(),h.addClass("lslide"),e.loop===!0&&"slide"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseInt(g.find(".lslide").eq(d).width())+e.slideMargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(".clone.left").length)for(var i=0;i<g.find(".clone.left").length-f;i++)h.eq(i).remove();if(f<g.find(".clone.right").length)for(var j=h.length-1;j>h.length-1-g.find(".clone.right").length;j--)q--,h.eq(j).remove();for(var k=g.find(".clone.right").length;f>k;k++)g.find(".lslide").eq(k).clone().removeClass("lslide").addClass("clone right").appendTo(g),q++;for(var l=g.find(".lslide").length-g.find(".clone.left").length;l>g.find(".lslide").length-f;l--)g.find(".lslide").eq(l-1).clone().removeClass("lslide").addClass("clone left").prependTo(g);h=g.children()}else h.hasClass("clone")&&(g.find(".clone").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s="margin-left"),e.autoWidth===!1&&h.css(r,v+"px"),h.css(s,e.slideMargin+"px"),m=z.calWidth(!1),g.css(r,m+"px"),e.loop===!0&&"slide"===e.mode&&n===!1&&(q=g.find(".clone.left").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass("usingCss"),z.calL(),"slide"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass("lSFade"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&"slide"===e.mode?h.eq(q).addClass("active"):h.first().addClass("active")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(".lslide"),c=p.find(".lslide").length,d=0,f="",h=0;for(d=0;c>d;d++){"slide"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr("data-thumb");if(f+=e.gallery===!0?'<li style="width:100%;'+r+":"+w+"px;"+s+":"+e.thumbMargin+'px"><a href="#"><img src="'+i+'" /></a></li>':'<li><a href="#">'+(d+1)+"</a></li>","slide"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href="#">'+(d+1)+"</a></li>",j=1),j>d?(f=null,p.parent().addClass("noPager")):p.parent().removeClass("noPager");break}}var k=p.parent();k.find(".lSPager").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(".lSPager").css("width",e.vThumbWidth+"px"),u=d*(e.thumbMargin+w)+.5,k.find(".lSPager").css({property:u+"px","transition-duration":e.speed+"ms"}),e.vertical===!0&&p.parent().css("padding-right",e.vThumbWidth+e.galleryMargin+"px"),k.find(".lSPager").css(r,u+"px"));var l=k.find(".lSPager").find("li");l.first().addClass("active"),l.on("click",function(){return e.loop===!0&&"slide"===e.mode?q+=l.index(this)-k.find(".lSPager").find("li.active").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b="lSpg";e.gallery&&(b="lSGallery"),p.after('<ul class="lSPager '+b+'"></ul>');var c=e.vertical?"margin-left":"margin-top";p.parent().find(".lSPager").css(c,e.galleryMargin+"px"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(".lslide ").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+"px","padding-bottom":e+"%"})};f(),c.find("img").length?c.find("img")[0].complete?(f(),x||d.auto()):c.find("img").on("load",function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&"fade"===e.mode&&p.addClass("on");var c=0;if(q*e.slideMove<l){a.removeClass("active"),this.doCss()||"fade"!==e.mode||b!==!1||a.fadeOut(e.speed),c=b===!0?q:q*e.slideMove;var d,f;b===!0&&(d=a.length,f=d-1,c+1>=d&&(c=f)),e.loop===!0&&"slide"===e.mode&&(c=b===!0?q-g.find(".clone.left").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||"fade"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass("active")}else a.removeClass("active"),a.eq(a.length-1).addClass("active"),this.doCss()||"fade"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:"translate3d(0px, "+-b+"px, 0px)","-webkit-transform":"translate3d(0px, "+-b+"px, 0px)"}:{transform:"translate3d("+-b+"px, 0px, 0px)","-webkit-transform":"translate3d("+-b+"px, 0px, 0px)"}):e.vertical===!0?a.css("position","relative").animate({top:-b+"px"},e.speed,e.easing):a.css("position","relative").animate({left:-b+"px"},e.speed,e.easing);var c=p.parent().find(".lSPager").find("li");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(".lSPager").find("li");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&"slide"===e.mode&&(q>=l-g.find(".clone.left").length/e.slideMove&&a.resetSlide(g.find(".clone.left").length),0===q&&a.resetSlide(p.find(".lslide").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(".lSAction a").addClass("disabled"),setTimeout(function(){q=a,p.css("transition-duration","0ms"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css("transition-duration",e.speed+"ms"),p.find(".lSAction a").removeClass("disabled")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case"left":a=0;break;case"middle":a=o/2-w/2;break;case"right":a=o-w}var b=q-g.find(".clone.left").length,c=p.parent().find(".lSPager");"slide"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on("mouseenter",function(){a(this).addClass("ls-hover"),g.pause(),e.auto=!0}),p.on("mouseleave",function(){a(this).removeClass("ls-hover"),p.find(".lightSlider").hasClass("lsGrabbing")||b.auto()}))},touchMove:function(a,b){if(p.css("transition-duration","0ms"),"slide"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css("transition-duration",e.speed+"ms"),"slide"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseInt(h.eq(f).width())+e.slideMargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipeThreshold&&(d(!0),c=!1),g.mode(c),this.slideThumb()}else a>=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipeThreshold&&g.goToNextSlide()},enableDrag:function(){var b=this;if(!y){var c=0,d=0,f=!1;p.find(".lightSlider").addClass("lsGrab"),p.on("mousedown",function(b){return o>m&&0!==m?!1:void("lSPrev"!==a(b.target).attr("class")&&"lSNext"!==a(b.target).attr("class")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(x)))}),a(window).on("mousemove",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on("mouseup",function(g){if(f){p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on("click.ls",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off("click.ls")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on("touchstart",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on("touchmove",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on("touchend",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on("focus",function(){b.auto()}),a(window).on("blur",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css("height",o+"px")):o=p.outerWidth(),e.loop===!0&&"slide"===e.mode&&z.clone(),z.calL(),"slide"===e.mode&&g.removeClass("lSSlide"),"slide"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){"slide"===e.mode&&g.addClass("lSSlide")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css("height",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&("slide"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),"slide"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(".lSAction").hide():p.find(".lSAction").show():z.calWidth(!1)<o&&0!==m?p.find(".lSAction").hide():p.find(".lSAction").show()},g.goToPrevSlide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),"fade"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass("leftEnd"),setTimeout(function(){g.removeClass("leftEnd")},400))},g.goToNextSlide=function(){var a=!0;if("slide"===e.mode){var b=d.slideValue();a=b<m-o-e.slideMargin}q*e.slideMove<l-e.slideMove&&a?(e.onBeforeNextSlide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.loop===!0?(e.onBeforeNextSlide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.slideEndAnimation===!0&&(g.addClass("rightEnd"),setTimeout(function(){g.removeClass("rightEnd")},400))},g.mode=function(a){e.adaptiveHeight===!0&&e.vertical===!1&&g.css("height",h.eq(q).outerHeight(!0)),n===!1&&("slide"===e.mode?d.doCss()&&(g.addClass("lSSlide"),""!==e.speed&&p.css("transition-duration",e.speed+"ms"),""!==e.cssEasing&&p.css("transition-timing-function",e.cssEasing)):d.doCss()&&(""!==e.speed&&g.css("transition-duration",e.speed+"ms"),""!==e.cssEasing&&g.css("transition-timing-function",e.cssEasing))),a||e.onBeforeSlide.call(this,g,q),"slide"===e.mode?d.slide():d.fade(),p.hasClass("ls-hover")||d.auto(),setTimeout(function(){a||e.onAfterSlide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.goToNextSlide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearInterval(x)},g.refresh=function(){z.init()},g.getCurrentSlideCount=function(){var a=q;if(e.loop){var b=p.find(".lslide").length,c=g.find(".clone.left").length;a=c-1>=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(".lslide").length},g.goToSlide=function(a){q=e.loop?a+g.find(".clone.left").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(".lSAction, .lSPager").remove(),g.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),g.children().removeAttr("style"),h.removeClass("lslide active"),g.find(".clone").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on("resize orientationchange",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);
},{}],340:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match words composed of alphanumeric characters. */
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

/** Used to match Latin Unicode letters (excluding mathematical operators). */
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

/** Used to compose unicode character classes. */
var rsAstralRange = '\\ud800-\\udfff',
    rsComboMarksRange = '\\u0300-\\u036f\\ufe20-\\ufe23',
    rsComboSymbolsRange = '\\u20d0-\\u20f0',
    rsDingbatRange = '\\u2700-\\u27bf',
    rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
    rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
    rsPunctuationRange = '\\u2000-\\u206f',
    rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    rsVarRange = '\\ufe0e\\ufe0f',
    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

/** Used to compose unicode capture groups. */
var rsApos = "['\u2019]",
    rsAstral = '[' + rsAstralRange + ']',
    rsBreak = '[' + rsBreakRange + ']',
    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',
    rsDigits = '\\d+',
    rsDingbat = '[' + rsDingbatRange + ']',
    rsLower = '[' + rsLowerRange + ']',
    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
    rsFitz = '\\ud83c[\\udffb-\\udfff]',
    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
    rsNonAstral = '[^' + rsAstralRange + ']',
    rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
    rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
    rsUpper = '[' + rsUpperRange + ']',
    rsZWJ = '\\u200d';

/** Used to compose unicode regexes. */
var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',
    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',
    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
    reOptMod = rsModifier + '?',
    rsOptVar = '[' + rsVarRange + ']?',
    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
    rsSeq = rsOptVar + reOptMod + rsOptJoin,
    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,
    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';

/** Used to match apostrophes. */
var reApos = RegExp(rsApos, 'g');

/**
 * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
 * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
 */
var reComboMark = RegExp(rsCombo, 'g');

/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */
var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');

/** Used to match complex or compound words. */
var reUnicodeWord = RegExp([
  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',
  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,
  rsUpper + '+' + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join('|'), 'g');

/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */
var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');

/** Used to detect strings that need a more robust regexp to match words. */
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

/** Used to map Latin Unicode letters to basic Latin letters. */
var deburredLetters = {
  // Latin-1 Supplement block.
  '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
  '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
  '\xc7': 'C',  '\xe7': 'c',
  '\xd0': 'D',  '\xf0': 'd',
  '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
  '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
  '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
  '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
  '\xd1': 'N',  '\xf1': 'n',
  '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
  '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
  '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
  '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
  '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
  '\xc6': 'Ae', '\xe6': 'ae',
  '\xde': 'Th', '\xfe': 'th',
  '\xdf': 'ss',
  // Latin Extended-A block.
  '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
  '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
  '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
  '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
  '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
  '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
  '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
  '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
  '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
  '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
  '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
  '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
  '\u0134': 'J',  '\u0135': 'j',
  '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
  '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
  '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
  '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
  '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
  '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
  '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
  '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
  '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
  '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
  '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
  '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
  '\u0163': 't',  '\u0165': 't', '\u0167': 't',
  '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
  '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
  '\u0174': 'W',  '\u0175': 'w',
  '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
  '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
  '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
  '\u0132': 'IJ', '\u0133': 'ij',
  '\u0152': 'Oe', '\u0153': 'oe',
  '\u0149': "'n", '\u017f': 'ss'
};

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array ? array.length : 0;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

/**
 * Converts an ASCII `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function asciiToArray(string) {
  return string.split('');
}

/**
 * Splits an ASCII `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}

/**
 * The base implementation of `_.propertyOf` without support for deep paths.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyOf(object) {
  return function(key) {
    return object == null ? undefined : object[key];
  };
}

/**
 * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
 * letters to basic Latin letters.
 *
 * @private
 * @param {string} letter The matched letter to deburr.
 * @returns {string} Returns the deburred letter.
 */
var deburrLetter = basePropertyOf(deburredLetters);

/**
 * Checks if `string` contains Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a symbol is found, else `false`.
 */
function hasUnicode(string) {
  return reHasUnicode.test(string);
}

/**
 * Checks if `string` contains a word composed of Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a word is found, else `false`.
 */
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}

/**
 * Converts `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function stringToArray(string) {
  return hasUnicode(string)
    ? unicodeToArray(string)
    : asciiToArray(string);
}

/**
 * Converts a Unicode `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function unicodeToArray(string) {
  return string.match(reUnicode) || [];
}

/**
 * Splits a Unicode `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : (length + start);
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : ((end - start) >>> 0);
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `array` to a slice if it's needed.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {number} start The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the cast slice.
 */
function castSlice(array, start, end) {
  var length = array.length;
  end = end === undefined ? length : end;
  return (!start && end >= length) ? array : baseSlice(array, start, end);
}

/**
 * Creates a function like `_.lowerFirst`.
 *
 * @private
 * @param {string} methodName The name of the `String` case method to use.
 * @returns {Function} Returns the new case function.
 */
function createCaseFirst(methodName) {
  return function(string) {
    string = toString(string);

    var strSymbols = hasUnicode(string)
      ? stringToArray(string)
      : undefined;

    var chr = strSymbols
      ? strSymbols[0]
      : string.charAt(0);

    var trailing = strSymbols
      ? castSlice(strSymbols, 1).join('')
      : string.slice(1);

    return chr[methodName]() + trailing;
  };
}

/**
 * Creates a function like `_.camelCase`.
 *
 * @private
 * @param {Function} callback The function to combine each word.
 * @returns {Function} Returns the new compounder function.
 */
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
  };
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the camel cased string.
 * @example
 *
 * _.camelCase('Foo Bar');
 * // => 'fooBar'
 *
 * _.camelCase('--foo-bar--');
 * // => 'fooBar'
 *
 * _.camelCase('__FOO_BAR__');
 * // => 'fooBar'
 */
var camelCase = createCompounder(function(result, word, index) {
  word = word.toLowerCase();
  return result + (index ? capitalize(word) : word);
});

/**
 * Converts the first character of `string` to upper case and the remaining
 * to lower case.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to capitalize.
 * @returns {string} Returns the capitalized string.
 * @example
 *
 * _.capitalize('FRED');
 * // => 'Fred'
 */
function capitalize(string) {
  return upperFirst(toString(string).toLowerCase());
}

/**
 * Deburrs `string` by converting
 * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
 * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
 * letters to basic Latin letters and removing
 * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to deburr.
 * @returns {string} Returns the deburred string.
 * @example
 *
 * _.deburr('déjà vu');
 * // => 'deja vu'
 */
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
}

/**
 * Converts the first character of `string` to upper case.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the converted string.
 * @example
 *
 * _.upperFirst('fred');
 * // => 'Fred'
 *
 * _.upperFirst('FRED');
 * // => 'FRED'
 */
var upperFirst = createCaseFirst('toUpperCase');

/**
 * Splits `string` into an array of its words.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to inspect.
 * @param {RegExp|string} [pattern] The pattern to match words.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the words of `string`.
 * @example
 *
 * _.words('fred, barney, & pebbles');
 * // => ['fred', 'barney', 'pebbles']
 *
 * _.words('fred, barney, & pebbles', /[^, ]+/g);
 * // => ['fred', 'barney', '&', 'pebbles']
 */
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? undefined : pattern;

  if (pattern === undefined) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}

module.exports = camelCase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],341:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = get;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],342:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match words composed of alphanumeric characters. */
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

/** Used to match Latin Unicode letters (excluding mathematical operators). */
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

/** Used to compose unicode character classes. */
var rsAstralRange = '\\ud800-\\udfff',
    rsComboMarksRange = '\\u0300-\\u036f\\ufe20-\\ufe23',
    rsComboSymbolsRange = '\\u20d0-\\u20f0',
    rsDingbatRange = '\\u2700-\\u27bf',
    rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
    rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
    rsPunctuationRange = '\\u2000-\\u206f',
    rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    rsVarRange = '\\ufe0e\\ufe0f',
    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

/** Used to compose unicode capture groups. */
var rsApos = "['\u2019]",
    rsBreak = '[' + rsBreakRange + ']',
    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',
    rsDigits = '\\d+',
    rsDingbat = '[' + rsDingbatRange + ']',
    rsLower = '[' + rsLowerRange + ']',
    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
    rsFitz = '\\ud83c[\\udffb-\\udfff]',
    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
    rsNonAstral = '[^' + rsAstralRange + ']',
    rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
    rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
    rsUpper = '[' + rsUpperRange + ']',
    rsZWJ = '\\u200d';

/** Used to compose unicode regexes. */
var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',
    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',
    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
    reOptMod = rsModifier + '?',
    rsOptVar = '[' + rsVarRange + ']?',
    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
    rsSeq = rsOptVar + reOptMod + rsOptJoin,
    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;

/** Used to match apostrophes. */
var reApos = RegExp(rsApos, 'g');

/**
 * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
 * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
 */
var reComboMark = RegExp(rsCombo, 'g');

/** Used to match complex or compound words. */
var reUnicodeWord = RegExp([
  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',
  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,
  rsUpper + '+' + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join('|'), 'g');

/** Used to detect strings that need a more robust regexp to match words. */
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

/** Used to map Latin Unicode letters to basic Latin letters. */
var deburredLetters = {
  // Latin-1 Supplement block.
  '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
  '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
  '\xc7': 'C',  '\xe7': 'c',
  '\xd0': 'D',  '\xf0': 'd',
  '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
  '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
  '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
  '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
  '\xd1': 'N',  '\xf1': 'n',
  '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
  '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
  '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
  '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
  '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
  '\xc6': 'Ae', '\xe6': 'ae',
  '\xde': 'Th', '\xfe': 'th',
  '\xdf': 'ss',
  // Latin Extended-A block.
  '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
  '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
  '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
  '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
  '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
  '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
  '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
  '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
  '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
  '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
  '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
  '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
  '\u0134': 'J',  '\u0135': 'j',
  '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
  '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
  '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
  '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
  '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
  '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
  '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
  '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
  '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
  '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
  '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
  '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
  '\u0163': 't',  '\u0165': 't', '\u0167': 't',
  '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
  '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
  '\u0174': 'W',  '\u0175': 'w',
  '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
  '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
  '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
  '\u0132': 'IJ', '\u0133': 'ij',
  '\u0152': 'Oe', '\u0153': 'oe',
  '\u0149': "'n", '\u017f': 'ss'
};

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array ? array.length : 0;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

/**
 * Splits an ASCII `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}

/**
 * The base implementation of `_.propertyOf` without support for deep paths.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyOf(object) {
  return function(key) {
    return object == null ? undefined : object[key];
  };
}

/**
 * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
 * letters to basic Latin letters.
 *
 * @private
 * @param {string} letter The matched letter to deburr.
 * @returns {string} Returns the deburred letter.
 */
var deburrLetter = basePropertyOf(deburredLetters);

/**
 * Checks if `string` contains a word composed of Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a word is found, else `false`.
 */
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}

/**
 * Splits a Unicode `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Creates a function like `_.camelCase`.
 *
 * @private
 * @param {Function} callback The function to combine each word.
 * @returns {Function} Returns the new compounder function.
 */
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
  };
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Deburrs `string` by converting
 * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
 * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
 * letters to basic Latin letters and removing
 * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to deburr.
 * @returns {string} Returns the deburred string.
 * @example
 *
 * _.deburr('déjà vu');
 * // => 'deja vu'
 */
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
}

/**
 * Converts `string` to
 * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the kebab cased string.
 * @example
 *
 * _.kebabCase('Foo Bar');
 * // => 'foo-bar'
 *
 * _.kebabCase('fooBar');
 * // => 'foo-bar'
 *
 * _.kebabCase('__FOO_BAR__');
 * // => 'foo-bar'
 */
var kebabCase = createCompounder(function(result, word, index) {
  return result + (index ? '-' : '') + word.toLowerCase();
});

/**
 * Splits `string` into an array of its words.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to inspect.
 * @param {RegExp|string} [pattern] The pattern to match words.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the words of `string`.
 * @example
 *
 * _.words('fred, barney, & pebbles');
 * // => ['fred', 'barney', 'pebbles']
 *
 * _.words('fred, barney, & pebbles', /[^, ]+/g);
 * // => ['fred', 'barney', '&', 'pebbles']
 */
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? undefined : pattern;

  if (pattern === undefined) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}

module.exports = kebabCase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],343:[function(require,module,exports){
(function (global){
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/**
 * Gets the value at `key`, unless `key` is "__proto__".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  return key == '__proto__'
    ? undefined
    : object[key];
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    objectCreate = Object.create,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeMax = Math.max,
    nativeNow = Date.now;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    if (isObject(srcValue)) {
      stack || (stack = new Stack);
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;

  return !!length &&
    (type == 'number' ||
      (type != 'symbol' && reIsUint.test(value))) &&
        (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * This method is like `_.merge` except that it accepts `customizer` which
 * is invoked to produce the merged values of the destination and source
 * properties. If `customizer` returns `undefined`, merging is handled by the
 * method instead. The `customizer` is invoked with six arguments:
 * (objValue, srcValue, key, object, source, stack).
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} sources The source objects.
 * @param {Function} customizer The function to customize assigned values.
 * @returns {Object} Returns `object`.
 * @example
 *
 * function customizer(objValue, srcValue) {
 *   if (_.isArray(objValue)) {
 *     return objValue.concat(srcValue);
 *   }
 * }
 *
 * var object = { 'a': [1], 'b': [2] };
 * var other = { 'a': [3], 'b': [4] };
 *
 * _.mergeWith(object, other, customizer);
 * // => { 'a': [1, 3], 'b': [2, 4] }
 */
var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
  baseMerge(object, source, srcIndex, customizer);
});

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = mergeWith;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],344:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.includes` for arrays without support for
 * specifying an index to search from.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludes(array, value) {
  var length = array ? array.length : 0;
  return !!length && baseIndexOf(array, value, 0) > -1;
}

/**
 * This function is like `arrayIncludes` except that it accepts a comparator.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @param {Function} comparator The comparator invoked per element.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludesWith(array, value, comparator) {
  var index = -1,
      length = array ? array.length : 0;

  while (++index < length) {
    if (comparator(value, array[index])) {
      return true;
    }
  }
  return false;
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * The base implementation of `_.findIndex` and `_.findLastIndex` without
 * support for iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Function} predicate The function invoked per iteration.
 * @param {number} fromIndex The index to search from.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseFindIndex(array, predicate, fromIndex, fromRight) {
  var length = array.length,
      index = fromIndex + (fromRight ? 1 : -1);

  while ((fromRight ? index-- : ++index < length)) {
    if (predicate(array[index], index, array)) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} value The value to search for.
 * @param {number} fromIndex The index to search from.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseIndexOf(array, value, fromIndex) {
  if (value !== value) {
    return baseFindIndex(array, baseIsNaN, fromIndex);
  }
  var index = fromIndex - 1,
      length = array.length;

  while (++index < length) {
    if (array[index] === value) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNaN` without support for number objects.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
 */
function baseIsNaN(value) {
  return value !== value;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Checks if a cache value for `key` exists.
 *
 * @private
 * @param {Object} cache The cache to query.
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function cacheHas(cache, key) {
  return cache.has(key);
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols,
    nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values ? values.length : 0;

  this.__data__ = new MapCache;
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = (isArray(value) || isArguments(value))
    ? baseTimes(value.length, String)
    : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of methods like `_.difference` without support
 * for excluding multiple arrays or iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Array} values The values to exclude.
 * @param {Function} [iteratee] The iteratee invoked per element.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new array of filtered values.
 */
function baseDifference(array, values, iteratee, comparator) {
  var index = -1,
      includes = arrayIncludes,
      isCommon = true,
      length = array.length,
      result = [],
      valuesLength = values.length;

  if (!length) {
    return result;
  }
  if (iteratee) {
    values = arrayMap(values, baseUnary(iteratee));
  }
  if (comparator) {
    includes = arrayIncludesWith;
    isCommon = false;
  }
  else if (values.length >= LARGE_ARRAY_SIZE) {
    includes = cacheHas;
    isCommon = false;
    values = new SetCache(values);
  }
  outer:
  while (++index < length) {
    var value = array[index],
        computed = iteratee ? iteratee(value) : value;

    value = (comparator || value !== 0) ? value : 0;
    if (isCommon && computed === computed) {
      var valuesIndex = valuesLength;
      while (valuesIndex--) {
        if (values[valuesIndex] === computed) {
          continue outer;
        }
      }
      result.push(value);
    }
    else if (!includes(values, computed, comparator)) {
      result.push(value);
    }
  }
  return result;
}

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */
function baseGetAllKeys(object, keysFunc, symbolsFunc) {
  var result = keysFunc(object);
  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.pick` without support for individual
 * property identifiers.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick.
 * @returns {Object} Returns the new object.
 */
function basePick(object, props) {
  object = Object(object);
  return basePickBy(object, props, function(value, key) {
    return key in object;
  });
}

/**
 * The base implementation of  `_.pickBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick from.
 * @param {Function} predicate The function invoked per property.
 * @returns {Object} Returns the new object.
 */
function basePickBy(object, props, predicate) {
  var index = -1,
      length = props.length,
      result = {};

  while (++index < length) {
    var key = props[index],
        value = object[key];

    if (predicate(value, key)) {
      result[key] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * Creates an array of own and inherited enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeysIn(object) {
  return baseGetAllKeys(object, keysIn, getSymbolsIn);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Creates an array of the own enumerable symbol properties of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;

/**
 * Creates an array of the own and inherited enumerable symbol properties
 * of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
  var result = [];
  while (object) {
    arrayPush(result, getSymbols(object));
    object = getPrototype(object);
  }
  return result;
};

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * The opposite of `_.pick`; this method creates an object composed of the
 * own and inherited enumerable string keyed properties of `object` that are
 * not omitted.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The source object.
 * @param {...(string|string[])} [props] The property identifiers to omit.
 * @returns {Object} Returns the new object.
 * @example
 *
 * var object = { 'a': 1, 'b': '2', 'c': 3 };
 *
 * _.omit(object, ['a', 'c']);
 * // => { 'b': '2' }
 */
var omit = baseRest(function(object, props) {
  if (object == null) {
    return {};
  }
  props = arrayMap(baseFlatten(props, 1), toKey);
  return basePick(object, baseDifference(getAllKeysIn(object), props));
});

/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */
function stubArray() {
  return [];
}

module.exports = omit;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],345:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    object[key] = value;
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.set`.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @param {Function} [customizer] The function to customize path creation.
 * @returns {Object} Returns `object`.
 */
function baseSet(object, path, value, customizer) {
  if (!isObject(object)) {
    return object;
  }
  path = isKey(path, object) ? [path] : castPath(path);

  var index = -1,
      length = path.length,
      lastIndex = length - 1,
      nested = object;

  while (nested != null && ++index < length) {
    var key = toKey(path[index]),
        newValue = value;

    if (index != lastIndex) {
      var objValue = nested[key];
      newValue = customizer ? customizer(objValue, key, nested) : undefined;
      if (newValue === undefined) {
        newValue = isObject(objValue)
          ? objValue
          : (isIndex(path[index + 1]) ? [] : {});
      }
    }
    assignValue(nested, key, newValue);
    nested = nested[key];
  }
  return object;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
 * it's created. Arrays are created for missing index properties while objects
 * are created for all other missing properties. Use `_.setWith` to customize
 * `path` creation.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.set(object, 'a[0].b.c', 4);
 * console.log(object.a[0].b.c);
 * // => 4
 *
 * _.set(object, ['x', '0', 'y', 'z'], 5);
 * console.log(object.x[0].y.z);
 * // => 5
 */
function set(object, path, value) {
  return object == null ? object : baseSet(object, path, value);
}

module.exports = set;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],346:[function(require,module,exports){
//! moment.js

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date = new Date(y, m, d, h, M, s, ms);

        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate (y) {
        var date = new Date(Date.UTC.apply(null, arguments));

        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 1st is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        if (!m) {
            return isArray(this._weekdays) ? this._weekdays :
                this._weekdays['standalone'];
        }
        return isArray(this._weekdays) ? this._weekdays[m.day()] :
            this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input,units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input,units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    function startOf (units) {
        units = normalizeUnits(units);
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (units) {
            case 'year':
                this.month(0);
                /* falls through */
            case 'quarter':
            case 'month':
                this.date(1);
                /* falls through */
            case 'week':
            case 'isoWeek':
            case 'day':
            case 'date':
                this.hours(0);
                /* falls through */
            case 'hour':
                this.minutes(0);
                /* falls through */
            case 'minute':
                this.seconds(0);
                /* falls through */
            case 'second':
                this.milliseconds(0);
        }

        // weeks are a special case
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }

        // quarters are also special
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }

        return this;
    }

    function endOf (units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }

        // 'date' is an alias for 'day', so it should be considered as such.
        if (units === 'date') {
            units = 'day';
        }

        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'year') {
            days   = this._days   + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.22.2';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'YYYY-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

},{}],347:[function(require,module,exports){
//     (c) 2012-2016 Airbnb, Inc.
//
//     polyglot.js may be freely distributed under the terms of the BSD
//     license. For all licensing information, details, and documention:
//     http://airbnb.github.com/polyglot.js
//
//
// Polyglot.js is an I18n helper library written in JavaScript, made to
// work both in the browser and in Node. It provides a simple solution for
// interpolation and pluralization, based off of Airbnb's
// experience adding I18n functionality to its Backbone.js and Node apps.
//
// Polylglot is agnostic to your translation backend. It doesn't perform any
// translation; it simply gives you a way to manage translated phrases from
// your client- or server-side JavaScript application.
//

'use strict';

var forEach = require('for-each');
var warning = require('warning');
var has = require('has');
var trim = require('string.prototype.trim');

var warn = function warn(message) {
  warning(false, message);
};

var replace = String.prototype.replace;
var split = String.prototype.split;

// #### Pluralization methods
// The string that separates the different phrase possibilities.
var delimeter = '||||';

// Mapping from pluralization group plural logic.
var pluralTypes = {
  arabic: function (n) {
    // http://www.arabeyes.org/Plural_Forms
    if (n < 3) { return n; }
    if (n % 100 >= 3 && n % 100 <= 10) return 3;
    return n % 100 >= 11 ? 4 : 5;
  },
  chinese: function () { return 0; },
  german: function (n) { return n !== 1 ? 1 : 0; },
  french: function (n) { return n > 1 ? 1 : 0; },
  russian: function (n) {
    if (n % 10 === 1 && n % 100 !== 11) { return 0; }
    return n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
  },
  czech: function (n) {
    if (n === 1) { return 0; }
    return (n >= 2 && n <= 4) ? 1 : 2;
  },
  polish: function (n) {
    if (n === 1) { return 0; }
    return n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
  },
  icelandic: function (n) { return (n % 10 !== 1 || n % 100 === 11) ? 1 : 0; }
};

// Mapping from pluralization group to individual locales.
var pluralTypeToLanguages = {
  arabic: ['ar'],
  chinese: ['fa', 'id', 'ja', 'ko', 'lo', 'ms', 'th', 'tr', 'zh'],
  german: ['da', 'de', 'en', 'es', 'fi', 'el', 'he', 'hu', 'it', 'nl', 'no', 'pt', 'sv'],
  french: ['fr', 'tl', 'pt-br'],
  russian: ['hr', 'ru', 'lt'],
  czech: ['cs', 'sk'],
  polish: ['pl'],
  icelandic: ['is']
};

function langToTypeMap(mapping) {
  var ret = {};
  forEach(mapping, function (langs, type) {
    forEach(langs, function (lang) {
      ret[lang] = type;
    });
  });
  return ret;
}

function pluralTypeName(locale) {
  var langToPluralType = langToTypeMap(pluralTypeToLanguages);
  return langToPluralType[locale]
    || langToPluralType[split.call(locale, /-/, 1)[0]]
    || langToPluralType.en;
}

function pluralTypeIndex(locale, count) {
  return pluralTypes[pluralTypeName(locale)](count);
}

var dollarRegex = /\$/g;
var dollarBillsYall = '$$';
var tokenRegex = /%\{(.*?)\}/g;

// ### transformPhrase(phrase, substitutions, locale)
//
// Takes a phrase string and transforms it by choosing the correct
// plural form and interpolating it.
//
//     transformPhrase('Hello, %{name}!', {name: 'Spike'});
//     // "Hello, Spike!"
//
// The correct plural form is selected if substitutions.smart_count
// is set. You can pass in a number instead of an Object as `substitutions`
// as a shortcut for `smart_count`.
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 1}, 'en');
//     // "1 new message"
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 2}, 'en');
//     // "2 new messages"
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', 5, 'en');
//     // "5 new messages"
//
// You should pass in a third argument, the locale, to specify the correct plural type.
// It defaults to `'en'` with 2 plural forms.
function transformPhrase(phrase, substitutions, locale) {
  if (typeof phrase !== 'string') {
    throw new TypeError('Polyglot.transformPhrase expects argument #1 to be string');
  }

  if (substitutions == null) {
    return phrase;
  }

  var result = phrase;

  // allow number as a pluralization shortcut
  var options = typeof substitutions === 'number' ? { smart_count: substitutions } : substitutions;

  // Select plural form: based on a phrase text that contains `n`
  // plural forms separated by `delimeter`, a `locale`, and a `substitutions.smart_count`,
  // choose the correct plural form. This is only done if `count` is set.
  if (options.smart_count != null && result) {
    var texts = split.call(result, delimeter);
    result = trim(texts[pluralTypeIndex(locale || 'en', options.smart_count)] || texts[0]);
  }

  // Interpolate: Creates a `RegExp` object for each interpolation placeholder.
  result = replace.call(result, tokenRegex, function (expression, argument) {
    if (!has(options, argument) || options[argument] == null) { return expression; }
    // Ensure replacement value is escaped to prevent special $-prefixed regex replace tokens.
    return replace.call(options[argument], dollarRegex, dollarBillsYall);
  });

  return result;
}

// ### Polyglot class constructor
function Polyglot(options) {
  var opts = options || {};
  this.phrases = {};
  this.extend(opts.phrases || {});
  this.currentLocale = opts.locale || 'en';
  var allowMissing = opts.allowMissing ? transformPhrase : null;
  this.onMissingKey = typeof opts.onMissingKey === 'function' ? opts.onMissingKey : allowMissing;
  this.warn = opts.warn || warn;
}

// ### polyglot.locale([locale])
//
// Get or set locale. Internally, Polyglot only uses locale for pluralization.
Polyglot.prototype.locale = function (newLocale) {
  if (newLocale) this.currentLocale = newLocale;
  return this.currentLocale;
};

// ### polyglot.extend(phrases)
//
// Use `extend` to tell Polyglot how to translate a given key.
//
//     polyglot.extend({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     });
//
// The key can be any string.  Feel free to call `extend` multiple times;
// it will override any phrases with the same key, but leave existing phrases
// untouched.
//
// It is also possible to pass nested phrase objects, which get flattened
// into an object with the nested keys concatenated using dot notation.
//
//     polyglot.extend({
//       "nav": {
//         "hello": "Hello",
//         "hello_name": "Hello, %{name}",
//         "sidebar": {
//           "welcome": "Welcome"
//         }
//       }
//     });
//
//     console.log(polyglot.phrases);
//     // {
//     //   'nav.hello': 'Hello',
//     //   'nav.hello_name': 'Hello, %{name}',
//     //   'nav.sidebar.welcome': 'Welcome'
//     // }
//
// `extend` accepts an optional second argument, `prefix`, which can be used
// to prefix every key in the phrases object with some string, using dot
// notation.
//
//     polyglot.extend({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     }, "nav");
//
//     console.log(polyglot.phrases);
//     // {
//     //   'nav.hello': 'Hello',
//     //   'nav.hello_name': 'Hello, %{name}'
//     // }
//
// This feature is used internally to support nested phrase objects.
Polyglot.prototype.extend = function (morePhrases, prefix) {
  forEach(morePhrases, function (phrase, key) {
    var prefixedKey = prefix ? prefix + '.' + key : key;
    if (typeof phrase === 'object') {
      this.extend(phrase, prefixedKey);
    } else {
      this.phrases[prefixedKey] = phrase;
    }
  }, this);
};

// ### polyglot.unset(phrases)
// Use `unset` to selectively remove keys from a polyglot instance.
//
//     polyglot.unset("some_key");
//     polyglot.unset({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     });
//
// The unset method can take either a string (for the key), or an object hash with
// the keys that you would like to unset.
Polyglot.prototype.unset = function (morePhrases, prefix) {
  if (typeof morePhrases === 'string') {
    delete this.phrases[morePhrases];
  } else {
    forEach(morePhrases, function (phrase, key) {
      var prefixedKey = prefix ? prefix + '.' + key : key;
      if (typeof phrase === 'object') {
        this.unset(phrase, prefixedKey);
      } else {
        delete this.phrases[prefixedKey];
      }
    }, this);
  }
};

// ### polyglot.clear()
//
// Clears all phrases. Useful for special cases, such as freeing
// up memory if you have lots of phrases but no longer need to
// perform any translation. Also used internally by `replace`.
Polyglot.prototype.clear = function () {
  this.phrases = {};
};

// ### polyglot.replace(phrases)
//
// Completely replace the existing phrases with a new set of phrases.
// Normally, just use `extend` to add more phrases, but under certain
// circumstances, you may want to make sure no old phrases are lying around.
Polyglot.prototype.replace = function (newPhrases) {
  this.clear();
  this.extend(newPhrases);
};


// ### polyglot.t(key, options)
//
// The most-used method. Provide a key, and `t` will return the
// phrase.
//
//     polyglot.t("hello");
//     => "Hello"
//
// The phrase value is provided first by a call to `polyglot.extend()` or
// `polyglot.replace()`.
//
// Pass in an object as the second argument to perform interpolation.
//
//     polyglot.t("hello_name", {name: "Spike"});
//     => "Hello, Spike"
//
// If you like, you can provide a default value in case the phrase is missing.
// Use the special option key "_" to specify a default.
//
//     polyglot.t("i_like_to_write_in_language", {
//       _: "I like to write in %{language}.",
//       language: "JavaScript"
//     });
//     => "I like to write in JavaScript."
//
Polyglot.prototype.t = function (key, options) {
  var phrase, result;
  var opts = options == null ? {} : options;
  if (typeof this.phrases[key] === 'string') {
    phrase = this.phrases[key];
  } else if (typeof opts._ === 'string') {
    phrase = opts._;
  } else if (this.onMissingKey) {
    var onMissingKey = this.onMissingKey;
    result = onMissingKey(key, opts, this.currentLocale);
  } else {
    this.warn('Missing translation for key: "' + key + '"');
    result = key;
  }
  if (typeof phrase === 'string') {
    result = transformPhrase(phrase, opts, this.currentLocale);
  }
  return result;
};


// ### polyglot.has(key)
//
// Check if polyglot has a translation for given key
Polyglot.prototype.has = function (key) {
  return has(this.phrases, key);
};

// export transformPhrase
Polyglot.transformPhrase = transformPhrase;

module.exports = Polyglot;

},{"for-each":329,"has":333,"string.prototype.trim":352,"warning":355}],348:[function(require,module,exports){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */

(function (root, factory)
{
    'use strict';

    var moment;
    if (typeof exports === 'object') {
        // CommonJS module
        // Load moment.js as an optional dependency
        try { moment = require('moment'); } catch (e) {}
        module.exports = factory(moment);
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(function (req)
        {
            // Load moment.js as an optional dependency
            var id = 'moment';
            try { moment = req(id); } catch (e) {}
            return factory(moment);
        });
    } else {
        root.Pikaday = factory(root.moment);
    }
}(this, function (moment)
{
    'use strict';

    /**
     * feature detection and helper functions
     */
    var hasMoment = typeof moment === 'function',

    hasEventListeners = !!window.addEventListener,

    document = window.document,

    sto = window.setTimeout,

    addEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.addEventListener(e, callback, !!capture);
        } else {
            el.attachEvent('on' + e, callback);
        }
    },

    removeEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.removeEventListener(e, callback, !!capture);
        } else {
            el.detachEvent('on' + e, callback);
        }
    },

    trim = function(str)
    {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g,'');
    },

    hasClass = function(el, cn)
    {
        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;
    },

    addClass = function(el, cn)
    {
        if (!hasClass(el, cn)) {
            el.className = (el.className === '') ? cn : el.className + ' ' + cn;
        }
    },

    removeClass = function(el, cn)
    {
        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));
    },

    isArray = function(obj)
    {
        return (/Array/).test(Object.prototype.toString.call(obj));
    },

    isDate = function(obj)
    {
        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());
    },

    isWeekend = function(date)
    {
        var day = date.getDay();
        return day === 0 || day === 6;
    },

    isLeapYear = function(year)
    {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
    },

    getDaysInMonth = function(year, month)
    {
        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
    },

    setToStartOfDay = function(date)
    {
        if (isDate(date)) date.setHours(0,0,0,0);
    },

    compareDates = function(a,b)
    {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
    },

    extend = function(to, from, overwrite)
    {
        var prop, hasProp;
        for (prop in from) {
            hasProp = to[prop] !== undefined;
            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {
                if (isDate(from[prop])) {
                    if (overwrite) {
                        to[prop] = new Date(from[prop].getTime());
                    }
                }
                else if (isArray(from[prop])) {
                    if (overwrite) {
                        to[prop] = from[prop].slice(0);
                    }
                } else {
                    to[prop] = extend({}, from[prop], overwrite);
                }
            } else if (overwrite || !hasProp) {
                to[prop] = from[prop];
            }
        }
        return to;
    },

    fireEvent = function(el, eventName, data)
    {
        var ev;

        if (document.createEvent) {
            ev = document.createEvent('HTMLEvents');
            ev.initEvent(eventName, true, false);
            ev = extend(ev, data);
            el.dispatchEvent(ev);
        } else if (document.createEventObject) {
            ev = document.createEventObject();
            ev = extend(ev, data);
            el.fireEvent('on' + eventName, ev);
        }
    },

    adjustCalendar = function(calendar) {
        if (calendar.month < 0) {
            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);
            calendar.month += 12;
        }
        if (calendar.month > 11) {
            calendar.year += Math.floor(Math.abs(calendar.month)/12);
            calendar.month -= 12;
        }
        return calendar;
    },

    /**
     * defaults and localisation
     */
    defaults = {

        // bind the picker to a form field
        field: null,

        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)
        bound: undefined,

        // position of the datepicker, relative to the field (default to bottom & left)
        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)
        position: 'bottom left',

        // automatically fit in the viewport even if it means repositioning from the position option
        reposition: true,

        // the default output format for `.toString()` and `field` value
        format: 'YYYY-MM-DD',

        // the toString function which gets passed a current date object and format
        // and returns a string
        toString: null,

        // used to create date object from current input string
        parse: null,

        // the initial date to view when first opened
        defaultDate: null,

        // make the `defaultDate` the initial selected value
        setDefaultDate: false,

        // first day of week (0: Sunday, 1: Monday etc)
        firstDay: 0,

        // the default flag for moment's strict date parsing
        formatStrict: false,

        // the minimum/earliest date that can be selected
        minDate: null,
        // the maximum/latest date that can be selected
        maxDate: null,

        // number of years either side, or array of upper/lower range
        yearRange: 10,

        // show week numbers at head of row
        showWeekNumber: false,

        // Week picker mode
        pickWholeWeek: false,

        // used internally (don't config outside)
        minYear: 0,
        maxYear: 9999,
        minMonth: undefined,
        maxMonth: undefined,

        startRange: null,
        endRange: null,

        isRTL: false,

        // Additional text to append to the year in the calendar title
        yearSuffix: '',

        // Render the month after year in the calendar title
        showMonthAfterYear: false,

        // Render days of the calendar grid that fall in the next or previous month
        showDaysInNextAndPreviousMonths: false,

        // Allows user to select days that fall in the next or previous month
        enableSelectionDaysInNextAndPreviousMonths: false,

        // how many months are visible
        numberOfMonths: 1,

        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)
        // only used for the first display or when a selected date is not visible
        mainCalendar: 'left',

        // Specify a DOM element to render the calendar in
        container: undefined,

        // Blur field when date is selected
        blurFieldOnSelect : true,

        // internationalization
        i18n: {
            previousMonth : 'Previous Month',
            nextMonth     : 'Next Month',
            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],
            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        },

        // Theme Classname
        theme: null,

        // events array
        events: [],

        // callback function
        onSelect: null,
        onOpen: null,
        onClose: null,
        onDraw: null,

        // Enable keyboard input
        keyboardInput: true
    },


    /**
     * templating functions to abstract HTML rendering
     */
    renderDayName = function(opts, day, abbr)
    {
        day += opts.firstDay;
        while (day >= 7) {
            day -= 7;
        }
        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];
    },

    renderDay = function(opts)
    {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
            if (opts.showDaysInNextAndPreviousMonths) {
                arr.push('is-outside-current-month');

                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {
                    arr.push('is-selection-disabled');
                }

            } else {
                return '<td class="is-empty"></td>';
            }
        }
        if (opts.isDisabled) {
            arr.push('is-disabled');
        }
        if (opts.isToday) {
            arr.push('is-today');
        }
        if (opts.isSelected) {
            arr.push('is-selected');
            ariaSelected = 'true';
        }
        if (opts.hasEvent) {
            arr.push('has-event');
        }
        if (opts.isInRange) {
            arr.push('is-inrange');
        }
        if (opts.isStartRange) {
            arr.push('is-startrange');
        }
        if (opts.isEndRange) {
            arr.push('is-endrange');
        }
        return '<td data-day="' + opts.day + '" class="' + arr.join(' ') + '" aria-selected="' + ariaSelected + '">' +
                 '<button class="pika-button pika-day" type="button" ' +
                    'data-pika-year="' + opts.year + '" data-pika-month="' + opts.month + '" data-pika-day="' + opts.day + '">' +
                        opts.day +
                 '</button>' +
               '</td>';
    },

    renderWeek = function (d, m, y) {
        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.
        var onejan = new Date(y, 0, 1),
            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);
        return '<td class="pika-week">' + weekNum + '</td>';
    },

    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)
    {
        return '<tr class="pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '">' + (isRTL ? days.reverse() : days).join('') + '</tr>';
    },

    renderBody = function(rows)
    {
        return '<tbody>' + rows.join('') + '</tbody>';
    },

    renderHead = function(opts)
    {
        var i, arr = [];
        if (opts.showWeekNumber) {
            arr.push('<th></th>');
        }
        for (i = 0; i < 7; i++) {
            arr.push('<th scope="col"><abbr title="' + renderDayName(opts, i) + '">' + renderDayName(opts, i, true) + '</abbr></th>');
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
    },

    renderTitle = function(instance, c, year, month, refYear, randId)
    {
        var i, j, arr,
            opts = instance._o,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="pika-title" role="heading" aria-live="assertive">',
            monthHtml,
            yearHtml,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
            arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' +
                (i === month ? ' selected="selected"': '') +
                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled="disabled"' : '') + '>' +
                opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<div class="pika-label">' + opts.i18n.months[month] + '<select class="pika-select pika-select-month" tabindex="-1">' + arr.join('') + '</select></div>';

        if (isArray(opts.yearRange)) {
            i = opts.yearRange[0];
            j = opts.yearRange[1] + 1;
        } else {
            i = year - opts.yearRange;
            j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
            if (i >= opts.minYear) {
                arr.push('<option value="' + i + '"' + (i === year ? ' selected="selected"': '') + '>' + (i) + '</option>');
            }
        }
        yearHtml = '<div class="pika-label">' + year + opts.yearSuffix + '<select class="pika-select pika-select-year" tabindex="-1">' + arr.join('') + '</select></div>';

        if (opts.showMonthAfterYear) {
            html += yearHtml + monthHtml;
        } else {
            html += monthHtml + yearHtml;
        }

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
            prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
            next = false;
        }

        if (c === 0) {
            html += '<button class="pika-prev' + (prev ? '' : ' is-disabled') + '" type="button">' + opts.i18n.previousMonth + '</button>';
        }
        if (c === (instance._o.numberOfMonths - 1) ) {
            html += '<button class="pika-next' + (next ? '' : ' is-disabled') + '" type="button">' + opts.i18n.nextMonth + '</button>';
        }

        return html += '</div>';
    },

    renderTable = function(opts, data, randId)
    {
        return '<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="' + randId + '">' + renderHead(opts) + renderBody(data) + '</table>';
    },


    /**
     * Pikaday constructor
     */
    Pikaday = function(options)
    {
        var self = this,
            opts = self.config(options);

        self._onMouseDown = function(e)
        {
            if (!self._v) {
                return;
            }
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }

            if (!hasClass(target, 'is-disabled')) {
                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {
                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));
                    if (opts.bound) {
                        sto(function() {
                            self.hide();
                            if (opts.blurFieldOnSelect && opts.field) {
                                opts.field.blur();
                            }
                        }, 100);
                    }
                }
                else if (hasClass(target, 'pika-prev')) {
                    self.prevMonth();
                }
                else if (hasClass(target, 'pika-next')) {
                    self.nextMonth();
                }
            }
            if (!hasClass(target, 'pika-select')) {
                // if this is touch event prevent mouse events emulation
                if (e.preventDefault) {
                    e.preventDefault();
                } else {
                    e.returnValue = false;
                    return false;
                }
            } else {
                self._c = true;
            }
        };

        self._onChange = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }
            if (hasClass(target, 'pika-select-month')) {
                self.gotoMonth(target.value);
            }
            else if (hasClass(target, 'pika-select-year')) {
                self.gotoYear(target.value);
            }
        };

        self._onKeyChange = function(e)
        {
            e = e || window.event;

            if (self.isVisible()) {

                switch(e.keyCode){
                    case 13:
                    case 27:
                        if (opts.field) {
                            opts.field.blur();
                        }
                        break;
                    case 37:
                        e.preventDefault();
                        self.adjustDate('subtract', 1);
                        break;
                    case 38:
                        self.adjustDate('subtract', 7);
                        break;
                    case 39:
                        self.adjustDate('add', 1);
                        break;
                    case 40:
                        self.adjustDate('add', 7);
                        break;
                }
            }
        };

        self._onInputChange = function(e)
        {
            var date;

            if (e.firedBy === self) {
                return;
            }
            if (opts.parse) {
                date = opts.parse(opts.field.value, opts.format);
            } else if (hasMoment) {
                date = moment(opts.field.value, opts.format, opts.formatStrict);
                date = (date && date.isValid()) ? date.toDate() : null;
            }
            else {
                date = new Date(Date.parse(opts.field.value));
            }
            if (isDate(date)) {
              self.setDate(date);
            }
            if (!self._v) {
                self.show();
            }
        };

        self._onInputFocus = function()
        {
            self.show();
        };

        self._onInputClick = function()
        {
            self.show();
        };

        self._onInputBlur = function()
        {
            // IE allows pika div to gain focus; catch blur the input field
            var pEl = document.activeElement;
            do {
                if (hasClass(pEl, 'pika-single')) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));

            if (!self._c) {
                self._b = sto(function() {
                    self.hide();
                }, 50);
            }
            self._c = false;
        };

        self._onClick = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement,
                pEl = target;
            if (!target) {
                return;
            }
            if (!hasEventListeners && hasClass(target, 'pika-select')) {
                if (!target.onchange) {
                    target.setAttribute('onchange', 'return;');
                    addEvent(target, 'change', self._onChange);
                }
            }
            do {
                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));
            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {
                self.hide();
            }
        };

        self.el = document.createElement('div');
        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');

        addEvent(self.el, 'mousedown', self._onMouseDown, true);
        addEvent(self.el, 'touchend', self._onMouseDown, true);
        addEvent(self.el, 'change', self._onChange);

        if (opts.keyboardInput) {
            addEvent(document, 'keydown', self._onKeyChange);
        }

        if (opts.field) {
            if (opts.container) {
                opts.container.appendChild(self.el);
            } else if (opts.bound) {
                document.body.appendChild(self.el);
            } else {
                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);
            }
            addEvent(opts.field, 'change', self._onInputChange);

            if (!opts.defaultDate) {
                if (hasMoment && opts.field.value) {
                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();
                } else {
                    opts.defaultDate = new Date(Date.parse(opts.field.value));
                }
                opts.setDefaultDate = true;
            }
        }

        var defDate = opts.defaultDate;

        if (isDate(defDate)) {
            if (opts.setDefaultDate) {
                self.setDate(defDate, true);
            } else {
                self.gotoDate(defDate);
            }
        } else {
            self.gotoDate(new Date());
        }

        if (opts.bound) {
            this.hide();
            self.el.className += ' is-bound';
            addEvent(opts.trigger, 'click', self._onInputClick);
            addEvent(opts.trigger, 'focus', self._onInputFocus);
            addEvent(opts.trigger, 'blur', self._onInputBlur);
        } else {
            this.show();
        }
    };


    /**
     * public Pikaday API
     */
    Pikaday.prototype = {


        /**
         * configure functionality
         */
        config: function(options)
        {
            if (!this._o) {
                this._o = extend({}, defaults, true);
            }

            var opts = extend(this._o, options, true);

            opts.isRTL = !!opts.isRTL;

            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;

            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;

            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);

            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;

            opts.disableWeekends = !!opts.disableWeekends;

            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;

            var nom = parseInt(opts.numberOfMonths, 10) || 1;
            opts.numberOfMonths = nom > 4 ? 4 : nom;

            if (!isDate(opts.minDate)) {
                opts.minDate = false;
            }
            if (!isDate(opts.maxDate)) {
                opts.maxDate = false;
            }
            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {
                opts.maxDate = opts.minDate = false;
            }
            if (opts.minDate) {
                this.setMinDate(opts.minDate);
            }
            if (opts.maxDate) {
                this.setMaxDate(opts.maxDate);
            }

            if (isArray(opts.yearRange)) {
                var fallback = new Date().getFullYear() - 10;
                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;
                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;
            } else {
                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;
                if (opts.yearRange > 100) {
                    opts.yearRange = 100;
                }
            }

            return opts;
        },

        /**
         * return a formatted string of the current selection (using Moment.js if available)
         */
        toString: function(format)
        {
            format = format || this._o.format;
            if (!isDate(this._d)) {
                return '';
            }
            if (this._o.toString) {
              return this._o.toString(this._d, format);
            }
            if (hasMoment) {
              return moment(this._d).format(format);
            }
            return this._d.toDateString();
        },

        /**
         * return a Moment.js object of the current selection (if available)
         */
        getMoment: function()
        {
            return hasMoment ? moment(this._d) : null;
        },

        /**
         * set the current selection from a Moment.js object (if available)
         */
        setMoment: function(date, preventOnSelect)
        {
            if (hasMoment && moment.isMoment(date)) {
                this.setDate(date.toDate(), preventOnSelect);
            }
        },

        /**
         * return a Date object of the current selection
         */
        getDate: function()
        {
            return isDate(this._d) ? new Date(this._d.getTime()) : null;
        },

        /**
         * set the current selection
         */
        setDate: function(date, preventOnSelect)
        {
            if (!date) {
                this._d = null;

                if (this._o.field) {
                    this._o.field.value = '';
                    fireEvent(this._o.field, 'change', { firedBy: this });
                }

                return this.draw();
            }
            if (typeof date === 'string') {
                date = new Date(Date.parse(date));
            }
            if (!isDate(date)) {
                return;
            }

            var min = this._o.minDate,
                max = this._o.maxDate;

            if (isDate(min) && date < min) {
                date = min;
            } else if (isDate(max) && date > max) {
                date = max;
            }

            this._d = new Date(date.getTime());
            setToStartOfDay(this._d);
            this.gotoDate(this._d);

            if (this._o.field) {
                this._o.field.value = this.toString();
                fireEvent(this._o.field, 'change', { firedBy: this });
            }
            if (!preventOnSelect && typeof this._o.onSelect === 'function') {
                this._o.onSelect.call(this, this.getDate());
            }
        },

        /**
         * change view to a specific date
         */
        gotoDate: function(date)
        {
            var newCalendar = true;

            if (!isDate(date)) {
                return;
            }

            if (this.calendars) {
                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),
                    visibleDate = date.getTime();
                // get the end of the month
                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);
                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);
                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);
            }

            if (newCalendar) {
                this.calendars = [{
                    month: date.getMonth(),
                    year: date.getFullYear()
                }];
                if (this._o.mainCalendar === 'right') {
                    this.calendars[0].month += 1 - this._o.numberOfMonths;
                }
            }

            this.adjustCalendars();
        },

        adjustDate: function(sign, days) {

            var day = this.getDate() || new Date();
            var difference = parseInt(days)*24*60*60*1000;

            var newDay;

            if (sign === 'add') {
                newDay = new Date(day.valueOf() + difference);
            } else if (sign === 'subtract') {
                newDay = new Date(day.valueOf() - difference);
            }

            this.setDate(newDay);
        },

        adjustCalendars: function() {
            this.calendars[0] = adjustCalendar(this.calendars[0]);
            for (var c = 1; c < this._o.numberOfMonths; c++) {
                this.calendars[c] = adjustCalendar({
                    month: this.calendars[0].month + c,
                    year: this.calendars[0].year
                });
            }
            this.draw();
        },

        gotoToday: function()
        {
            this.gotoDate(new Date());
        },

        /**
         * change view to a specific month (zero-index, e.g. 0: January)
         */
        gotoMonth: function(month)
        {
            if (!isNaN(month)) {
                this.calendars[0].month = parseInt(month, 10);
                this.adjustCalendars();
            }
        },

        nextMonth: function()
        {
            this.calendars[0].month++;
            this.adjustCalendars();
        },

        prevMonth: function()
        {
            this.calendars[0].month--;
            this.adjustCalendars();
        },

        /**
         * change view to a specific full year (e.g. "2012")
         */
        gotoYear: function(year)
        {
            if (!isNaN(year)) {
                this.calendars[0].year = parseInt(year, 10);
                this.adjustCalendars();
            }
        },

        /**
         * change the minDate
         */
        setMinDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.minDate = value;
                this._o.minYear  = value.getFullYear();
                this._o.minMonth = value.getMonth();
            } else {
                this._o.minDate = defaults.minDate;
                this._o.minYear  = defaults.minYear;
                this._o.minMonth = defaults.minMonth;
                this._o.startRange = defaults.startRange;
            }

            this.draw();
        },

        /**
         * change the maxDate
         */
        setMaxDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.maxDate = value;
                this._o.maxYear = value.getFullYear();
                this._o.maxMonth = value.getMonth();
            } else {
                this._o.maxDate = defaults.maxDate;
                this._o.maxYear = defaults.maxYear;
                this._o.maxMonth = defaults.maxMonth;
                this._o.endRange = defaults.endRange;
            }

            this.draw();
        },

        setStartRange: function(value)
        {
            this._o.startRange = value;
        },

        setEndRange: function(value)
        {
            this._o.endRange = value;
        },

        /**
         * refresh the HTML
         */
        draw: function(force)
        {
            if (!this._v && !force) {
                return;
            }
            var opts = this._o,
                minYear = opts.minYear,
                maxYear = opts.maxYear,
                minMonth = opts.minMonth,
                maxMonth = opts.maxMonth,
                html = '',
                randId;

            if (this._y <= minYear) {
                this._y = minYear;
                if (!isNaN(minMonth) && this._m < minMonth) {
                    this._m = minMonth;
                }
            }
            if (this._y >= maxYear) {
                this._y = maxYear;
                if (!isNaN(maxMonth) && this._m > maxMonth) {
                    this._m = maxMonth;
                }
            }

            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);

            for (var c = 0; c < opts.numberOfMonths; c++) {
                html += '<div class="pika-lendar">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';
            }

            this.el.innerHTML = html;

            if (opts.bound) {
                if(opts.field.type !== 'hidden') {
                    sto(function() {
                        opts.trigger.focus();
                    }, 1);
                }
            }

            if (typeof this._o.onDraw === 'function') {
                this._o.onDraw(this);
            }

            if (opts.bound) {
                // let the screen reader user know to use arrow keys
                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');
            }
        },

        adjustPosition: function()
        {
            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;

            if (this._o.container) return;

            this.el.style.position = 'absolute';

            field = this._o.trigger;
            pEl = field;
            width = this.el.offsetWidth;
            height = this.el.offsetHeight;
            viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;

            if (typeof field.getBoundingClientRect === 'function') {
                clientRect = field.getBoundingClientRect();
                left = clientRect.left + window.pageXOffset;
                top = clientRect.bottom + window.pageYOffset;
            } else {
                left = pEl.offsetLeft;
                top  = pEl.offsetTop + pEl.offsetHeight;
                while((pEl = pEl.offsetParent)) {
                    left += pEl.offsetLeft;
                    top  += pEl.offsetTop;
                }
            }

            // default position is bottom & left
            if ((this._o.reposition && left + width > viewportWidth) ||
                (
                    this._o.position.indexOf('right') > -1 &&
                    left - width + field.offsetWidth > 0
                )
            ) {
                left = left - width + field.offsetWidth;
            }
            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||
                (
                    this._o.position.indexOf('top') > -1 &&
                    top - height - field.offsetHeight > 0
                )
            ) {
                top = top - height - field.offsetHeight;
            }

            this.el.style.left = left + 'px';
            this.el.style.top = top + 'px';
        },

        /**
         * render HTML for a particular month
         */
        render: function(year, month, randId)
        {
            var opts   = this._o,
                now    = new Date(),
                days   = getDaysInMonth(year, month),
                before = new Date(year, month, 1).getDay(),
                data   = [],
                row    = [];
            setToStartOfDay(now);
            if (opts.firstDay > 0) {
                before -= opts.firstDay;
                if (before < 0) {
                    before += 7;
                }
            }
            var previousMonth = month === 0 ? 11 : month - 1,
                nextMonth = month === 11 ? 0 : month + 1,
                yearOfPreviousMonth = month === 0 ? year - 1 : year,
                yearOfNextMonth = month === 11 ? year + 1 : year,
                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);
            var cells = days + before,
                after = cells;
            while(after > 7) {
                after -= 7;
            }
            cells += 7 - after;
            var isWeekSelected = false;
            for (var i = 0, r = 0; i < cells; i++)
            {
                var day = new Date(year, month, 1 + (i - before)),
                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,
                    isToday = compareDates(day, now),
                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
                    isEmpty = i < before || i >= (days + before),
                    dayNumber = 1 + (i - before),
                    monthNumber = month,
                    yearNumber = year,
                    isStartRange = opts.startRange && compareDates(opts.startRange, day),
                    isEndRange = opts.endRange && compareDates(opts.endRange, day),
                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
                    isDisabled = (opts.minDate && day < opts.minDate) ||
                                 (opts.maxDate && day > opts.maxDate) ||
                                 (opts.disableWeekends && isWeekend(day)) ||
                                 (opts.disableDayFn && opts.disableDayFn(day));

                if (isEmpty) {
                    if (i < before) {
                        dayNumber = daysInPreviousMonth + dayNumber;
                        monthNumber = previousMonth;
                        yearNumber = yearOfPreviousMonth;
                    } else {
                        dayNumber = dayNumber - days;
                        monthNumber = nextMonth;
                        yearNumber = yearOfNextMonth;
                    }
                }

                var dayConfig = {
                        day: dayNumber,
                        month: monthNumber,
                        year: yearNumber,
                        hasEvent: hasEvent,
                        isSelected: isSelected,
                        isToday: isToday,
                        isDisabled: isDisabled,
                        isEmpty: isEmpty,
                        isStartRange: isStartRange,
                        isEndRange: isEndRange,
                        isInRange: isInRange,
                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,
                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths
                    };

                if (opts.pickWholeWeek && isSelected) {
                    isWeekSelected = true;
                }

                row.push(renderDay(dayConfig));

                if (++r === 7) {
                    if (opts.showWeekNumber) {
                        row.unshift(renderWeek(i - before, month, year));
                    }
                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));
                    row = [];
                    r = 0;
                    isWeekSelected = false;
                }
            }
            return renderTable(opts, data, randId);
        },

        isVisible: function()
        {
            return this._v;
        },

        show: function()
        {
            if (!this.isVisible()) {
                this._v = true;
                this.draw();
                removeClass(this.el, 'is-hidden');
                if (this._o.bound) {
                    addEvent(document, 'click', this._onClick);
                    this.adjustPosition();
                }
                if (typeof this._o.onOpen === 'function') {
                    this._o.onOpen.call(this);
                }
            }
        },

        hide: function()
        {
            var v = this._v;
            if (v !== false) {
                if (this._o.bound) {
                    removeEvent(document, 'click', this._onClick);
                }
                this.el.style.position = 'static'; // reset
                this.el.style.left = 'auto';
                this.el.style.top = 'auto';
                addClass(this.el, 'is-hidden');
                this._v = false;
                if (v !== undefined && typeof this._o.onClose === 'function') {
                    this._o.onClose.call(this);
                }
            }
        },

        /**
         * GAME OVER
         */
        destroy: function()
        {
            var opts = this._o;

            this.hide();
            removeEvent(this.el, 'mousedown', this._onMouseDown, true);
            removeEvent(this.el, 'touchend', this._onMouseDown, true);
            removeEvent(this.el, 'change', this._onChange);
            if (opts.keyboardInput) {
                removeEvent(document, 'keydown', this._onKeyChange);
            }
            if (opts.field) {
                removeEvent(opts.field, 'change', this._onInputChange);
                if (opts.bound) {
                    removeEvent(opts.trigger, 'click', this._onInputClick);
                    removeEvent(opts.trigger, 'focus', this._onInputFocus);
                    removeEvent(opts.trigger, 'blur', this._onInputBlur);
                }
            }
            if (this.el.parentNode) {
                this.el.parentNode.removeChild(this.el);
            }
        }

    };

    return Pikaday;
}));

},{"moment":346}],349:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],350:[function(require,module,exports){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() { return this })() || Function("return this")()
);

},{}],351:[function(require,module,exports){
'use strict';

var bind = require('function-bind');
var ES = require('es-abstract/es5');
var replace = bind.call(Function.call, String.prototype.replace);

var leftWhitespace = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;
var rightWhitespace = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;

module.exports = function trim() {
	var S = ES.ToString(ES.CheckObjectCoercible(this));
	return replace(replace(S, leftWhitespace, ''), rightWhitespace, '');
};

},{"es-abstract/es5":321,"function-bind":332}],352:[function(require,module,exports){
'use strict';

var bind = require('function-bind');
var define = require('define-properties');

var implementation = require('./implementation');
var getPolyfill = require('./polyfill');
var shim = require('./shim');

var boundTrim = bind.call(Function.call, getPolyfill());

define(boundTrim, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = boundTrim;

},{"./implementation":351,"./polyfill":353,"./shim":354,"define-properties":317,"function-bind":332}],353:[function(require,module,exports){
'use strict';

var implementation = require('./implementation');

var zeroWidthSpace = '\u200b';

module.exports = function getPolyfill() {
	if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {
		return String.prototype.trim;
	}
	return implementation;
};

},{"./implementation":351}],354:[function(require,module,exports){
'use strict';

var define = require('define-properties');
var getPolyfill = require('./polyfill');

module.exports = function shimStringTrim() {
	var polyfill = getPolyfill();
	define(String.prototype, { trim: polyfill }, { trim: function () { return String.prototype.trim !== polyfill; } });
	return polyfill;
};

},{"./polyfill":353,"define-properties":317}],355:[function(require,module,exports){
(function (process){
/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = function() {};

if (process.env.NODE_ENV !== 'production') {
  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
        '`warning(condition, format, ...args)` requires a warning ' +
        'message argument'
      );
    }

    if (format.length < 10 || (/^[s\W]*$/).test(format)) {
      throw new Error(
        'The warning format should be able to uniquely identify this ' +
        'warning. Please, use a more descriptive format than: ' + format
      );
    }

    if (!condition) {
      var argIndex = 0;
      var message = 'Warning: ' +
        format.replace(/%s/g, function() {
          return args[argIndex++];
        });
      if (typeof console !== 'undefined') {
        console.error(message);
      }
      try {
        // This error was thrown as a convenience so that you can use this stack
        // to find the callsite that caused this warning to fire.
        throw new Error(message);
      } catch(x) {}
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":349}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvaW5kZXguanMiLCJhcHAvbGliL2F1dGhlbnRpY2F0ZWQuanMiLCJhcHAvbGliL2NhcnQuanMiLCJhcHAvbGliL2Nsb3NlLmpzIiwiYXBwL2xpYi9jcmVkZW50aWFsLmpzIiwiYXBwL2xpYi9leGVjdXRlLmpzIiwiYXBwL2xpYi9oZWFkZXIuanMiLCJhcHAvbGliL2luaXRpYWxpemUuanMiLCJhcHAvbGliL2xvZ291dC5qcyIsImFwcC9saWIvbm90aWZ5LmpzIiwiYXBwL2xpYi9vZmYuanMiLCJhcHAvbGliL29uLmpzIiwiYXBwL2xpYi9vcGVuLmpzIiwiYXBwL2xpYi9wcmVmZXJlbmNlLmpzIiwiYXBwL2xpYi9yZW5kZXIuanMiLCJhcHAvbGliL3JlcXVlc3QuanMiLCJhcHAvbGliL3NldE1lc3NhZ2VzLmpzIiwiYXBwL2xpYi90cmlnZ2VyLmpzIiwiYXBwL21vZHVsZXMvY2FydC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2NhdGFsb2ctc2xpZGVyL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQtc3VjY2Vzcy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2NoZWNrb3V0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQvbGliL2FkZHJlc3NIYW5kbGVyLmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQvbGliL2NvdXBvbkhhbmRsZXIuanMiLCJhcHAvbW9kdWxlcy9jaGVja291dC9saWIvY3VzdG9tZXJIYW5kbGVyLmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQvbGliL3JlY2FwdGNoYUhhbmRsZXIuanMiLCJhcHAvbW9kdWxlcy9jaGVja291dC9saWIvc3Vic2NyaXB0aW9uSGFuZGxlci5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLWNvdXBvbnMvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1kYXNoYm9hcmQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1kZWxldGUtYWNjb3VudC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLWxvZ2luL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItcmVnaXN0ZXIvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1yZXNldC1wYXNzd29yZC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXJldmlldy1jb21tZW50L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItcmV2aWV3LWNvbW1lbnRzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItcmV2aWV3L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItcmV2aWV3cy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItdXBkYXRlLWNyZWRlbnRpYWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci11cGRhdGUvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci12ZXJpZmljYXRpb24vaW5kZXguanMiLCJhcHAvbW9kdWxlcy9vcmRlci1kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9vcmRlci1saXN0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvb3JkZXItcmVxdWVzdC1yZWZ1bmQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wYXltZW50LWZvcm0vaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9kdWN0LWRldGFpbC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL3Byb2R1Y3QtZGV0YWlsL2xpYi9wcm9kdWN0Q2F0YWxvZy5qcyIsImFwcC9tb2R1bGVzL3Byb2R1Y3QtbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL3Byb2R1Y3QtcmV2aWV3LWNvbW1lbnRzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvcHJvZHVjdC1yZXZpZXctd3JpdGVyL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvcHJvZHVjdC1yZXZpZXcvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9kdWN0LXJldmlld3MvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9zZWFyY2gtcHVyY2hhc2UvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9zdWJzY3JpcHRpb24tZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvc3Vic2NyaXB0aW9uLWxpc3QvaW5kZXguanMiLCJhcHAvcGx1Z2lucy9jYXJ0U3RvcmFnZS5qcyIsImFwcC9wbHVnaW5zL2NvbmZpcm1hdGlvbi5qcyIsImFwcC9wbHVnaW5zL2NyZWRlbnRpYWxTdG9yYWdlLmpzIiwiYXBwL3BsdWdpbnMvbm90aWZpY2F0aW9uLmpzIiwiYXBwL3BsdWdpbnMvcGFnaW5hdGlvbi5qcyIsImFwcC9wbHVnaW5zL3JlZGlyZWN0LmpzIiwiYXBwL3VpL2F2YXRhci1wbGFjZWhvbGRlci5qcyIsImFwcC91aS9idXR0b24tc3Bpbm5lci5qcyIsImFwcC91aS9jb21wb25lbnQtc3Bpbm5lci5qcyIsImFwcC91aS9lbXB0eS1zdGFyLmpzIiwiYXBwL3VpL2ZpbGxlZC1zdGFyLmpzIiwiYXBwL3VpL2hhbGYtZmlsbGVkLXN0YXIuanMiLCJhcHAvdWkvaGFsbG93LXN0YXIuanMiLCJhcHAvdWkvaGVhZGVyLW5hdmlnYXRpb24uanMiLCJhcHAvdWkvbGVmdC1hcnJvdy5qcyIsImFwcC91aS9vdmVybGF5LW5hdmlnYXRpb24uanMiLCJhcHAvdWkvcmV2aWV3LXN0YXItcmF0aW5nLmpzIiwiYXBwL3VpL3Jldmlldy1zdGFycy5qcyIsImFwcC91aS9yaWdodC1hcnJvdy5qcyIsImFwcC91aS9zZWN0aW9uLXNwaW5uZXIuanMiLCJhcHAvdWkvc29jaWFsLWxvZ2luLmpzIiwiYXBwL3VpL3RleHQtYm94LW92ZXJsYXkuanMiLCJhcHAvdXRpbC9hZGRUaW1lLmpzIiwiYXBwL3V0aWwvYmluZEFncmVlbWVudHMuanMiLCJhcHAvdXRpbC9iaW5kQmFja0J1dHRvbi5qcyIsImFwcC91dGlsL2JpbmRSZWNhcHRjaGEuanMiLCJhcHAvdXRpbC9iaW5kU29jaWFsQXBwcy5qcyIsImFwcC91dGlsL2NoZWNrSXRlbVJlZnVuZGVkLmpzIiwiYXBwL3V0aWwvY29weVRvQ2xpcGJvYXJkLmpzIiwiYXBwL3V0aWwvY291bnRyeU5hbWUuanMiLCJhcHAvdXRpbC9jdXN0b21lcklkZW50aXR5LmpzIiwiYXBwL3V0aWwvZGVib3VuY2UuanMiLCJhcHAvdXRpbC9leGNlcnB0LmpzIiwiYXBwL3V0aWwvZm9sbG93aW5nTmF2aWdhdGlvbi5qcyIsImFwcC91dGlsL2Zvcm1Ub0pTT04uanMiLCJhcHAvdXRpbC9mb3JtYXROdW1iZXIuanMiLCJhcHAvdXRpbC9mb3JtYXRQcmljZS5qcyIsImFwcC91dGlsL2dldEN1cnJlbmN5LmpzIiwiYXBwL3V0aWwvaGFuZGxlU29jaWFsTG9naW4uanMiLCJhcHAvdXRpbC9pbWFnZVVSTC5qcyIsImFwcC91dGlsL2ltYWdlVXBsb2FkZXIuanMiLCJhcHAvdXRpbC9pc0V4cGlyZWQuanMiLCJhcHAvdXRpbC9sb2cuanMiLCJhcHAvdXRpbC9tYWtlQXN5bmNCdXR0b24uanMiLCJhcHAvdXRpbC9tYWtlUmVjYXB0Y2hhLmpzIiwiYXBwL3V0aWwvb3JkZXJTaGlwcGluZ1N0YXR1cy5qcyIsImFwcC91dGlsL3BhcnNlQXJyYXlTdHJpbmcuanMiLCJhcHAvdXRpbC9wYXJzZVF1ZXJ5U3RyaW5nLmpzIiwiYXBwL3V0aWwvcHJvZHVjdE5hbWUuanMiLCJhcHAvdXRpbC9xdWFudGl0eUlucHV0LmpzIiwiYXBwL3V0aWwvcmVxdWVzdEVycm9ySGFuZGxlci5qcyIsImFwcC91dGlsL3N0cmlwSFRNTC5qcyIsImFwcC91dGlsL3RvUHJlY2lzaW9uLmpzIiwiYXBwL3V0aWwvdWkuanMiLCJhcHAvdXRpbC91bnNldFJlY2FwdGNoYS5qcyIsImFwcC91dGlsL3VybFF1ZXJ5LmpzIiwiYXBwL3V0aWwvdXNlUmVjYXB0Y2hhLmpzIiwiYXBwL3V0aWwvdXNlcklkT3JFbWFpbC5qcyIsImFwcC91dGlsL3ZhcmlhbnROYW1lLmpzIiwiYXBwL3ZlcnNpb24uanNvbiIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2FycmF5LWNvcHktd2l0aGluLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktZmlsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktbWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hcnJheS1zcGVjaWVzLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2JpbmQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jbGFzc29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fY29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fY29sbGVjdGlvbi1zdHJvbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb2xsZWN0aW9uLXdlYWsuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb2xsZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2N0eC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2RlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZXhwb3J0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmFpbHMtaXMtcmVnZXhwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19maXgtcmUtd2tzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmxhZ3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faW5oZXJpdC1pZi1yZXF1aXJlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2ludm9rZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2lvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtcmVnZXhwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbGlicmFyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX21hdGgtZXhwbTEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19tYXRoLWZyb3VuZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX21hdGgtbG9nMXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19tYXRoLXNpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19tZXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtdG8tYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vd24ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3BlcmZvcm0uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wcm9taXNlLXJlc29sdmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zYW1lLXZhbHVlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWNvbnRleHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpbmctcGFkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLXJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190eXBlZC1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3R5cGVkLWJ1ZmZlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3R5cGVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdWlkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdXNlci1hZ2VudC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3ZhbGlkYXRlLWNvbGxlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuY29weS13aXRoaW4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZC1pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmFjb3NoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5hc2luaC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguYXRhbmguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmNicnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmNsejMyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5jb3NoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5leHBtMS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguZnJvdW5kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5oeXBvdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguaW11bC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGgubG9nMTAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmxvZzFwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5sb2cyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5zaW5oLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC50YW5oLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC50cnVuYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5lcHNpbG9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmlzLWZpbml0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5pcy1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmlzLW5hbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5pcy1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5udW1iZXIubWF4LXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5mcmVlemUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5pcy1leHRlbnNpYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmlzLWZyb3plbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5pcy1zZWFsZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuaXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5wcmV2ZW50LWV4dGVuc2lvbnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Quc2VhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuYXBwbHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LmNvbnN0cnVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5kZWxldGUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LmlzLWV4dGVuc2libGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0Lm93bi1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5wcmV2ZW50LWV4dGVuc2lvbnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LnNldC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5mbGFncy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5tYXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNlYXJjaC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5zcGxpdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnNldC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5jb2RlLXBvaW50LWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmVuZHMtd2l0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcucmF3LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5zdGFydHMtd2l0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmFycmF5LWJ1ZmZlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmZsb2F0MzItYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC5mbG9hdDY0LWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQuaW50MTYtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC5pbnQzMi1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmludDgtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC51aW50MTYtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC51aW50MzItYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC51aW50OC1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWNsYW1wZWQtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi53ZWFrLW1hcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LndlYWstc2V0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5vYmplY3QuZW50cmllcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LnZhbHVlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnN0cmluZy5wYWQtZW5kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcuc3RyaW5nLnBhZC1zdGFydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvd2ViLmltbWVkaWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyIsIm5vZGVfbW9kdWxlcy9kZWZpbmUtcHJvcGVydGllcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kZWZpbmUtcHJvcGVydGllcy9ub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGVmaW5lLXByb3BlcnRpZXMvbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzIiwibm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L0dldEludHJpbnNpYy5qcyIsIm5vZGVfbW9kdWxlcy9lcy1hYnN0cmFjdC9lczUuanMiLCJub2RlX21vZHVsZXMvZXMtYWJzdHJhY3QvaGVscGVycy9pc0Zpbml0ZS5qcyIsIm5vZGVfbW9kdWxlcy9lcy1hYnN0cmFjdC9oZWxwZXJzL2lzTmFOLmpzIiwibm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2hlbHBlcnMvbW9kLmpzIiwibm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2hlbHBlcnMvc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9lcy10by1wcmltaXRpdmUvZXM1LmpzIiwibm9kZV9tb2R1bGVzL2VzLXRvLXByaW1pdGl2ZS9oZWxwZXJzL2lzUHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2V2LWVtaXR0ZXIvZXYtZW1pdHRlci5qcyIsIm5vZGVfbW9kdWxlcy9mb3ItZWFjaC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mb3JlYWNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW1wbGVtZW50YXRpb24uanMiLCJub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWQuanMiLCJub2RlX21vZHVsZXMvaXMtY2FsbGFibGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvanF1ZXJ5LWZvcm0vZGlzdC9qcXVlcnkuZm9ybS5taW4uanMiLCJub2RlX21vZHVsZXMvanF1ZXJ5LW1hdGNoLWhlaWdodC9kaXN0L2pxdWVyeS5tYXRjaEhlaWdodC5qcyIsIm5vZGVfbW9kdWxlcy9qc3RpbWV6b25lZGV0ZWN0L2Rpc3QvanN0ei5qcyIsIm5vZGVfbW9kdWxlcy9saWdodHNsaWRlci9kaXN0L2pzL2xpZ2h0c2xpZGVyLm1pbi5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guY2FtZWxjYXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5nZXQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLmtlYmFiY2FzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gubWVyZ2VXaXRoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5vbWl0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5zZXQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9ub2RlLXBvbHlnbG90L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Bpa2FkYXkvcGlrYWRheS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzL3N0cmluZy5wcm90b3R5cGUudHJpbS9pbXBsZW1lbnRhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9zdHJpbmcucHJvdG90eXBlLnRyaW0vaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3RyaW5nLnByb3RvdHlwZS50cmltL3BvbHlmaWxsLmpzIiwibm9kZV9tb2R1bGVzL3N0cmluZy5wcm90b3R5cGUudHJpbS9zaGltLmpzIiwibm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQ0EsUUFBUSxjQUFSO0FBQ0EsUUFBUSxhQUFSLEVBQXVCLE1BQXZCLEVBQStCLENBQS9CO0FBQ0EsUUFBUSxxQkFBUjtBQUNBLFFBQVEsd0NBQVI7O0FBRUEsSUFBTSxXQUFXLFFBQVEsZUFBUixDQUFqQjtBQUNBLElBQU0sT0FBTyxRQUFRLGtCQUFSLENBQWI7QUFDQSxJQUFNLFlBQVksUUFBUSxrQkFBUixDQUFsQjs7QUFFQSxJQUFNLFVBQVUsU0FBVixPQUFVLENBQVMsT0FBVCxFQUFrQjs7QUFFakMsS0FBTSxXQUFXLE9BQU8sU0FBUCxDQUFpQixZQUFqQixJQUNiLE9BQU8sU0FBUCxDQUFpQixRQURKLElBRWIsSUFGSjs7QUFJQSxLQUFNLFdBQVcsS0FBSyxTQUFMLEdBQWlCLElBQWpCLEVBQWpCOztBQUVBLEtBQU0sZ0JBQWdCLFNBQWhCLGFBQWdCLENBQUMsRUFBRCxFQUFLLEVBQUwsRUFBWTs7QUFFakMsTUFBSSxNQUFNLE9BQU4sQ0FBYyxFQUFkLEtBQXFCLE1BQU0sT0FBTixDQUFjLEVBQWQsQ0FBekIsRUFBNEM7QUFDM0MsVUFBTyxFQUFQO0FBQ0E7QUFFRCxFQU5EOztBQVFBLFdBQVUsVUFBVTtBQUNuQixVQUFlLElBREk7QUFFbkIsWUFBZSxRQUZJO0FBR25CLFlBQWUsSUFISTtBQUluQixZQUFlLFFBSkk7QUFLbkIsaUJBQWUsYUFBYSxJQUFiLEdBQW9CLElBQXBCLEdBQTJCLElB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaGVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsUEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3BZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDejVDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3ZsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuNkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ25iQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzM2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDaDlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzk5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMTVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL1VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzd0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2dEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwicmVxdWlyZSgnYmFiZWwtcG9seWZpbGwnKTtcbnJlcXVpcmUoJ2ltYWdlc2xvYWRlZCcpO1xucmVxdWlyZSgnanF1ZXJ5LWZvcm0nKSh3aW5kb3csICQpO1xucmVxdWlyZSgnanF1ZXJ5LW1hdGNoLWhlaWdodCcpO1xucmVxdWlyZSgnbGlnaHRzbGlkZXIvZGlzdC9qcy9saWdodHNsaWRlci5taW4uanMnKTtcblxuY29uc3QgUG9seWdsb3QgPSByZXF1aXJlKCdub2RlLXBvbHlnbG90Jyk7XG5jb25zdCBqc3R6ID0gcmVxdWlyZSgnanN0aW1lem9uZWRldGVjdCcpO1xuY29uc3QgbWVyZ2VXaXRoID0gcmVxdWlyZSgnbG9kYXNoLm1lcmdlV2l0aCcpO1xuXG5jb25zdCBUaHVuZGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG5cdGNvbnN0IGxhbmd1YWdlID0gd2luZG93Lm5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHxcblx0XHRcdFx0XHR3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlIHx8XG5cdFx0XHRcdFx0bnVsbDtcblxuXHRjb25zdCB0aW1lem9uZSA9IGpzdHouZGV0ZXJtaW5lKCkubmFtZSgpO1xuXG5cdGNvbnN0IG92ZXJyaWRlQXJyYXkgPSAob3YsIHN2KSA9PiB7XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvdikgJiYgQXJyYXkuaXNBcnJheShzdikpIHtcblx0XHRcdHJldHVybiBzdjtcblx0XHR9XG5cblx0fTtcblxuXHRvcHRpb25zID0gbWVyZ2VXaXRoKHtcblx0XHRjbGllbnQ6ICAgICAgICBudWxsLFxuXHRcdGxhbmd1YWdlOiAgICAgIGxhbmd1YWdlLFxuXHRcdGN1cnJlbmN5OiAgICAgIG51bGwsXG5cdFx0dGltZXpvbmU6ICAgICAgdGltZXpvbmUsXG5cdFx0ZGVidWdMYW5ndWFnZTogbGFuZ3VhZ2UgPT09ICdrbycgPyAna28nIDogJ2VuJyxcblx0XHRyb290OiAgICAgICAgICBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdH1gLFxuXHRcdGJhc2VVUkw6ICAgICAgIG51bGwsXG5cdFx0YXV0aFN0b3JhZ2U6ICAge1xuXHRcdFx0Y3VzdG9tZXI6ICdfX3RjdF9fJyxcblx0XHRcdG9yZGVyOiAgICAnX190b3RfXycsXG5cdFx0fSxcblx0XHRkYXRlSW5wdXRGb3JtYXQ6ICdZWVlZLU1NLUREJyxcblx0XHRsZWdhbDoge1xuXHRcdFx0cmVnaXN0cmF0aW9uVGVybXM6ICAgeyBsaW5rOiBudWxsLCB0ZXh0OiBudWxsIH0sXG5cdFx0XHRyZWdpc3RyYXRpb25Qcml2YWN5OiB7IGxpbms6IG51bGwsIHRleHQ6IG51bGwgfSxcblx0XHRcdG9yZGVyVGVybXM6ICAgICAgICAgIHsgbGluazogbnVsbCwgdGV4dDogbnVsbCB9LFxuXHRcdFx0b3JkZXJQcml2YWN5OiAgICAgICAgeyBsaW5rOiBudWxsLCB0ZXh0OiBudWxsIH0sXG5cdFx0fSxcblx0XHRjb25maXJtYXRpb246IHtcblx0XHRcdGN1c3RvbWVyRGVsZXRlOiAgICAgIHRydWUsXG5cdFx0XHRjb3Vwb25EZWxldGU6ICAgICAgICBmYWxzZSxcblx0XHRcdHJldmlld0RlbGV0ZTogICAgICAgIGZhbHNlLFxuXHRcdFx0cmV2aWV3Q29tbWVudERlbGV0ZTogZmFsc2UsXG5cdFx0fSxcblx0XHRwcm9kdWN0QWN0aW9uczogIFtcblx0XHRcdCdhZGQtdG8tY2FydCcsXG5cdFx0XHQnYnV5LW5vdydcblx0XHRdLFxuXHRcdHByb2R1Y3RMYWJlbHM6ICAgICAgICBbXG5cdFx0XHQvLyAndW5hdmFpbGFibGUnLFxuXHRcdFx0Ly8gJ3NvbGQtb3V0Jyxcblx0XHRcdC8vICdkaXNjb3VudGVkJ1xuXHRcdF0sXG5cdFx0cHJvZHVjdE9wdGlvblNlbGVjdG9yOiAnY29tYmluZWQnLFxuXHRcdHByb2R1Y3RSZXZpZXc6ICAgICAgICB0cnVlLFxuXHRcdHByb2R1Y3RSZXZpZXdSYXRpbmc6ICB0cnVlLFxuXHRcdHByb2R1Y3RSZXZpZXdDb21tZW50OiB0cnVlLFxuXHRcdHBheW1lbnRNZXRob2RzOiAgICAgICB7XG5cdFx0XHRvcmRlcjogICAgICAgIFtdLFxuXHRcdFx0c3Vic2NyaXB0aW9uOiBbXVxuXHRcdH0sXG5cdFx0cmVmdW5kUmVhc29uQ2F0ZWdvcmllczogIFtdLFxuXHRcdHN1YnNjcmlwdGlvblBsYW5zOiAgICAgICBbXSxcblx0XHRjdXN0b21lckF2YXRhcjogICAgICAgICAgdHJ1ZSxcblx0XHRjdXN0b21lckRhc2hib2FyZExvZ291dDogZmFsc2UsXG5cdFx0Y3VzdG9tZXJJZGVudGl0eTogICAgICAgIFtcblx0XHRcdCduYW1lLmZ1bGwnLFxuXHRcdFx0J2FsaWFzJyxcblx0XHRcdCd1c2VySWQnXG5cdFx0XSxcblx0XHRjdXN0b21lclJlZ2lzdHJhdGlvbkZpZWxkczogW1xuXHRcdFx0J3VzZXJJZDpyZXF1aXJlZCcsXG5cdFx0XHQnZW1haWw6cmVxdWlyZWQnLFxuXHRcdFx0J3Bhc3N3b3JkOnJlcXVpcmVkJyxcblx0XHRcdC8vICdhbGlhcycsXG5cdFx0XHQvLyAnbmFtZS5maXJzdCcsXG5cdFx0XHQvLyAnbmFtZS5sYXN0Jyxcblx0XHRcdCduYW1lLmZ1bGw6cmVxdWlyZWQnLFxuXHRcdFx0J21vYmlsZTpyZXF1aXJlZCcsXG5cdFx0XHQncGhvbmUnLFxuXHRcdFx0Ly8gJ2dlbmRlcicsXG5cdFx0XHQvLyAnYmlydGhkYXRlJyxcblx0XHRdLFxuXHRcdGN1c3RvbWVyVXBkYXRlRmllbGRzOiBbXG5cdFx0XHQndXNlcklkJyxcblx0XHRcdCdlbWFpbCcsXG5cdFx0XHQvLyAnYWxpYXMnLFxuXHRcdFx0Ly8gJ25hbWUuZmlyc3QnLFxuXHRcdFx0Ly8gJ25hbWUubGFzdCcsXG5cdFx0XHQnbmFtZS5mdWxsOnJlcXVpcmVkJyxcblx0XHRcdCdtb2JpbGU6cmVxdWlyZWQnLFxuXHRcdFx0J3Bob25lJyxcblx0XHRcdC8vICdnZW5kZXInLFxuXHRcdFx0Ly8gJ2JpcnRoZGF0ZScsXG5cdFx0XSxcblx0XHRjdXN0b21lck9yZGVyRmllbGRzOiBbXG5cdFx0XHQvLyAnbmFtZS5maXJzdCcsXG5cdFx0XHQvLyAnbmFtZS5sYXN0Jyxcblx0XHRcdCduYW1lLmZ1bGw6cmVxdWlyZWQnLFxuXHRcdFx0J2VtYWlsOnJlcXVpcmVkJyxcblx0XHRcdCdtb2JpbGU6cmVxdWlyZWQnLFxuXHRcdFx0J3Bob25lJyxcblx0XHRdLFxuXHRcdHJlY2lwaWVudEZpZWxkczogICBbXG5cdFx0XHQvLyAnbmFtZS5maXJzdCcsXG5cdFx0XHQvLyAnbmFtZS5sYXN0Jyxcblx0XHRcdCduYW1lLmZ1bGw6cmVxdWlyZWQnLFxuXHRcdFx0J21vYmlsZTpyZXF1aXJlZCcsXG5cdFx0XHQncGhvbmUnLFxuXHRcdF0sXG5cdFx0YWRkcmVzc0Rpc2FibGVkOiBbXG5cdFx0XHQnY291bnRyeScsXG5cdFx0XHQnc3RhdGUnLFxuXHRcdFx0J2NpdHknLFxuXHRcdFx0J2FkZHJlc3MxJyxcblx0XHRcdCdwb3N0Y29kZSdcblx0XHRdLFxuXHRcdG9yZGVyQXV0aEZpZWxkczogW1xuXHRcdFx0Ly8gJ3VzZXJJZCcsXG5cdFx0XHQvLyAnYWxpYXMnLFxuXHRcdFx0Ly8gJ2VtYWlsJyxcblx0XHRcdC8vICdtb2JpbGUnLFxuXHRcdFx0Ly8gJ3Bob25lJyxcblx0XHRcdC8vICduYW1lLmZpcnN0Jyxcblx0XHRcdC8vICduYW1lLmxhc3QnLFxuXHRcdFx0Ly8gJ25hbWUuZnVsbCcsXG5cdFx0XSxcblx0XHRzb2NpYWxBcHBzOiBbXG5cdFx0XHQvLyAnZmFjZWJvb2snLFxuXHRcdFx0Ly8gJ2dvb2dsZScsXG5cdFx0XHQvLyAnaW5zdGFncmFtJyxcblx0XHRcdC8vICduYXZlcicsXG5cdFx0XHQvLyAna2FrYW8nLFxuXHRcdF0sXG5cdFx0aGVhZGVyOiBmYWxzZSxcblx0XHRyZWNhcHRjaGE6IHtcblx0XHRcdHNpdGVrZXk6IG51bGwsXG5cdFx0XHRvbmxvYWQ6ICAndGh1bmRlclJlY2FwdGNoYScsXG5cdFx0XHRtb2R1bGVzOiBbXG5cdFx0XHRcdCdjdXN0b21lci1yZWdpc3RlcicsXG5cdFx0XHRcdCdjdXN0b21lci1sb2dpbicsXG5cdFx0XHRcdCdjdXN0b21lci1yZXNldC1wYXNzd29yZCcsXG5cdFx0XHRcdCdjdXN0b21lci12ZXJpZmljYXRpb24nLFxuXHRcdFx0XHQvLyAnY3VzdG9tZXItdXBkYXRlJyxcblx0XHRcdFx0Ly8gJ2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsJyxcblx0XHRcdFx0Ly8gJ2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzJyxcblx0XHRcdFx0J3Byb2R1Y3QtcmV2aWV3LXdyaXRlcicsXG5cdFx0XHRcdCdwcm9kdWN0LXJldmlldy1jb21tZW50cycsXG5cdFx0XHRcdCdjaGVja291dCcsXG5cdFx0XHRcdCdvcmRlci1yZXF1ZXN0LXJlZnVuZCcsXG5cdFx0XHRcdCdzZWFyY2gtcHVyY2hhc2UnLFxuXHRcdFx0XSxcblx0XHRcdHF1ZXVlOiBbXVxuXHRcdH0sXG5cdFx0cGx1Z2luczogICB7fSxcblx0XHRsaXN0ZW5lcnM6IHt9LFxuXHRcdG1lc3NhZ2VzOiAge30sXG5cdH0sIG9wdGlvbnMsIG92ZXJyaWRlQXJyYXkpO1xuXG5cdGlmIChvcHRpb25zLnBsdWdpbnMpIHtcblx0XHQkLmV4dGVuZChUaHVuZGVyLnBsdWdpbnMsIG9wdGlvbnMucGx1Z2lucyk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5saXN0ZW5lcnMpIHtcblx0XHRPYmplY3Qua2V5cyhvcHRpb25zLmxpc3RlbmVycykuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuXHRcdFx0VGh1bmRlci5saXN0ZW5lcnNbZXZlbnROYW1lXSA9XG5cdFx0XHRcdFRodW5kZXIubGlzdGVuZXJzW2V2ZW50TmFtZV1cblx0XHRcdFx0XHQuY29uY2F0KG9wdGlvbnMubGlzdGVuZXJzW2V2ZW50TmFtZV0pO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKG9wdGlvbnMucGF5bWVudE1ldGhvZHMpIHtcblxuXHRcdE9iamVjdC5rZXlzKG9wdGlvbnMucGF5bWVudE1ldGhvZHMpLmZvckVhY2godHlwZSA9PiB7XG5cblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2RzID0gb3B0aW9ucy5wYXltZW50TWV0aG9kc1t0eXBlXTtcblxuXHRcdFx0aWYgKHBheW1lbnRNZXRob2RzLmxlbmd0aCA+IDApIHJldHVybjtcblxuXHRcdFx0ZGVsZXRlIG9wdGlvbnMucGF5bWVudE1ldGhvZHNbdHlwZV07XG5cblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKG9wdGlvbnMuaGVhZGVyKSB7XG5cblx0XHRjb25zdCBkZWZhdWx0SGVhZGVyT3B0aW9ucyA9IHtcblx0XHRcdGl0ZW1zOiBbXG5cdFx0XHRcdCdjdXN0b21lcicsICAgICAgICAvLyBSZWdpc3RlciwgTG9naW4gfCBNeSBQcm9maWxlXG5cdFx0XHRcdCdzZWFyY2gtcHVyY2hhc2UnLCAvLyBTZWFyY2ggT3JkZXJcblx0XHRcdFx0J2NhcnQnLCAgICAgICAgICAgIC8vIENhcnRcblx0XHRcdF0sXG5cdFx0XHRhY3Rpb25zOiB7XG5cdFx0XHRcdCdjdXN0b21lci1kYXNoYm9hcmQnOiAoKSA9PiBUaHVuZGVyLm9wZW4oJ2N1c3RvbWVyLWRhc2hib2FyZCcpLFxuXHRcdFx0XHQnY3VzdG9tZXItcmVnaXN0ZXInOiAgKCkgPT4gVGh1bmRlci5vcGVuKCdjdXN0b21lci1yZWdpc3RlcicpLFxuXHRcdFx0XHQnY3VzdG9tZXItbG9naW4nOiAgICAgKCkgPT4gVGh1bmRlci5vcGVuKCdjdXN0b21lci1sb2dpbicpLFxuXHRcdFx0XHQnb3JkZXItbGlzdCc6ICAgICAgICAgKCkgPT4gVGh1bmRlci5vcGVuKCdvcmRlci1saXN0JyksXG5cdFx0XHRcdCdzZWFyY2gtcHVyY2hhc2UnOiAgICAoKSA9PiBUaHVuZGVyLm9wZW4oJ3NlYXJjaC1wdXJjaGFzZScpLFxuXHRcdFx0XHRjYXJ0OiAgICAgICAgICAgICAgICAgKCkgPT4gVGh1bmRlci5vcGVuKCdjYXJ0JyksXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGlmIChvcHRpb25zLmhlYWRlciA9PT0gdHJ1ZSkge1xuXHRcdFx0b3B0aW9ucy5oZWFkZXIgPSBkZWZhdWx0SGVhZGVyT3B0aW9ucztcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucy5oZWFkZXIgPSBtZXJnZVdpdGgoZGVmYXVsdEhlYWRlck9wdGlvbnMsIG9wdGlvbnMuaGVhZGVyLCBvdmVycmlkZUFycmF5KTtcblx0XHR9XG5cblx0fVxuXG5cdGlmIChvcHRpb25zLm1lc3NhZ2VzKSB7XG5cdFx0VGh1bmRlci5zZXRNZXNzYWdlcyhvcHRpb25zLm1lc3NhZ2VzKTtcblx0fVxuXG5cdGlmIChvcHRpb25zLnJlY2FwdGNoYS5zaXRla2V5KSB7XG5cdFx0d2luZG93W29wdGlvbnMucmVjYXB0Y2hhLm9ubG9hZF0gPSBUaHVuZGVyLnV0aWwuYmluZFJlY2FwdGNoYTtcblx0fVxuXG5cdFRodW5kZXIub3B0aW9ucyA9IHtcblx0XHRyb290OiAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yb290LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vdCBwYWdlIFVSTFxuXHRcdGJhc2VVUkw6ICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vYXBpLmNsYXlmdWwuaW8nLCAvLyBBUEkgYmFzZSBVUkxcblx0XHRsYW5ndWFnZTogICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sYW5ndWFnZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGVudCBsYW5ndWFnZVxuXHRcdGN1cnJlbmN5OiAgICAgICAgICAgICAgICAgICBvcHRpb25zLmN1cnJlbmN5LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50IGN1cnJlbmN5XG5cdFx0dGltZXpvbmU6ICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudGltZXpvbmUsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRlbnQgdGltZSB6b25lXG5cdFx0YXV0aFN0b3JhZ2U6ICAgICAgICAgICAgICAgIG9wdGlvbnMuYXV0aFN0b3JhZ2UsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGggdG9rZW4gc3RvcmFnZVxuXHRcdGRhdGVJbnB1dEZvcm1hdDogICAgICAgICAgICBvcHRpb25zLmRhdGVJbnB1dEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlIGlucHV0IGZvcm1hdFxuXHRcdGxlZ2FsOiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxlZ2FsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWdhbCBpbmZvcm1hdGlvblxuXHRcdGNvbmZpcm1hdGlvbjogICAgICAgICAgICAgICBvcHRpb25zLmNvbmZpcm1hdGlvbiwgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25maXJtYXRpb24gc2V0dGluZ3Ncblx0XHRwcm9kdWN0QWN0aW9uczogICAgICAgICAgICAgb3B0aW9ucy5wcm9kdWN0QWN0aW9ucywgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHByb2R1Y3Qgb3B0aW9uc1xuXHRcdHByb2R1Y3RMYWJlbHM6ICAgICAgICAgICAgICBvcHRpb25zLnByb2R1Y3RMYWJlbHMsICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9kdWN0IGxhYmVscyB0byBkaXNwbGF5XG5cdFx0cHJvZHVjdFJldmlldzogICAgICAgICAgICAgIG9wdGlvbnMucHJvZHVjdFJldmlldyxcblx0XHRwcm9kdWN0UmV2aWV3UmF0aW5nOiAgICAgICAgb3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nLFxuXHRcdHByb2R1Y3RSZXZpZXdDb21tZW50OiAgICAgICBvcHRpb25zLnByb2R1Y3RSZXZpZXdDb21tZW50LFxuXHRcdHByb2R1Y3RPcHRpb25TZWxlY3RvcjogICAgICBvcHRpb25zLnByb2R1Y3RPcHRpb25TZWxlY3Rvcixcblx0XHRwYXltZW50TWV0aG9kczogICAgICAgICAgICAgb3B0aW9ucy5wYXltZW50TWV0aG9kcywgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHBheW1lbnQgbWV0aG9kc1xuXHRcdHJlZnVuZFJlYXNvbkNhdGVnb3JpZXM6ICAgICBvcHRpb25zLnJlZnVuZFJlYXNvbkNhdGVnb3JpZXMsICAgICAgICAgICAgICAvLyBSZWZ1bmQgcmVhc29uIGNhdGVnb3JpZXNcblx0XHRzdWJzY3JpcHRpb25QbGFuczogICAgICAgICAgb3B0aW9ucy5zdWJzY3JpcHRpb25QbGFucywgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHN1YnNjcmlwdGlvbiBwbGFuIGlkc1xuXHRcdGN1c3RvbWVyQXZhdGFyOiAgICAgICAgICAgICBvcHRpb25zLmN1c3RvbWVyQXZhdGFyLCAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgY3VzdG9tZXIgYXZhdGFyIGZvciBgY3VzdG9tZXItdXBkYXRlYCwgYHByb2R1Y3QtcmV2aWV3c2A/XG5cdFx0Y3VzdG9tZXJEYXNoYm9hcmRMb2dvdXQ6ICAgIG9wdGlvbnMuY3VzdG9tZXJEYXNoYm9hcmRMb2dvdXQsICAgICAgICAgICAgIC8vIFNob3cgTG9nb3V0IGJ1dHRvbiBpbiBgY3VzdG9tZXItZGFzaGJvYXJkYD9cblx0XHRjdXN0b21lcklkZW50aXR5OiAgICAgICAgICAgb3B0aW9ucy5jdXN0b21lcklkZW50aXR5LCAgICAgICAgICAgICAgICAgICAgLy8gQ3VzdG9tZXIgaWRlbnRpdHkgZmllbGRzXG5cdFx0Y3VzdG9tZXJSZWdpc3RyYXRpb25GaWVsZHM6IG9wdGlvbnMuY3VzdG9tZXJSZWdpc3RyYXRpb25GaWVsZHMsICAgICAgICAgIC8vIEN1c3RvbWVyIHJlZ2lzdHJhdGlvbiBmaWVsZHNcblx0XHRjdXN0b21lclVwZGF0ZUZpZWxkczogICAgICAgb3B0aW9ucy5jdXN0b21lclVwZGF0ZUZpZWxkcywgICAgICAgICAgICAgICAgLy8gQ3VzdG9tZXIgdXBkYXRlIGZpZWxkc1xuXHRcdGN1c3RvbWVyT3JkZXJGaWVsZHM6ICAgICAgICBvcHRpb25zLmN1c3RvbWVyT3JkZXJGaWVsZHMsICAgICAgICAgICAgICAgICAvLyBDdXN0b21lciBmaWVsZHMgZm9yIG9yZGVycyBhbmQgc3Vic2NyaXB0aW9uc1xuXHRcdHJlY2lwaWVudEZpZWxkczogICAgICAgICAgICBvcHRpb25zLnJlY2lwaWVudEZpZWxkcywgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvd2VkIHJlY2lwaWVudCBmaWVsZHMgZm9yIGFkZHJlc3Nlc1xuXHRcdGFkZHJlc3NEaXNhYmxlZDogICAgICAgICAgICBvcHRpb25zLmFkZHJlc3NEaXNhYmxlZCwgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlZCBhZGRyZXNzIGZpZWxkcyAod2hlbiBzZWFyY2ggcGx1Z2luIGV4aXN0cylcblx0XHRvcmRlckF1dGhGaWVsZHM6ICAgICAgICAgICAgb3B0aW9ucy5vcmRlckF1dGhGaWVsZHMsICAgICAgICAgICAgICAgICAgICAgLy8gRmllbGRzIHRvIGF1dGhlbnRpY2F0ZSBmb3Igb3JkZXJzICYgc3Vic2NyaXB0aW9uc1xuXHRcdHNvY2lhbEFwcHM6ICAgICAgICAgICAgICAgICBvcHRpb25zLnNvY2lhbEFwcHMsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0ZWQgc29jaWFsIGFwcHMgZm9yIGN1c3RvbWVyIGFjY291bnRzXG5cdFx0aGVhZGVyOiAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlYWRlciBuYXZpZ2F0aW9uIG1lbnUgaXRlbXNcblx0XHRyZWNhcHRjaGE6ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZWNhcHRjaGEsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIHJlQ0FQVENIQSBvcHRpb25zXG5cdH07XG5cblx0Ly8gRXhwb3NlIFRodW5kZXIuQ2FydCBhZnRlciBjb25maWd1cmF0aW9uc1xuXHRUaHVuZGVyLkNhcnQgPSByZXF1aXJlKCcuL2xpYi9jYXJ0JykoVGh1bmRlcik7XG5cblx0VGh1bmRlci5jcmVkZW50aWFsKG9wdGlvbnMuY2xpZW50KTtcblx0VGh1bmRlci5wcmVmZXJlbmNlKG9wdGlvbnMpO1xuXHRUaHVuZGVyLmluaXRpYWxpemUoKTtcblxuXHRUaHVuZGVyLnRyaWdnZXIoJ2luaXQnKTtcblxuXHRyZXR1cm4gVGh1bmRlcjtcblxufTtcblxuLy8gVHJhbnNsYXRpb24gZGVwZW5kZW5jeVxuVGh1bmRlci5wb2x5Z2xvdCA9IG5ldyBQb2x5Z2xvdCgpO1xuXG4vLyBUT0RPOiBFdmVudCBsaXN0ZW5lcnNcblRodW5kZXIubGlzdGVuZXJzID0ge1xuXHRpbml0OiAgICAgICAgICAgIFtdLFxuXHRjb21wb25lbnRSZW5kZXI6IFtdLFxuXHRjb21wb25lbnRJbml0OiAgIFtdLFxufTtcblxuLy8gQ3VzdG9tIG1ldGhvZHNcblRodW5kZXIubWV0aG9kcyA9IHt9O1xuXG4vLyBTcGVjcyBmb3IgY29tcG9uZW50c1xuVGh1bmRlci5jb21wb25lbnRzID0ge1xuXHRjYXJ0OiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2NhcnQnKShUaHVuZGVyKSksXG5cdCdjYXRhbG9nLXNsaWRlcic6ICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY2F0YWxvZy1zbGlkZXInKShUaHVuZGVyKSksXG5cdGNoZWNrb3V0OiAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY2hlY2tvdXQnKShUaHVuZGVyKSksXG5cdCdjaGVja291dC1zdWNjZXNzJzogICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY2hlY2tvdXQtc3VjY2VzcycpKFRodW5kZXIpKSxcblx0J3Byb2R1Y3QtbGlzdCc6ICAgICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9wcm9kdWN0LWxpc3QnKShUaHVuZGVyKSksXG5cdCdwcm9kdWN0LWRldGFpbCc6ICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1kZXRhaWwnKShUaHVuZGVyKSksXG5cdCdwcm9kdWN0LXJldmlldyc6ICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1yZXZpZXcnKShUaHVuZGVyKSksXG5cdCdwcm9kdWN0LXJldmlld3MnOiAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1yZXZpZXdzJykoVGh1bmRlcikpLFxuXHQncHJvZHVjdC1yZXZpZXctd3JpdGVyJzogICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL3Byb2R1Y3QtcmV2aWV3LXdyaXRlcicpKFRodW5kZXIpKSxcblx0J3Byb2R1Y3QtcmV2aWV3LWNvbW1lbnRzJzogICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9wcm9kdWN0LXJldmlldy1jb21tZW50cycpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXJlZ2lzdGVyJzogICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1yZWdpc3RlcicpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLWxvZ2luJzogICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1sb2dpbicpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXJlc2V0LXBhc3N3b3JkJzogICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1yZXNldC1wYXNzd29yZCcpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXZlcmlmaWNhdGlvbic6ICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci12ZXJpZmljYXRpb24nKShUaHVuZGVyKSksXG5cdCdjdXN0b21lci1kYXNoYm9hcmQnOiAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItZGFzaGJvYXJkJykoVGh1bmRlcikpLFxuXHQnY3VzdG9tZXItdXBkYXRlJzogICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXVwZGF0ZScpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsJzogY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci11cGRhdGUtY3JlZGVudGlhbCcpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzJzogICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci11cGRhdGUtYWRkcmVzcycpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXJldmlld3MnOiAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1yZXZpZXdzJykoVGh1bmRlcikpLFxuXHQnY3VzdG9tZXItcmV2aWV3JzogICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXJldmlldycpKFRodW5kZXIpKSxcblx0J2N1c3RvbWVyLXJldmlldy1jb21tZW50cyc6ICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1yZXZpZXctY29tbWVudHMnKShUaHVuZGVyKSksXG5cdCdjdXN0b21lci1yZXZpZXctY29tbWVudCc6ICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQnKShUaHVuZGVyKSksXG5cdCdjdXN0b21lci1kZWxldGUtYWNjb3VudCc6ICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItZGVsZXRlLWFjY291bnQnKShUaHVuZGVyKSksXG5cdCdjdXN0b21lci1jb3Vwb25zJzogICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItY291cG9ucycpKFRodW5kZXIpKSxcblx0J3NlYXJjaC1wdXJjaGFzZSc6ICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9zZWFyY2gtcHVyY2hhc2UnKShUaHVuZGVyKSksXG5cdCdvcmRlci1saXN0JzogICAgICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvb3JkZXItbGlzdCcpKFRodW5kZXIpKSxcblx0J29yZGVyLWRldGFpbCc6ICAgICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9vcmRlci1kZXRhaWwnKShUaHVuZGVyKSksXG5cdCdvcmRlci1yZXF1ZXN0LXJlZnVuZCc6ICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvb3JkZXItcmVxdWVzdC1yZWZ1bmQnKShUaHVuZGVyKSksXG5cdCdzdWJzY3JpcHRpb24tbGlzdCc6ICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvc3Vic2NyaXB0aW9uLWxpc3QnKShUaHVuZGVyKSksXG5cdCdzdWJzY3JpcHRpb24tZGV0YWlsJzogICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvc3Vic2NyaXB0aW9uLWRldGFpbCcpKFRodW5kZXIpKSxcblx0J3BheW1lbnQtZm9ybSc6ICAgICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9wYXltZW50LWZvcm0nKShUaHVuZGVyKSksXG59O1xuXG5UaHVuZGVyLnVpcyA9IHtcblx0J2NvbXBvbmVudC1zcGlubmVyJzogIHJlcXVpcmUoJy4vdWkvY29tcG9uZW50LXNwaW5uZXInKS5iaW5kKFRodW5kZXIpLFxuXHQnc2VjdGlvbi1zcGlubmVyJzogICAgcmVxdWlyZSgnLi91aS9zZWN0aW9uLXNwaW5uZXInKS5iaW5kKFRodW5kZXIpLFxuXHQnYnV0dG9uLXNwaW5uZXInOiAgICAgcmVxdWlyZSgnLi91aS9idXR0b24tc3Bpbm5lcicpLmJpbmQoVGh1bmRlciksXG5cdCdvdmVybGF5LW5hdmlnYXRpb24nOiByZXF1aXJlKCcuL3VpL292ZXJsYXktbmF2aWdhdGlvbicpLmJpbmQoVGh1bmRlciksXG5cdCdoZWFkZXItbmF2aWdhdGlvbic6ICByZXF1aXJlKCcuL3VpL2hlYWRlci1uYXZpZ2F0aW9uJykuYmluZChUaHVuZGVyKSxcblx0J3NvY2lhbC1sb2dpbic6ICAgICAgIHJlcXVpcmUoJy4vdWkvc29jaWFsLWxvZ2luJykuYmluZChUaHVuZGVyKSxcblx0J2F2YXRhci1wbGFjZWhvbGRlcic6IHJlcXVpcmUoJy4vdWkvYXZhdGFyLXBsYWNlaG9sZGVyJykuYmluZChUaHVuZGVyKSxcblx0J2ZpbGxlZC1zdGFyJzogICAgICAgIHJlcXVpcmUoJy4vdWkvZmlsbGVkLXN0YXInKS5iaW5kKFRodW5kZXIpLFxuXHQnaGFsZi1maWxsZWQtc3Rhcic6ICAgcmVxdWlyZSgnLi91aS9oYWxmLWZpbGxlZC1zdGFyJykuYmluZChUaHVuZGVyKSxcblx0J2VtcHR5LXN0YXInOiAgICAgICAgIHJlcXVpcmUoJy4vdWkvZW1wdHktc3RhcicpLmJpbmQoVGh1bmRlciksXG5cdCdoYWxsb3ctc3Rhcic6ICAgICAgICByZXF1aXJlKCcuL3VpL2hhbGxvdy1zdGFyJykuYmluZChUaHVuZGVyKSxcblx0J3Jldmlldy1zdGFycyc6ICAgICAgIHJlcXVpcmUoJy4vdWkvcmV2aWV3LXN0YXJzJykuYmluZChUaHVuZGVyKSxcblx0J3Jldmlldy1zdGFyLXJhdGluZyc6IHJlcXVpcmUoJy4vdWkvcmV2aWV3LXN0YXItcmF0aW5nJykuYmluZChUaHVuZGVyKSxcblx0J3RleHQtYm94LW92ZXJsYXknOiAgIHJlcXVpcmUoJy4vdWkvdGV4dC1ib3gtb3ZlcmxheScpLmJpbmQoVGh1bmRlciksXG5cdCdsZWZ0LWFycm93JzogICAgICAgICByZXF1aXJlKCcuL3VpL2xlZnQtYXJyb3cnKS5iaW5kKFRodW5kZXIpLFxuXHQncmlnaHQtYXJyb3cnOiAgICAgICAgcmVxdWlyZSgnLi91aS9yaWdodC1hcnJvdycpLmJpbmQoVGh1bmRlcilcbn07XG5cbi8vIFBsdWdpbnMgKGFkZHJlc3Mgc2VhcmNoLCBwYXltZW50LCAuLi4pXG5UaHVuZGVyLnBsdWdpbnMgPSB7XG5cdHNlYXJjaEFkZHJlc3M6ICAgICBudWxsLFxuXHRtYWtlUGF5bWVudDogICAgICAgbnVsbCxcblx0cmVkaXJlY3Q6ICAgICAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9yZWRpcmVjdCcpLFxuXHRub3RpZmljYXRpb246ICAgICAgcmVxdWlyZSgnLi9wbHVnaW5zL25vdGlmaWNhdGlvbicpLFxuXHRjb25maXJtYXRpb246ICAgICAgcmVxdWlyZSgnLi9wbHVnaW5zL2NvbmZpcm1hdGlvbicpLFxuXHRwYWdpbmF0aW9uOiAgICAgICAgcmVxdWlyZSgnLi9wbHVnaW5zL3BhZ2luYXRpb24nKSxcblx0Y2FydFN0b3JhZ2U6ICAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9jYXJ0U3RvcmFnZScpLFxuXHRjcmVkZW50aWFsU3RvcmFnZTogcmVxdWlyZSgnLi9wbHVnaW5zL2NyZWRlbnRpYWxTdG9yYWdlJyksXG59O1xuXG4vLyBVdGlsaXR5IG1ldGhvZHNcblRodW5kZXIudXRpbCA9IHtcblx0bG9nOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2xvZycpLmJpbmQoVGh1bmRlciksXG5cdGRlYm91bmNlOiAgICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC9kZWJvdW5jZScpLmJpbmQoVGh1bmRlciksXG5cdHVpOiAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC91aScpLmJpbmQoVGh1bmRlciksXG5cdHN0cmlwSFRNTDogICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC9zdHJpcEhUTUwnKS5iaW5kKFRodW5kZXIpLFxuXHRleGNlcnB0OiAgICAgICAgICAgICByZXF1aXJlKCcuL3V0aWwvZXhjZXJwdCcpLmJpbmQoVGh1bmRlciksXG5cdGltYWdlVVJMOiAgICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC9pbWFnZVVSTCcpLmJpbmQoVGh1bmRlciksXG5cdHRvUHJlY2lzaW9uOiAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC90b1ByZWNpc2lvbicpLmJpbmQoVGh1bmRlciksXG5cdGZvcm1hdE51bWJlcjogICAgICAgIHJlcXVpcmUoJy4vdXRpbC9mb3JtYXROdW1iZXInKS5iaW5kKFRodW5kZXIpLFxuXHRmb3JtYXRQcmljZTogICAgICAgICByZXF1aXJlKCcuL3V0aWwvZm9ybWF0UHJpY2UnKS5iaW5kKFRodW5kZXIpLFxuXHRnZXRDdXJyZW5jeTogICAgICAgICByZXF1aXJlKCcuL3V0aWwvZ2V0Q3VycmVuY3knKS5iaW5kKFRodW5kZXIpLFxuXHRpc0V4cGlyZWQ6ICAgICAgICAgICByZXF1aXJlKCcuL3V0aWwvaXNFeHBpcmVkJykuYmluZChUaHVuZGVyKSxcblx0YWRkVGltZTogICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2FkZFRpbWUnKS5iaW5kKFRodW5kZXIpLFxuXHRjb3VudHJ5TmFtZTogICAgICAgICByZXF1aXJlKCcuL3V0aWwvY291bnRyeU5hbWUnKS5iaW5kKFRodW5kZXIpLFxuXHRjdXN0b21lcklkZW50aXR5OiAgICByZXF1aXJlKCcuL3V0aWwvY3VzdG9tZXJJZGVudGl0eScpLmJpbmQoVGh1bmRlciksXG5cdHByb2R1Y3ROYW1lOiAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC9wcm9kdWN0TmFtZScpLmJpbmQoVGh1bmRlciksXG5cdHZhcmlhbnROYW1lOiAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC92YXJpYW50TmFtZScpLmJpbmQoVGh1bmRlciksXG5cdG9yZGVyU2hpcHBpbmdTdGF0dXM6IHJlcXVpcmUoJy4vdXRpbC9vcmRlclNoaXBwaW5nU3RhdHVzJykuYmluZChUaHVuZGVyKSxcblx0Zm9ybVRvSlNPTjogICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2Zvcm1Ub0pTT04nKS5iaW5kKFRodW5kZXIpLFxuXHRwYXJzZVF1ZXJ5U3RyaW5nOiAgICByZXF1aXJlKCcuL3V0aWwvcGFyc2VRdWVyeVN0cmluZycpLmJpbmQoVGh1bmRlciksXG5cdHBhcnNlQXJyYXlTdHJpbmc6ICAgIHJlcXVpcmUoJy4vdXRpbC9wYXJzZUFycmF5U3RyaW5nJykuYmluZChUaHVuZGVyKSxcblx0dXJsUXVlcnk6ICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL3VybFF1ZXJ5JykuYmluZChUaHVuZGVyKSxcblx0cmVxdWVzdEVycm9ySGFuZGxlcjogcmVxdWlyZSgnLi91dGlsL3JlcXVlc3RFcnJvckhhbmRsZXInKS5iaW5kKFRodW5kZXIpLFxuXHR1c2VySWRPckVtYWlsOiAgICAgICByZXF1aXJlKCcuL3V0aWwvdXNlcklkT3JFbWFpbCcpLmJpbmQoVGh1bmRlciksXG5cdG1ha2VBc3luY0J1dHRvbjogICAgIHJlcXVpcmUoJy4vdXRpbC9tYWtlQXN5bmNCdXR0b24nKS5iaW5kKFRodW5kZXIpLFxuXHRiaW5kQWdyZWVtZW50czogICAgICByZXF1aXJlKCcuL3V0aWwvYmluZEFncmVlbWVudHMnKS5iaW5kKFRodW5kZXIpLFxuXHRtYWtlUmVjYXB0Y2hhOiAgICAgICByZXF1aXJlKCcuL3V0aWwvbWFrZVJlY2FwdGNoYScpLmJpbmQoVGh1bmRlciksXG5cdHVuc2V0UmVjYXB0Y2hhOiAgICAgIHJlcXVpcmUoJy4vdXRpbC91bnNldFJlY2FwdGNoYScpLmJpbmQoVGh1bmRlciksXG5cdGJpbmRTb2NpYWxBcHBzOiAgICAgIHJlcXVpcmUoJy4vdXRpbC9iaW5kU29jaWFsQXBwcycpLmJpbmQoVGh1bmRlciksXG5cdGhhbmRsZVNvY2lhbExvZ2luOiAgIHJlcXVpcmUoJy4vdXRpbC9oYW5kbGVTb2NpYWxMb2dpbicpLmJpbmQoVGh1bmRlciksXG5cdGJpbmRSZWNhcHRjaGE6ICAgICAgIHJlcXVpcmUoJy4vdXRpbC9iaW5kUmVjYXB0Y2hhJykuYmluZChUaHVuZGVyKSxcblx0dXNlUmVjYXB0Y2hhOiAgICAgICAgcmVxdWlyZSgnLi91dGlsL3VzZVJlY2FwdGNoYScpLmJpbmQoVGh1bmRlciksXG5cdGltYWdlVXBsb2FkZXI6ICAgICAgIHJlcXVpcmUoJy4vdXRpbC9pbWFnZVVwbG9hZGVyJykuYmluZChUaHVuZGVyKSxcblx0Y29weVRvQ2xpcGJvYXJkOiAgICAgcmVxdWlyZSgnLi91dGlsL2NvcHlUb0NsaXBib2FyZCcpLmJpbmQoVGh1bmRlciksXG5cdGJpbmRCYWNrQnV0dG9uOiAgICAgIHJlcXVpcmUoJy4vdXRpbC9iaW5kQmFja0J1dHRvbicpLmJpbmQoVGh1bmRlciksXG5cdGZvbGxvd2luZ05hdmlnYXRpb246IHJlcXVpcmUoJy4vdXRpbC9mb2xsb3dpbmdOYXZpZ2F0aW9uJykuYmluZChUaHVuZGVyKSxcblx0cXVhbnRpdHlJbnB1dDogICAgICAgcmVxdWlyZSgnLi91dGlsL3F1YW50aXR5SW5wdXQnKS5iaW5kKFRodW5kZXIpLFxuXHRjaGVja0l0ZW1SZWZ1bmRlZDogICByZXF1aXJlKCcuL3V0aWwvY2hlY2tJdGVtUmVmdW5kZWQnKS5iaW5kKFRodW5kZXIpLFxufTtcblxuLy8gR2xvYmFsIHRlbXBsYXRlIG1ldGhvZHNcblRodW5kZXIudGVtcGxhdGVNZXRob2RzID0ge1xuXHRnZXQ6ICAgICAgICAgICAgICByZXF1aXJlKCdsb2Rhc2guZ2V0JyksXG5cdGtlYmFiQ2FzZTogICAgICAgIHJlcXVpcmUoJ2xvZGFzaC5rZWJhYmNhc2UnKSxcblx0Y2FtZWxDYXNlOiAgICAgICAgcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpLFxuXHRzdHJpcEhUTUw6ICAgICAgICBUaHVuZGVyLnV0aWwuc3RyaXBIVE1MLFxuXHRleGNlcnB0OiAgICAgICAgICBUaHVuZGVyLnV0aWwuZXhjZXJwdCxcblx0aW1hZ2VVUkw6ICAgICAgICAgVGh1bmRlci51dGlsLmltYWdlVVJMLFxuXHRpc0V4cGlyZWQ6ICAgICAgICBUaHVuZGVyLnV0aWwuaXNFeHBpcmVkLFxuXHRjb3VudHJ5TmFtZTogICAgICBUaHVuZGVyLnV0aWwuY291bnRyeU5hbWUsXG5cdGN1c3RvbWVySWRlbnRpdHk6IFRodW5kZXIudXRpbC5jdXN0b21lcklkZW50aXR5LFxuXHRwcm9kdWN0TmFtZTogICAgICBUaHVuZGVyLnV0aWwucHJvZHVjdE5hbWUsXG5cdHZhcmlhbnROYW1lOiAgICAgIFRodW5kZXIudXRpbC52YXJpYW50TmFtZSxcbn07XG5cblRodW5kZXIub3ZlcmxheSA9IHtcblx0YmFja2dyb3VuZDogJzxkaXYgaWQ9XCJ0aHVuZGVyLS1vdmVybGF5LWJhY2tncm91bmRcIiBkYXRhLXRodW5kZXItY2xvc2U+PC9kaXY+Jyxcblx0Y29udGFpbmVyOiAgJzxkaXYgaWQ9XCJ0aHVuZGVyLS1vdmVybGF5XCI+PGRpdiBpZD1cInRodW5kZXItLW92ZXJsYXktaGVhZGVyXCI+PC9kaXY+PGRpdiBpZD1cInRodW5kZXItLW92ZXJsYXktYm9keVwiPjwvZGl2PjwvZGl2PicsXG5cdGJvZHk6ICAgICAgIG51bGwsXG59O1xuXG4kLmV4dGVuZChUaHVuZGVyLCB7XG5cdGluaXRpYWxpemU6ICAgIHJlcXVpcmUoJy4vbGliL2luaXRpYWxpemUnKS5iaW5kKFRodW5kZXIpLCAvLyBJbml0aWFsaXplIGFuIGFwcFxuXHRjcmVkZW50aWFsOiAgICByZXF1aXJlKCcuL2xpYi9jcmVkZW50aWFsJykuYmluZChUaHVuZGVyKSwgLy8gQ2xpZW50IHNldHRlclxuXHRwcmVmZXJlbmNlOiAgICByZXF1aXJlKCcuL2xpYi9wcmVmZXJlbmNlJykuYmluZChUaHVuZGVyKSwgLy8gUHJlZmVyZW5jZSBzZXR0ZXJcblx0c2V0TWVzc2FnZXM6ICAgcmVxdWlyZSgnLi9saWIvc2V0TWVzc2FnZXMnKS5iaW5kKFRodW5kZXIpLCAvLyBTZXRzIHRyYW5zbGF0aW9uIG1lc3NhZ2VzXG5cdG9uOiAgICAgICAgICAgIHJlcXVpcmUoJy4vbGliL29uJykuYmluZChUaHVuZGVyKSwgICAgICAgICAvLyBSZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzXG5cdG9mZjogICAgICAgICAgIHJlcXVpcmUoJy4vbGliL29mZicpLmJpbmQoVGh1bmRlciksICAgICAgICAvLyBVbnJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnNcblx0dHJpZ2dlcjogICAgICAgcmVxdWlyZSgnLi9saWIvdHJpZ2dlcicpLmJpbmQoVGh1bmRlciksICAgIC8vIFRyaWdnZXIgcmVnaXN0ZXJlZCBldmVudCBsaXN0ZW5lcnNcblx0bWV0aG9kOiAgICAgICAgZ2V0dGVyU2V0dGVyKCdtZXRob2RzJyksICAgICAgICAgICAgICAgICAgIC8vIE1ldGhvZCBnZXR0ZXIvc2V0dGVyXG5cdGNvbXBvbmVudDogICAgIGdldHRlclNldHRlcignY29tcG9uZW50cycpLCAgICAgICAgICAgICAgICAvLyBDb21wb25lbnQgZ2V0dGVyL3NldHRlclxuXHR0ZW1wbGF0ZTogICAgICBnZXR0ZXJTZXR0ZXIoJ2NvbXBvbmVudHMnLCAndGVtcGxhdGUnKSwgICAgLy8gQ3VzdG9tIHRlbXBsYXRlIGdldHRlci9zZXR0ZXJcblx0cGx1Z2luOiAgICAgICAgZ2V0dGVyU2V0dGVyKCdwbHVnaW5zJyksICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBnZXR0ZXIvc2V0dGVyXG5cdHVpOiAgICAgICAgICAgIGdldHRlclNldHRlcigndWlzJyksICAgICAgICAgICAgICAgICAgICAgICAvLyBDdXN0b20gVUkgZ2V0dGVyL3NldHRlclxuXHRyZW5kZXI6ICAgICAgICByZXF1aXJlKCcuL2xpYi9yZW5kZXInKS5iaW5kKFRodW5kZXIpLCAgICAgLy8gUmVuZGVycyBhIGNvbXBvbmVudFxuXHRvcGVuOiAgICAgICAgICByZXF1aXJlKCcuL2xpYi9vcGVuJykuYmluZChUaHVuZGVyKSwgICAgICAgLy8gT3BlbnMgYW4gb3ZlcmxheSBhbmQgcmVuZGVycyBhIGNvbXBvbmVudFxuXHRjbG9zZTogICAgICAgICByZXF1aXJlKCcuL2xpYi9jbG9zZScpLmJpbmQoVGh1bmRlciksICAgICAgLy8gQ2xvc2VzIGFuIG92ZXJsYXlcblx0cmVxdWVzdDogICAgICAgcmVxdWlyZSgnLi9saWIvcmVxdWVzdCcpKFRodW5kZXIpLCAgICAgICAgIC8vIE1ha2UgYW4gQVBJIHJlcXVlc3Rcblx0ZXhlY3V0ZTogICAgICAgcmVxdWlyZSgnLi9saWIvZXhlY3V0ZScpLmJpbmQoVGh1bmRlciksICAgIC8vIEV4ZWN1dGUgYSBjdXN0b20gbWV0aG9kXG5cdG5vdGlmeTogICAgICAgIHJlcXVpcmUoJy4vbGliL25vdGlmeScpLmJpbmQoVGh1bmRlciksICAgICAvLyBTaG9ydGN1dCBmb3IgVGh1bmRlci5wbHVnaW5zLm5vdGlmaWNhdGlvblxuXHRsb2dvdXQ6ICAgICAgICByZXF1aXJlKCcuL2xpYi9sb2dvdXQnKS5iaW5kKFRodW5kZXIpLFxuXHRoZWFkZXI6ICAgICAgICByZXF1aXJlKCcuL2xpYi9oZWFkZXInKS5iaW5kKFRodW5kZXIpLFxuXHRhdXRoZW50aWNhdGVkOiByZXF1aXJlKCcuL2xpYi9hdXRoZW50aWNhdGVkJykuYmluZChUaHVuZGVyKSxcbn0pO1xuXG5mdW5jdGlvbiBjb21wb25lbnQoZGVmaW5pdGlvbikge1xuXG5cdHJldHVybiAkLmV4dGVuZCh7XG5cdFx0b3B0aW9uczogIGZ1bmN0aW9uKCkgeyByZXR1cm4ge30gfSxcblx0XHRkZWZhdWx0OiAge30sXG5cdFx0cHJlOiAgICAgIGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7IHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KSB9LFxuXHRcdGluaXQ6ICAgICBmdW5jdGlvbigpIHt9LFxuXHRcdHRlbXBsYXRlOiBmdW5jdGlvbihjb250ZXh0KSB7IHJldHVybiAnJyB9XG5cdH0sIGRlZmluaXRpb24pO1xuXG59XG5cbmZ1bmN0aW9uIGdldHRlclNldHRlcihmaWVsZCwgY2hpbGQpIHtcblxuXHRyZXR1cm4gY2hpbGQgP1xuXHRcdGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cblx0XHRcdGlmICghdmFsdWUpIHJldHVybiBUaHVuZGVyW2ZpZWxkXVtuYW1lXVtjaGlsZF07XG5cblx0XHRcdFRodW5kZXJbZmllbGRdW25hbWVdW2NoaWxkXSA9IHZhbHVlO1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlcjtcblxuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cblx0XHRcdGlmICghdmFsdWUpIHJldHVybiBUaHVuZGVyW2ZpZWxkXVtuYW1lXTtcblxuXHRcdFx0VGh1bmRlcltmaWVsZF1bbmFtZV0gPSB2YWx1ZTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXI7XG5cblx0XHR9O1xuXG59XG5cblRodW5kZXIudmVyc2lvbiA9IHJlcXVpcmUoJy4vdmVyc2lvbi5qc29uJyk7XG5cbndpbmRvdy5UaHVuZGVyID0gVGh1bmRlcjsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNjb3BlID0gJ2N1c3RvbWVyJykge1xuXG5cdGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnBsdWdpbnMuY3JlZGVudGlhbFN0b3JhZ2U7XG5cblx0Ly8gQ3VzdG9tZXIgY2FzZVxuXHRpZiAoc2NvcGUgPT09ICdjdXN0b21lcicpIHtcblxuXHRcdGNvbnN0IHN0b3JhZ2VLZXkgPSB0aGlzLm9wdGlvbnMuYXV0aFN0b3JhZ2UuY3VzdG9tZXI7XG5cdFx0Y29uc3QgdG9rZW4gPSBzdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XG5cblx0XHRpZiAoIXRva2VuKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGlzVG9rZW5FeHBpcmVkKHRva2VuKSkge1xuXHRcdFx0Ly8gSWYgdGhlIHRva2VuIGV4cGlyZWQsIGxvZyBvdXQgdGhlIGN1c3RvbWVyLlxuXHRcdFx0dGhpcy5sb2dvdXQoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcGFyc2VUb2tlbih0b2tlbik7XG5cdH1cblxuXHQvLyBPcmRlciBvciBTdWJzY3JpcHRpb24gY2FzZVxuXHRpZiAoc2NvcGUgPT09ICdvcmRlcicpIHtcblxuXHRcdGNvbnN0IHN0b3JhZ2VLZXkgPSB0aGlzLm9wdGlvbnMuYXV0aFN0b3JhZ2Uub3JkZXI7XG5cdFx0Y29uc3QgdG9rZW4gPSBzdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XG5cblx0XHRpZiAoIXRva2VuKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGlzVG9rZW5FeHBpcmVkKHRva2VuKSkge1xuXHRcdFx0Ly8gSWYgdGhlIHRva2VuIGV4cGlyZWQsIHVuc2V0IHRoZSB0b2tlbiBmcm9tIHRoZSBzdG9yYWdlLlxuXHRcdFx0c3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMub3B0aW9ucy5hdXRoU3RvcmFnZS5vcmRlcik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhcnNlVG9rZW4odG9rZW4pO1xuXG5cdH1cblxufTtcblxuZnVuY3Rpb24gcGFyc2VUb2tlbih0b2tlbikge1xuXG5cdGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcblx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYXRvYihwYXJ0c1sxXSkpO1xuXG5cdHJldHVybiBkYXRhO1xuXG59XG5cbmZ1bmN0aW9uIGlzVG9rZW5FeHBpcmVkKHRva2VuKSB7XG5cblx0Y29uc3QgZXhwaXJlc0F0ID0gcGFyc2VUb2tlbih0b2tlbikuZXhwICogMTAwMDtcblxuXHRyZXR1cm4gZXhwaXJlc0F0IC0gRGF0ZS5ub3coKSA8PSAwO1xuXG59IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcblxuXHRjb25zdCBDYXJ0ID0ge1xuXHRcdHN0b3JhZ2U6ICdfX2l0ZW1zX18nLFxuXHRcdGl0ZW1zOiAgIFtdXG5cdH07XG5cblx0Q2FydC5sb2FkID0gKCkgPT4ge1xuXG5cdFx0Y29uc3Qgc3RvcmFnZSA9IFRodW5kZXIucGx1Z2lucy5jYXJ0U3RvcmFnZTtcblxuXHRcdENhcnQuaXRlbXMgPSBKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShDYXJ0LnN0b3JhZ2UpIHx8ICdbXScpO1xuXHR9O1xuXG5cdENhcnQucGVyc2lzdCA9ICgpID0+IHtcblxuXHRcdGNvbnN0IHN0b3JhZ2UgPSBUaHVuZGVyLnBsdWdpbnMuY2FydFN0b3JhZ2U7XG5cblx0XHRzdG9yYWdlLnNldEl0ZW0oQ2FydC5zdG9yYWdlLCBKU09OLnN0cmluZ2lmeShDYXJ0Lml0ZW1zKSk7XG5cdH07XG5cblx0Q2FydC50b3RhbEl0ZW1zID0gaXRlbXMgPT4ge1xuXG5cdFx0cmV0dXJuIChDYXJ0Lml0ZW1zIHx8IGl0ZW1zKS5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuIHN1bSArIDEgKyAoaXRlbS5idW5kbGVJdGVtcyA/IGl0ZW0uYnVuZGxlSXRlbXMubGVuZ3RoIDogMCk7XG5cdFx0fSwgMCk7XG5cblx0fTtcblxuXHRDYXJ0LmFkZEl0ZW0gPSAoaXRlbSwgY2FsbGJhY2spID0+IHtcblxuXHRcdGNvbnN0IGl0ZW1zID0gJC5leHRlbmQodHJ1ZSwgW10sIENhcnQuaXRlbXMpO1xuXG5cdFx0aXRlbS5faWQgPSAoTWF0aC5yYW5kb20oKSArICcnKS5zbGljZSgyLCAxNyk7XG5cblx0XHRpZiAoaXRlbS5idW5kbGVJdGVtcykge1xuXHRcdFx0aXRlbS5idW5kbGVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0XHRpdGVtLl9pZCA9IChNYXRoLnJhbmRvbSgpICsgJycpLnNsaWNlKDIsIDE3KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGl0ZW1zLnB1c2goaXRlbSk7XG5cblx0XHRpZiAoQ2FydC50b3RhbEl0ZW1zKGl0ZW1zKSA+PSA1MCkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKENhcnRFcnJvcignaXRlbXMtZXhjZWVkZWQnKSk7XG5cdFx0fVxuXG5cdFx0Q2FydC5pdGVtcyA9IGl0ZW1zO1xuXG5cdFx0Q2FydC5wZXJzaXN0KCk7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgaXRlbSk7XG5cblx0fTtcblxuXHRDYXJ0LnVwZGF0ZUl0ZW0gPSAoaXRlbUlkLCB1cGRhdGUsIGNhbGxiYWNrKSA9PiB7XG5cblx0XHRpdGVtSWQgPSBpdGVtSWQgKyAnJztcblxuXHRcdGNvbnN0IGl0ZW1zID0gJC5leHRlbmQodHJ1ZSwgW10sIENhcnQuaXRlbXMpO1xuXHRcdGNvbnN0IGZvdW5kID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uX2lkID09PSBpdGVtSWQpO1xuXG5cdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKENhcnRFcnJvcignbm8taXRlbScpKTtcblx0XHR9XG5cblx0XHRjb25zdCBidW5kbGVJdGVtcyA9IHVwZGF0ZS5idW5kbGVJdGVtcztcblxuXHRcdGRlbGV0ZSB1cGRhdGUuYnVuZGxlSXRlbXM7XG5cblx0XHQkLmV4dGVuZChmb3VuZCwgdXBkYXRlKTtcblxuXHRcdGlmIChidW5kbGVJdGVtcykge1xuXG5cdFx0XHRmb3VuZC5idW5kbGVJdGVtcyA9IGZvdW5kLmJ1bmRsZUl0ZW1zIHx8IFtdO1xuXG5cdFx0XHRmb3IgKGNvbnN0IGJ1bmRsZUlkIGluIGJ1bmRsZUl0ZW1zKSB7XG5cblx0XHRcdFx0Y29uc3QgaXRlbSA9IGZvdW5kLmJ1bmRsZUl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PT0gYnVuZGxlSWQpO1xuXHRcdFx0XHRjb25zdCB1cGRhdGUgPSBidW5kbGVJdGVtc1tidW5kbGVJZF07XG5cblx0XHRcdFx0aWYgKCFpdGVtICYmIHVwZGF0ZSkge1xuXHRcdFx0XHRcdGZvdW5kLmJ1bmRsZUl0ZW1zLnB1c2godXBkYXRlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh1cGRhdGUpIHtcblx0XHRcdFx0XHQkLmV4dGVuZChpdGVtLCB1cGRhdGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHVwZGF0ZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gZm91bmQuYnVuZGxlSXRlbXMuaW5kZXhPZihpdGVtKTtcblxuXHRcdFx0XHRcdGZvdW5kLmJ1bmRsZUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKENhcnQudG90YWxJdGVtcyhpdGVtcykgPj0gNTApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjayhDYXJ0RXJyb3IoJ2l0ZW1zLWV4Y2VlZGVkJykpO1xuXHRcdH1cblxuXHRcdENhcnQuaXRlbXMgPSBpdGVtcztcblxuXHRcdENhcnQucGVyc2lzdCgpO1xuXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGZvdW5kKTtcblxuXHR9O1xuXG5cdENhcnQuZGVsZXRlSXRlbSA9IChpdGVtSWQsIGNhbGxiYWNrKSA9PiB7XG5cblx0XHRpdGVtSWQgPSBpdGVtSWQgKyAnJztcblxuXHRcdGNvbnN0IGl0ZW1zID0gJC5leHRlbmQodHJ1ZSwgW10sIENhcnQuaXRlbXMpO1xuXHRcdGxldCBpbmRleCA9IG51bGw7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcblxuXHRcdFx0aWYgKGl0ZW0uX2lkID09PSBpdGVtSWQpIHtcblx0XHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmIChpbmRleCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKENhcnRFcnJvcignbm8taXRlbScpKTtcblx0XHR9XG5cblx0XHRpdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG5cdFx0Q2FydC5pdGVtcyA9IGl0ZW1zO1xuXG5cdFx0Q2FydC5wZXJzaXN0KCk7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2soKTtcblxuXHR9O1xuXG5cdENhcnQuZW1wdHkgPSBjYWxsYmFjayA9PiB7XG5cblx0XHRDYXJ0Lml0ZW1zID0gW107XG5cblx0XHRDYXJ0LnBlcnNpc3QoKTtcblxuXHRcdHJldHVybiBjYWxsYmFjaygpO1xuXG5cdH07XG5cblx0cmV0dXJuIENhcnQ7XG5cblx0ZnVuY3Rpb24gQ2FydEVycm9yKGNvZGUsIG1lc3NhZ2UgPSBjb2RlKSB7XG5cblx0XHRjb25zdCBlcnIgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cblx0XHRlcnIuY29kZSA9IGNvZGU7XG5cblx0XHRyZXR1cm4gZXJyO1xuXG5cdH1cblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdC8vIEVtcHR5IHRoZSBjb250ZW50cyBhbmQgYWRkIGEgJ2hpZGRlbicgY2xhc3Ncblx0dGhpcy5vdmVybGF5LmNvbnRhaW5lci5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdHRoaXMub3ZlcmxheS5iYWNrZ3JvdW5kLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuXHR0aGlzLm92ZXJsYXkuYm9keS5odG1sKCcnKTtcblxuXHQvLyBzaG93IGJvZHkgc2Nyb2xsXG5cdCQoJ2h0bWwsIGJvZHknKS5yZW1vdmVDbGFzcygndGh1bmRlci0tb3ZlcmZsb3ctZml4Jyk7XG5cblx0cmV0dXJuIHRoaXM7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjbGllbnQpIHtcblxuXHR0aGlzLnJlcXVlc3Quc2V0RGVmYXVsdEhlYWRlcignQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtjbGllbnR9YCk7XG5cblx0cmV0dXJuIHRoaXM7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgLi4uYXJncykge1xuXG5cdGZuID0gdHlwZW9mIGZuID09PSAnc3RyaW5nJyA/XG5cdFx0XHR0aGlzLm1ldGhvZHNbZm5dIDpcblx0XHRcdGZuO1xuXG5cdGlmICghZm4pIHJldHVybjtcblxuXHRyZXR1cm4gZm4oLi4uYXJncyk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuXHRpZiAoIXRoaXMub3B0aW9ucy5oZWFkZXIpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0ICRoZWFkZXJOYXYgPSAkKCcjdGh1bmRlci0taGVhZGVyLW5hdmlnYXRpb24nKTtcblxuXHRpZiAoISRoZWFkZXJOYXYubGVuZ3RoKSB7XG5cblx0XHRjb25zdCBhY3Rpb25zID0gdGhpcy5vcHRpb25zLmhlYWRlci5hY3Rpb25zO1xuXG5cdFx0JCgnYm9keScpLnByZXBlbmQodGhpcy51aXNbJ2hlYWRlci1uYXZpZ2F0aW9uJ10oKSk7XG5cdFx0JCgnYm9keScpLm9uKCdjbGljaycsICcjdGh1bmRlci0taGVhZGVyLW5hdmlnYXRpb24gW2RhdGEtY29tcG9uZW50XScsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGFjdGlvbnNbJCh0aGlzKS5kYXRhKCdjb21wb25lbnQnKV0oKTtcblx0XHR9KTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0JGhlYWRlck5hdi5yZXBsYWNlV2l0aCh0aGlzLnVpc1snaGVhZGVyLW5hdmlnYXRpb24nXSgpKTtcblxuXHR9XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuXHRjb25zdCBUaHVuZGVyID0gdGhpcztcblxuXHRjb25zdCBib2R5ID0gJCgnYm9keScpO1xuXG5cdHRoaXMuQ2FydC5sb2FkKCk7XG5cblx0Ly8gQ2FjaGUgb3ZlcmxheSBET01zXG5cdHRoaXMub3ZlcmxheS5iYWNrZ3JvdW5kID0gJCh0aGlzLm92ZXJsYXkuYmFja2dyb3VuZCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHR0aGlzLm92ZXJsYXkuY29udGFpbmVyID0gJCh0aGlzLm92ZXJsYXkuY29udGFpbmVyKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdHRoaXMub3ZlcmxheS5ib2R5ID0gdGhpcy5vdmVybGF5LmNvbnRhaW5lci5maW5kKCcjdGh1bmRlci0tb3ZlcmxheS1ib2R5Jyk7XG5cblx0Ly8gQXBwZW5kIGNsb3NlIGJ1dHRvbiB0byB0aGUgb3ZlcmxheSdzIGhlYWRlclxuXHR0aGlzLm92ZXJsYXkuY29udGFpbmVyXG5cdFx0LmZpbmQoJyN0aHVuZGVyLS1vdmVybGF5LWhlYWRlcicpXG5cdFx0LmFwcGVuZCh0aGlzLnVpc1snb3ZlcmxheS1uYXZpZ2F0aW9uJ10oKSk7XG5cblx0Ym9keS5hcHBlbmQodGhpcy5vdmVybGF5LmJhY2tncm91bmQpO1xuXHRib2R5LmFwcGVuZCh0aGlzLm92ZXJsYXkuY29udGFpbmVyKTtcblxuXHQvLyBCaW5kIGNsaWNrIGV2ZW50cyBmb3IgRE9NcyB3aXRoIGRhdGEtdGh1bmRlci0qIGF0dHJpYnV0ZXMuXG5cdGJvZHkub24oJ2NsaWNrJywgJ1tkYXRhLXRodW5kZXItb3Blbl0nLCBvcGVuT3ZlcmxheSk7XG5cdGJvZHkub24oJ2NsaWNrJywgJ1tkYXRhLXRodW5kZXItY2xvc2VdJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcblx0Ym9keS5vbignY2xpY2snLCAnW2RhdGEtdGh1bmRlci1sb2dvdXRdJywgKCkgPT4gdGhpcy5sb2dvdXQoKSk7XG5cdGJvZHkub24oJ2NsaWNrJywgJ1tkYXRhLXRodW5kZXItcmVuZGVyXVtkYXRhLXRodW5kZXItcmVuZGVyLXRhcmdldF0nLCByZW5kZXJDb21wb25lbnRJblRhcmdldCk7XG5cblx0Ly8gUmVuZGVyIGNvbXBvbmVudHMgZm9yIERPTXMgd2l0aCAnZGF0YS10aHVuZGVyLXJlbmRlcicsXG5cdC8vIGFuZCB3aXRob3V0ICdkYXRhLXRodW5kZXItcmVuZGVyLXRhcmdldCcuXG5cdGJvZHkuZmluZCgnW2RhdGEtdGh1bmRlci1yZW5kZXJdOm5vdChbZGF0YS10aHVuZGVyLXJlbmRlci10YXJnZXRdKScpLmVhY2gocmVuZGVyQ29tcG9uZW50KTtcblxuXHR0aGlzLmhlYWRlcigpO1xuXG5cdC8vIENoZWNrIHdoZXRoZXIgYXV0aGVudGljYXRpb24gdG9rZW5zIGFyZSBleHBpcmVkLlxuXHQvLyBJZiBpdCBpcyBleHBpcmVkIC0+IExvZyBvdXQgYW5kIHVuc2V0IGZyb20gdGhlIHN0b3JhZ2UuLi5cblx0dGhpcy5hdXRoZW50aWNhdGVkKCdjdXN0b21lcicpO1xuXHR0aGlzLmF1dGhlbnRpY2F0ZWQoJ29yZGVyJyk7XG5cblx0ZnVuY3Rpb24gb3Blbk92ZXJsYXkoJGV2ZW50KSB7XG5cblx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGNvbnN0IGRhdGEgPSAkKHRoaXMpLmRhdGEoKTtcblx0XHRjb25zdCBjb21wb25lbnROYW1lID0gZGF0YS50aHVuZGVyT3BlbjtcblxuXHRcdC8vIFBhc3MgdGhlIGRhdGEgZnJvbSB0aGUgY2FsbGVyIERPTVxuXHRcdFRodW5kZXIub3Blbihjb21wb25lbnROYW1lLCBkYXRhKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KCkge1xuXG5cdFx0VGh1bmRlci5yZW5kZXIoJCh0aGlzKSwgJCh0aGlzKS5kYXRhKCd0aHVuZGVyUmVuZGVyJyksIHt9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudEluVGFyZ2V0KCRldmVudCkge1xuXG5cdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRjb25zdCBkYXRhID0gJCh0aGlzKS5kYXRhKCk7XG5cdFx0Y29uc3QgeyB0aHVuZGVyUmVuZGVyLCB0aHVuZGVyUmVuZGVyVGFyZ2V0IH0gPSBkYXRhO1xuXG5cdFx0VGh1bmRlci5yZW5kZXIoJCh0aHVuZGVyUmVuZGVyVGFyZ2V0KSwgdGh1bmRlclJlbmRlciwgZGF0YSk7XG5cdH1cblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnBsdWdpbnMuY3JlZGVudGlhbFN0b3JhZ2U7XG5cblx0c3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMub3B0aW9ucy5hdXRoU3RvcmFnZS5jdXN0b21lcik7XG5cblx0dGhpcy5oZWFkZXIoKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcblx0cmV0dXJuIHRoaXMucGx1Z2lucy5ub3RpZmljYXRpb24oLi4uYXJncyk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyKSB7XG5cblx0Y29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVyc1tzY29wZV0uaW5kZXhPZihsaXN0ZW5lcik7XG5cblx0aWYgKGluZGV4ID09PSAtMSkge1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHR0aGlzLmxpc3RlbmVyc1tzY29wZV0uc3BsaWNlKGluZGV4LCAxKTtcblxuXHRyZXR1cm4gdGhpcztcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lcikge1xuXG5cdHRoaXMubGlzdGVuZXJzW3Njb3BlXS5wdXNoKGxpc3RlbmVyKTtcblxuXHRyZXR1cm4gdGhpcztcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbXBvbmVudE5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrID0gKCkgPT4ge30pIHtcblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRjYWxsYmFjayA9IHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucyA6IGNhbGxiYWNrO1xuXG5cdGlmICh0aGlzLm92ZXJsYXkuYmFja2dyb3VuZC5oYXNDbGFzcygnaGlkZGVuJykpIHtcblx0XHQvLyBSZW1vdmVzIGEgJ2hpZGRlbicgY2xhc3MgZmlyc3Rcblx0XHR0aGlzLm92ZXJsYXkuYmFja2dyb3VuZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0dGhpcy5vdmVybGF5LmNvbnRhaW5lci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdH1cblx0Ly8gaGlkZSBib2R5IHNjcm9sbFxuXHQkKCdodG1sLCBib2R5JykuYWRkQ2xhc3MoJ3RodW5kZXItLW92ZXJmbG93LWZpeCcpO1xuXG5cdC8vIE1hcmsgY3VycmVudCB2aWV3XG5cdCQuZXh0ZW5kKHRydWUsIG9wdGlvbnMsIHtcblx0XHR2aWV3OiB7XG5cdFx0XHRjb21wb25lbnQ6IGNvbXBvbmVudE5hbWUsXG5cdFx0XHRjdXJzb3I6ICAgIHRoaXMuY3Vyc29yLFxuXHRcdH1cblx0fSk7XG5cblx0dGhpcy5yZW5kZXIodGhpcy5vdmVybGF5LmJvZHksIGNvbXBvbmVudE5hbWUsIG9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgY29udGV4dCkge1xuXG5cdFx0aWYgKGVycikge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoJCh0aGlzKSwgZXJyKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCgkKHRoaXMpLCBlcnIsIGNvbnRleHQpO1xuXG5cdH0pO1xuXG5cdHJldHVybiB0aGlzO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG5cdGNvbnN0IGxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZTtcblx0Y29uc3QgY3VycmVuY3kgPSBvcHRpb25zLmN1cnJlbmN5O1xuXHRjb25zdCB0aW1lem9uZSA9IG9wdGlvbnMudGltZXpvbmU7XG5cdGNvbnN0IGRlYnVnTGFuZ3VhZ2UgPSBvcHRpb25zLmRlYnVnTGFuZ3VhZ2U7XG5cblx0dGhpcy5vcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG5cdHRoaXMub3B0aW9ucy5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuXHR0aGlzLm9wdGlvbnMudGltZXpvbmUgPSB0aW1lem9uZTtcblxuXHR0aGlzLnBvbHlnbG90LmxvY2FsZSh0aGlzLm9wdGlvbnMubGFuZ3VhZ2UpO1xuXG5cdGlmIChsYW5ndWFnZSkgdGhpcy5yZXF1ZXN0LnNldERlZmF1bHRIZWFkZXIoJ0FjY2VwdC1MYW5ndWFnZScsIGxhbmd1YWdlKTtcblx0aWYgKGN1cnJlbmN5KSB0aGlzLnJlcXVlc3Quc2V0RGVmYXVsdEhlYWRlcignQWNjZXB0LUN1cnJlbmN5JywgY3VycmVuY3kpO1xuXHRpZiAodGltZXpvbmUpIHRoaXMucmVxdWVzdC5zZXREZWZhdWx0SGVhZGVyKCdBY2NlcHQtVGltZS1ab25lJywgdGltZXpvbmUpO1xuXHRpZiAoZGVidWdMYW5ndWFnZSkgdGhpcy5yZXF1ZXN0LnNldERlZmF1bHRIZWFkZXIoJ0FjY2VwdC1EZWJ1Zy1MYW5ndWFnZScsIGRlYnVnTGFuZ3VhZ2UpO1xuXG5cdHJldHVybiB0aGlzO1xuXG59OyIsImNvbnN0IG1lcmdlV2l0aCA9IHJlcXVpcmUoJ2xvZGFzaC5tZXJnZVdpdGgnKTtcbmNvbnN0IG9taXQgPSByZXF1aXJlKCdsb2Rhc2gub21pdCcpO1xuY29uc3QgUGlrYWRheSA9IHJlcXVpcmUoJ3Bpa2FkYXknKTtcblxuLy8gVHJhY2sgY29tcG9uZW50IElEc1xuY29uc3QgY29tcG9uZW50SWRzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbXBvbmVudE5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cblx0Y29uc3QgVGh1bmRlciA9IHRoaXM7XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdGNhbGxiYWNrID0gdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zIDogY2FsbGJhY2s7XG5cblx0Ly8gSW5jcmVtZW50IGNvbXBvbmVudCBjb3VudGVyXG5cdGNvbXBvbmVudElkc1tjb21wb25lbnROYW1lXSA9IGNvbXBvbmVudElkc1tjb21wb25lbnROYW1lXSB8fCAwO1xuXG5cdGNvbnN0IGlkID0gY29tcG9uZW50SWRzW2NvbXBvbmVudE5hbWVdKys7XG5cblx0Y29uc3QgY29udGFpbmVyID0gKHNlbGVjdG9yIGluc3RhbmNlb2YgJCkgPyBzZWxlY3RvciA6ICQoc2VsZWN0b3IpO1xuXHRjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG5cblx0Ly8gVGVtcGxhdGUgY29udGV4dFxuXHRjb25zdCBjb250ZXh0ID0ge1xuXHRcdGlkOiBgJHtjb21wb25lbnROYW1lfS0ke2lkfWBcblx0fTtcblxuXHQvLyBBZGQgJ3RodW5kZXItLWNvbnRlbnRzJyBjbGFzcyBmb3IgZ2xvYmFsIGNzcyBzdHlsZXNcblx0Y29udGFpbmVyLmFkZENsYXNzKCd0aHVuZGVyLS1jb250ZW50cycpO1xuXG5cdC8vIFVuYmluZCBhbGwgZXZlbnQgaGFuZGxlcnNcblx0Y29udGFpbmVyLm9mZigpO1xuXHRjb250YWluZXIuZmluZCgnKicpLm9mZigpO1xuXHRjb250YWluZXIuZmluZCgnW2RhdGEtbWhdJykubWF0Y2hIZWlnaHQoeyByZW1vdmU6IHRydWUgfSk7XG5cdGNvbnRhaW5lci5maW5kKCdbZGF0YS1waWNrYWRheV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG5cdFx0Y29uc3QgcGlja2VyID0gJCh0aGlzKS5kYXRhKCdwaWNrYWRheScpO1xuXG5cdFx0cmV0dXJuIHBpY2tlciA/IHBpY2tlci5kZXN0cm95KCkgOiBudWxsO1xuXG5cdH0pO1xuXG5cdC8vIFN0YXJ0IGxvYWRpbmcgc3Bpbm5lclxuXHRjb250YWluZXIuaHRtbCh0aGlzLnVpc1snY29tcG9uZW50LXNwaW5uZXInXSgpKTtcblxuXHQvLyBDb3B5IGFuZCBleHRlbmQgZGVmYXVsdCBvcHRpb25zIHdpdGggcnVudGltZSBvcHRpb25zXG5cdG1lcmdlV2l0aChcblx0XHRjb250ZXh0LFxuXHRcdHsgICAvLyBHbG9iYWwgY29udGV4dFxuXHRcdFx0aXNBdXRoZW50aWNhdGVkOiAhIVRodW5kZXIuYXV0aGVudGljYXRlZCgpLCAvLyBDdXN0b21lciBpcyBhdXRoZW50aWNhdGVkP1xuXHRcdH0sXG5cdFx0dGhpcy50ZW1wbGF0ZU1ldGhvZHMsIC8vIFRlbXBsYXRlIG1ldGhvZHNcblx0XHR7ICAgLy8gVHJhbnNsYXRpb24gbWV0aG9kXG5cdFx0XHRtOiAoa2V5LCBjb250ZXh0KSA9PiBUaHVuZGVyLnBvbHlnbG90LnQoYCR7IGNvbXBvbmVudE5hbWUgfS4keyBrZXkgfWAsIGNvbnRleHQpLFxuXHRcdFx0dWk6IFRodW5kZXIudWlzLFxuXHRcdH0sXG5cdFx0eyBvcHRpb25zOiBjb21wb25lbnQub3B0aW9ucygpIH0sXG5cdFx0eyBvcHRpb25zOiBjb21wb25lbnQuZGVmYXVsdCB9LFxuXHRcdHsgb3B0aW9uczogb21pdChjb250YWluZXIuZGF0YSgpLCBbJ2NvbXBvbmVudCcsICdjb250ZXh0J10pIH0sIC8vIERlY2xhcmF0aXZlIG9wdGlvbnNcblx0XHR7IG9wdGlvbnM6IG9wdGlvbnMgfSwgLy8gRXhwbGljaXQgb3B0aW9uc1xuXHRcdChvdiwgc3YpID0+IHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG92KSAmJiBBcnJheS5pc0FycmF5KHN2KSkge1xuXHRcdFx0XHRyZXR1cm4gc3Y7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xuXG5cdGlmIChjb21wb25lbnQudmFsaWRhdGUpIHtcblxuXHRcdGNvbnN0IGVyciA9IGNvbXBvbmVudC52YWxpZGF0ZShjb250ZXh0Lm9wdGlvbnMpO1xuXG5cdFx0aWYgKGVycikge1xuXHRcdFx0cmV0dXJuIHRoaXMudXRpbC5sb2coWydlcnJvciddLCBjb21wb25lbnQubmFtZSArICcgLSAnICsgZXJyKTtcblx0XHR9XG5cblx0fVxuXG5cdGNvbXBvbmVudC5wcmUuY2FsbChjb250YWluZXIsIGNvbnRleHQsIChmdW5jdGlvbihlcnIsIGNvbnRleHQpIHtcblxuXHRcdGlmIChlcnIpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWNoZSBjb21wb25lbnRcblx0XHRjb250YWluZXIuZGF0YSgnY29tcG9uZW50JywgVGh1bmRlci5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdKTtcblxuXHRcdC8vIENhY2hlIGNvbnRleHQgZGF0YVxuXHRcdGNvbnRhaW5lci5kYXRhKCdjb250ZXh0JywgY29udGV4dCk7XG5cblx0XHRjb250YWluZXIuaHRtbChjb21wb25lbnQudGVtcGxhdGUoY29udGV4dCkpO1xuXG5cdFx0VGh1bmRlci50cmlnZ2VyKCdjb21wb25lbnRSZW5kZXInLCBjb250YWluZXIsIGNvbXBvbmVudE5hbWUsIGNvbnRhaW5lciwgY29udGV4dCk7XG5cblx0XHRUaHVuZGVyLnV0aWwucXVhbnRpdHlJbnB1dChjb250YWluZXIpO1xuXG5cdFx0Ly8gQmluZCBiZWZvcmUgYXV0b21hdGljIGJpbmRpbmdcblx0XHRpZiAoY29tcG9uZW50LmJpbmQpIHtcblx0XHRcdGNvbXBvbmVudC5iaW5kLmNhbGwoY29udGFpbmVyLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRjb250YWluZXIuaW1hZ2VzTG9hZGVkKCgpID0+IGNvbnRhaW5lci5maW5kKCdbZGF0YS1taF0nKS5tYXRjaEhlaWdodCgpKTtcblxuXHRcdGNvbnN0IHQgPSBrZXkgPT4gVGh1bmRlci5wb2x5Z2xvdC50KGBnZW5lcmFsLiR7a2V5fWApO1xuXG5cdFx0Y29udGFpbmVyLmZpbmQoJ1tkYXRhLXBpY2thZGF5XScpLmVhY2goZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQodGhpcykuZGF0YSgncGlja2FkYXknLCBuZXcgUGlrYWRheSgkLmV4dGVuZCgkKHRoaXMpLmRhdGEoKSwge1xuXHRcdFx0XHRmaWVsZDogICQodGhpcylbMF0sXG5cdFx0XHRcdGZvcm1hdDogVGh1bmRlci5vcHRpb25zLmRhdGVJbnB1dEZvcm1hdCxcblx0XHRcdFx0aTE4bjoge1xuXHRcdFx0XHRcdHByZXZpb3VzTW9udGg6IHQoJ3ByZXZpb3VzTW9udGgnKSxcblx0XHRcdFx0XHRuZXh0TW9udGg6ICAgICB0KCduZXh0TW9udGgnKSxcblx0XHRcdFx0XHRtb250aHM6ICAgICAgICBbXG5cdFx0XHRcdFx0XHR0KCdqYW51YXJ5JyksXG5cdFx0XHRcdFx0XHR0KCdmZWJydWFyeScpLFxuXHRcdFx0XHRcdFx0dCgnbWFyY2gnKSxcblx0XHRcdFx0XHRcdHQoJ2FwcmlsJyksXG5cdFx0XHRcdFx0XHR0KCdtYXknKSxcblx0XHRcdFx0XHRcdHQoJ2p1bmUnKSxcblx0XHRcdFx0XHRcdHQoJ2p1bHknKSxcblx0XHRcdFx0XHRcdHQoJ2F1Z3VzdCcpLFxuXHRcdFx0XHRcdFx0dCgnc2VwdGVtYmVyJyksXG5cdFx0XHRcdFx0XHR0KCdvY3RvYmVyJyksXG5cdFx0XHRcdFx0XHR0KCdub3ZlbWJlcicpLFxuXHRcdFx0XHRcdFx0dCgnZGVjZW1iZXInKSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdHdlZWtkYXlzOiAgICAgIFtcblx0XHRcdFx0XHRcdHQoJ3N1bmRheScpLFxuXHRcdFx0XHRcdFx0dCgnbW9uZGF5JyksXG5cdFx0XHRcdFx0XHR0KCd0dWVzZGF5JyksXG5cdFx0XHRcdFx0XHR0KCd3ZWRuZXNkYXknKSxcblx0XHRcdFx0XHRcdHQoJ3RodXJzZGF5JyksXG5cdFx0XHRcdFx0XHR0KCdmcmlkYXknKSxcblx0XHRcdFx0XHRcdHQoJ3NhdHVyZGF5JyksXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHR3ZWVrZGF5c1Nob3J0OiBbXG5cdFx0XHRcdFx0XHR0KCdzdW5kYXlTaG9ydCcpLFxuXHRcdFx0XHRcdFx0dCgnbW9uZGF5U2hvcnQnKSxcblx0XHRcdFx0XHRcdHQoJ3R1ZXNkYXlTaG9ydCcpLFxuXHRcdFx0XHRcdFx0dCgnd2VkbmVzZGF5U2hvcnQnKSxcblx0XHRcdFx0XHRcdHQoJ3RodXJzZGF5U2hvcnQnKSxcblx0XHRcdFx0XHRcdHQoJ2ZyaWRheVNob3J0JyksXG5cdFx0XHRcdFx0XHR0KCdzYXR1cmRheVNob3J0JyksXG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9KSkpO1xuXG5cdFx0fSk7XG5cblx0XHRjb25zdCBpbnRlcmZhY2VzID0gY29tcG9uZW50LmluaXQuY2FsbChjb250YWluZXIsIGNvbnRleHQpIHx8IHt9O1xuXG5cdFx0VGh1bmRlci50cmlnZ2VyKCdjb21wb25lbnRJbml0JywgY29udGFpbmVyLCBjb21wb25lbnROYW1lLCBjb250YWluZXIsIGNvbnRleHQpO1xuXG5cdFx0cmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoJCh0aGlzKSwgZXJyLCB7IGludGVyZmFjZXMsIGNvbnRleHQgfSk7XG5cblx0fSkuYmluZChjb250YWluZXIpKTtcblxuXHRyZXR1cm4gdGhpcztcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRodW5kZXIpIHtcblxuXHRjb25zdCByZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdE9wdGlvbnMpIHtcblxuXHRcdGxldCBxdWVyeSA9ICQucGFyYW0ocmVxdWVzdE9wdGlvbnMucXVlcnkgfHwge30pO1xuXG5cdFx0cXVlcnkgPSBxdWVyeSA/ICgnPycgKyBxdWVyeSkgOiBxdWVyeTtcblxuXHRcdHJlcXVlc3RPcHRpb25zLnVybCA9IFRodW5kZXIub3B0aW9ucy5iYXNlVVJMICsgcmVxdWVzdE9wdGlvbnMudXJsICsgcXVlcnk7XG5cblx0XHRjb25zdCByZWNhcHRjaGEgPSByZXF1ZXN0T3B0aW9ucy5yZWNhcHRjaGE7XG5cblx0XHRkZWxldGUgcmVxdWVzdE9wdGlvbnMucXVlcnk7XG5cdFx0ZGVsZXRlIHJlcXVlc3RPcHRpb25zLnJlY2FwdGNoYTtcblxuXHRcdGNvbnN0IHJlcSA9ICQuZXh0ZW5kKHRydWUsIHtcblx0XHRcdGNyb3NzRG9tYWluOiB0cnVlLFxuXHRcdFx0aGVhZGVyczogICAgICQuZXh0ZW5kKFxuXHRcdFx0XHRyZXF1ZXN0LmdldFJlcXVlc3RIZWFkZXJzKFRodW5kZXIpLFxuXHRcdFx0XHRyZWNhcHRjaGEgPyB7ICdSZWNhcHRjaGEtUmVzcG9uc2UnOiByZWNhcHRjaGEgfSA6IHt9XG5cdFx0XHQpLFxuXHRcdFx0eGhyRmllbGRzOiB7XG5cdFx0XHRcdHdpdGhDcmVkZW50aWFsczogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdGNvbnZlcnRlcnM6IHtcblx0XHRcdFx0J3RleHQganNvbic6IGRhdGEgPT4gJC5wYXJzZUpTT04oZGF0YSB8fCAnbnVsbCcpXG5cdFx0XHR9XG5cdFx0fSwgcmVxdWVzdE9wdGlvbnMpO1xuXG5cdFx0aWYgKHJlcS5kYXRhKSB7XG5cblx0XHRcdGNvbnN0IHJlY2FwdGNoYSA9IFRodW5kZXIudXRpbC51bnNldFJlY2FwdGNoYShyZXEuZGF0YSk7XG5cblx0XHRcdGlmIChyZWNhcHRjaGEpIHtcblx0XHRcdFx0cmVxLmhlYWRlcnNbJ3JlQ0FQVENIQS1SZXNwb25zZSddID0gcmVjYXB0Y2hhO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KHJlcS5kYXRhKTtcblx0XHRcdHJlcS5kYXRhVHlwZSA9ICdqc29uJztcblx0XHRcdHJlcS5jb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gJC5hamF4KHJlcSk7XG5cblx0fTtcblxuXHRyZXF1ZXN0LmRlZmF1bHRIZWFkZXJzID0ge1xuXHRcdCdDbGF5ZnVsLVNESyc6ICdjbGF5ZnVsLXRodW5kZXInXG5cdH07XG5cblx0cmVxdWVzdC5zZXREZWZhdWx0SGVhZGVyID0gKGtleSwgdmFsdWUpID0+IHtcblx0XHRyZXF1ZXN0LmRlZmF1bHRIZWFkZXJzW2tleV0gPSB2YWx1ZTtcblx0fTtcblxuXHRyZXF1ZXN0LmdldFJlcXVlc3RIZWFkZXJzID0gKCkgPT4ge1xuXG5cdFx0Y29uc3Qgc3RvcmFnZSA9IFRodW5kZXIucGx1Z2lucy5jcmVkZW50aWFsU3RvcmFnZTtcblxuXHRcdC8vIDEuIElmIGEgY3VzdG9tZXIgaXMgbG9nZ2VkLWluLCBzZW5kIGEgY3VzdG9tZXIgdG9rZW4uXG5cdFx0Ly8gMi4gSWYgYW4gb3JkZXIgdG9rZW4gb3IgYSBzdWJzY3JpcHRpb24gdG9rZW4gZXhpc3RzLCBzZW5kIHRoZSB0b2tlbi5cblx0XHQvLyAzLiBPciBlbHNlLCBzaW1wbHkgZG8gbm90IHNldCBgQXV0aG9yaXphdGlvbi1DdXN0b21lcmAgaGVhZGVyXG5cdFx0Y29uc3QgY3VzdG9tZXJUb2tlbiA9XG5cdFx0XHRcdHN0b3JhZ2UuZ2V0SXRlbShUaHVuZGVyLm9wdGlvbnMuYXV0aFN0b3JhZ2UuY3VzdG9tZXIpIHx8XG5cdFx0XHRcdHN0b3JhZ2UuZ2V0SXRlbShUaHVuZGVyLm9wdGlvbnMuYXV0aFN0b3JhZ2Uub3JkZXIpO1xuXG5cdFx0cmV0dXJuICQuZXh0ZW5kKFxuXHRcdFx0e30sXG5cdFx0XHRyZXF1ZXN0LmRlZmF1bHRIZWFkZXJzLFxuXHRcdFx0Y3VzdG9tZXJUb2tlbiA/IHtcblx0XHRcdFx0J0F1dGhvcml6YXRpb24tQ3VzdG9tZXInOiBjdXN0b21lclRva2VuXG5cdFx0XHR9IDoge31cblx0XHQpO1xuXG5cdH07XG5cblx0cmV0dXJuIHJlcXVlc3Q7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtZXNzYWdlcyA9IHt9KSB7XG5cblx0dGhpcy5wb2x5Z2xvdC5leHRlbmQobWVzc2FnZXMpO1xuXG5cdHJldHVybiB0aGlzO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2NvcGUsIGJpbmRlciwgLi4uYXJncykge1xuXG5cdHRoaXMubGlzdGVuZXJzW3Njb3BlXS5mb3JFYWNoKGNhbGxiYWNrID0+IHtcblx0XHRyZXR1cm4gYmluZGVyID9cblx0XHRcdGNhbGxiYWNrLmNhbGwoYmluZGVyLCAuLi5hcmdzKSA6XG5cdFx0XHRjYWxsYmFjayguLi5hcmdzKTtcblx0fSk7XG5cblx0cmV0dXJuIHRoaXM7XG5cbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdjYXJ0J1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdG9yZGVyQWN0aW9uczogT2JqZWN0LmtleXMoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzKSwgLy8gJ29yZGVyJywgJ3N1YnNjcmlwdGlvbidcblx0XHRpdGVtczogICAgICAgIG51bGwsIC8vIEl0ZW0gZmlsdGVyIC0gZS5nLiwgWydpdGVtMScsICdpdGVtMicsIC4uLl1cblxuXHRcdG9uQ2hlY2tvdXQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHR5cGUpIHtcblxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2NoZWNrb3V0Jywge1xuXHRcdFx0XHR0eXBlOiAgdHlwZSxcblx0XHRcdFx0aXRlbXM6IGNvbnRleHQub3B0aW9ucy5pdGVtcyxcblx0XHRcdFx0YmFjazogIHtcblx0XHRcdFx0XHQkY29udGFpbmVyOiAkY29udGFpbmVyLFxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnRleHQub3B0aW9ucy5vcmRlckFjdGlvbnMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhjb250ZXh0Lm9wdGlvbnMub3JkZXJBY3Rpb25zKTtcblxuXHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY2FydFJlYWRGYWlsZWQnKVxuXHRcdH07XG5cblx0XHRyZXR1cm4gZ2V0Q2FydChjb250ZXh0Lm9wdGlvbnMuaXRlbXMpLnRoZW4oY2FydCA9PiB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgc2V0KGNvbnRleHQsICdjYXJ0JywgY2FydC5jYXJ0KSk7XG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGNhcnRJdGVtcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbXMnKTtcblxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1kZWxldGUtY2FydC1pdGVtJywgZGVsZXRlSXRlbSk7XG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWFwcGx5LWNoYW5nZXMnLCBhcHBseUNoYW5nZXMpO1xuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1jaGVja291dCBidXR0b24nLCBjaGVja291dCk7XG5cblx0XHRmdW5jdGlvbiByZWNhbGN1bGF0ZSgpIHtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NhcnRSZWFkRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBnZXRDYXJ0KGNvbnRleHQub3B0aW9ucy5pdGVtcykudGhlbihjYXJ0ID0+IHtcblxuXHRcdFx0XHRjb250ZXh0LmNhcnQgPSBjYXJ0LmNhcnQ7XG5cblx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSBUaHVuZGVyLmNvbXBvbmVudChpbXBsZW1lbnRhdGlvbi5uYW1lKS50ZW1wbGF0ZShjb250ZXh0KTtcblx0XHRcdFx0Y29uc3QgY2FydEl0ZW1zVGVtcGxhdGUgPSAkKHRlbXBsYXRlKS5maW5kKCcudGh1bmRlci0tY2FydC1pdGVtcycpLmh0bWwoKTtcblxuXHRcdFx0XHQkY2FydEl0ZW1zLmZpbmQoJyonKS5vZmYoKTtcblx0XHRcdFx0JGNhcnRJdGVtcy5odG1sKGNhcnRJdGVtc1RlbXBsYXRlKTtcblx0XHRcdFx0VGh1bmRlci51dGlsLnF1YW50aXR5SW5wdXQoJGNhcnRJdGVtcyk7XG5cblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oKSB7XG5cblx0XHRcdGNvbnN0IHNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCQodGhpcyksIHsgYmluZDogZmFsc2UgfSk7XG5cblx0XHRcdHNwaW5uZXIucnVuKCk7XG5cblx0XHRcdGNvbnN0IGl0ZW1JZCA9ICQodGhpcykuZGF0YSgnaXRlbScpO1xuXHRcdFx0Y29uc3QgYnVuZGxlSXRlbUlkID0gJCh0aGlzKS5kYXRhKCdidW5kbGVJdGVtJyk7XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdkZWxldGVJdGVtRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xuXG5cdFx0XHRcdGlmIChidW5kbGVJdGVtSWQpIHtcblxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0XHRcdHVybDogICAgYC92MS9tZS9jYXJ0L2l0ZW1zLyR7aXRlbUlkfWAsXG5cdFx0XHRcdFx0XHRkYXRhOiAgICB7IGJ1bmRsZUl0ZW1zOiB7IFtidW5kbGVJdGVtSWRdOiBudWxsIH0gfVxuXHRcdFx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRyZWNhbGN1bGF0ZSgpO1xuXHRcdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0XHRlcnIgPT4gc3Bpbm5lci5kb25lKClcblx0XHRcdFx0XHQpKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0XHRtZXRob2Q6ICdERUxFVEUnLFxuXHRcdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL2NhcnQvaXRlbXMvJHtpdGVtSWR9YFxuXHRcdFx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRyZWNhbGN1bGF0ZSgpO1xuXHRcdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0XHRlcnIgPT4gc3Bpbm5lci5kb25lKClcblx0XHRcdFx0XHQpKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKGJ1bmRsZUl0ZW1JZCkge1xuXG5cdFx0XHRcdFx0Y29uc3QgdXBkYXRlID0ge1xuXHRcdFx0XHRcdFx0YnVuZGxlSXRlbXM6IHsgW2J1bmRsZUl0ZW1JZF06IG51bGwgfVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRUaHVuZGVyLkNhcnQudXBkYXRlSXRlbShpdGVtSWQsIHVwZGF0ZSwgZXJyID0+IHtcblxuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRzcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGVycm9yc1tlcnIuY29kZSB8fCAnZGVmYXVsdCddIHx8IGVycm9ycy5kZWZhdWx0KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRyZWNhbGN1bGF0ZSgpO1xuXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLkNhcnQuZGVsZXRlSXRlbShpdGVtSWQsIGVyciA9PiB7XG5cblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBlcnJvcnNbZXJyLmNvZGUgfHwgJ2RlZmF1bHQnXSB8fCBlcnJvcnMuZGVmYXVsdCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdFx0cmVjYWxjdWxhdGUoKTtcblxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKCkge1xuXG5cdFx0XHRjb25zdCBzcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkKHRoaXMpLCB7IGJpbmQ6IGZhbHNlIH0pO1xuXG5cdFx0XHRzcGlubmVyLnJ1bigpO1xuXG5cdFx0XHRjb25zdCBxdWFudGl0eUNoYW5nZWQgPSBbXTtcblx0XHRcdGNvbnN0ICRxdWFudGl0eUlucHV0cyA9ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbS1xdWFudGl0eSBpbnB1dCcpO1xuXG5cdFx0XHQkcXVhbnRpdHlJbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRjb25zdCBpdGVtSWQgPSAkKHRoaXMpLmRhdGEoJ2l0ZW0nKTtcblx0XHRcdFx0Y29uc3QgYnVuZGxlSWQgPSAkKHRoaXMpLmRhdGEoJ2J1bmRsZUl0ZW0nKTtcblx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxRdWFudGl0eSA9ICQodGhpcykuZGF0YSgnb3JpZ2luYWxRdWFudGl0eScpO1xuXHRcdFx0XHRjb25zdCBuZXdRdWFudGl0eSA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xuXG5cdFx0XHRcdGlmIChuZXdRdWFudGl0eSA9PT0gb3JpZ2luYWxRdWFudGl0eSkgcmV0dXJuO1xuXG5cdFx0XHRcdHF1YW50aXR5Q2hhbmdlZC5wdXNoKHtcblx0XHRcdFx0XHRpdGVtOiAgICAgaXRlbUlkLFxuXHRcdFx0XHRcdGJ1bmRsZTogICBidW5kbGVJZCB8fCBudWxsLFxuXHRcdFx0XHRcdHF1YW50aXR5OiBuZXdRdWFudGl0eVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHVwZGF0ZXMgPSBxdWFudGl0eUNoYW5nZWQucmVkdWNlKChvLCBjaGFuZ2UpID0+IHtcblxuXHRcdFx0XHRjb25zdCB7IGl0ZW0sIGJ1bmRsZSwgcXVhbnRpdHkgfSA9IGNoYW5nZTtcblxuXHRcdFx0XHRvW2l0ZW1dID0gb1tpdGVtXSB8fCB7fTtcblxuXHRcdFx0XHRjb25zdCB0b1VwZGF0ZSA9IG9baXRlbV07XG5cblx0XHRcdFx0aWYgKGJ1bmRsZSkge1xuXHRcdFx0XHRcdHRvVXBkYXRlLmJ1bmRsZUl0ZW1zID0gdG9VcGRhdGUuYnVuZGxlSXRlbXMgfHwge307XG5cdFx0XHRcdFx0dG9VcGRhdGUuYnVuZGxlSXRlbXNbYnVuZGxlXSA9IHsgcXVhbnRpdHkgfTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0b1VwZGF0ZS5xdWFudGl0eSA9IHF1YW50aXR5O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG87XG5cblx0XHRcdH0sIHt9KTtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2l0ZW1VcGRhdGVGYWlsZWQnKVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKFRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XG5cblx0XHRcdFx0Y29uc3QgaXRlbUlkc1RvVXBkYXRlID0gT2JqZWN0LmtleXModXBkYXRlcyk7XG5cblx0XHRcdFx0aWYgKGl0ZW1JZHNUb1VwZGF0ZS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHQvLyBUaGVyZSBhcmUgbm8gaXRlbXMgdG8gdXBkYXRlXG5cdFx0XHRcdFx0cmV0dXJuIHNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuICQud2hlbiguLi5pdGVtSWRzVG9VcGRhdGUubWFwKGl0ZW1JZCA9PiB7XG5cblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRcdG1ldGhvZDogJ1BVVCcsXG5cdFx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvY2FydC9pdGVtcy8ke2l0ZW1JZH1gLFxuXHRcdFx0XHRcdFx0ZGF0YTogICB1cGRhdGVzW2l0ZW1JZF1cblx0XHRcdFx0XHR9KS50aGVuKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVjYWxjdWxhdGUoKTtcblxuXHRcdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0XHRlcnIgPT4gc3Bpbm5lci5kb25lKClcblx0XHRcdFx0XHQpKTtcblxuXHRcdFx0XHR9KSk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0T2JqZWN0LmtleXModXBkYXRlcykuZm9yRWFjaChpdGVtSWQgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLkNhcnQudXBkYXRlSXRlbShpdGVtSWQsIHVwZGF0ZXNbaXRlbUlkXSwgJC5ub29wKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdHJldHVybiByZWNhbGN1bGF0ZSgpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjaGVja291dCgpIHtcblxuXHRcdFx0Y29uc3QgY2FydCA9IGNvbnRleHQuY2FydDtcblx0XHRcdGNvbnN0IGhhc0Vycm9yID0gY29kZSA9PiBjYXJ0LmVycm9ycy5zb21lKGVyciA9PiBlcnIuY29kZSA9PT0gY29kZSk7XG5cblx0XHRcdGlmIChoYXNFcnJvcignZW1wdHktY2FydCcpKSB7XG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2lzRW1wdHlDYXJ0JykpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaGFzRXJyb3IoJ2l0ZW0tZXJyb3InKSkge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdoYXNFcnJlZEl0ZW0nKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkNoZWNrb3V0LFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2NoZWNrb3V0VHlwZScpXG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0ZnVuY3Rpb24gZ2V0Q2FydChpdGVtcykge1xuXG5cdFx0Y29uc3QgcXVlcnkgPSBpdGVtcyA/IHsgaXRlbXM6IGl0ZW1zLnRvU3RyaW5nKCkgfSA6IHt9O1xuXG5cdFx0Y29uc3QgcmVxdWVzdCA9IFRodW5kZXIuYXV0aGVudGljYXRlZCgpID8ge1xuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHR1cmw6ICAgICcvdjEvbWUvY2FydCcsXG5cdFx0XHRxdWVyeTogIHF1ZXJ5XG5cdFx0fSA6IHtcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0dXJsOiAgICAnL3YxL21lL25vbi1yZWdpc3RlcmVkL2NhcnQnLFxuXHRcdFx0cXVlcnk6ICBxdWVyeSxcblx0XHRcdGRhdGE6ICAgeyBpdGVtczogVGh1bmRlci5DYXJ0Lml0ZW1zIH0sXG5cdFx0fTtcblxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3QocmVxdWVzdCk7XG5cblx0fVxuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Ly8gSW1wbGVtZW50YXRpb25cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2NhdGFsb2ctc2xpZGVyJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdGNhdGFsb2c6ICAgICAnJywgLy8gQ2F0YWxvZyBJRCB0byByZW5kZXJcblx0XHR1c2VOYXY6ICAgICAgdHJ1ZSxcblx0XHR1c2VQYWdlcjogICAgdHJ1ZSxcblx0XHRzaG93Q2FwdGlvbjogdHJ1ZSxcblx0XHRhdXRvTG9vcDogICAgMzAwMFxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3QgZXJyb3JzID0ge307XG5cdFx0Y29uc3QgY2F0YWxvZ0lkID0gY29udGV4dC5vcHRpb25zLmNhdGFsb2c7XG5cblx0XHRjb250ZXh0LnRhcmdldENoZWNrID0gdXJsID0+IHtcblxuXHRcdFx0Y29uc3QgdXJsVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG5cdFx0XHR1cmxUYXJnZXQuaHJlZiA9IHVybDtcblxuXHRcdFx0cmV0dXJuIHVybFRhcmdldC5ob3N0ID09PSB3aW5kb3cubG9jYXRpb24uaG9zdCA/ICdfc2VsZicgOiAnX2JsYW5rJztcblx0XHR9O1xuXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0dXJsOiAgICBgL3YxL2NhdGFsb2dzLyR7Y2F0YWxvZ0lkfWAsXG5cdFx0XHRxdWVyeTogIHtcblx0XHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdFx0J3NsdWcnLFxuXHRcdFx0XHRcdCdpdGVtcy5pbWFnZScsXG5cdFx0XHRcdFx0J2l0ZW1zLmxpbmsnLFxuXHRcdFx0XHRcdCdpdGVtcy50aXRsZScsXG5cdFx0XHRcdF0uam9pbignLCcpXG5cdFx0XHR9XG5cdFx0fSkudGhlbihkYXRhID0+IHtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHNldChjb250ZXh0LCAnY2F0YWxvZ1NsaWRlcicsIGRhdGEpKTtcblxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0XHRpdGVtOiAgICAgICAgICAgMSxcblx0XHRcdHNwZWVkOiAgICAgICAgICA4MDAsXG5cdFx0XHRzbGlkZU1hcmdpbjogICAgMCxcblx0XHRcdGdhbGxlcnk6ICAgICAgICBmYWxzZSxcblx0XHRcdHBhdXNlT25Ib3ZlcjogICB0cnVlLFxuXHRcdFx0bG9vcDogICAgICAgICAgIHRydWUsXG5cdFx0XHRhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcblx0XHRcdHBhZ2VyOiAgICAgICAgICBjb250ZXh0Lm9wdGlvbnMudXNlUGFnZXIsXG5cdFx0XHRjb250cm9sczogICAgICAgY29udGV4dC5vcHRpb25zLnVzZU5hdixcblx0XHRcdGF1dG86ICAgICAgICAgICAhIWNvbnRleHQub3B0aW9ucy5hdXRvTG9vcCxcblx0XHRcdHBhdXNlOiAgICAgICAgICBjb250ZXh0Lm9wdGlvbnMuYXV0b0xvb3AgfHwgMzAwMCxcblx0XHRcdHByZXZIdG1sOiAgICAgICBgPGltZyBzcmM9XCIke1RodW5kZXIudWlzWydsZWZ0LWFycm93J10oKX1cIj5gLFxuXHRcdFx0bmV4dEh0bWw6ICAgICAgIGA8aW1nIHNyYz1cIiR7VGh1bmRlci51aXNbJ3JpZ2h0LWFycm93J10oKX1cIj5gXG5cdFx0fTtcblxuXHRcdGNvbnN0IHNsaWRlciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhdGxhb2ctc2xpZGVyJykubGlnaHRTbGlkZXIob3B0aW9ucyk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Ly8gRXhwb3NlIHNsaWRlciBtZXRob2RzXG5cdFx0XHRnb1RvU2xpZGU6ICAgICBzbGlkZXIuZ29Ub1NsaWRlLFxuXHRcdFx0Z29Ub1ByZXZTbGlkZTogc2xpZGVyLmdvVG9QcmV2U2xpZGUsXG5cdFx0XHRnb1RvTmV4dFNsaWRlOiBzbGlkZXIuZ29Ub05leHRTbGlkZSxcblx0XHRcdHBsYXk6ICAgICAgICAgIHNsaWRlci5wbGF5LFxuXHRcdFx0cGF1c2U6ICAgICAgICAgc2xpZGVyLnBhdXNlLFxuXHRcdFx0Ly8gRXhwb3NlIGN1c3RvbSBkZXN0b3J5IG1ldGhvZFxuXHRcdFx0ZGVzdHJveTogICAgICAgKCkgPT4ge1xuXHRcdFx0XHRzbGlkZXIucGF1c2UoKTsgICAvLyBUbyBjbGVhciBpbnRlcnZhbFxuXHRcdFx0XHRzbGlkZXIuZGVzdHJveSgpOyAvLyBEZXN0cm95IHRoZSBzbGlkZXJcblx0XHRcdFx0c2xpZGVyLnJlbW92ZSgpOyAgLy8gUmVtb3ZlIHRoZSBET01cblx0XHRcdH0sXG5cdFx0fTtcblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2NoZWNrb3V0LXN1Y2Nlc3MnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0dHlwZTogICAgJ29yZGVyJywgLy8gJ29yZGVyJyB8fCAnc3Vic2NyaXB0aW9uJ1xuXHRcdHN1YmplY3Q6IG51bGwsICAgIC8vIE9yZGVyL1N1YnNjcmlwdGlvbiBJRFxuXHRcdG9uVmlld0RldGFpbHM6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblxuXHRcdFx0Y29uc3QgeyB0eXBlLCBzdWJqZWN0IH0gPSBjb250ZXh0Lm9wdGlvbnM7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBgJHt0eXBlfS1kZXRhaWxgLCB7XG5cdFx0XHRcdFt0eXBlXTogc3ViamVjdFxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCB0eXBlID0gY29udGV4dC5vcHRpb25zLnR5cGU7XG5cdFx0Y29uc3Qgc3ViamVjdCA9IGNvbnRleHQub3B0aW9ucy5zdWJqZWN0O1xuXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKGNhbWVsQ2FzZShbdHlwZSwgJ3JlYWRGYWlsZWQnXSkpLFxuXHRcdH07XG5cblx0XHQvLyBHZXQgYW4gb3JkZXIgb3IgYSBzdWJzY3JpcHRpb25cblx0XHRyZXR1cm4gdHlwZSA9PT0gJ29yZGVyJyA/XG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvJHt0eXBlfXMvJHtzdWJqZWN0fS90cmFuc2FjdGlvbnNgXG5cdFx0XHR9KS50aGVuKCgpID0+IGdldFN1YmplY3QoKSkgOlxuXHRcdFx0Z2V0U3ViamVjdCgpO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0U3ViamVjdCgpIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvJHt0eXBlfXMvJHtzdWJqZWN0fWBcblx0XHRcdH0pLnRoZW4oc3ViamVjdCA9PiB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBzZXQoY29udGV4dCwgJ3N1YmplY3QnLCBzdWJqZWN0KSk7XG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0Y2FsbGJhY2tcblx0XHRcdCkpO1xuXHRcdH1cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJHZpZXdNb3JlRGV0YWlscyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXZpZXctbW9yZS1kZXRhaWxzJyk7XG5cdFx0Y29uc3QgJGNvcHlUb0lkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY29weS10by1pZCcpO1xuXHRcdGNvbnN0ICRjb3B5VG9JZEJ1dHRvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNvcHktdG8taWQtYnV0dG9uJyk7XG5cblx0XHQkdmlld01vcmVEZXRhaWxzLm9uKCdjbGljaycsICgpID0+IFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdGNvbnRleHQub3B0aW9ucy5vblZpZXdEZXRhaWxzLFxuXHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdGNvbnRleHRcblx0XHQpKTtcblxuXHRcdCRjb3B5VG9JZEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRUaHVuZGVyLnV0aWwuY29weVRvQ2xpcGJvYXJkKCRjb3B5VG9JZCk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuY29uc3QgQ291cG9uSGFuZGxlciA9IHJlcXVpcmUoJy4vbGliL2NvdXBvbkhhbmRsZXIuanMnKTtcbmNvbnN0IEN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoJy4vbGliL2N1c3RvbWVySGFuZGxlci5qcycpO1xuY29uc3QgQWRkcmVzc0hhbmRsZXIgPSByZXF1aXJlKCcuL2xpYi9hZGRyZXNzSGFuZGxlci5qcycpO1xuY29uc3QgU3Vic2NyaXB0aW9uSGFuZGxlciA9IHJlcXVpcmUoJy4vbGliL3N1YnNjcmlwdGlvbkhhbmRsZXIuanMnKTtcbmNvbnN0IFJlY2FwdGNoYUhhbmRsZXIgPSByZXF1aXJlKCcuL2xpYi9yZWNhcHRjaGFIYW5kbGVyLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgdHJhbnNsYXRpb25LZXlzID0ge1xuXHRcdCduYW1lLmZpcnN0JzogJ2ZpcnN0TmFtZScsXG5cdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxuXHRcdCduYW1lLmZ1bGwnOiAgJ2Z1bGxOYW1lJyxcblx0fTtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY2hlY2tvdXQnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0dHlwZTogICAgICAgICAgICAgICdvcmRlcicsIC8vICdvcmRlcicgb3IgJ3N1YnNjcmlwdGlvbidcblx0XHRpdGVtczogICAgICAgICAgICAgbnVsbCwgICAgLy8gSXRlbSBmaWx0ZXIgLSBlLmcuLCBbJ2l0ZW0xJywgJ2l0ZW0yJywgLi4uXVxuXHRcdGN1c3RvbWVyRmllbGRzOiAgICBUaHVuZGVyLm9wdGlvbnMuY3VzdG9tZXJPcmRlckZpZWxkcyxcblx0XHRyZWNpcGllbnRGaWVsZHM6ICAgVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcyxcblx0XHRhZGRyZXNzRGlzYWJsZWQ6ICAgVGh1bmRlci5vcHRpb25zLmFkZHJlc3NEaXNhYmxlZCxcblx0XHRzdWJzY3JpcHRpb25QbGFuczogVGh1bmRlci5vcHRpb25zLnN1YnNjcmlwdGlvblBsYW5zLFxuXHRcdHRlcm1zTGluazogICAgICAgICBUaHVuZGVyLm9wdGlvbnMubGVnYWwub3JkZXJUZXJtcy5saW5rLFxuXHRcdHRlcm1zVGV4dDogICAgICAgICBUaHVuZGVyLm9wdGlvbnMubGVnYWwub3JkZXJUZXJtcy50ZXh0LFxuXHRcdHByaXZhY3lMaW5rOiAgICAgICBUaHVuZGVyLm9wdGlvbnMubGVnYWwub3JkZXJQcml2YWN5LmxpbmssXG5cdFx0cHJpdmFjeVRleHQ6ICAgICAgIFRodW5kZXIub3B0aW9ucy5sZWdhbC5vcmRlclByaXZhY3kudGV4dCxcblx0XHRvbkNoZWNrb3V0U3VjY2VzczogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgY2hlY2tvdXREZXRhaWwpIHtcblxuXHRcdFx0Y29uc3QgeyBvcmRlciwgc3Vic2NyaXB0aW9uIH0gPSBjaGVja291dERldGFpbDtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjaGVja291dC1zdWNjZXNzJywge1xuXHRcdFx0XHR0eXBlOiAgICBzdWJzY3JpcHRpb24gPyAnc3Vic2NyaXB0aW9uJyA6ICdvcmRlcicsXG5cdFx0XHRcdHN1YmplY3Q6IChzdWJzY3JpcHRpb24gfHwgb3JkZXIpLl9pZCxcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0b25QYXltZW50RmFpbHVyZTogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgY2hlY2tvdXREZXRhaWwpIHtcblxuXHRcdFx0Y29uc3QgeyBvcmRlciwgc3Vic2NyaXB0aW9uIH0gPSBjaGVja291dERldGFpbDtcblx0XHRcdGNvbnN0IHR5cGUgPSBzdWJzY3JpcHRpb24gPyAnc3Vic2NyaXB0aW9uJyA6ICdvcmRlcic7XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgncGF5bWVudEZhaWxlZCcpKTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGAke3R5cGV9LWRldGFpbGAsIHtcblx0XHRcdFx0W3R5cGVdOiAoc3Vic2NyaXB0aW9uIHx8IG9yZGVyKS5faWRcblx0XHRcdH0pO1xuXG5cdFx0fVxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3Qge1xuXHRcdFx0dHlwZSxcblx0XHRcdGl0ZW1zLFxuXHRcdFx0Y3VzdG9tZXJGaWVsZHMsXG5cdFx0XHRyZWNpcGllbnRGaWVsZHMsXG5cdFx0XHRzdWJzY3JpcHRpb25QbGFucyxcblx0XHRcdHRlcm1zTGluayxcblx0XHRcdHRlcm1zVGV4dCxcblx0XHRcdHByaXZhY3lMaW5rLFxuXHRcdFx0cHJpdmFjeVRleHQsXG5cdFx0fSA9IGNvbnRleHQub3B0aW9ucztcblxuXHRcdGNvbnRleHQuYWdyZWVtZW50cyA9IFtcblx0XHRcdCh0ZXJtc0xpbmsgfHwgdGVybXNUZXh0KSA/ICd0ZXJtcycgOiBudWxsLFxuXHRcdFx0KHByaXZhY3lMaW5rIHx8IHByaXZhY3lUZXh0KSA/ICdwcml2YWN5JyA6IG51bGwsXG5cdFx0XS5maWx0ZXIodiA9PiB2KTtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXG5cdFx0Y29uc3QgZGVmYXVsdENhcnRRdWVyeSA9IGl0ZW1zID8geyBpdGVtczogaXRlbXMudG9TdHJpbmcoKSB9IDoge307XG5cdFx0Y29uc3QgZGVmYXVsdENhcnREYXRhID0ge307XG5cblx0XHRjb25zdCBkaXNhYmxlZEFkZHJlc3NGaWVsZHMgPVxuXHRcdFx0VGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmFkZHJlc3NEaXNhYmxlZClcblx0XHRcdFx0LnJlZHVjZSgobywgZmllbGQpID0+IHNldChvLCBmaWVsZCwgdHJ1ZSksIHt9KTtcblxuXHRcdGNvbnRleHQuaXNTdWJzY3JpcHRpb24gPSBjb250ZXh0Lm9wdGlvbnMudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbic7XG5cblx0XHRjb250ZXh0LnVzZVNlYXJjaEFkZHJlc3MgPSAhIVRodW5kZXIucGx1Z2lucy5zZWFyY2hBZGRyZXNzO1xuXG5cdFx0Y29udGV4dC5kaXNhYmxlZCA9IGZpZWxkID0+IHtcblx0XHRcdHJldHVybiBkaXNhYmxlZEFkZHJlc3NGaWVsZHNbZmllbGRdICYmXG5cdFx0XHRcdFx0Y29udGV4dC51c2VTZWFyY2hBZGRyZXNzID8gJ3JlYWRvbmx5JyA6ICcnO1xuXHRcdH07XG5cblx0XHRjb25zdCB0b0ZpZWxkRGV0YWlsID0gKHByZWZpeCA9ICcnKSA9PiBmaWVsZCA9PiB7XG5cblx0XHRcdGNvbnN0IFtrZXksIHJlcXVpcmVkXSA9IGZpZWxkLnNwbGl0KCc6Jyk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHJlcXVpcmVkOiAgICAgICByZXF1aXJlZCA9PT0gJ3JlcXVpcmVkJyxcblx0XHRcdFx0a2V5OiAgICAgICAgICAgIGtleSxcblx0XHRcdFx0dHJhbnNsYXRpb25LZXk6IGNhbWVsQ2FzZShbcHJlZml4LCB0cmFuc2xhdGlvbktleXNba2V5XSB8fCBrZXldKVxuXHRcdFx0fTtcblxuXHRcdH07XG5cblx0XHRjb250ZXh0LmN1c3RvbWVyRmllbGRzID1cblx0XHRcdFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKGN1c3RvbWVyRmllbGRzKVxuXHRcdFx0XHQubWFwKHRvRmllbGREZXRhaWwoJ2N1c3RvbWVyJykpO1xuXG5cdFx0Y29udGV4dC5yZWNpcGllbnRGaWVsZHMgPVxuXHRcdFx0VGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcocmVjaXBpZW50RmllbGRzKVxuXHRcdFx0XHQubWFwKHRvRmllbGREZXRhaWwoJ2FkZHJlc3MnKSk7XG5cblx0XHRjb25zdCByZXF1ZXN0RmFpbGVkID0gZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdHtcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjaGVja291dFByZXBhcmF0aW9uRmFpbGVkJylcblx0XHRcdH0sXG5cdFx0XHRjYWxsYmFja1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gJC53aGVuKFRodW5kZXIuYXV0aGVudGljYXRlZCgpID8gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICAgICcvdjEvbWUnLFxuXHRcdFx0cXVlcnk6ICB7XG5cdFx0XHRcdHJhdzogICAgdHJ1ZSxcblx0XHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdFx0J25hbWUnLFxuXHRcdFx0XHRcdCdlbWFpbCcsXG5cdFx0XHRcdFx0J21vYmlsZScsXG5cdFx0XHRcdFx0J3Bob25lJyxcblx0XHRcdFx0XHQnZ2VuZGVyJyxcblx0XHRcdFx0XHQnYmlydGhkYXRlJyxcblx0XHRcdFx0XHQnY291bnRyeScsXG5cdFx0XHRcdFx0J2xhbmd1YWdlJyxcblx0XHRcdFx0XHQnY3VycmVuY3knLFxuXHRcdFx0XHRcdCd0aW1lem9uZScsXG5cdFx0XHRcdFx0J2FkZHJlc3MucHJpbWFyeScsXG5cdFx0XHRcdF0uam9pbignLCcpXG5cdFx0XHR9XG5cdFx0fSkgOiBudWxsKS50aGVuKGN1c3RvbWVyID0+IHtcblxuXHRcdFx0Y29uc3QgcHJpbWFyeUFkZHJlc3MgPSBnZXQoY3VzdG9tZXIsICdhZGRyZXNzLnByaW1hcnknLCBudWxsKTtcblxuXHRcdFx0aWYgKHByaW1hcnlBZGRyZXNzKSB7XG5cblx0XHRcdFx0ZGVmYXVsdENhcnREYXRhLmFkZHJlc3MgPSB7XG5cdFx0XHRcdFx0c2hpcHBpbmc6IHByaW1hcnlBZGRyZXNzLFxuXHRcdFx0XHRcdGJpbGxpbmc6ICBwcmltYXJ5QWRkcmVzc1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRjb250ZXh0LmN1c3RvbWVyID0gY3VzdG9tZXIgfHwgbnVsbDtcblx0XHRcdGNvbnRleHQuYWRkcmVzcyA9IHByaW1hcnlBZGRyZXNzIHx8IEFkZHJlc3NIYW5kbGVyLmRlZmF1bHRBZGRyZXNzKCk7XG5cblx0XHRcdHJldHVybiAkLndoZW4oXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHR1cmw6ICAgICcvdjEvY291bnRyaWVzJyxcblx0XHRcdFx0XHRxdWVyeTogIHsgZmllbGRzOiAnY29kZScsIGxpbWl0OiAxMjAsIHBhZ2U6IDEgfSxcblx0XHRcdFx0fSksXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHR1cmw6ICAgICcvdjEvY291bnRyaWVzJyxcblx0XHRcdFx0XHRxdWVyeTogIHsgZmllbGRzOiAnY29kZScsIGxpbWl0OiAxMjAsIHBhZ2U6IDIgfSxcblx0XHRcdFx0fSksXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHR1cmw6ICAgICcvdjEvY291bnRyaWVzJyxcblx0XHRcdFx0XHRxdWVyeTogIHsgZmllbGRzOiAnY29kZScsIGxpbWl0OiAxMjAsIHBhZ2U6IDMgfSxcblx0XHRcdFx0fSksXG5cdFx0XHRcdGdldENhcnQoe1xuXHRcdFx0XHRcdHF1ZXJ5OiBkZWZhdWx0Q2FydFF1ZXJ5LFxuXHRcdFx0XHRcdGRhdGE6ICBkZWZhdWx0Q2FydERhdGEsXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSA/IFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvY291cG9ucycsXG5cdFx0XHRcdFx0cXVlcnk6ICB7XG5cdFx0XHRcdFx0XHRsaW1pdDogMTIwLFxuXHRcdFx0XHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdFx0XHRcdCduYW1lJyxcblx0XHRcdFx0XHRcdFx0J2FjdGl2ZScsXG5cdFx0XHRcdFx0XHRcdCdvbmx5Jyxcblx0XHRcdFx0XHRcdFx0J3R5cGUnLFxuXHRcdFx0XHRcdFx0XHQnZGlzY291bnQnLFxuXHRcdFx0XHRcdFx0XHQnY2F0ZWdvcnknLFxuXHRcdFx0XHRcdFx0XHQncHJpY2UnLFxuXHRcdFx0XHRcdFx0XHQnc3Vic2NyaXB0aW9uJyxcblx0XHRcdFx0XHRcdFx0J2V4cGlyZXNBdCdcblx0XHRcdFx0XHRcdF0uam9pbignLCcpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSkgOiBudWxsLFxuXHRcdFx0XHRjb250ZXh0LmlzU3Vic2NyaXB0aW9uID8gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRcdHVybDogICAgJy92MS9zdWJzY3JpcHRpb25zL3BsYW5zJyxcblx0XHRcdFx0XHRxdWVyeToge1xuXHRcdFx0XHRcdFx0aWRzOiAgICBzdWJzY3JpcHRpb25QbGFucy5tYXAoKHsgaWQgfSkgPT4gaWQpLmpvaW4oJywnKSxcblx0XHRcdFx0XHRcdGZpZWxkczogWyduYW1lJywgJ2ltbWVkaWF0ZScsICdpbnRlcnZhbCddLmpvaW4oJywnKSxcblx0XHRcdFx0XHRcdHNvcnQ6ICAgJ2lkcycsXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSA6IG51bGxcblx0XHRcdCk7XG5cblx0XHR9LCByZXF1ZXN0RmFpbGVkKS50aGVuKChcblx0XHRcdGNvdW50cmllczEsXG5cdFx0XHRjb3VudHJpZXMyLFxuXHRcdFx0Y291bnRyaWVzMyxcblx0XHRcdGNhcnQsXG5cdFx0XHRjb3Vwb25zLFxuXHRcdFx0cGxhbnNcblx0XHQpID0+IHtcblxuXHRcdFx0Y29uc3QgaGFzQ2FydEVycm9yID0gY2FydFswXS5jYXJ0LmVycm9yc1xuXHRcdFx0XHRcdFx0XHRcdFx0LnNvbWUoZXJyID0+IGVyci5jb2RlICE9PSAnc2hpcHBpbmctYWRkcmVzcy1yZXF1aXJlZCcpO1xuXG5cdFx0XHRpZiAoaGFzQ2FydEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnY2FydCcsIHtcblx0XHRcdFx0XHRvcmRlckFjdGlvbnM6IE9iamVjdC5rZXlzKFRodW5kZXIub3B0aW9ucy5wYXltZW50TWV0aG9kcyksXG5cdFx0XHRcdFx0aXRlbXM6ICAgICAgICBjb250ZXh0Lm9wdGlvbnMuaXRlbXNcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnRleHQuY291bnRyaWVzID0gW10uY29uY2F0KFxuXHRcdFx0XHRjb3VudHJpZXMxWzBdLFxuXHRcdFx0XHRjb3VudHJpZXMyWzBdLFxuXHRcdFx0XHRjb3VudHJpZXMzWzBdXG5cdFx0XHQpO1xuXG5cdFx0XHRjb250ZXh0LmNhcnQgPSBjYXJ0WzBdLmNhcnQ7XG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvbiA9IGNhcnRbMF0uc3Vic2NyaXB0aW9uIHx8IG51bGw7XG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvblBsYW5zID0gKHBsYW5zID8gcGxhbnNbMF0gOiBbXSkubWFwKHBsYW4gPT4ge1xuXHRcdFx0XHRyZXR1cm4gJC5leHRlbmQocGxhbiwgc3Vic2NyaXB0aW9uUGxhbnMuZmluZChzID0+IHMuaWQgPT09IHBsYW4uX2lkKSk7XG5cdFx0XHR9KTtcblx0XHRcdGNvbnRleHQuY291cG9ucyA9IGNvdXBvbnMgPyBjb3Vwb25zWzBdIDogW107XG5cblx0XHRcdENvdXBvbkhhbmRsZXIuc2V0QXBwbGljYWJsZUNvdXBvbnMoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy50eXBlLFxuXHRcdFx0XHRjb250ZXh0LmNhcnQsXG5cdFx0XHRcdGNvbnRleHQuY291cG9uc1xuXHRcdFx0KTtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdFx0fSwgcmVxdWVzdEZhaWxlZCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJHBheW1lbnRGb3JtQ29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcGF5bWVudC1mb3JtLWNvbnRhaW5lcicpO1xuXG5cdFx0VGh1bmRlci5yZW5kZXIoJHBheW1lbnRGb3JtQ29udGFpbmVyLCAncGF5bWVudC1mb3JtJywge1xuXHRcdFx0dHlwZTogY29udGV4dC5vcHRpb25zLnR5cGVcblx0XHR9LCAoZXJyLCB7IGludGVyZmFjZXM6IHBheW1lbnRIYW5kbGVyIH0pID0+IHtcblxuXHRcdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0XHRjb25zdCAkYmFja1RvQ2FydCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tY2FydCcpO1xuXHRcdFx0Y29uc3QgJGNhcnRJdGVtcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbXMgdGFibGUnKTtcblx0XHRcdGNvbnN0ICRnb1RvVXBkYXRlQ3VzdG9tZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1nby10by11cGRhdGUtY3VzdG9tZXInKTtcblx0XHRcdGNvbnN0ICRzYW1lRm9yUmVjaXBpZW50ID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cInNhbWVGb3JSZWNpcGllbnRcIl0nKTtcblx0XHRcdGNvbnN0ICRzYXZlQXNQcmltYXJ5QWRkcmVzcyA9ICQodGhpcykuZmluZCgnI3RodW5kZXItLXNhdmUtcHJpbWFyeS1hZGRyZXNzLWFncmVlbWVudCcpO1xuXHRcdFx0Y29uc3QgJHNlYXJjaEFkZHJlc3MgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zZWFyY2gtYWRkcmVzcycpO1xuXHRcdFx0Y29uc3QgJGRpc2FibGVkQWRkcmVzc0lucHV0cyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWFkZHJlc3MtbG9jYXRpb24gZGl2IFtyZWFkb25seV0nKS5wYXJlbnQoKTtcblx0XHRcdGNvbnN0ICRhcHBseUFkZHJlc3MgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1hcHBseS1hZGRyZXNzJyk7XG5cdFx0XHRjb25zdCAkb3JkZXJSZXF1ZXN0ID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cInJlcXVlc3RcIl0nKTtcblx0XHRcdGNvbnN0ICR0b3RhbERldGFpbHMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS10b3RhbC1kZXRhaWxzJyk7XG5cdFx0XHRjb25zdCAkcHJvY2VlZENoZWNrb3V0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvY2VlZC1jaGVja291dCcpO1xuXHRcdFx0Y29uc3QgcHJvY2Vzc0NoZWNrb3V0U3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJHByb2NlZWRDaGVja291dCwgeyBiaW5kOiBmYWxzZSB9KTtcblxuXHRcdFx0Y29uc3QgYXJlVGVybXNBZ3JlZWQgPSBUaHVuZGVyLnV0aWwuYmluZEFncmVlbWVudHMoe1xuXHRcdFx0XHQkdGVybXM6ICQodGhpcykuZmluZCgnW2RhdGEtYWdyZWVtZW50LXNjb3BlXScpLFxuXHRcdFx0XHRhZ3JlZW1lbnRzOiB7XG5cdFx0XHRcdFx0dGVybXM6ICAge1xuXHRcdFx0XHRcdFx0dGV4dDogIGNvbnRleHQub3B0aW9ucy50ZXJtc1RleHQsXG5cdFx0XHRcdFx0XHRsaW5rOiAgY29udGV4dC5vcHRpb25zLnRlcm1zTGluayxcblx0XHRcdFx0XHRcdGVycm9yOiBjb250ZXh0Lm0oJ3Rlcm1zQWdyZWVtZW50UmVxdWlyZWQnKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cHJpdmFjeToge1xuXHRcdFx0XHRcdFx0dGV4dDogIGNvbnRleHQub3B0aW9ucy5wcml2YWN5VGV4dCxcblx0XHRcdFx0XHRcdGxpbms6ICBjb250ZXh0Lm9wdGlvbnMucHJpdmFjeUxpbmssXG5cdFx0XHRcdFx0XHRlcnJvcjogY29udGV4dC5tKCdwcml2YWN5QWdyZWVtZW50UmVxdWlyZWQnKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBjb3Vwb25IYW5kbGVyID0gQ291cG9uSGFuZGxlcih7XG5cdFx0XHRcdGZvcm06ICAgICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbXMnKSxcblx0XHRcdFx0bGFiZWxzOiAge1xuXHRcdFx0XHRcdGFwcGx5Q291cG9uczogICAgICAgICAgY29udGV4dC5tKCdhcHBseUNvdXBvbnMnKSxcblx0XHRcdFx0XHRmaW5pc2hBcHBseWluZ0NvdXBvbnM6IGNvbnRleHQubSgnZmluaXNoQXBwbHlpbmdDb3Vwb25zJyksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvdXBvbnM6ICAgICAgICAgICAgIGNvbnRleHQuY291cG9ucyxcblx0XHRcdFx0Y2FydDogICAgICAgICAgICAgICAgKCkgPT4gY29udGV4dC5jYXJ0LFxuXHRcdFx0XHRvbkNvdXBvbkFwcGx5OiAgICAgICB0eXBlID0+IGFwcGx5Q291cG9ucyh0eXBlKSxcblx0XHRcdFx0b25Db3Vwb25TZWxlY3RFcnJvcjogY29kZSA9PiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oY29kZSkpXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgY3VzdG9tZXJIYW5kbGVyID0gQ3VzdG9tZXJIYW5kbGVyKHtcblx0XHRcdFx0Y3VzdG9tZXJGaWVsZHM6IGNvbnRleHQuY3VzdG9tZXJGaWVsZHMubWFwKCh7IGtleSwgcmVxdWlyZWQgfSkgPT4gKHtcblx0XHRcdFx0XHRmaWVsZDogICAga2V5LFxuXHRcdFx0XHRcdHJlcXVpcmVkOiByZXF1aXJlZFxuXHRcdFx0XHR9KSlcblx0XHRcdFx0Lm1hcChkZXRhaWwgPT4gJC5leHRlbmQoZGV0YWlsLCB7XG5cdFx0XHRcdFx0JGlucHV0OiAkKHRoaXMpLmZpbmQoYC50aHVuZGVyLS1jdXN0b21lciBbbmFtZT1cImN1c3RvbWVyLiR7ZGV0YWlsLmZpZWxkfVwiXWApXG5cdFx0XHRcdH0pKSxcblx0XHRcdFx0dHJhbnNsYXRpb25LZXlzOiB0cmFuc2xhdGlvbktleXMsXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgYWRkcmVzc0hhbmRsZXIgPSBBZGRyZXNzSGFuZGxlcih7XG5cdFx0XHRcdGFkZHJlc3NGaWVsZHM6IFtcblx0XHRcdFx0XHQuLi5jb250ZXh0LnJlY2lwaWVudEZpZWxkcy5tYXAoKHsga2V5LCByZXF1aXJlZCB9KSA9PiAoe1xuXHRcdFx0XHRcdFx0ZmllbGQ6ICAgICBrZXksXG5cdFx0XHRcdFx0XHRyZWNpcGllbnQ6IHRydWUsXG5cdFx0XHRcdFx0XHRyZXF1aXJlZDogIHJlcXVpcmVkXG5cdFx0XHRcdFx0fSkpLFxuXHRcdFx0XHRcdHsgZmllbGQ6ICdjb3VudHJ5JywgcmVxdWlyZWQ6IHRydWUgfSxcblx0XHRcdFx0XHR7IGZpZWxkOiAnc3RhdGUnLCByZXF1aXJlZDogZmFsc2UgfSxcblx0XHRcdFx0XHR7IGZpZWxkOiAnY2l0eScsIHJlcXVpcmVkOiB0cnVlIH0sXG5cdFx0XHRcdFx0eyBmaWVsZDogJ2FkZHJlc3MxJywgcmVxdWlyZWQ6IHRydWUgfSxcblx0XHRcdFx0XHR7IGZpZWxkOiAnYWRkcmVzczInLCByZXF1aXJlZDogZmFsc2UgfSxcblx0XHRcdFx0XHR7IGZpZWxkOiAncG9zdGNvZGUnLCByZXF1aXJlZDogdHJ1ZSB9LFxuXHRcdFx0XHRdLm1hcChkZXRhaWwgPT4gJC5leHRlbmQoZGV0YWlsLCB7XG5cdFx0XHRcdFx0JGlucHV0OiAkKHRoaXMpLmZpbmQoW1xuXHRcdFx0XHRcdFx0Jy50aHVuZGVyLS1yZWNpcGllbnQtaW5mbycsXG5cdFx0XHRcdFx0XHQnLnRodW5kZXItLWFkZHJlc3MnLFxuXHRcdFx0XHRcdF0uam9pbignLCcpKVxuXHRcdFx0XHRcdC5maW5kKGBbbmFtZT1cImFkZHJlc3MuJHtkZXRhaWwuZmllbGR9XCJdYClcblx0XHRcdFx0fSkpLFxuXHRcdFx0XHR0cmFuc2xhdGlvbktleXM6ICAgICB0cmFuc2xhdGlvbktleXMsXG5cdFx0XHRcdHNlYXJjaEFkZHJlc3NQbHVnaW46IFRodW5kZXIucGx1Z2lucy5zZWFyY2hBZGRyZXNzXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgZGVib3VuY2VkQXBwbHlTdWJzY3JpcHRpb25EZXRhaWwgPSBUaHVuZGVyLnV0aWwuZGVib3VuY2UoXG5cdFx0XHRcdGFwcGx5U3Vic2NyaXB0aW9uRGV0YWlsLFxuXHRcdFx0XHQxMDAsXG5cdFx0XHRcdHRydWVcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IHN1YnNjcmlwdGlvbkhhbmRsZXIgPSBTdWJzY3JpcHRpb25IYW5kbGVyKHtcblx0XHRcdFx0Zm9ybTogICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1kZXRhaWxzJyksXG5cdFx0XHRcdGxhYmVsczogICAgICAgICAgICB7XG5cdFx0XHRcdFx0Zmlyc3RPcmRlclN0YXJ0c0F0OiAgY29udGV4dC5tKCdmaXJzdE9yZGVyU3RhcnRzQXQnKSxcblx0XHRcdFx0XHRzZWNvbmRPcmRlclN0YXJ0c0F0OiBjb250ZXh0Lm0oJ3NlY29uZE9yZGVyU3RhcnRzQXQnKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3Vic2NyaXB0aW9uUGxhbnM6IGNvbnRleHQuc3Vic2NyaXB0aW9uUGxhbnMsXG5cdFx0XHRcdHRpbWV6b25lOiAgICAgICAgICAoKSA9PiBUaHVuZGVyLm9wdGlvbnMudGltZXpvbmUsXG5cdFx0XHRcdG9uUGxhbkNoYW5nZTogICAgICAoKSA9PiBkZWJvdW5jZWRBcHBseVN1YnNjcmlwdGlvbkRldGFpbCgpLFxuXHRcdFx0XHRvblN0YXJ0c0F0Q2hhbmdlOiAgKCkgPT4gZGVib3VuY2VkQXBwbHlTdWJzY3JpcHRpb25EZXRhaWwoKVxuXHRcdFx0fSk7XG5cblx0XHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvQ2FydCwgY29udGV4dCk7XG5cblx0XHRcdGN1c3RvbWVySGFuZGxlci5zZXRDdXN0b21lcihjb250ZXh0LmN1c3RvbWVyKTtcblx0XHRcdGFkZHJlc3NIYW5kbGVyLnNldEFkZHJlc3MoY29udGV4dC5hZGRyZXNzKTtcblxuXHRcdFx0JHNhbWVGb3JSZWNpcGllbnQub24oJ2NoYW5nZScsIGNvcHlUb1JlY2lwaWVudCk7XG5cdFx0XHQkYXBwbHlBZGRyZXNzLm9uKCdjbGljaycsIGFwcGx5Q2hhbmdlcyk7XG5cdFx0XHQkc2VhcmNoQWRkcmVzcy5vbignY2xpY2snLCBzZWFyY2hBZGRyZXNzKTtcblx0XHRcdCRkaXNhYmxlZEFkZHJlc3NJbnB1dHMub24oJ2NsaWNrJywgc2VhcmNoQWRkcmVzcyk7XG5cblx0XHRcdCRnb1RvVXBkYXRlQ3VzdG9tZXIub24oJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXVwZGF0ZScsIHtcblx0XHRcdFx0XHRiYWNrOiAge1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcblx0XHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEl0J3MgYSBiaXQgaGFja3kgd2F5IHRvIGhhbmRsZSByZUNBUFRDSEEsXG5cdFx0XHQvLyBidXQgaWYgYSBzdG9yZSB1c2VzIHJlQ0FUUENIQSBmb3IgY2hlY2tvdXQgYW5kIG9yZGVyL3N1YnNjcmlwdGlvbiBhdXRoLFxuXHRcdFx0Ly8gYmluZCByZUNBVFBDSEEgdHdpY2UgZm9yIHRoZSBzYW1lIGJ1dHRvbiB0byBnZXQgdHdvIHJlQ0FQVENIQSByZXNwb25zZXMuXG5cdFx0XHRjb25zdCByZWNhcHRjaGFDb21wb25lbnRzID0gW1xuXHRcdFx0XHRpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0XHQnc2VhcmNoLXB1cmNoYXNlJ1xuXHRcdFx0XTtcblxuXHRcdFx0Y29uc3QgcmVjYXB0Y2hhSGFuZGxlciA9IFJlY2FwdGNoYUhhbmRsZXIoXG5cdFx0XHRcdHJlY2FwdGNoYUNvbXBvbmVudHNcblx0XHRcdFx0XHQuZmlsdGVyKFRodW5kZXIudXRpbC51c2VSZWNhcHRjaGEpXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgYykgPT4gc2V0KG8sIGMsIHRydWUpLCB7fSlcblx0XHRcdCk7XG5cblx0XHRcdHJlY2FwdGNoYUNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnROYW1lID0+IFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcblx0XHRcdFx0Y29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZSxcblx0XHRcdFx0YnV0dG9uOiAgICAgICAgJHByb2NlZWRDaGVja291dCxcblx0XHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVDaGVja291dERhdGEsXG5cdFx0XHRcdGNhbGxiYWNrOiAgICAgIHByb2NlZWRDaGVja291dFxuXHRcdFx0fSkpO1xuXG5cdFx0XHRmdW5jdGlvbiBjb3B5VG9SZWNpcGllbnQoKSB7XG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpID9cblx0XHRcdFx0XHRcdGFkZHJlc3NIYW5kbGVyLnNldEFkZHJlc3MoY3VzdG9tZXJIYW5kbGVyLmdldEN1c3RvbWVyKCkpIDpcblx0XHRcdFx0XHRcdGFkZHJlc3NIYW5kbGVyLnJlc2V0KCdyZWNpcGllbnQnKTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKCkge1xuXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSBidWlsZENhcnRPcHRpb25zKCk7XG5cdFx0XHRcdGNvbnN0IGFkZHJlc3MgPSBvcHRpb25zLmRhdGEuYWRkcmVzcy5zaGlwcGluZztcblx0XHRcdFx0Y29uc3QgZGlzY291bnQgPSBvcHRpb25zLmRhdGEuZGlzY291bnQ7XG5cblx0XHRcdFx0Y29uc3QgYWRkcmVzc0Vycm9yID0gYWRkcmVzc0hhbmRsZXIudmFsaWRhdGVBZGRyZXNzKGFkZHJlc3MsIGZhbHNlKTtcblxuXHRcdFx0XHQvLyBWYWxpZGF0ZSBzaGlwcGluZyBhZGRyZXNzXG5cdFx0XHRcdGlmIChhZGRyZXNzRXJyb3IpIHtcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGFkZHJlc3NFcnJvcikpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgb2xkQ2FydEl0ZW1zID0gJGNhcnRJdGVtcy5odG1sKCk7XG5cdFx0XHRcdGNvbnN0IG9sZFRvdGFsRGV0YWlscyA9ICR0b3RhbERldGFpbHMuaHRtbCgpO1xuXHRcdFx0XHRjb25zdCBzZWN0aW9uU3Bpbm5lciA9IFRodW5kZXIudWkoJ3NlY3Rpb24tc3Bpbm5lcicpKCk7XG5cblx0XHRcdFx0JGNhcnRJdGVtcy5odG1sKGA8dHI+PHRkPiR7c2VjdGlvblNwaW5uZXJ9PC90ZD48L3RyPmApO1xuXHRcdFx0XHQkdG90YWxEZXRhaWxzLmh0bWwoc2VjdGlvblNwaW5uZXIpO1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHQnaW52YWxpZC1wb3N0Y29kZSc6ICAgICBjb250ZXh0Lm0oJ2ludmFsaWRQb3N0Y29kZScpLFxuXHRcdFx0XHRcdCdzdGFydHMtdG9vLWVhcmx5JzogICAgIGNvbnRleHQubSgnc3RhcnRzVG9vRWFybHknKSxcblx0XHRcdFx0XHQnY2FydC1jb3Vwb24tY2F0ZWdvcnknOiBjb250ZXh0Lm0oJ2NhcnRDb3Vwb25DYXRlZ29yeScpLFxuXHRcdFx0XHRcdCdjYXJ0LWNvdXBvbi1wcmljZSc6ICAgIGNvbnRleHQubSgnY2FydENvdXBvblByaWNlJyksXG5cdFx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgY29udGV4dC5tKCdjYXJ0VXBkYXRlRmFpbGVkJyksXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIGdldENhcnQob3B0aW9ucykudGhlbigoeyBjYXJ0LCBzdWJzY3JpcHRpb24gfSkgPT4ge1xuXG5cdFx0XHRcdFx0Y29uc3QgY2FydEhhc0l0ZW1FcnJvciA9IGNhcnQuZXJyb3JzLnNvbWUoZXJyb3IgPT4gZXJyb3IuY29kZSA9PT0gJ2l0ZW0tZXJyb3InKTtcblxuXHRcdFx0XHRcdGlmIChjYXJ0SGFzSXRlbUVycm9yKSB7XG5cdFx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2ludmFsaWRDYXJ0SXRlbUluY2x1ZGVkJykpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjYXJ0Jywge1xuXHRcdFx0XHRcdFx0XHRvcmRlckFjdGlvbnM6IE9iamVjdC5rZXlzKFRodW5kZXIub3B0aW9ucy5wYXltZW50TWV0aG9kcyksXG5cdFx0XHRcdFx0XHRcdGl0ZW1zOiAgICAgICAgY29udGV4dC5vcHRpb25zLml0ZW1zXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0LmNhcnQgPSBjYXJ0O1xuXHRcdFx0XHRcdGNvbnRleHQuc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uIHx8IG51bGw7XG5cblx0XHRcdFx0XHRDb3Vwb25IYW5kbGVyLnNldEFwcGxpY2FibGVDb3Vwb25zKFxuXHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0XHRjb250ZXh0LmNhcnQsXG5cdFx0XHRcdFx0XHRjb250ZXh0LmNvdXBvbnNcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0aWYgKGRpc2NvdW50KSB7XG5cblx0XHRcdFx0XHRcdGlmIChkaXNjb3VudC5pdGVtcykge1xuXHRcdFx0XHRcdFx0XHRkaXNjb3VudC5pdGVtcy5mb3JFYWNoKCh7IGl0ZW0sIGNvdXBvbiB9KSA9PiBzZXQoXG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dC5jYXJ0Lml0ZW1zLmZpbmQoKHsgX2lkIH0pID0+IF9pZCA9PT0gaXRlbSksXG5cdFx0XHRcdFx0XHRcdFx0J2FwcGxpZWRDb3Vwb24nLFxuXHRcdFx0XHRcdFx0XHRcdGNvdXBvbkhhbmRsZXIuZ2V0Q291cG9uKGNvdXBvbilcblx0XHRcdFx0XHRcdFx0KSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChkaXNjb3VudC5jYXJ0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQuY2FydC5hcHBsaWVkQ291cG9uID0gY291cG9uSGFuZGxlci5nZXRDb3Vwb24oZGlzY291bnQuY2FydC5jb3Vwb24pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgJHRlbXBsYXRlID0gJChUaHVuZGVyLmNvbXBvbmVudChpbXBsZW1lbnRhdGlvbi5uYW1lKS50ZW1wbGF0ZShjb250ZXh0KSk7XG5cblx0XHRcdFx0XHQkY2FydEl0ZW1zLmh0bWwoJHRlbXBsYXRlLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW1zIHRhYmxlJykuaHRtbCgpKTtcblx0XHRcdFx0XHQkdG90YWxEZXRhaWxzLmh0bWwoJHRlbXBsYXRlLmZpbmQoJy50aHVuZGVyLS10b3RhbC1kZXRhaWxzJykuaHRtbCgpKTtcblxuXHRcdFx0XHRcdGNvdXBvbkhhbmRsZXIuYmluZENvdXBvblZhbGlkYXRvcigpO1xuXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRlcnIgPT4ge1xuXHRcdFx0XHRcdFx0JGNhcnRJdGVtcy5odG1sKG9sZENhcnRJdGVtcyk7XG5cdFx0XHRcdFx0XHQkdG90YWxEZXRhaWxzLmh0bWwob2xkVG90YWxEZXRhaWxzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlQ2hlY2tvdXREYXRhKCkge1xuXG5cdFx0XHRcdGNvbnN0IGFncmVlZCA9IGFyZVRlcm1zQWdyZWVkKCk7XG5cblx0XHRcdFx0aWYgKCFhZ3JlZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBvcHRpb25zID0gYnVpbGRDYXJ0T3B0aW9ucygnY2hlY2tvdXQnKTtcblxuXHRcdFx0XHRjb25zdCB7XG5cdFx0XHRcdFx0YWRkcmVzcyxcblx0XHRcdFx0XHRzdWJzY3JpcHRpb24sXG5cdFx0XHRcdH0gPSBvcHRpb25zLmRhdGE7XG5cblx0XHRcdFx0Ly8gVmFsaWRhdGUgY3VzdG9tZXJcblx0XHRcdFx0Y29uc3QgY3VzdG9tZXIgPSBjdXN0b21lckhhbmRsZXIuZ2V0Q3VzdG9tZXIoKTtcblx0XHRcdFx0Y29uc3QgY3VzdG9tZXJFcnJvciA9IGN1c3RvbWVySGFuZGxlci52YWxpZGF0ZUN1c3RvbWVyKGN1c3RvbWVyKTtcblxuXHRcdFx0XHRpZiAoY3VzdG9tZXJFcnJvcikge1xuXHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShjdXN0b21lckVycm9yKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVmFsaWRhdGUgYWRkcmVzc2VzXG5cdFx0XHRcdGNvbnN0IGFkZHJlc3NFcnJvcnMgPSBbXG5cdFx0XHRcdFx0YWRkcmVzcy5zaGlwcGluZyxcblx0XHRcdFx0XHRhZGRyZXNzLmJpbGxpbmdcblx0XHRcdFx0XVxuXHRcdFx0XHQubWFwKGFkZHJlc3NIYW5kbGVyLnZhbGlkYXRlQWRkcmVzcylcblx0XHRcdFx0LmZpbHRlcih2ID0+IHYpO1xuXG5cdFx0XHRcdGlmIChhZGRyZXNzRXJyb3JzWzBdKSB7XG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGFkZHJlc3NFcnJvcnNbMF0pKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBwYXltZW50RXJyb3IgPSBwYXltZW50SGFuZGxlci52YWxpZGF0ZSgpO1xuXG5cdFx0XHRcdGlmIChwYXltZW50RXJyb3IpIHtcblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBwYXltZW50RXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbnRleHQuaXNTdWJzY3JpcHRpb24pIHtcblx0XHRcdFx0XHQvLyBWYWxpZGF0ZSBvbmx5IGlmIGNoZWNrb3V0IHByb2Nlc3MgaXMgZm9yIGEgc3Vic2NyaXB0aW9uXG5cdFx0XHRcdFx0Y29uc3Qgc3Vic2NyaXB0aW9uRXJyb3IgPSBzdWJzY3JpcHRpb25IYW5kbGVyLnZhbGlkYXRlU3Vic2NyaXB0aW9uRGV0YWlsKHN1YnNjcmlwdGlvbik7XG5cblx0XHRcdFx0XHRpZiAoc3Vic2NyaXB0aW9uRXJyb3IpIHtcblx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShzdWJzY3JpcHRpb25FcnJvcikpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHByb2NlZWRDaGVja291dCh0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcblxuXHRcdFx0XHRjb25zdCBzaG91bGRFeGVjdXRlID0gcmVjYXB0Y2hhSGFuZGxlci5leGVjdXRlKHRva2VuKTtcblxuXHRcdFx0XHRpZiAoIXNob3VsZEV4ZWN1dGUpIHJldHVybjtcblxuXHRcdFx0XHRjb25zdCB7XG5cdFx0XHRcdFx0Y2hlY2tvdXQ6ICAgICAgICAgIGNoZWNrb3V0UmVzLFxuXHRcdFx0XHRcdCdzZWFyY2gtcHVyY2hhc2UnOiBzZWFyY2hQdXJjaGFzZVJlc1xuXHRcdFx0XHR9ID0gc2hvdWxkRXhlY3V0ZTtcblxuXHRcdFx0XHRwcm9jZXNzQ2hlY2tvdXRTcGlubmVyLnJ1bigpO1xuXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSBidWlsZENhcnRPcHRpb25zKCdjaGVja291dCcpO1xuXHRcdFx0XHRjb25zdCBjdXN0b21lciA9IGN1c3RvbWVySGFuZGxlci5nZXRDdXN0b21lcigpO1xuXHRcdFx0XHRjb25zdCBjYXJkID0gcGF5bWVudEhhbmRsZXIuZ2V0Q2FyZCgpO1xuXHRcdFx0XHRjb25zdCBbcGF5bWVudE1ldGhvZElkXSA9IG9wdGlvbnMuZGF0YS5wYXltZW50TWV0aG9kLnNwbGl0KCcuJyk7XG5cblx0XHRcdFx0aWYgKGNoZWNrb3V0UmVzKSB7XG5cdFx0XHRcdFx0Ly8gU2V0IHJlQ0FQVENIQSByZXNwb25zZVxuXHRcdFx0XHRcdG9wdGlvbnMucmVjYXB0Y2hhID0gY2hlY2tvdXRSZXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvcHRpb25zLmRhdGEucGF5bWVudE1ldGhvZCA9IHBheW1lbnRNZXRob2RJZDtcblxuXHRcdFx0XHRpZiAoIVRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XG5cdFx0XHRcdFx0Ly8gU2V0IGN1c3RvbWVyIGRldGFpbHMgb25seSBmb3Igbm9uLXJlZ2lzdGVyZWQgY3VzdG9tZXJzXG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhLmN1c3RvbWVyID0gY3VzdG9tZXI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjaGVja291dEZpbmlzaGVkID0gKHN1Y2Nlc3NEZXRhaWwpID0+IHtcblxuXHRcdFx0XHRcdHByb2Nlc3NDaGVja291dFNwaW5uZXIuZG9uZSgpO1xuXG5cdFx0XHRcdFx0aWYgKHJlc2V0UmVjYXB0Y2hhKSB7XG5cdFx0XHRcdFx0XHRyZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghc3VjY2Vzc0RldGFpbCkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0aWYgKCFUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xuXHRcdFx0XHRcdFx0Ly8gRGVsZXRlIG9yZGVyZWQgaXRlbXMgZnJvbSB0aGUgbG9jYWwgY2FydFxuXHRcdFx0XHRcdFx0Y29udGV4dC5jYXJ0Lml0ZW1zLmZvckVhY2goaXRlbSA9PiBUaHVuZGVyLkNhcnQuZGVsZXRlSXRlbShpdGVtLl9pZCwgJC5ub29wKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkNoZWNrb3V0U3VjY2Vzcyxcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRcdFx0c3VjY2Vzc0RldGFpbFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0bGV0IG9yZGVyO1xuXHRcdFx0XHRsZXQgc3Vic2NyaXB0aW9uO1xuXG5cdFx0XHRcdGNvbnN0IGF1dGhCeU9yZGVyT3JTdWJzY3JpcHRpb24gPSB7XG5cdFx0XHRcdFx0cnVuOiAoeyBvcmRlcjogbywgc3Vic2NyaXB0aW9uOiBzIH0pID0+IHtcblxuXHRcdFx0XHRcdFx0aWYgKCRzYXZlQXNQcmltYXJ5QWRkcmVzcy5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlIHByaW1hcnkgYWRkcmVzcyAoRmlyZSAmIEZvcmdldClcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGJ1aWxkQ2FydE9wdGlvbnMoJ2NoZWNrb3V0Jyk7XG5cblx0XHRcdFx0XHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHRcdFx0XHRcdHVybDogICAgYC92MS9tZWAsXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogICB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByaW1hcnk6IG9wdGlvbnMuZGF0YS5hZGRyZXNzLnNoaXBwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0b3JkZXIgPSBvO1xuXHRcdFx0XHRcdFx0c3Vic2NyaXB0aW9uID0gcyB8fCBudWxsO1xuXG5cdFx0XHRcdFx0XHRjb25zdCB0eXBlID0gY29udGV4dC5vcHRpb25zLnR5cGU7XG5cdFx0XHRcdFx0XHRjb25zdCBzdWJqZWN0ID0gY29udGV4dC5pc1N1YnNjcmlwdGlvbiA/IHMgOiBvO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBvcHRpb25zID0ge1xuXHRcdFx0XHRcdFx0XHRkYXRhOiBUaHVuZGVyLm9wdGlvbnMub3JkZXJBdXRoRmllbGRzLnJlZHVjZSgobywgZmllbGQpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0KG8sIGZpZWxkLCBnZXQoc3ViamVjdC5jdXN0b21lciwgZmllbGQsIG51bGwpKTtcblx0XHRcdFx0XHRcdFx0fSwge30pXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRpZiAoc2VhcmNoUHVyY2hhc2VSZXMpIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9ucy5yZWNhcHRjaGEgPSBzZWFyY2hQdXJjaGFzZVJlcztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQXV0aGVudGljYXRlIGJ5IGFuIG9yZGVyIG9yIGEgc3Vic2NyaXB0aW9uXG5cdFx0XHRcdFx0XHRyZXR1cm4gYXV0aCh0eXBlLCBzdWJqZWN0Ll9pZCwgb3B0aW9ucyk7XG5cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZhaWw6IGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY2hlY2tvdXRQcm9jZXNzRmFpbGVkJylcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRlcnIgPT4gY2hlY2tvdXRGaW5pc2hlZCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IHBlcnNpc3RUb2tlbkFuZE1ha2VQYXltZW50ID0ge1xuXHRcdFx0XHRcdHJ1bjogYXV0aFJlc3VsdCA9PiB7XG5cblx0XHRcdFx0XHRcdGlmIChhdXRoUmVzdWx0KSB7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgdG9rZW4gPSBhdXRoUmVzdWx0LnRva2VuO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBzdG9yYWdlID0gVGh1bmRlci5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNldCBhdXRoIHRva2VuIGluIHRoZSBzdG9yYWdlLFxuXHRcdFx0XHRcdFx0XHQvLyBwcmVmZXJhYmx5IGluIHNlc3Npb25TdG9yYWdlIHRvIHRha2UgY2FyZSBvZiByZWRpcmVjdGlvbnMgZnJvbSBwYXltZW50IHNlcnZpY2VzLlxuXHRcdFx0XHRcdFx0XHRzdG9yYWdlLnNldEl0ZW0oVGh1bmRlci5vcHRpb25zLmF1dGhTdG9yYWdlLm9yZGVyLCB0b2tlbik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBwYXltZW50SGFuZGxlci5tYWtlUGF5bWVudCh7XG5cdFx0XHRcdFx0XHRcdGNhcnQ6ICAgICAgICAgIGNvbnRleHQuY2FydCxcblx0XHRcdFx0XHRcdFx0b3JkZXI6ICAgICAgICAgb3JkZXIsXG5cdFx0XHRcdFx0XHRcdHN1YnNjcmlwdGlvbjogIHN1YnNjcmlwdGlvbixcblx0XHRcdFx0XHRcdFx0Y3VzdG9tZXI6ICAgICAgY3VzdG9tZXIsXG5cdFx0XHRcdFx0XHR9LCBlcnIgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblxuXHRcdFx0XHRcdFx0XHRcdGNoZWNrb3V0RmluaXNoZWQoKTtcblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25QYXltZW50RmFpbHVyZSxcblx0XHRcdFx0XHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRcdFx0XHRcdFx0eyBvcmRlciwgc3Vic2NyaXB0aW9uIH1cblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFzdWJzY3JpcHRpb24pIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSZWd1bGFyIG9yZGVyIGNhc2Vcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2hlY2tvdXRGaW5pc2hlZCh7IG9yZGVyLCBzdWJzY3JpcHRpb24gfSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb25zID0ge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNhcmQgPyB7IGNhcmQgfSA6IHt9XG5cdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3Vic2NyaXB0aW9uIGNhc2UsIHBvc3Qgc2NoZWR1bGVzIGFuZCBmaW5pc2guXG5cdFx0XHRcdFx0XHRcdHJldHVybiBzY2hlZHVsZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24uX2lkLCBvcHRpb25zKS50aGVuKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjaGVja291dEZpbmlzaGVkKHsgb3JkZXIsIHN1YnNjcmlwdGlvbiB9KTtcblxuXHRcdFx0XHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3NjaGVkdWxlRmFpbGVkJylcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdGVyciA9PiBjaGVja291dEZpbmlzaGVkKClcblx0XHRcdFx0XHRcdFx0KSk7XG5cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGNoZWNrb3V0RXJyb3JIYW5kbGVyID0gZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjaGVja291dEZhaWxlZCcpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlcnIgPT4gY2hlY2tvdXRGaW5pc2hlZCgpXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQ2hlY2tvdXRcblx0XHRcdFx0Y2hlY2tvdXQob3B0aW9ucykudGhlbihcblx0XHRcdFx0XHRhdXRoQnlPcmRlck9yU3Vic2NyaXB0aW9uLnJ1bixcblx0XHRcdFx0XHRjaGVja291dEVycm9ySGFuZGxlclxuXHRcdFx0XHQpLnRoZW4oXG5cdFx0XHRcdFx0cGVyc2lzdFRva2VuQW5kTWFrZVBheW1lbnQucnVuLFxuXHRcdFx0XHRcdGF1dGhCeU9yZGVyT3JTdWJzY3JpcHRpb24uZmFpbFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGJ1aWxkQ2FydE9wdGlvbnModHlwZSA9ICdjYWxjdWxhdGUnKSB7XG5cblx0XHRcdFx0Y29uc3QgYWRkcmVzcyA9IGFkZHJlc3NIYW5kbGVyLmdldEFkZHJlc3MoKTtcblx0XHRcdFx0Y29uc3QgZGlzY291bnQgPSBjb3Vwb25IYW5kbGVyLmdldERpc2NvdW50RGV0YWlscygpO1xuXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0cXVlcnk6IHt9LFxuXHRcdFx0XHRcdGRhdGE6ICB7fSxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBGaWx0ZXIgaXRlbXNcblx0XHRcdFx0aWYgKGNvbnRleHQub3B0aW9ucy5pdGVtcykge1xuXHRcdFx0XHRcdG9wdGlvbnMucXVlcnkgPSB7IGl0ZW1zOiBjb250ZXh0Lm9wdGlvbnMuaXRlbXMudG9TdHJpbmcoKSB9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGFkZHJlc3Ncblx0XHRcdFx0aWYgKGFkZHJlc3MpIHtcblx0XHRcdFx0XHRvcHRpb25zLmRhdGEuYWRkcmVzcyA9IHsgc2hpcHBpbmc6IGFkZHJlc3MsIGJpbGxpbmc6IGFkZHJlc3MgfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBzdWJzY3JpcHRpb24gZGV0YWlsc1xuXHRcdFx0XHRpZiAoY29udGV4dC5pc1N1YnNjcmlwdGlvbikge1xuXG5cdFx0XHRcdFx0Y29uc3Qgc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uSGFuZGxlci5nZXRTdWJzY3JpcHRpb25EZXRhaWwoKTtcblxuXHRcdFx0XHRcdGlmIChzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLnBsYW4pIHtcblx0XHRcdFx0XHRcdG9wdGlvbnMuZGF0YS5zdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb247XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBkaXNjb3VudCAoY291cG9ucylcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKGRpc2NvdW50KS5sZW5ndGgpIHtcblx0XHRcdFx0XHRvcHRpb25zLmRhdGEuZGlzY291bnQgPSBkaXNjb3VudDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlcXVlc3Qgb3B0aW9ucyBmb3IgY2hlY2tvdXRcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjaGVja291dCcpIHtcblx0XHRcdFx0XHRvcHRpb25zLmRhdGEuY3VycmVuY3kgPSBjb250ZXh0LmNhcnQuY3VycmVuY3kucGF5bWVudC5jb2RlO1xuXHRcdFx0XHRcdG9wdGlvbnMuZGF0YS5wYXltZW50TWV0aG9kID0gcGF5bWVudEhhbmRsZXIuZ2V0UGF5bWVudE1ldGhvZElkKCk7XG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhLnJlcXVlc3QgPSAkb3JkZXJSZXF1ZXN0LnZhbCgpIHx8IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcblxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBzZWFyY2hBZGRyZXNzKCkge1xuXG5cdFx0XHRcdGlmIChjb3Vwb25IYW5kbGVyLmlzQXBwbHlpbmcoKSkge1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2FwcGx5Q291cG9uc0ZpcnN0JykpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWRkcmVzc0hhbmRsZXIuc2VhcmNoQWRkcmVzcyhlcnIgPT4ge1xuXG5cdFx0XHRcdFx0cmV0dXJuIGVyciA/XG5cdFx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGVyci5tZXNzYWdlKSA6XG5cdFx0XHRcdFx0XHRcdGFwcGx5Q2hhbmdlcygpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBhcHBseUNvdXBvbnModHlwZSkge1xuXG5cdFx0XHRcdGlmIChjb250ZXh0LmlzU3Vic2NyaXB0aW9uKSB7XG5cblx0XHRcdFx0XHRjb25zdCBkZXRhaWwgPSBzdWJzY3JpcHRpb25IYW5kbGVyLmdldFN1YnNjcmlwdGlvbkRldGFpbCgpO1xuXG5cdFx0XHRcdFx0aWYgKCFkZXRhaWwgfHwgIWRldGFpbC5wbGFuKSB7XG5cdFx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3NlbGVjdFN1YnNjcmlwdGlvblBsYW5GaXJzdCcpKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gQmxvY2sgZnVydGhlciBleGVjdXRpb25zXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodHlwZSA9PT0gJ2VuZCcpIHtcblx0XHRcdFx0XHRhcHBseUNoYW5nZXMoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGFwcGx5U3Vic2NyaXB0aW9uRGV0YWlsKCkge1xuXG5cdFx0XHRcdGNvbnN0IGRldGFpbCA9IHN1YnNjcmlwdGlvbkhhbmRsZXIuZ2V0U3Vic2NyaXB0aW9uRGV0YWlsKCk7XG5cdFx0XHRcdGNvbnN0IGVycm9yID0gc3Vic2NyaXB0aW9uSGFuZGxlci52YWxpZGF0ZVN1YnNjcmlwdGlvbkRldGFpbChkZXRhaWwpO1xuXG5cdFx0XHRcdGlmIChlcnJvciA9PT0gJ3N1YnNjcmlwdGlvblBsYW5SZXF1aXJlZCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGVycm9yKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZXJyb3IgPT09ICdzdWJzY3JpcHRpb25TdGFydHNBdFJlcXVpcmVkJykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBhcHBseUNoYW5nZXMoKTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXG5cdH07XG5cblx0ZnVuY3Rpb24gZ2V0Q2FydChvcHRpb25zID0ge30pIHtcblxuXHRcdGlmICghVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcblx0XHRcdHNldChvcHRpb25zLCAnZGF0YS5pdGVtcycsIFRodW5kZXIuQ2FydC5pdGVtcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCgkLmV4dGVuZCh7XG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdHVybDogICAgVGh1bmRlci5hdXRoZW50aWNhdGVkKCkgP1xuXHRcdFx0XHRcdCcvdjEvbWUvY2FydCcgOlxuXHRcdFx0XHRcdCcvdjEvbWUvbm9uLXJlZ2lzdGVyZWQvY2FydCdcblx0XHR9LCBvcHRpb25zKSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGNoZWNrb3V0KG9wdGlvbnMgPSB7fSkge1xuXG5cdFx0Y29uc3QgdHlwZSA9IG9wdGlvbnMuZGF0YS5zdWJzY3JpcHRpb24gPyAnc3Vic2NyaXB0aW9uJyA6ICdvcmRlcic7XG5cblx0XHRpZiAoIVRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XG5cdFx0XHRzZXQob3B0aW9ucywgJ2RhdGEuaXRlbXMnLCBUaHVuZGVyLkNhcnQuaXRlbXMpO1xuXHRcdH1cblxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3QoJC5leHRlbmQoe1xuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHR1cmw6ICAgIFRodW5kZXIuYXV0aGVudGljYXRlZCgpID9cblx0XHRcdFx0XHRgL3YxL21lL2NhcnQvY2hlY2tvdXQvJHt0eXBlfWAgOlxuXHRcdFx0XHRcdGAvdjEvbWUvbm9uLXJlZ2lzdGVyZWQvY2FydC9jaGVja291dC8ke3R5cGV9YFxuXHRcdH0sIG9wdGlvbnMpKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gYXV0aCh0eXBlLCBpZCwgb3B0aW9ucyA9IHt9KSB7XG5cblx0XHRpZiAoVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3QoJC5leHRlbmQoe1xuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHR1cmw6ICAgIHR5cGUgPT09ICdvcmRlcicgP1xuXHRcdFx0XHRcdGAvdjEvb3JkZXJzLyR7aWR9L2F1dGhgIDpcblx0XHRcdFx0XHRgL3YxL3N1YnNjcmlwdGlvbnMvJHtpZH0vYXV0aGBcblx0XHR9LCBvcHRpb25zKSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbklkLCBvcHRpb25zKSB7XG5cblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KCQuZXh0ZW5kKHtcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0dXJsOiAgICBgL3YxL21lL3N1YnNjcmlwdGlvbnMvJHtzdWJzY3JpcHRpb25JZH0vc2NoZWR1bGVkYCxcblx0XHR9LCBvcHRpb25zKSk7XG5cblx0fVxuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XG5cbmNvbnN0IEFkZHJlc3NIYW5kbGVyID0gKHtcblx0YWRkcmVzc0ZpZWxkcyxcblx0dHJhbnNsYXRpb25LZXlzLFxuXHRzZWFyY2hBZGRyZXNzUGx1Z2luXG59KSA9PiB7XG5cblx0ZnVuY3Rpb24gcmVzZXQodHlwZSA9ICdhbGwnKSB7XG5cblx0XHRjb25zdCBmaWVsZHNUb0NsZWFyID0gdHlwZSA9PT0gJ3JlY2lwaWVudCcgP1xuXHRcdFx0XHRcdFx0XHRcdGFkZHJlc3NGaWVsZHMuZmlsdGVyKCh7IHJlY2lwaWVudCB9KSA9PiByZWNpcGllbnQpIDpcblx0XHRcdFx0XHRcdFx0XHRhZGRyZXNzRmllbGRzO1xuXG5cdFx0ZmllbGRzVG9DbGVhci5mb3JFYWNoKCh7ICRpbnB1dCB9KSA9PiAkaW5wdXQudmFsKG51bGwpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEFkZHJlc3MoKSB7XG5cblx0XHRyZXR1cm4gYWRkcmVzc0ZpZWxkcy5yZWR1Y2UoKG8sIHsgZmllbGQsICRpbnB1dCB9KSA9PiB7XG5cblx0XHRcdHJldHVybiBzZXQobywgZmllbGQsICRpbnB1dC52YWwoKSB8fCBudWxsKTtcblxuXHRcdH0sIHt9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gc2V0QWRkcmVzcyhhZGRyZXNzKSB7XG5cblx0XHRhZGRyZXNzRmllbGRzLmZvckVhY2goKHsgZmllbGQsICRpbnB1dCB9KSA9PiB7XG5cblx0XHRcdGNvbnN0IHZhbHVlID0gZ2V0KGFkZHJlc3MsIGZpZWxkKTtcblxuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogJGlucHV0LnZhbCh2YWx1ZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZUFkZHJlc3MoYWRkcmVzcywgdmFsaWRhdGVSZWNpcGllbnQgPSBmYWxzZSkge1xuXG5cdFx0Y29uc3QgcmVxdWlyZWRzID0gYWRkcmVzc0ZpZWxkc1xuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKCh7IHJlcXVpcmVkIH0pID0+IHJlcXVpcmVkKVxuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKCh7IHJlY2lwaWVudCB9KSA9PiB2YWxpZGF0ZVJlY2lwaWVudCA/IHRydWUgOiAhcmVjaXBpZW50KTtcblxuXHRcdGZvciAoY29uc3QgeyBmaWVsZCB9IG9mIHJlcXVpcmVkcykge1xuXG5cdFx0XHRpZiAoZ2V0KGFkZHJlc3MsIGZpZWxkKSkgY29udGludWU7XG5cblx0XHRcdGNvbnN0IGNvZGUgPSBjYW1lbENhc2UoWydhZGRyZXNzJywgdHJhbnNsYXRpb25LZXlzW2ZpZWxkXSB8fCBmaWVsZCwgJ3JlcXVpcmVkJ10pO1xuXG5cdFx0XHRyZXR1cm4gY29kZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIHNlYXJjaEFkZHJlc3MoY2FsbGJhY2spIHtcblxuXHRcdHNlYXJjaEFkZHJlc3NQbHVnaW4oKGVyciwgYWRkcmVzcykgPT4ge1xuXG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRBZGRyZXNzKGFkZHJlc3MpO1xuXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgYWRkcmVzcyk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiB7XG5cdFx0cmVzZXQsXG5cdFx0Z2V0QWRkcmVzcyxcblx0XHRzZXRBZGRyZXNzLFxuXHRcdHZhbGlkYXRlQWRkcmVzcyxcblx0XHRzZWFyY2hBZGRyZXNzLFxuXHR9O1xuXG59O1xuXG5BZGRyZXNzSGFuZGxlci5kZWZhdWx0QWRkcmVzcyA9ICgpID0+ICh7XG5cdG5hbWU6ICAgICB7XG5cdFx0Zmlyc3Q6IG51bGwsXG5cdFx0bGFzdDogIG51bGwsXG5cdFx0ZnVsbDogIG51bGwsXG5cdH0sXG5cdGNvbXBhbnk6ICBudWxsLFxuXHRwb3N0Y29kZTogbnVsbCxcblx0Y291bnRyeTogIG51bGwsXG5cdHN0YXRlOiAgICBudWxsLFxuXHRjaXR5OiAgICAgbnVsbCxcblx0YWRkcmVzczE6IG51bGwsXG5cdGFkZHJlc3MyOiBudWxsLFxuXHRtb2JpbGU6ICAgbnVsbCxcblx0cGhvbmU6ICAgIG51bGwsXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBZGRyZXNzSGFuZGxlcjsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5cbmNvbnN0IENvdXBvbkhhbmRsZXIgPSAoe1xuXHRmb3JtLFxuXHRsYWJlbHMgPSB7XG5cdFx0YXBwbHlDb3Vwb25zOiAnJyxcblx0XHRmaW5pc2hBcHBseWluZ0NvdXBvbnM6ICcnLFxuXHR9LFxuXHRjb3Vwb25zLFxuXHRjYXJ0ID0gKCkgPT4ge30sXG5cdG9uQ291cG9uQXBwbHkgPSB0eXBlID0+IHRydWUsXG5cdG9uQ291cG9uU2VsZWN0RXJyb3IgPSBjb2RlID0+IHt9XG5cbn0pID0+IHtcblxuXHRsZXQgYXBwbHlpbmcgPSBmYWxzZTtcblxuXHRjb25zdCBjb3Vwb25NYXAgPSBjb3Vwb25zLnJlZHVjZSgobywgYykgPT4gc2V0KG8sIGMuX2lkLCBjKSwge30pO1xuXG5cdGNvbnN0ICRhcHBseUNvdXBvbnMgPSBmb3JtLmZpbmQoJy50aHVuZGVyLS1hcHBseS1jb3Vwb25zJyk7XG5cblx0JGFwcGx5Q291cG9ucy5vbignY2xpY2snLCBhcHBseUNvdXBvbnMpO1xuXG5cdGJpbmRDb3Vwb25WYWxpZGF0b3IoKTtcblxuXHRmdW5jdGlvbiBpc0FwcGx5aW5nKCkge1xuXHRcdHJldHVybiBhcHBseWluZztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldENvdXBvbihjb3Vwb25JZCkge1xuXHRcdHJldHVybiBjb3Vwb25NYXBbY291cG9uSWRdO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Q291cG9uU2VsZWN0b3JzKCkge1xuXG5cdFx0cmV0dXJuIGZvcm0uZmluZChbXG5cdFx0XHQnLnRodW5kZXItLWNhcnQtaXRlbS1jb3Vwb24nLFxuXHRcdFx0Jy50aHVuZGVyLS1jYXJ0LWNvdXBvbidcblx0XHRdLmpvaW4oJywnKSk7XG5cdH1cblxuXHRmdW5jdGlvbiBiaW5kQ291cG9uVmFsaWRhdG9yKCkge1xuXG5cdFx0Z2V0Q291cG9uU2VsZWN0b3JzKCkub24oJ2NoYW5nZScsIHZhbGlkYXRlQ291cG9ucyk7XG5cdH1cblxuXHRmdW5jdGlvbiBhcHBseUNvdXBvbnMoKSB7XG5cblx0XHRpZiAoYXBwbHlpbmcpIHtcblx0XHRcdC8vIFN0b3AgY291cG9uIHNlbGVjdGlvbnNcblx0XHRcdGlmICghb25Db3Vwb25BcHBseSgnZW5kJykpIHJldHVybjtcblx0XHRcdGFwcGx5aW5nID0gZmFsc2U7XG5cdFx0XHQkYXBwbHlDb3Vwb25zLnRleHQobGFiZWxzLmFwcGx5Q291cG9ucyk7XG5cdFx0XHRnZXRDb3Vwb25TZWxlY3RvcnMoKS5oaWRlKCk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSW5pdGlhbGl6ZSBjb3Vwb24gc2VsZWN0aW9uc1xuXHRcdFx0aWYgKCFvbkNvdXBvbkFwcGx5KCdzdGFydCcpKSByZXR1cm47XG5cdFx0XHRhcHBseWluZyA9IHRydWU7XG5cdFx0XHQkYXBwbHlDb3Vwb25zLnRleHQobGFiZWxzLmZpbmlzaEFwcGx5aW5nQ291cG9ucyk7XG5cdFx0XHRnZXRDb3Vwb25TZWxlY3RvcnMoKS5zaG93KCk7XG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXREaXNjb3VudERldGFpbHMoKSB7XG5cblx0XHRyZXR1cm4gZ2V0Q291cG9uU2VsZWN0b3JzKCkubWFwKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRjb25zdCBpdGVtID0gJCh0aGlzKS5kYXRhKCdpdGVtJykgfHwgbnVsbDtcblx0XHRcdGNvbnN0IGNvdXBvbiA9ICQodGhpcykudmFsKCk7XG5cblx0XHRcdHJldHVybiB7IGl0ZW0sIGNvdXBvbiB9O1xuXG5cdFx0fSkuZ2V0KCkucmVkdWNlKChvLCB7IGl0ZW0sIGNvdXBvbiB9KSA9PiB7XG5cblx0XHRcdGlmICghY291cG9uKSByZXR1cm4gbztcblxuXHRcdFx0cmV0dXJuIGl0ZW0gP1xuXHRcdFx0XHRcdHNldChvLCAnaXRlbXMnLCBnZXQobywgJ2l0ZW1zJywgW10pLmNvbmNhdCh7IGl0ZW0sIGNvdXBvbiB9KSkgOlxuXHRcdFx0XHRcdHNldChvLCAnY2FydC5jb3Vwb24nLCBjb3Vwb24pO1xuXHRcdH0sIHt9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVDb3Vwb25zKCkge1xuXG5cdFx0Y29uc3QgJHNlbGVjdG9yID0gJCh0aGlzKTtcblx0XHRjb25zdCBpdGVtSWQgPSAkKHRoaXMpLmRhdGEoJ2l0ZW0nKTtcblx0XHRjb25zdCBjb3Vwb24gPSBjb3Vwb25NYXBbJCh0aGlzKS52YWwoKV07XG5cdFx0Y29uc3QgaXRlbSA9IGNhcnQoKS5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5faWQgPT09IGl0ZW1JZCk7XG5cblx0XHRpZiAoIWNvdXBvbiB8fCAhaXRlbSkgcmV0dXJuIG51bGw7XG5cblx0XHRsZXQgY29kZSA9IG51bGw7XG5cblx0XHQvLyBEdXBsaWNhdGVkIGRpc2NvdW50IGFwcGxpY2F0aW9uc1xuXHRcdGlmIChjb3Vwb24ub25seSAmJlxuXHRcdFx0aXRlbS5kaXNjb3VudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29kZSA9ICdhbHJlYWR5RGlzY291bnRlZCc7XG5cdFx0fVxuXG5cdFx0Ly8gSXRlbSdzIHF1YW50aXR5IG11c3QgYmUgMSB0byBhcHBseSBhIGNvdXBvblxuXHRcdGlmIChpdGVtLnF1YW50aXR5LnJhdyAhPT0gMSkge1xuXHRcdFx0Y29kZSA9ICdtdXN0QmVPbmVRdWFudGl0eSc7XG5cdFx0fVxuXG5cdFx0Ly8gRHVwbGljYXRlZCBjb3Vwb24gdXNhZ2Vcblx0XHRjb25zdCBzZWxlY3RlZCA9IGdldENvdXBvblNlbGVjdG9ycygpLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAkKHRoaXMpLmlzKCRzZWxlY3RvcikgPyBudWxsIDogJCh0aGlzKS52YWwoKTtcblx0XHR9KS5nZXQoKS5maWx0ZXIodiA9PiB2KTtcblxuXHRcdGlmIChzZWxlY3RlZC5pbmRleE9mKGNvdXBvbi5faWQpID49IDApIHtcblx0XHRcdGNvZGUgPSAnZHVwbGljYXRlZENvdXBvbic7XG5cdFx0fVxuXG5cdFx0aWYgKGNvZGUpIHtcblx0XHRcdCRzZWxlY3Rvci52YWwoJycpO1xuXHRcdFx0cmV0dXJuIG9uQ291cG9uU2VsZWN0RXJyb3IoY29kZSk7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGlzQXBwbHlpbmcsXG5cdFx0Z2V0Q291cG9uLFxuXHRcdGJpbmRDb3Vwb25WYWxpZGF0b3IsXG5cdFx0Z2V0RGlzY291bnREZXRhaWxzLFxuXHR9O1xuXG59O1xuXG5Db3Vwb25IYW5kbGVyLnNldEFwcGxpY2FibGVDb3Vwb25zID0gKG9yZGVyVHlwZSwgY2FydCwgY291cG9ucykgPT4ge1xuXG5cdC8vIEZpbHRlciBvbmx5IGFwcGxpY2FibGUgY291cG9uc1xuXHRjb25zdCBhcHBsaWNhYmxlQ291cG9ucyA9IGNvdXBvbnMuZmlsdGVyKGMgPT4ge1xuXG5cdFx0Y29uc3QgeyBhY3RpdmUsIGV4cGlyZXNBdCwgc3Vic2NyaXB0aW9uIH0gPSBjO1xuXG5cdFx0Ly8gRmlsdGVyIGNvdXBvbnMgd2hlcmU6XG5cdFx0Ly8gLSBBIGNvdXBvbiBpcyBhY3RpdmVcblx0XHQvLyAtIEEgY291cG9uIGlzIGZvciBhIHN1YnNjcmlwdGlvbiBhbmQgdGhlIHZpZXcgaXMgZm9yIHN1YnNjcmlwdGlvbnNcblx0XHQvLyAtIEEgY291cG9uIGlzIGZvciBhbiBvcmRlciBhbmQgdGhlIHZpZXcgaXMgZm9yIG9yZGVyc1xuXHRcdC8vIC0gQSBjb3Vwb24gaGFzIG5vIGV4cGlyYXRpb24gZGF0ZXNcblx0XHQvLyAtIEEgY291cG9uIGhhcyBhbiBleHBpcmF0aW9uIGRhdGUgYW5kIGl0IGlzIG5vdCBwYXNzZWQgeWV0XG5cdFx0cmV0dXJuIGFjdGl2ZSAmJiAoXG5cdFx0XHRcdFx0KG9yZGVyVHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicgJiYgc3Vic2NyaXB0aW9uLnR5cGUpIHx8XG5cdFx0XHRcdFx0KG9yZGVyVHlwZSA9PT0gJ29yZGVyJyAmJiAhc3Vic2NyaXB0aW9uLnR5cGUpXG5cdFx0XHRcdCkgJiYgKFxuXHRcdFx0XHRcdCFleHBpcmVzQXQgfHxcblx0XHRcdFx0XHRuZXcgRGF0ZShleHBpcmVzQXQucmF3KS52YWx1ZU9mKCkgPiBuZXcgRGF0ZSgpLnZhbHVlT2YoKVxuXHRcdFx0XHQpO1xuXHR9KTtcblxuXHRjb25zdCBwcm9kdWN0Q291cG9ucyA9IGFwcGxpY2FibGVDb3Vwb25zLmZpbHRlcihjID0+IGMudHlwZSA9PT0gJ3Byb2R1Y3QnKTtcblx0Y29uc3QgY2FydENvdXBvbnMgPSBhcHBsaWNhYmxlQ291cG9ucy5maWx0ZXIoYyA9PiBjLnR5cGUgPT09ICdjYXJ0Jyk7XG5cblx0Y2FydC5pdGVtcyA9IGNhcnQuaXRlbXMubWFwKGl0ZW0gPT4ge1xuXG5cdFx0aXRlbS5hcHBsaWNhYmxlQ291cG9ucyA9IHByb2R1Y3RDb3Vwb25zLmZpbHRlcihjb3Vwb24gPT4ge1xuXG5cdFx0XHRyZXR1cm4gYXBwbGljYWJsZUJ5Q2F0ZWdvcnkoaXRlbSwgY291cG9uLmNhdGVnb3J5KSAmJlxuXHRcdFx0XHRcdGFwcGxpY2FibGVCeVByaWNlKGl0ZW0sIGNvdXBvbi5wcmljZSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaXRlbTtcblx0fSk7XG5cblx0Y2FydC5hcHBsaWNhYmxlQ291cG9ucyA9IGNhcnRDb3Vwb25zO1xuXG5cdGZ1bmN0aW9uIGFwcGxpY2FibGVCeUNhdGVnb3J5KGl0ZW0sIGNhdGVnb3J5KSB7XG5cblx0XHRjb25zdCB7IGJyYW5kLCBjb2xsZWN0aW9ucywgcHJvZHVjdCB9ID0gaXRlbTtcblxuXHRcdGlmIChjYXRlZ29yeS50eXBlID09PSAnYW55Jykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3ViamVjdHNUb1Rlc3QgPSB7XG5cdFx0XHRicmFuZHM6ICAgICAgW10uY29uY2F0KGJyYW5kID8gYnJhbmQuX2lkIDogW10pLFxuXHRcdFx0Y29sbGVjdGlvbnM6IFtdLmNvbmNhdCguLi5jb2xsZWN0aW9ucy5tYXAoKHsgcGF0aCB9KSA9PiBwYXRoKSlcblx0XHRcdFx0XHRcdFx0Lm1hcCgoeyBfaWQgfSkgPT4gX2lkKSxcblx0XHRcdHByb2R1Y3RzOiAgICBbXS5jb25jYXQocHJvZHVjdCA/IHByb2R1Y3QuX2lkIDogW10pLFxuXHRcdH07XG5cblx0XHRjb25zdCBjYXRlZ29yeVRvVGVzdCA9IFtcblx0XHRcdCdicmFuZHMnLFxuXHRcdFx0J2NvbGxlY3Rpb25zJyxcblx0XHRcdCdwcm9kdWN0cydcblx0XHRdLmZpbmQoYyA9PiBjYXRlZ29yeVtjXSk7XG5cblx0XHRjb25zdCB0b1Rlc3QgPSBzdWJqZWN0c1RvVGVzdFtjYXRlZ29yeVRvVGVzdF07XG5cdFx0Y29uc3QgcG9vbCA9IGNhdGVnb3J5W2NhdGVnb3J5VG9UZXN0XS5tYXAoKHsgX2lkIH0pID0+IF9pZCk7XG5cblx0XHRpZiAoY2F0ZWdvcnkudHlwZSA9PT0gJ2luY2x1ZGUnKSB7XG5cdFx0XHRyZXR1cm4gcG9vbC5zb21lKHYgPT4gdG9UZXN0LmluZGV4T2YodikgPj0gMCk7XG5cdFx0fVxuXG5cdFx0aWYgKGNhdGVnb3J5LnR5cGUgPT09ICdleGNsdWRlJykge1xuXHRcdFx0cmV0dXJuIHBvb2wuZXZlcnkodiA9PiB0b1Rlc3QuaW5kZXhPZih2KSA9PT0gLTEpO1xuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gYXBwbGljYWJsZUJ5UHJpY2UoaXRlbSwgeyBtaW4sIG1heCB9KSB7XG5cblx0XHRjb25zdCBwcmljZSA9IGl0ZW0udmFyaWFudC5wcmljZS5zYWxlLnJhdztcblxuXHRcdHJldHVybiAoXG5cdFx0XHQobWluID09PSBudWxsIHx8IG1pbi5yYXcgPCBwcmljZSkgJiZcblx0XHRcdChtYXggPT09IG51bGwgfHwgbWF4LnJhdyA+IHByaWNlKVxuXHRcdCk7XG5cblx0fVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvdXBvbkhhbmRsZXI7IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICh7XG5cdGN1c3RvbWVyRmllbGRzLFxuXHR0cmFuc2xhdGlvbktleXMsXG59KSA9PiB7XG5cblx0ZnVuY3Rpb24gc2V0Q3VzdG9tZXIoY3VzdG9tZXIpIHtcblxuXHRcdGlmICghY3VzdG9tZXIpIHJldHVybjtcblxuXHRcdGN1c3RvbWVyRmllbGRzLmZvckVhY2goKHsgZmllbGQsICRpbnB1dCB9KSA9PiB7XG5cblx0XHRcdCRpbnB1dC52YWwoZ2V0KGN1c3RvbWVyLCBmaWVsZCkgfHwgbnVsbCk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGdldEN1c3RvbWVyKCkge1xuXG5cdFx0cmV0dXJuIGN1c3RvbWVyRmllbGRzLnJlZHVjZSgobywgeyBmaWVsZCwgJGlucHV0IH0pID0+IHtcblx0XHRcdHJldHVybiBzZXQobywgZmllbGQsICRpbnB1dC52YWwoKSB8fCBudWxsKTtcblx0XHR9LCB7fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlQ3VzdG9tZXIoY3VzdG9tZXIpIHtcblxuXHRcdGZvciAoY29uc3QgeyBmaWVsZCwgcmVxdWlyZWQgfSBvZiBjdXN0b21lckZpZWxkcykge1xuXG5cdFx0XHRpZiAoIXJlcXVpcmVkKSBjb250aW51ZTtcblxuXHRcdFx0Y29uc3QgdmFsdWUgPSBnZXQoY3VzdG9tZXIsIGZpZWxkKTtcblxuXHRcdFx0aWYgKCF2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gY2FtZWxDYXNlKFsnY3VzdG9tZXInLCB0cmFuc2xhdGlvbktleXNbZmllbGRdIHx8IGZpZWxkLCAncmVxdWlyZWQnXSk7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblxuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRzZXRDdXN0b21lcixcblx0XHRnZXRDdXN0b21lcixcblx0XHR2YWxpZGF0ZUN1c3RvbWVyXG5cdH07XG5cbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmVkUmVzcG9uc2UgPT4ge1xuXG5cdGNvbnN0IGhhbmRsZXIgPSB7XG5cdFx0Y291bnRlcjogMCxcblx0XHR0b2tlbjogW10sXG5cdFx0cmVxdWlyZWRSZXNwb25zZVxuXHR9O1xuXG5cdGhhbmRsZXIuZXhlY3V0ZSA9IHRva2VuID0+IHtcblxuXHRcdGNvbnN0IHJlcXVpcmVkQ29tcG9uZW50cyA9IE9iamVjdC5rZXlzKGhhbmRsZXIucmVxdWlyZWRSZXNwb25zZSk7XG5cdFx0Y29uc3QgcmVxdWlyZWRMZW5ndGggPSByZXF1aXJlZENvbXBvbmVudHMubGVuZ3RoO1xuXG5cdFx0aWYgKHJlcXVpcmVkTGVuZ3RoID09PSAwKSB7XG5cdFx0XHQvLyBJZiBhIG51bWJlciBvZiByZXF1aXJlZCByZXNwb25zZXMgaXMgMCxcblx0XHRcdC8vIHNpbXBseSByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblxuXHRcdGhhbmRsZXIudG9rZW4gPSBoYW5kbGVyLnRva2VuLmNvbmNhdCh0b2tlbikuZmlsdGVyKHRva2VuID0+IHRva2VuKTtcblxuXHRcdGlmICgrK2hhbmRsZXIuY291bnRlciA9PT0gMiAmJlxuXHRcdFx0cmVxdWlyZWRMZW5ndGggPT09IGhhbmRsZXIudG9rZW4ubGVuZ3RoKSB7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IHJlcXVpcmVkQ29tcG9uZW50cy5yZWR1Y2UoKG8sIGMsIGkpID0+IHtcblx0XHRcdFx0cmV0dXJuIHNldChvLCBjLCBoYW5kbGVyLnRva2VuW2ldKTtcblx0XHRcdH0sIHt9KTtcblxuXHRcdFx0aGFuZGxlci5yZXNldCgpO1xuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdH07XG5cblx0aGFuZGxlci5yZXNldCA9ICgpID0+IHtcblx0XHRoYW5kbGVyLmNvdW50ZXIgPSAwO1xuXHRcdGhhbmRsZXIudG9rZW4gPSBbXTtcblx0fTtcblxuXHRyZXR1cm4gaGFuZGxlcjtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHtcblx0Zm9ybSxcblx0bGFiZWxzLFxuXHRzdWJzY3JpcHRpb25QbGFucyxcblx0dGltZXpvbmUgPSAoKSA9PiAnVVRDJyxcblx0b25QbGFuQ2hhbmdlID0gKCkgPT4ge30sXG5cdG9uU3RhcnRzQXRDaGFuZ2UgPSAoKSA9PiB7fVxufSkgPT4ge1xuXG5cdGNvbnN0ICRwbGFuID0gZm9ybS5maW5kKCdbbmFtZT1cInN1YnNjcmlwdGlvblBsYW5cIl0nKTtcblx0Y29uc3QgJHN0YXJ0c0F0U2VjdGlvbiA9IGZvcm0uZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1zdGFydHMtYXQnKTtcblx0Y29uc3QgJHN0YXJ0c0F0TGFiZWwgPSAkc3RhcnRzQXRTZWN0aW9uLmZpbmQoJ2xhYmVsJyk7XG5cdGNvbnN0ICRzdGFydHNBdCA9ICRzdGFydHNBdFNlY3Rpb24uZmluZCgnW25hbWU9XCJzdWJzY3JpcHRpb25TdGFydHNBdFwiXScpO1xuXHRjb25zdCAkaW1tZWRpYXRlVGlwID0gJCgnLmZpcnN0LW9yZGVyLWlzLWltbWVkaWF0ZScpO1xuXG5cdGNvbnN0IGRhdGVwaWNrZXIgPSAkc3RhcnRzQXQuZGF0YSgncGlja2FkYXknKTtcblxuXHRjb25zdCBzdWJzY3JpcHRpb25QbGFuTWFwID0gc3Vic2NyaXB0aW9uUGxhbnMucmVkdWNlKChvLCBwbGFuKSA9PiB7XG5cdFx0cmV0dXJuIHNldChvLCBwbGFuLl9pZCwgcGxhbik7XG5cdH0sIHt9KTtcblxuXHRzdWJzY3JpcHRpb25QbGFuQ2hhbmdlZCgpO1xuXG5cdGlmIChkYXRlcGlja2VyKSB7XG5cdFx0Ly8gU2V0IGRhdGVwaWNrZXIncyBtaW4gZGF0ZSBhcyB0b21vcnJvdyAoMjQgaG91cnMgbGF0ZXIpXG5cdFx0ZGF0ZXBpY2tlci5zZXRNaW5EYXRlKFxuXHRcdFx0bmV3IERhdGUobmV3IERhdGUoKS52YWx1ZU9mKCkgKyAoMTAwMCAqIDM2MDAgKiAyNCkpXG5cdFx0KTtcblx0fVxuXG5cdCRwbGFuLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRzdWJzY3JpcHRpb25QbGFuQ2hhbmdlZCgpO1xuXHRcdHJldHVybiBvblBsYW5DaGFuZ2UoKTtcblx0fSk7XG5cblx0JHN0YXJ0c0F0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gb25TdGFydHNBdENoYW5nZSgpO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBnZXRTdWJzY3JpcHRpb25QbGFuKHN1YnNjcmlwdGlvblBsYW5JZCkge1xuXHRcdHJldHVybiBzdWJzY3JpcHRpb25QbGFuTWFwW3N1YnNjcmlwdGlvblBsYW5JZF07XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZVN1YnNjcmlwdGlvbkRldGFpbChzdWJzY3JpcHRpb24pIHtcblxuXHRcdGlmICghc3Vic2NyaXB0aW9uIHx8ICFzdWJzY3JpcHRpb24ucGxhbikge1xuXHRcdFx0cmV0dXJuICdzdWJzY3JpcHRpb25QbGFuUmVxdWlyZWQnO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBsYW4gPSBzdWJzY3JpcHRpb25QbGFuTWFwW3N1YnNjcmlwdGlvbi5wbGFuXTtcblxuXHRcdGlmIChwbGFuLnN0YXJ0c0F0ICYmICFzdWJzY3JpcHRpb24uc3RhcnRzQXQpIHtcblx0XHRcdHJldHVybiAnc3Vic2NyaXB0aW9uU3RhcnRzQXRSZXF1aXJlZCc7XG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRTdWJzY3JpcHRpb25EZXRhaWwoKSB7XG5cblx0XHRjb25zdCBwbGFuID0gc3Vic2NyaXB0aW9uUGxhbk1hcFskcGxhbi52YWwoKV07XG5cblx0XHRpZiAoIXBsYW4pIHJldHVybiBudWxsO1xuXG5cdFx0Y29uc3QgZGV0YWlsID0ge1xuXHRcdFx0cGxhbjogICAgIHBsYW4uX2lkLFxuXHRcdFx0dGltZXpvbmU6IHRpbWV6b25lKCksXG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0c0F0ID0gKFxuXHRcdFx0Ly8gSWYgYHBsYW4uc3RhcnRzQXRgIGlzIGEgZnVuY3Rpb24sIHNpbXBseSBpbnZva2UgYW5kIGdldCB0aGUgdGltZSB2YWx1ZS5cblx0XHRcdCh0eXBlb2YgcGxhbi5zdGFydHNBdCA9PT0gJ2Z1bmN0aW9uJyAmJiBwbGFuLnN0YXJ0c0F0KHBsYW4pKSB8fFxuXHRcdFx0Ly8gSWYgYHBsYW4uc3RhcnRzQXRgIGlzIGEgJ2RhdGVwaWNrZXInLCBnZXQgdGhlIHRpbWUgdmFsdWUgZnJvbSBkYXRlcGlja2VyLlxuXHRcdFx0KHBsYW4uc3RhcnRzQXQgPT09ICdkYXRlcGlja2VyJyAmJiAkc3RhcnRzQXQuZGF0YSgncGlja2FkYXknKS5nZXREYXRlKCkpXG5cdFx0KSB8fCBudWxsO1xuXG5cdFx0aWYgKHN0YXJ0c0F0KSB7XG5cblx0XHRcdC8vIFNldCBvcmRlciBzY2hlZHVsZXMnIHRpbWVzIChkZWZhdWx0ID0gMDk6MDApXG5cdFx0XHRzdGFydHNBdC5zZXRIb3Vycyhcblx0XHRcdFx0Li4uKHBsYW4udGltZSB8fCAnMDk6MDAnKVxuXHRcdFx0XHRcdC5zcGxpdCgnOicpXG5cdFx0XHRcdFx0Lm1hcCh2ID0+IHBhcnNlSW50KHYpKVxuXHRcdFx0XHRcdC5jb25jYXQoMCwgMCwgMCkgLy8gRGVmYXVsdCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHNcblx0XHRcdCk7XG5cblx0XHRcdGRldGFpbC5zdGFydHNBdCA9IHN0YXJ0c0F0O1xuXHRcdH1cblxuXHRcdHJldHVybiBkZXRhaWw7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHN1YnNjcmlwdGlvblBsYW5DaGFuZ2VkKCkge1xuXG5cdFx0Y29uc3QgcGxhbiA9IHN1YnNjcmlwdGlvblBsYW5NYXBbJHBsYW4udmFsKCldO1xuXG5cdFx0aWYgKCFwbGFuKSByZXR1cm47XG5cblx0XHRpZiAocGxhbi5zdGFydHNBdCA9PT0gJ2RhdGVwaWNrZXInKSB7XG5cdFx0XHQkc3RhcnRzQXRTZWN0aW9uLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JHN0YXJ0c0F0U2VjdGlvbi5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHBsYW4uaW1tZWRpYXRlKSB7XG5cdFx0XHQkaW1tZWRpYXRlVGlwLnNob3coKTtcblx0XHRcdCRzdGFydHNBdExhYmVsLnRleHQobGFiZWxzLnNlY29uZE9yZGVyU3RhcnRzQXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkaW1tZWRpYXRlVGlwLmhpZGUoKTtcblx0XHRcdCRzdGFydHNBdExhYmVsLnRleHQobGFiZWxzLmZpcnN0T3JkZXJTdGFydHNBdCk7XG5cdFx0fVxuXG5cdFx0JHN0YXJ0c0F0LnZhbCgnJyk7XG5cdFx0ZGF0ZXBpY2tlci5zZXREYXRlKG51bGwpO1xuXG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGdldFN1YnNjcmlwdGlvblBsYW4sXG5cdFx0dmFsaWRhdGVTdWJzY3JpcHRpb25EZXRhaWwsXG5cdFx0Z2V0U3Vic2NyaXB0aW9uRGV0YWlsLFxuXHRcdHN1YnNjcmlwdGlvblBsYW5DaGFuZ2VkLFxuXHR9O1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2N1c3RvbWVyLWNvdXBvbnMnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0cGFnZTogICAgICAgICAgICAxLFxuXHRcdGxpbWl0OiAgICAgICAgICAgMjQsXG5cdFx0dXNlUGFnaW5hdGlvbjogICB0cnVlLFxuXHRcdGNvbmZpcm1PbkRlbGV0ZTogVGh1bmRlci5vcHRpb25zLmNvbmZpcm1hdGlvbi5jb3Vwb25EZWxldGUsIC8vIFdoZXRoZXIgdG8gY29uZmlybSBiZWZvcmUgZGVsZXRpbmcgYSBjb3Vwb25cblxuXHRcdG9uRGVsZXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnZGVsZXRlU3VjY2VzcycpKTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb250ZXh0LmNvdXBvbkxpc3RJZCA9IChNYXRoLnJhbmRvbSgpICsgJycpLnNsaWNlKDIpO1xuXG5cdFx0Y29udGV4dC5jYXRlZ29yaWVzID0gY291cG9uID0+IChcblx0XHRcdGNvdXBvbi5jYXRlZ29yeS5wcm9kdWN0cyB8fFxuXHRcdFx0Y291cG9uLmNhdGVnb3J5LmJyYW5kcyB8fFxuXHRcdFx0Y291cG9uLmNhdGVnb3J5LmNvbGxlY3Rpb25zXG5cdFx0KS5tYXAobSA9PiBtLm5hbWUpLmpvaW4oJywgJyk7XG5cblx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NvdXBvbkxpc3RGYWlsZWQnKVxuXHRcdH07XG5cblx0XHQkLndoZW4oXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvY291cG9ucycsXG5cdFx0XHRcdHF1ZXJ5OiAge1xuXHRcdFx0XHRcdHBhZ2U6ICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0XHRsaW1pdDogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uID8gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0dXJsOiAgICAnL3YxL21lL2NvdXBvbnMvY291bnQnLFxuXHRcdFx0XHRxdWVyeTogIHsgcmF3OiB0cnVlIH1cblx0XHRcdH0pIDogbnVsbFxuXHRcdCkudGhlbigoY291cG9ucywgY291bnQpID0+IHtcblxuXHRcdFx0Y29udGV4dC5jb3Vwb25zID0gY291cG9uc1swXTtcblx0XHRcdGNvbnRleHQuY291bnQgPSBjb3VudCA/IGNvdW50WzBdLmNvdW50IDogbnVsbDtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1jb3Vwb24tbGlzdC1wYWdpbmF0aW9uJyk7XG5cdFx0Y29uc3QgJGRlbGV0ZUNvdXBvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWRlbGV0ZS1jb3Vwb24nKTtcblxuXHRcdCRkZWxldGVDb3Vwb24ub24oJ2NsaWNrJywgZGVsZXRlQ291cG9uKTtcblxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xuXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XG5cdFx0XHRcdGNvbnRhaW5lcjogJHBhZ2luYXRpb24sXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0dG90YWxSZXN1bHQ6IGNvbnRleHQuY291bnQsXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcblx0XHRcdFx0b25QYWdlQ2hhbmdlOiAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWNvdXBvbnMnLFxuXHRcdFx0XHRcdCQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywgeyBwYWdlIH0pXG5cdFx0XHRcdClcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUNvdXBvbigpIHtcblxuXHRcdFx0Y29uc3QgcmVtb3ZlQ291cG9uID0gKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCQodGhpcyksIHsgYmluZDogZmFsc2UgfSk7XG5cblx0XHRcdFx0c3Bpbm5lci5ydW4oKTtcblxuXHRcdFx0XHRjb25zdCBjb3Vwb25JZCA9ICQodGhpcykuZGF0YSgnY291cG9uJyk7XG5cdFx0XHRcdGNvbnN0ICRjb3Vwb24gPSAkY29udGFpbmVyLmZpbmQoYFtkYXRhLWNvdXBvbj1cIiR7Y291cG9uSWR9XCJdYCk7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY291cG9uRGVsZXRlRmFpbGVkJylcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL2NvdXBvbnMvJHtjb3Vwb25JZH1gXG5cdFx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0JGNvdXBvbi5yZW1vdmUoKTtcblx0XHRcdFx0XHQkY29udGFpbmVyLmZpbmQoJ1tkYXRhLW1oXScpLm1hdGNoSGVpZ2h0KCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uRGVsZXRlLFxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRcdGNvbnRleHRcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRlcnIgPT4gc3Bpbm5lci5kb25lKClcblx0XHRcdFx0KSk7XG5cblx0XHRcdH07XG5cblx0XHRcdGlmICghY29udGV4dC5vcHRpb25zLmNvbmZpcm1PbkRlbGV0ZSkge1xuXHRcdFx0XHRyZXR1cm4gcmVtb3ZlQ291cG9uKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnBsdWdpbnMuY29uZmlybWF0aW9uKFxuXHRcdFx0XHRjb250ZXh0Lm0oJ2RlbGV0ZUNvbmZpcm0nKSxcblx0XHRcdFx0KCkgPT4gcmVtb3ZlQ291cG9uKClcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IHN1cHBvcnRlZENvbXBvbmVudHMgPSAoKSA9PiBbXG5cdFx0J2N1c3RvbWVyLXVwZGF0ZScsXG5cdFx0J2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzJyxcblx0XHQnb3JkZXItbGlzdCcsXG5cdFx0VGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzLnN1YnNjcmlwdGlvbiA/XG5cdFx0XHQnc3Vic2NyaXB0aW9uLWxpc3QnIDpcblx0XHRcdG51bGwsXG5cdFx0J2N1c3RvbWVyLWNvdXBvbnMnLFxuXHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3ID9cblx0XHRcdCdjdXN0b21lci1yZXZpZXdzJyA6XG5cdFx0XHRudWxsLFxuXHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3ICYmXG5cdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdDb21tZW50ID9cblx0XHRcdCdjdXN0b21lci1yZXZpZXctY29tbWVudHMnIDpcblx0XHRcdG51bGwsXG5cdFx0J2N1c3RvbWVyLWRlbGV0ZS1hY2NvdW50Jyxcblx0XS5maWx0ZXIodiA9PiB2KTtcblxuXHQvLyBJbXBsZW1lbnRhdGlvblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItZGFzaGJvYXJkJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAkLmV4dGVuZCh7XG5cdFx0bmF2OiAgIHN1cHBvcnRlZENvbXBvbmVudHMoKSwgICAgLy8gTmF2aWdhdGlvbiBjb21wb25lbnRzXG5cdFx0Zm9jdXM6IHN1cHBvcnRlZENvbXBvbmVudHMoKVswXSwgLy8gSW5pdGlhbCBjb21wb25lbnQgdG8gYmUgZm9jdXNlZFxuXHRcdGxvZ291dDogVGh1bmRlci5vcHRpb25zLmN1c3RvbWVyRGFzaGJvYXJkTG9nb3V0LFxuXG5cdH0sIHN1cHBvcnRlZENvbXBvbmVudHMoKS5yZWR1Y2UoKG8sIGNvbXBvbmVudCkgPT4ge1xuXG5cdFx0cmV0dXJuIHNldChvLCBjYW1lbENhc2UoWydvblZpZXcnLCBjb21wb25lbnRdKSwgZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgJHZpZXdDb250YWluZXIpIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkdmlld0NvbnRhaW5lciwgY29tcG9uZW50KTtcblx0XHR9KTtcblxuXHR9LCB7fSkpO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCB0cmFuc2xhdGlvbktleXMgPSB7XG5cdFx0XHQnY3VzdG9tZXItdXBkYXRlJzogICAgICAgICAgJ2N1c3RvbWVySW5mbycsXG5cdFx0XHQnY3VzdG9tZXItdXBkYXRlLWFkZHJlc3MnOiAgJ2N1c3RvbWVyQWRkcmVzcycsXG5cdFx0XHQnb3JkZXItbGlzdCc6ICAgICAgICAgICAgICAgJ29yZGVyTGlzdCcsXG5cdFx0XHQnc3Vic2NyaXB0aW9uLWxpc3QnOiAgICAgICAgJ3N1YnNjcmlwdGlvbkxpc3QnLFxuXHRcdFx0J2N1c3RvbWVyLWNvdXBvbnMnOiAgICAgICAgICdjdXN0b21lckNvdXBvbnMnLFxuXHRcdFx0J2N1c3RvbWVyLXJldmlld3MnOiAgICAgICAgICdjdXN0b21lclJldmlld3MnLFxuXHRcdFx0J2N1c3RvbWVyLXJldmlldy1jb21tZW50cyc6ICdjdXN0b21lclJldmlld0NvbW1lbnRzJyxcblx0XHRcdCdjdXN0b21lci1kZWxldGUtYWNjb3VudCc6ICAnY3VzdG9tZXJEZWxldGVBY2NvdW50J1xuXHRcdH07XG5cblx0XHRjb250ZXh0Lm5hdiA9IFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKGNvbnRleHQub3B0aW9ucy5uYXYpLm1hcChjb21wb25lbnQgPT4gKHtcblx0XHRcdGtleTogY29tcG9uZW50LFxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IHRyYW5zbGF0aW9uS2V5c1tjb21wb25lbnRdXG5cdFx0fSkpO1xuXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRtZW51ID0gJCh0aGlzKS5maW5kKGBbZGF0YS1jb21wb25lbnRdYCk7XG5cdFx0Y29uc3QgJHZpZXdDb250YWluZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1kYXNoYm9hcmQtdmlldycpO1xuXHRcdGNvbnN0ICRsb2dvdXRXcmFwID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tbG9nb3V0LXdyYXAnKTtcblx0XHRjb25zdCAkbG9nb3V0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tbG9nb3V0Jyk7XG5cblx0XHR2aWV3Q29tcG9uZW50KGNvbnRleHQub3B0aW9ucy5mb2N1cyk7XG5cblx0XHQkbWVudS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB2aWV3Q29tcG9uZW50KCQodGhpcykuZGF0YSgnY29tcG9uZW50JykpO1xuXHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gdmlld0NvbXBvbmVudChjb21wb25lbnQpIHtcblxuXHRcdFx0JGxvZ291dFdyYXBbY29tcG9uZW50ID09PSAnY3VzdG9tZXItdXBkYXRlJyA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXSgnaGlkZGVuJyk7XG5cblx0XHRcdCRtZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdCRjb250YWluZXIuZmluZChgW2RhdGEtY29tcG9uZW50PVwiJHtjb21wb25lbnR9XCJdYCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnNbY2FtZWxDYXNlKFsnb25WaWV3JywgY29tcG9uZW50XSldLFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHQkdmlld0NvbnRhaW5lclxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQkbG9nb3V0Lm9uKCdjbGljaycsICgpID0+IHtcblx0XHRcdFRodW5kZXIubG9nb3V0KCk7XG5cdFx0XHRUaHVuZGVyLmNsb3NlKCk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItZGVsZXRlLWFjY291bnQnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cblx0XHRjb25maXJtT25EZWxldGU6IFRodW5kZXIub3B0aW9ucy5jb25maXJtYXRpb24uY3VzdG9tZXJEZWxldGUsIC8vIFdoZXRoZXIgdG8gY29uZmlybSBiZWZvcmUgZGVsZXRpbmdcblxuXHRcdG9uRGVsZXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdkZWxldGVTdWNjZXNzJykpO1xuXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucmVkaXJlY3QoVGh1bmRlci5vcHRpb25zLnJvb3QpO1xuXHRcdH1cblxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1kZWxldGUtYWNjb3VudC1mb3JtJyk7XG5cdFx0Y29uc3QgJGJ1dHRvbiA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1kZWxldGUtYWNjb3VudCcpO1xuXHRcdGNvbnN0IGJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRidXR0b24pO1xuXG5cdFx0JGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoIWNvbnRleHQub3B0aW9ucy5jb25maXJtT25EZWxldGUpIHtcblx0XHRcdFx0cmV0dXJuIGRlbGV0ZUN1c3RvbWVyKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnBsdWdpbnMuY29uZmlybWF0aW9uKFxuXHRcdFx0XHRjb250ZXh0Lm0oJ2RlbGV0ZUNvbmZpcm0nKSxcblx0XHRcdFx0KCkgPT4gZGVsZXRlQ3VzdG9tZXIoKSxcblx0XHRcdFx0KCkgPT4gYnV0dG9uU3Bpbm5lci5kb25lKClcblx0XHRcdCk7XG5cblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUN1c3RvbWVyKCkge1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubShgZGVsZXRlRmFpbGVkYClcblx0XHRcdH07XG5cblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRcdHVybDogICAgJy92MS9tZScsXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcblxuXHRcdFx0XHRidXR0b25TcGlubmVyLmRvbmUoKTtcblxuXHRcdFx0XHRUaHVuZGVyLmxvZ291dCgpO1xuXG5cdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25EZWxldGUsXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRjb250ZXh0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRlcnIgPT4gYnV0dG9uU3Bpbm5lci5kb25lKClcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2N1c3RvbWVyLWxvZ2luJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXG5cdFx0c29jaWFsQXBwczogVGh1bmRlci5vcHRpb25zLnNvY2lhbEFwcHMsXG5cblx0XHRvbkxvZ2luOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdsb2dpblN1Y2Nlc3MnKSk7XG5cblx0XHRcdFRodW5kZXIucGx1Z2lucy5yZWRpcmVjdChUaHVuZGVyLm9wdGlvbnMucm9vdCk7XG5cdFx0fSxcblxuXHRcdG9uU29jaWFsTG9naW46IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGRhdGEpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2xvZ2luU3VjY2VzcycpKTtcblxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnJlZGlyZWN0KFRodW5kZXIub3B0aW9ucy5yb290KTtcblx0XHR9XG5cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnRleHQuc29jaWFsID0gKCkgPT4gVGh1bmRlci51aXNbJ3NvY2lhbC1sb2dpbiddKHtcblx0XHRcdHR5cGU6ICAgICdsb2dpbicsXG5cdFx0XHR2ZW5kb3JzOiBjb250ZXh0Lm9wdGlvbnMuc29jaWFsQXBwc1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRmb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tbG9naW4tZm9ybScpO1xuXHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCcudGh1bmRlci0tbG9naW4tY3VzdG9tZXInKTtcblx0XHRjb25zdCAkZ29Ub1Jlc2V0UGFzc3dvcmQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1nby10by1yZXNldC1wYXNzd29yZCcpO1xuXHRcdGNvbnN0IGJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRidXR0b24pO1xuXG5cdFx0VGh1bmRlci51dGlsLmJpbmRTb2NpYWxBcHBzKCRjb250YWluZXIpO1xuXG5cdFx0Y29uc3Qgc29jaWFsRGF0YSA9IFRodW5kZXIudXRpbC5oYW5kbGVTb2NpYWxMb2dpbigpO1xuXG5cdFx0aWYgKHNvY2lhbERhdGEpIHtcblxuXHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25Tb2NpYWxMb2dpbixcblx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0c29jaWFsRGF0YVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQkZ29Ub1Jlc2V0UGFzc3dvcmQub24oJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjdXN0b21lci1yZXNldC1wYXNzd29yZCcsIHtcblx0XHRcdFx0YmFjazoge1xuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYShpbXBsZW1lbnRhdGlvbi5uYW1lLCAkYnV0dG9uLCBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcblxuXHRcdFx0Y29uc3QgZGF0YSA9IFRodW5kZXIudXRpbC51c2VySWRPckVtYWlsKFxuXHRcdFx0XHRUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKVxuXHRcdFx0KTtcblxuXHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHQnbm90LWV4aXN0aW5nLWN1c3RvbWVyJzogY29udGV4dC5tKCdub3RFeGlzdGluZ0N1c3RvbWVyJyksXG5cdFx0XHRcdCdpbnZhbGlkLXBhc3N3b3JkJzogICAgICBjb250ZXh0Lm0oJ2ludmFsaWRQYXNzd29yZCcpLFxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdsb2dpbkZhaWxlZCcpXG5cdFx0XHR9O1xuXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAgICAnL3YxL2N1c3RvbWVycy9hdXRoJyxcblx0XHRcdFx0ZGF0YTogICBkYXRhLFxuXHRcdFx0fSkudGhlbihkYXRhID0+IHtcblxuXHRcdFx0XHRjb25zdCBzdG9yYWdlID0gVGh1bmRlci5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xuXG5cdFx0XHRcdHN0b3JhZ2Uuc2V0SXRlbShUaHVuZGVyLm9wdGlvbnMuYXV0aFN0b3JhZ2UuY3VzdG9tZXIsIGRhdGEudG9rZW4pO1xuXG5cdFx0XHRcdFRodW5kZXIuaGVhZGVyKCk7XG5cblx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkxvZ2luLFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XG5cblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHQoKSA9PiByZXNldFN0YXRlKClcblx0XHRcdCkpO1xuXG5cdFx0fSk7XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IHRyYW5zbGF0aW9uS2V5ID0ge1xuXHRcdCduYW1lLmZpcnN0JzogJ2ZpcnN0TmFtZScsXG5cdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxuXHRcdCduYW1lLmZ1bGwnOiAgJ2Z1bGxOYW1lJyxcblx0fTtcblxuXHQvLyBJbXBsZW1lbnRhdGlvblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItcmVnaXN0ZXInXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cblx0XHRmaWVsZHM6ICAgICAgICAgIFRodW5kZXIub3B0aW9ucy5jdXN0b21lclJlZ2lzdHJhdGlvbkZpZWxkcyxcblx0XHRiaXJ0aGRhdGVGb3JtYXQ6IFRodW5kZXIub3B0aW9ucy5kYXRlSW5wdXRGb3JtYXQsXG5cdFx0c29jaWFsQXBwczogICAgICBUaHVuZGVyLm9wdGlvbnMuc29jaWFsQXBwcyxcblx0XHR0ZXJtc0xpbms6ICAgICAgIFRodW5kZXIub3B0aW9ucy5sZWdhbC5yZWdpc3RyYXRpb25UZXJtcy5saW5rLFxuXHRcdHRlcm1zVGV4dDogICAgICAgVGh1bmRlci5vcHRpb25zLmxlZ2FsLnJlZ2lzdHJhdGlvblRlcm1zLnRleHQsXG5cdFx0cHJpdmFjeUxpbms6ICAgICBUaHVuZGVyLm9wdGlvbnMubGVnYWwucmVnaXN0cmF0aW9uUHJpdmFjeS5saW5rLFxuXHRcdHByaXZhY3lUZXh0OiAgICAgVGh1bmRlci5vcHRpb25zLmxlZ2FsLnJlZ2lzdHJhdGlvblByaXZhY3kudGV4dCxcblxuXHRcdG9uUmVnaXN0ZXI6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGN1c3RvbWVyKSB7XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdyZWdpc3RlclN1Y2Nlc3MnKSk7XG5cblx0XHRcdFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjdXN0b21lci1sb2dpbicpO1xuXHRcdH0sXG5cdFx0b25Tb2NpYWxSZWdpc3RlcjogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgZGF0YSkge1xuXG5cdFx0XHRpZiAoZGF0YS5lcnJvcikge1xuXHRcdFx0XHRpZiAoZGF0YS5lcnJvciA9PT0gJ2R1cGxpY2F0ZWQtZW1haWwnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnZHVwbGljYXRlZEVtYWlsJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdyZWdpc3RlclN1Y2Nlc3MnKSk7XG5cblx0XHRcdFRodW5kZXIucGx1Z2lucy5yZWRpcmVjdChUaHVuZGVyLm9wdGlvbnMucm9vdCk7XG5cdFx0fVxuXG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCB7XG5cdFx0XHR0ZXJtc0xpbmssXG5cdFx0XHR0ZXJtc1RleHQsXG5cdFx0XHRwcml2YWN5TGluayxcblx0XHRcdHByaXZhY3lUZXh0LFxuXHRcdH0gPSBjb250ZXh0Lm9wdGlvbnM7XG5cblx0XHRjb250ZXh0LmFncmVlbWVudHMgPSBbXG5cdFx0XHQodGVybXNMaW5rIHx8IHRlcm1zVGV4dCkgPyAndGVybXMnIDogbnVsbCxcblx0XHRcdChwcml2YWN5TGluayB8fCBwcml2YWN5VGV4dCkgPyAncHJpdmFjeScgOiBudWxsLFxuXHRcdF0uZmlsdGVyKHYgPT4gdik7XG5cblx0XHRjb25zdCBiaXJ0aE9wdGlvbnMgPSB7XG5cdFx0XHRZWVlZOiB7IGtleTogJ2JpcnRoWWVhcicsIHRyYW5zbGF0aW9uS2V5OiAneWVhcicsIHRlc3RlcjogL15cXGR7NH0kLyB9LFxuXHRcdFx0TU06ICAgeyBrZXk6ICdiaXJ0aE1vbnRoJywgdHJhbnNsYXRpb25LZXk6ICdtb250aCcsIHRlc3RlcjogL15cXGR7MSwyfSQvIH0sXG5cdFx0XHRERDogICB7IGtleTogJ2JpcnRoRGF0ZScsIHRyYW5zbGF0aW9uS2V5OiAnZGF0ZScsIHRlc3RlcjogL15cXGR7MSwyfSQvIH1cblx0XHR9O1xuXG5cdFx0Y29uc3QgYmlydGhkYXRlRm9ybWF0cyA9IGNvbnRleHQub3B0aW9ucy5iaXJ0aGRhdGVGb3JtYXQuc3BsaXQoJy0nKTtcblxuXHRcdGNvbnRleHQuZmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmZpZWxkcykubWFwKGZpZWxkID0+IHtcblxuXHRcdFx0Y29uc3QgW2tleSwgcmVxdWlyZWRdID0gZmllbGQuc3BsaXQoJzonKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cmVxdWlyZWQ6ICAgICAgIHJlcXVpcmVkID09PSAncmVxdWlyZWQnLFxuXHRcdFx0XHRrZXk6ICAgICAgICAgICAga2V5LFxuXHRcdFx0XHR0cmFuc2xhdGlvbktleTogdHJhbnNsYXRpb25LZXlba2V5XSB8fCBrZXlcblx0XHRcdH07XG5cblx0XHR9KTtcblxuXHRcdGNvbnRleHQuYmlydGhkYXRlRmllbGRzID0gYmlydGhkYXRlRm9ybWF0cy5tYXAoKGZvcm1hdCwgaSkgPT4ge1xuXG5cdFx0XHRyZXR1cm4gJC5leHRlbmQoe1xuXHRcdFx0XHRsYXN0OiBpID09PSBiaXJ0aGRhdGVGb3JtYXRzLmxlbmd0aCAtIDFcblx0XHRcdH0sIGJpcnRoT3B0aW9uc1tmb3JtYXRdKTtcblxuXHRcdH0pO1xuXG5cdFx0Y29udGV4dC5zb2NpYWwgPSAoKSA9PiBUaHVuZGVyLnVpc1snc29jaWFsLWxvZ2luJ10oe1xuXHRcdFx0dHlwZTogICAgJ3JlZ2lzdGVyJyxcblx0XHRcdHZlbmRvcnM6IGNvbnRleHQub3B0aW9ucy5zb2NpYWxBcHBzXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZWdpc3Rlci1mb3JtJyk7XG5cdFx0Y29uc3QgJGJ1dHRvbiA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1yZWdpc3Rlci1jdXN0b21lcicpO1xuXHRcdGNvbnN0IGJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRidXR0b24sIHsgYmluZDogZmFsc2UgfSk7XG5cblx0XHRjb25zdCBhcmVUZXJtc0FncmVlZCA9IFRodW5kZXIudXRpbC5iaW5kQWdyZWVtZW50cyh7XG5cdFx0XHQkdGVybXM6ICQodGhpcykuZmluZCgnW2RhdGEtYWdyZWVtZW50LXNjb3BlXScpLFxuXHRcdFx0YWdyZWVtZW50czoge1xuXHRcdFx0XHR0ZXJtczogICB7XG5cdFx0XHRcdFx0dGV4dDogIGNvbnRleHQub3B0aW9ucy50ZXJtc1RleHQsXG5cdFx0XHRcdFx0bGluazogIGNvbnRleHQub3B0aW9ucy50ZXJtc0xpbmssXG5cdFx0XHRcdFx0ZXJyb3I6IGNvbnRleHQubSgndGVybXNBZ3JlZW1lbnRSZXF1aXJlZCcpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHByaXZhY3k6IHtcblx0XHRcdFx0XHR0ZXh0OiAgY29udGV4dC5vcHRpb25zLnByaXZhY3lUZXh0LFxuXHRcdFx0XHRcdGxpbms6ICBjb250ZXh0Lm9wdGlvbnMucHJpdmFjeUxpbmssXG5cdFx0XHRcdFx0ZXJyb3I6IGNvbnRleHQubSgncHJpdmFjeUFncmVlbWVudFJlcXVpcmVkJylcblx0XHRcdFx0fSxcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdFRodW5kZXIudXRpbC5iaW5kU29jaWFsQXBwcygkY29udGFpbmVyLCBhcmVUZXJtc0FncmVlZCk7XG5cblx0XHRjb25zdCBzb2NpYWxEYXRhID0gVGh1bmRlci51dGlsLmhhbmRsZVNvY2lhbExvZ2luKCk7XG5cblx0XHRpZiAoc29jaWFsRGF0YSkge1xuXG5cdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblNvY2lhbFJlZ2lzdGVyLFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRzb2NpYWxEYXRhXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcblx0XHRcdGNvbXBvbmVudE5hbWU6IGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRidXR0b246ICAgICAgICAkYnV0dG9uLFxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVEYXRhLFxuXHRcdFx0Y2FsbGJhY2s6ICAgICAgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5ydW4oKTtcblxuXHRcdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xuXHRcdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSBjdXN0b21lciA9PiB7XG5cblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25SZWdpc3Rlcixcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRcdFx0Y3VzdG9tZXJcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBmYWlsID0gZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKGVyci5yZXNwb25zZUpTT04sIHtcblx0XHRcdFx0XHQnZHVwbGljYXRlZC1lbWFpbCc6ICAgY29udGV4dC5tKCdkdXBsaWNhdGVkRW1haWwnKSxcblx0XHRcdFx0XHQnZHVwbGljYXRlZC11c2VyLWlkJzogY29udGV4dC5tKCdkdXBsaWNhdGVkVXNlcklkJyksXG5cdFx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgIGNvbnRleHQubSgncmVnaXN0ZXJGYWlsZWQnKSxcblx0XHRcdFx0XHR2YWxpZGF0aW9uOiBlcnIgPT4ge1xuXG5cdFx0XHRcdFx0XHRjb25zdCBbLCAuLi5wYXRoXSA9IGVyci52YWxpZGF0aW9uLnNvdXJjZS5zcGxpdCgnLicpO1xuXHRcdFx0XHRcdFx0Y29uc3QgZmllbGQgPSBwYXRoLmpvaW4oJy4nKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQubShjYW1lbENhc2UoWydpbnZhbGlkJywgdHJhbnNsYXRpb25LZXlbZmllbGRdIHx8IGZpZWxkXSkpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sIGVyciA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdFx0dXJsOiAgICAnL3YxL21lJyxcblx0XHRcdFx0XHRkYXRhOiAgIGdldEN1c3RvbWVyKCksXG5cdFx0XHRcdH0pLnRoZW4oc3VjY2VzcywgZmFpbCk7XG5cblx0XHRcdH1cblxuXHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0Q3VzdG9tZXIoKSB7XG5cblx0XHRcdGNvbnN0IGJpcnRoRmllbGRzID0gW1xuXHRcdFx0XHQnYmlydGhZZWFyJyxcblx0XHRcdFx0J2JpcnRoTW9udGgnLFxuXHRcdFx0XHQnYmlydGhEYXRlJyxcblx0XHRcdF07XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblxuXHRcdFx0aWYgKGJpcnRoRmllbGRzLmV2ZXJ5KGZpZWxkID0+IGRhdGFbZmllbGRdKSkge1xuXG5cdFx0XHRcdGRhdGEuYmlydGhkYXRlID0gbmV3IERhdGUoXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aFllYXIsXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aE1vbnRoIC0gMSxcblx0XHRcdFx0XHRkYXRhLmJpcnRoRGF0ZVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRiaXJ0aEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IGRlbGV0ZSBkYXRhW2ZpZWxkXSk7XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVEYXRhKCkge1xuXG5cdFx0XHRjb25zdCBjdXN0b21lciA9IGdldEN1c3RvbWVyKCk7XG5cblx0XHRcdGNvbnN0IHJlcXVpcmVkRmllbGRzID0gY29udGV4dC5maWVsZHMuZmlsdGVyKCh7IHJlcXVpcmVkIH0pID0+IHJlcXVpcmVkKTtcblxuXHRcdFx0Zm9yIChjb25zdCB7IGtleSwgdHJhbnNsYXRpb25LZXkgfSBvZiByZXF1aXJlZEZpZWxkcykge1xuXG5cdFx0XHRcdGlmICghZ2V0KGN1c3RvbWVyLCBrZXksIG51bGwpKSB7XG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGAke3RyYW5zbGF0aW9uS2V5fVJlcXVpcmVkYCkpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcmVUZXJtc0FncmVlZCgpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2N1c3RvbWVyLXJlc2V0LXBhc3N3b3JkJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdGN1c3RvbWVyOiAgJ2N1c3RvbWVyJyxcblx0XHRzZWNyZXQ6ICAgICdzZWNyZXQnLFxuXHRcdGlucHV0OiAgICAgJ3F1ZXJ5JywgICAgICAvLyAncXVlcnknIG9yICdhdHRyaWJ1dGUnXG5cdFx0ZXhwaXJlc0luOiA2MCAqIDYwICogMjQsIC8vIDI0IGhvdXJzXG5cdFx0b25FbWFpbFJlcXVlc3Q6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlcXVlc3RFbWFpbFN1Y2Nlc3MnKSk7XG5cdFx0fSxcblx0XHRvblBhc3N3b3JkUmVzZXQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3NldFBhc3N3b3JkU3VjY2VzcycpKTtcblxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLWxvZ2luJyk7XG5cdFx0fSxcblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMuaW5wdXQgPT09ICdxdWVyeScpIHtcblxuXHRcdFx0Y29uc3QgcXVlcnkgPSBUaHVuZGVyLnV0aWwudXJsUXVlcnkoKTtcblx0XHRcdGNvbnN0IGN1c3RvbWVyRmllbGQgPSBjb250ZXh0Lm9wdGlvbnMuY3VzdG9tZXI7XG5cdFx0XHRjb25zdCBzZWNyZXRGaWVsZCA9IGNvbnRleHQub3B0aW9ucy5zZWNyZXQ7XG5cblx0XHRcdGlmIChxdWVyeVtjdXN0b21lckZpZWxkXSAmJlxuXHRcdFx0XHRxdWVyeVtzZWNyZXRGaWVsZF0pIHtcblxuXHRcdFx0XHRjb250ZXh0LmN1c3RvbWVyID0gcXVlcnlbY3VzdG9tZXJGaWVsZF07XG5cdFx0XHRcdGNvbnRleHQuc2VjcmV0ID0gcXVlcnlbc2VjcmV0RmllbGRdO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy5pbnB1dCA9PT0gJ2F0dHJpYnV0ZScpIHtcblxuXHRcdFx0Y29udGV4dC5jdXN0b21lciA9IGNvbnRleHQub3B0aW9ucy5jdXN0b21lcjtcblx0XHRcdGNvbnRleHQuc2VjcmV0ID0gY29udGV4dC5vcHRpb25zLnNlY3JldDtcblx0XHR9XG5cblx0XHRjb250ZXh0LnR5cGUgPSBjb250ZXh0LmN1c3RvbWVyICYmXG5cdFx0XHRcdFx0XHRjb250ZXh0LnNlY3JldCA/XG5cdFx0XHRcdFx0XHRcdCdyZXNldC1wYXNzd29yZCcgOlxuXHRcdFx0XHRcdFx0XHQncmVxdWVzdC1lbWFpbCc7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXNldC1wYXNzd29yZC1mb3JtJyk7XG5cblx0XHRpZiAoY29udGV4dC50eXBlID09PSAncmVxdWVzdC1lbWFpbCcpIHtcblxuXHRcdFx0Y29uc3QgJHJlcXVlc3RFbWFpbCA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1yZXF1ZXN0LWVtYWlsJyk7XG5cdFx0XHRjb25zdCAkZ29Ub0N1c3RvbWVyTG9naW4gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1nby10by1jdXN0b21lci1sb2dpbicpO1xuXHRcdFx0Y29uc3QgcmVxdWVzdEVtYWlsU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJHJlcXVlc3RFbWFpbCk7XG5cblx0XHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkZ29Ub0N1c3RvbWVyTG9naW4sIGNvbnRleHQpO1xuXG5cdFx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYShpbXBsZW1lbnRhdGlvbi5uYW1lLCAkcmVxdWVzdEVtYWlsLCBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcblxuXHRcdFx0XHRjb25zdCBkYXRhID0gJC5leHRlbmQoVGh1bmRlci51dGlsLnVzZXJJZE9yRW1haWwoXG5cdFx0XHRcdFx0VGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJGZvcm0uc2VyaWFsaXplQXJyYXkoKSlcblx0XHRcdFx0KSwge1xuXHRcdFx0XHRcdGV4cGlyZXNJbjogY29udGV4dC5vcHRpb25zLmV4cGlyZXNJbixcblx0XHRcdFx0XHRzY29wZTogICAgICdyZXNldC1wYXNzd29yZCdcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0XHRyZXF1ZXN0RW1haWxTcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdFx0J25vdC1leGlzdGluZy1jdXN0b21lcic6IGNvbnRleHQubSgnbm90RXhpc3RpbmdDdXN0b21lcicpLFxuXHRcdFx0XHRcdCdlbWFpbC1yZXF1aXJlZCc6ICAgICAgICBjb250ZXh0Lm0oJ2N1c3RvbWVyV2l0aG91dEVtYWlsJyksXG5cdFx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgIGNvbnRleHQubSgncmVxdWVzdEVtYWlsRmFpbGVkJylcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogICdQT1NUJyxcblx0XHRcdFx0XHR1cmw6ICAgICAnL3YxL2N1c3RvbWVycy92ZXJpZmljYXRpb25zL2VtYWlscycsXG5cdFx0XHRcdFx0ZGF0YTogICAgZGF0YSxcblx0XHRcdFx0fSkudGhlbigoKSA9PiB7XG5cblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25FbWFpbFJlcXVlc3QsXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xuXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRlcnIgPT4gcmVzZXRTdGF0ZSgpXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdGlmIChjb250ZXh0LnR5cGUgPT09ICdyZXNldC1wYXNzd29yZCcpIHtcblxuXHRcdFx0Y29uc3QgJHJlc2V0UGFzc3dvcmQgPSAkZm9ybS5maW5kKCcudGh1bmRlci0tcmVzZXQtcGFzc3dvcmQnKTtcblx0XHRcdGNvbnN0IHJlc2V0UGFzc3dvcmRTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkcmVzZXRQYXNzd29yZCk7XG5cblx0XHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKGltcGxlbWVudGF0aW9uLm5hbWUsICRyZXNldFBhc3N3b3JkLCBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcblxuXHRcdFx0XHRjb25zdCBkYXRhID0gJC5leHRlbmQoVGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJGZvcm0uc2VyaWFsaXplQXJyYXkoKSksIHtcblx0XHRcdFx0XHRzZWNyZXQ6IGNvbnRleHQuc2VjcmV0XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XG5cdFx0XHRcdFx0cmVzZXRQYXNzd29yZFNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3NldFBhc3N3b3JkRmFpbGVkJylcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogICAgJ1BVVCcsXG5cdFx0XHRcdFx0dXJsOiAgICAgICBgL3YxL2N1c3RvbWVycy8ke2NvbnRleHQuY3VzdG9tZXJ9L3Bhc3N3b3JkYCxcblx0XHRcdFx0XHRkYXRhOiAgICAgIGRhdGEsXG5cdFx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcblx0XHRcdFx0fSkudGhlbigoKSA9PiB7XG5cblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25QYXNzd29yZFJlc2V0LFxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRcdGNvbnRleHRcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcblxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0ZXJyID0+IHJlc2V0U3RhdGUoKVxuXHRcdFx0XHQpKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgcHJvZHVjdFJldmlldyA9IHJlcXVpcmUoJy4uL3Byb2R1Y3QtcmV2aWV3Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgcHJvZHVjdFJldmlld0luc3RhbmNlID0gcHJvZHVjdFJldmlldyhUaHVuZGVyKTtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQnXG5cdH07XG5cblx0Ly8gT3RoZXIgb3B0aW9ucyB3aWxsIGJlIGV4YWN0bHkgc2FtZSBhcyBgcHJvZHVjdC1yZXZpZXdgIGNvbXBvbmVudFxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gJC5leHRlbmQoXG5cdFx0cHJvZHVjdFJldmlld0luc3RhbmNlLm9wdGlvbnMoKSxcblx0XHR7XG5cdFx0XHRjb21tZW50OiAgICAgIG51bGwsIC8vIENvbW1lbnQgSURcblx0XHRcdHNob3dQcm9kdWN0OiAgdHJ1ZSxcblx0XHRcdHNob3dDb21tZW50czoge1xuXHRcdFx0XHRmaWx0ZXI6ICAgICAgICAgbnVsbCxcblx0XHRcdFx0dXNlQm9keUV4Y2VycHQ6IGZhbHNlLFxuXHRcdFx0XHR1c2VGbGFnOiAgICAgICAgZmFsc2UsXG5cdFx0XHRcdHVzZVBhZ2luYXRpb246ICBmYWxzZSxcblx0XHRcdH0sXG5cdFx0fVxuXHQpO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRiYWNrVG9Db21tZW50cyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tY29tbWVudHMnKTtcblx0XHRjb25zdCAkcmV2aWV3Q29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQtY29udGFpbmVyJyk7XG5cblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb0NvbW1lbnRzLCBjb250ZXh0KTtcblxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMuc2hvd0NvbW1lbnRzKSB7XG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMuc2hvd0NvbW1lbnRzLmZpbHRlciA9IHsgaWRzOiBjb250ZXh0Lm9wdGlvbnMuY29tbWVudCB9O1xuXHRcdH1cblxuXHRcdFRodW5kZXIucmVuZGVyKCRyZXZpZXdDb250YWluZXIsICdwcm9kdWN0LXJldmlldycsIGNvbnRleHQub3B0aW9ucyk7XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdjdXN0b21lci1yZXZpZXctY29tbWVudHMnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0cGFnZTogICAgICAgICAgICAxLCAgICAgICAgICAgIC8vIFdoaWNoIHBhZ2Ugb2YgY29tbWVudHM/XG5cdFx0bGltaXQ6ICAgICAgICAgICAxMCwgICAgICAgICAgIC8vIEhvdyBtYW55IGNvbW1lbnRzIGF0IG9uY2U/XG5cdFx0c29ydDogICAgICAgICAgICAnLWNyZWF0ZWRBdCcsIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxuXHRcdHVzZVBhZ2luYXRpb246ICAgdHJ1ZSwgICAgICAgICAvLyBVc2UgUGFnaW5hdGlvbj9cblxuXHRcdG9uVmlld0NvbW1lbnQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHJldmlld0lkLCBjb21tZW50SWQpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjdXN0b21lci1yZXZpZXctY29tbWVudCcsIHtcblx0XHRcdFx0cmV2aWV3OiAgcmV2aWV3SWQsXG5cdFx0XHRcdGNvbW1lbnQ6IGNvbW1lbnRJZCxcblx0XHRcdFx0YmFjazogICAge1xuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCBjdXN0b21lciA9IFRodW5kZXIuYXV0aGVudGljYXRlZCgnY3VzdG9tZXInKS5zdWI7XG5cblx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NvbW1lbnRMaXN0RmFpbGVkJylcblx0XHR9O1xuXG5cdFx0cmV0dXJuICQud2hlbihcblx0XHRcdGZldGNoQ29tbWVudHMoKSxcblx0XHRcdGNvdW50Q29tbWVudHMoKVxuXHRcdCkudGhlbigoY29tbWVudHMsIGNvdW50KSA9PiBjYWxsYmFjayhudWxsLCAkLmV4dGVuZChjb250ZXh0LCB7XG5cdFx0XHRjb21tZW50czogY29tbWVudHNbMF0gfHwgW10sXG5cdFx0XHRjb3VudDogICAgY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGwsXG5cdFx0fSkpLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0ZXJyb3JzLFxuXHRcdFx0Y2FsbGJhY2tcblx0XHQpKTtcblxuXHRcdGZ1bmN0aW9uIGZldGNoQ29tbWVudHMoKSB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cycsXG5cdFx0XHRcdHF1ZXJ5OiB7XG5cdFx0XHRcdFx0Y3VzdG9tZXI6IGN1c3RvbWVyLFxuXHRcdFx0XHRcdHBhZ2U6ICAgICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0XHRsaW1pdDogICAgY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRcdHNvcnQ6ICAgICBjb250ZXh0Lm9wdGlvbnMuc29ydCxcblx0XHRcdFx0XHRmaWVsZHM6ICAgW1xuXHRcdFx0XHRcdFx0J3JldmlldycsXG5cdFx0XHRcdFx0XHQnY3VzdG9tZXInLFxuXHRcdFx0XHRcdFx0J2JvZHknLFxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXG5cdFx0XHRcdFx0XS5qb2luKCcsJyksXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY291bnRDb21tZW50cygpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy92MS9wcm9kdWN0cy9yZXZpZXdzL2NvbW1lbnRzL2NvdW50Jyxcblx0XHRcdFx0cXVlcnk6IHtcblx0XHRcdFx0XHRjdXN0b21lcjogY3VzdG9tZXIsXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0IGNvbW1lbnRNYXAgPSBjb250ZXh0LmNvbW1lbnRzLnJlZHVjZSgobywgY29tbWVudCkgPT4ge1xuXHRcdFx0cmV0dXJuIHNldChvLCBjb21tZW50Ll9pZCwgY29tbWVudCk7XG5cdFx0fSwge30pO1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJHZpZXdDb21tZW50ID0gJCh0aGlzKS5maW5kKFtcblx0XHRcdCcudGh1bmRlci0tY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQtYm9keScsXG5cdFx0XHQnLnRodW5kZXItLXZpZXctY29tbWVudCcsXG5cdFx0XS5qb2luKCcsJykpO1xuXHRcdGNvbnN0ICRwYWdpbmF0aW9uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQtbGlzdC1wYWdpbmF0aW9uJyk7XG5cblx0XHQkdmlld0NvbW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1jb21tZW50XScpLmRhdGEoJ2NvbW1lbnQnKTtcblx0XHRcdGNvbnN0IGNvbW1lbnQgPSBjb21tZW50TWFwW2NvbW1lbnRJZF07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblZpZXdDb21tZW50LFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRjb21tZW50LnJldmlldy5faWQsXG5cdFx0XHRcdGNvbW1lbnQuX2lkXG5cdFx0XHQpO1xuXG5cdFx0fSk7XG5cblx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZVBhZ2luYXRpb24pIHtcblxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xuXHRcdFx0XHRjb250YWluZXI6ICAgICAkcGFnaW5hdGlvbixcblx0XHRcdFx0Y3VycmVudFBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXG5cdFx0XHRcdHRvdGFsUmVzdWx0OiAgIGNvbnRleHQuY291bnQucmF3LFxuXHRcdFx0XHRyZXN1bHRQZXJQYWdlOiBjb250ZXh0Lm9wdGlvbnMubGltaXQsXG5cdFx0XHRcdG9uUGFnZUNoYW5nZTogICh7IHBhZ2UgfSkgPT4gVGh1bmRlci5yZW5kZXIoXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0XHRcdCQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywgeyBwYWdlIH0pXG5cdFx0XHRcdClcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBwcm9kdWN0UmV2aWV3ID0gcmVxdWlyZSgnLi4vcHJvZHVjdC1yZXZpZXcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItcmV2aWV3J1xuXHR9O1xuXG5cdC8vIEFsbCBvcHRpb25zIGFyZSBleGFjdGx5IHNhbWUgYXMgYHByb2R1Y3QtcmV2aWV3YCBjb21wb25lbnRcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICQuZXh0ZW5kKFxuXHRcdHByb2R1Y3RSZXZpZXcoVGh1bmRlcikub3B0aW9ucygpLFxuXHRcdHtcblx0XHRcdHVzZUJvZHlFeGNlcnB0OiBmYWxzZSxcblx0XHRcdHVzZUZsYWc6ICAgICAgICBmYWxzZSxcblx0XHRcdHNob3dQcm9kdWN0OiAgICB0cnVlLFxuXHRcdFx0c2hvd0NvbW1lbnRzOiAgIHRydWUsXG5cdFx0fVxuXHQpO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRiYWNrVG9SZXZpZXdzID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYmFjay10by1yZXZpZXdzJyk7XG5cdFx0Y29uc3QgJHJldmlld0NvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWN1c3RvbWVyLXJldmlldy1jb250YWluZXInKTtcblxuXHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvUmV2aWV3cywgY29udGV4dCk7XG5cblx0XHRUaHVuZGVyLnJlbmRlcigkcmV2aWV3Q29udGFpbmVyLCAncHJvZHVjdC1yZXZpZXcnLCBjb250ZXh0Lm9wdGlvbnMpO1xuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2N1c3RvbWVyLXJldmlld3MnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0cGFnZTogICAgICAgICAgICAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoaWNoIHBhZ2Ugb2YgcmV2aWV3cz9cblx0XHRsaW1pdDogICAgICAgICAgIDEyLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IG1hbnkgcmV2aWV3cyBhdCBvbmNlP1xuXHRcdHNvcnQ6ICAgICAgICAgICAgJy1jcmVhdGVkQXQnLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHNvcnQgdmFsdWVcblx0XHR1c2VSYXRpbmc6ICAgICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nLCAgLy8gVXNlIHJhdGluZz9cblx0XHR1c2VDb21tZW50czogICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3Q29tbWVudCwgLy8gVXNlIHJldmlldyBjb21tZW50cz9cblx0XHR1c2VIZWxwVm90ZTogICAgIHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGhlbHBmdWwgdm90ZXM/XG5cdFx0dXNlUGFnaW5hdGlvbjogICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBQYWdpbmF0aW9uP1xuXG5cdFx0b25WaWV3UmV2aWV3OiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCByZXZpZXdJZCkge1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXJldmlldycsIHtcblx0XHRcdFx0cmV2aWV3OiAgICAgICAgcmV2aWV3SWQsXG5cdFx0XHRcdHVzZVJhdGluZzogICAgIGNvbnRleHQub3B0aW9ucy51c2VSYXRpbmcsXG5cdFx0XHRcdHVzZUhlbHBWb3RlOiAgIGNvbnRleHQub3B0aW9ucy51c2VIZWxwVm90ZSxcblx0XHRcdFx0dXNlQ29tbWVudHM6ICAgY29udGV4dC5vcHRpb25zLnVzZUNvbW1lbnRzLFxuXHRcdFx0XHRiYWNrOiAgICAgICAgICB7XG5cdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnM6ICAgIGNvbnRleHQub3B0aW9uc1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdH1cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnN0IGN1c3RvbWVyID0gVGh1bmRlci5hdXRoZW50aWNhdGVkKCdjdXN0b21lcicpLnN1YjtcblxuXHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3TGlzdEZhaWxlZCcpXG5cdFx0fTtcblxuXHRcdHJldHVybiAkLndoZW4oXG5cdFx0XHRmZXRjaFJldmlld3MoKSxcblx0XHRcdGNvdW50UmV2aWV3cygpXG5cdFx0KS50aGVuKChyZXZpZXdzLCBjb3VudCkgPT4gY2FsbGJhY2sobnVsbCwgJC5leHRlbmQoY29udGV4dCwge1xuXHRcdFx0cmV2aWV3czogcmV2aWV3c1swXSB8fCBbXSxcblx0XHRcdGNvdW50OiAgIGNvdW50ID8gY291bnRbMF0uY291bnQgOiBudWxsLFxuXHRcdH0pKSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cblx0XHRmdW5jdGlvbiBmZXRjaFJldmlld3MoKSB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9wdWJsaXNoZWQnLFxuXHRcdFx0XHRxdWVyeToge1xuXHRcdFx0XHRcdGN1c3RvbWVyOiBjdXN0b21lcixcblx0XHRcdFx0XHRwYWdlOiAgICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXG5cdFx0XHRcdFx0bGltaXQ6ICAgIGNvbnRleHQub3B0aW9ucy5saW1pdCxcblx0XHRcdFx0XHRzb3J0OiAgICAgY29udGV4dC5vcHRpb25zLnNvcnQsXG5cdFx0XHRcdFx0ZmllbGRzOiAgIFtcblx0XHRcdFx0XHRcdCdwcm9kdWN0Jyxcblx0XHRcdFx0XHRcdCd0aXRsZScsXG5cdFx0XHRcdFx0XHQnaW1hZ2VzJyxcblx0XHRcdFx0XHRcdCdyYXRpbmcnLFxuXHRcdFx0XHRcdFx0J2hlbHBlZCcsXG5cdFx0XHRcdFx0XHQndG90YWxDb21tZW50Jyxcblx0XHRcdFx0XHRcdCdjcmVhdGVkQXQnLFxuXHRcdFx0XHRcdF0uam9pbignLCcpLFxuXHRcdFx0XHRcdGVtYmVkOiAnK3Byb2R1Y3QudGh1bWJuYWlsJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNvdW50UmV2aWV3cygpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZC9jb3VudCcsXG5cdFx0XHRcdHF1ZXJ5OiB7XG5cdFx0XHRcdFx0Y3VzdG9tZXI6IGN1c3RvbWVyLFxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcblx0XHRjb25zdCAkdmlld1JldmlldyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXZpZXctcmV2aWV3Jyk7XG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1yZXZpZXctbGlzdC1wYWdpbmF0aW9uJyk7XG5cblx0XHQkdmlld1Jldmlldy5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRjb25zdCByZXZpZXdJZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmV2aWV3XScpLmRhdGEoJ3JldmlldycpO1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WaWV3UmV2aWV3LFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRyZXZpZXdJZFxuXHRcdFx0KTtcblxuXHRcdH0pO1xuXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uKSB7XG5cblx0XHRcdFRodW5kZXIucGx1Z2lucy5wYWdpbmF0aW9uKHtcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxuXHRcdFx0XHR0b3RhbFJlc3VsdDogICBjb250ZXh0LmNvdW50LnJhdyxcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxuXHRcdFx0XHQpXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IHRyYW5zbGF0aW9uS2V5ID0ge1xuXHRcdCduYW1lLmZpcnN0JzogJ2ZpcnN0TmFtZScsXG5cdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxuXHRcdCduYW1lLmZ1bGwnOiAgJ2Z1bGxOYW1lJyxcblx0fTtcblxuXHQvLyBJbXBsZW1lbnRhdGlvblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItdXBkYXRlLWFkZHJlc3MnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cblx0XHRyZWNpcGllbnRGaWVsZHM6IFRodW5kZXIub3B0aW9ucy5yZWNpcGllbnRGaWVsZHMsXG5cdFx0YWRkcmVzc0Rpc2FibGVkOiBUaHVuZGVyLm9wdGlvbnMuYWRkcmVzc0Rpc2FibGVkLFxuXG5cdFx0b25VcGRhdGU6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3VwZGF0ZVN1Y2Nlc3MnKSk7XG5cdFx0fSxcblxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3QgZGlzYWJsZWRBZGRyZXNzRmllbGRzID1cblx0XHRcdFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKGNvbnRleHQub3B0aW9ucy5hZGRyZXNzRGlzYWJsZWQpXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgZmllbGQpID0+IHNldChvLCBmaWVsZCwgdHJ1ZSksIHt9KTtcblxuXHRcdGNvbnRleHQudXNlU2VhcmNoQWRkcmVzcyA9ICEhVGh1bmRlci5wbHVnaW5zLnNlYXJjaEFkZHJlc3M7XG5cblx0XHRjb250ZXh0LmRpc2FibGVkID0gZmllbGQgPT5cblx0XHRcdGRpc2FibGVkQWRkcmVzc0ZpZWxkc1tmaWVsZF0gJiZcblx0XHRcdGNvbnRleHQudXNlU2VhcmNoQWRkcmVzcyA/ICdyZWFkb25seScgOiAnJztcblxuXHRcdGNvbnRleHQucmVjaXBpZW50RmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLnJlY2lwaWVudEZpZWxkcykubWFwKGZpZWxkID0+IHtcblxuXHRcdFx0Y29uc3QgW2tleSwgcmVxdWlyZWRdID0gZmllbGQuc3BsaXQoJzonKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cmVxdWlyZWQ6ICAgICAgIHJlcXVpcmVkID09PSAncmVxdWlyZWQnLFxuXHRcdFx0XHRrZXk6ICAgICAgICAgICAga2V5LFxuXHRcdFx0XHR0cmFuc2xhdGlvbktleTogdHJhbnNsYXRpb25LZXlba2V5XSB8fCBrZXlcblx0XHRcdH07XG5cblx0XHR9KTtcblxuXHRcdGNvbnRleHQuYWRkcmVzc0ZpZWxkcyA9IFtcblx0XHRcdHsgcmVxdWlyZWQ6IHRydWUsIGtleTogJ2NvdW50cnknLCB0cmFuc2xhdGlvbktleTogJ2NvdW50cnknLCB9LFxuXHRcdFx0eyByZXF1aXJlZDogZmFsc2UsIGtleTogJ3N0YXRlJywgdHJhbnNsYXRpb25LZXk6ICdzdGF0ZScsIH0sXG5cdFx0XHR7IHJlcXVpcmVkOiB0cnVlLCBrZXk6ICdjaXR5JywgdHJhbnNsYXRpb25LZXk6ICdjaXR5JywgfSxcblx0XHRcdHsgcmVxdWlyZWQ6IHRydWUsIGtleTogJ2FkZHJlc3MxJywgdHJhbnNsYXRpb25LZXk6ICdhZGRyZXNzMScsIH0sXG5cdFx0XHR7IHJlcXVpcmVkOiBmYWxzZSwga2V5OiAnYWRkcmVzczInLCB0cmFuc2xhdGlvbktleTogJ2FkZHJlc3MyJywgfSxcblx0XHRcdHsgcmVxdWlyZWQ6IHRydWUsIGtleTogJ3Bvc3Rjb2RlJywgdHJhbnNsYXRpb25LZXk6ICdwb3N0Y29kZScsIH0sXG5cdFx0XTtcblxuXHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY3VzdG9tZXJSZWFkRmFpbGVkJylcblx0XHR9O1xuXG5cdFx0JC53aGVuKFxuXHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0dXJsOiAgICAnL3YxL2NvdW50cmllcycsXG5cdFx0XHRcdHF1ZXJ5OiAgeyBmaWVsZHM6ICdjb2RlJywgbGltaXQ6IDEyMCwgcGFnZTogMSB9LFxuXHRcdFx0fSksXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgICcvdjEvY291bnRyaWVzJyxcblx0XHRcdFx0cXVlcnk6ICB7IGZpZWxkczogJ2NvZGUnLCBsaW1pdDogMTIwLCBwYWdlOiAyIH0sXG5cdFx0XHR9KSxcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9jb3VudHJpZXMnLFxuXHRcdFx0XHRxdWVyeTogIHsgZmllbGRzOiAnY29kZScsIGxpbWl0OiAxMjAsIHBhZ2U6IDMgfSxcblx0XHRcdH0pLFxuXHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0dXJsOiAgICAnL3YxL21lJyxcblx0XHRcdFx0cXVlcnk6ICB7IGZpZWxkczogJ2FkZHJlc3MnIH1cblx0XHRcdH0pXG5cdFx0KS50aGVuKChcblx0XHRcdGNvdW50cmllczEsXG5cdFx0XHRjb3VudHJpZXMyLFxuXHRcdFx0Y291bnRyaWVzMyxcblx0XHRcdGN1c3RvbWVyXG5cdFx0KSA9PiB7XG5cblx0XHRcdGNvbnRleHQuY291bnRyaWVzID0gW10uY29uY2F0KFxuXHRcdFx0XHRjb3VudHJpZXMxWzBdLFxuXHRcdFx0XHRjb3VudHJpZXMyWzBdLFxuXHRcdFx0XHRjb3VudHJpZXMzWzBdXG5cdFx0XHQpO1xuXG5cdFx0XHRjb250ZXh0LmFkZHJlc3MgPSBjdXN0b21lclswXS5hZGRyZXNzLnByaW1hcnkgfHwgeyBuYW1lOiB7fSB9O1xuXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0ZXJyb3JzLFxuXHRcdFx0Y2FsbGJhY2tcblx0XHQpKTtcblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcblx0XHRjb25zdCAkZm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWN1c3RvbWVyLWFkZHJlc3MtdXBkYXRlLWZvcm0nKTtcblx0XHRjb25zdCAkYnV0dG9uID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXVwZGF0ZS1hZGRyZXNzJyk7XG5cdFx0Y29uc3QgJHNlYXJjaEFkZHJlc3MgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zZWFyY2gtYWRkcmVzcycpO1xuXHRcdGNvbnN0ICRkaXNhYmxlZEFkZHJlc3NJbnB1dHMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1hZGRyZXNzLWxvY2F0aW9uIGRpdiBbcmVhZG9ubHldJykucGFyZW50KCk7XG5cblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uLCB7IGJpbmQ6IGZhbHNlIH0pO1xuXG5cdFx0Y29uc3QgcmVjaXBpZW50RmllbGRzID0gY29udGV4dC5yZWNpcGllbnRGaWVsZHMubWFwKGYgPT4gZi5rZXkpO1xuXHRcdGNvbnN0IGFkZHJlc3NGaWVsZHMgPSBjb250ZXh0LmFkZHJlc3NGaWVsZHMubWFwKGYgPT4gZi5rZXkpO1xuXHRcdGNvbnN0IGFsbEZpZWxkc01hcCA9IFtcblx0XHRcdC4uLnJlY2lwaWVudEZpZWxkcyxcblx0XHRcdC4uLmFkZHJlc3NGaWVsZHNcblx0XHRdLnJlZHVjZSgobywgZmllbGQpID0+IHNldChvLCBbZmllbGRdLCB0cnVlKSwge30pO1xuXG5cdFx0Y29uc3QgJGZpZWxkcyA9IFtdLmNvbmNhdChyZWNpcGllbnRGaWVsZHMsIGFkZHJlc3NGaWVsZHMpXG5cdFx0XHRcdFx0XHQucmVkdWNlKChvLCBrZXkpID0+IHNldChvLCBba2V5XSwgJGZvcm0uZmluZChgW25hbWU9XCIke2tleX1cIl1gKSksIHt9KTtcblxuXHRcdGFkZHJlc3NUb0Zvcm0oY29udGV4dC5hZGRyZXNzKTtcblxuXHRcdCRzZWFyY2hBZGRyZXNzLm9uKCdjbGljaycsIHNlYXJjaEFkZHJlc3MpO1xuXHRcdCRkaXNhYmxlZEFkZHJlc3NJbnB1dHMub24oJ2NsaWNrJywgc2VhcmNoQWRkcmVzcyk7XG5cblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYSh7XG5cdFx0XHRjb21wb25lbnROYW1lOiBpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0YnV0dG9uOiAgICAgICAgJGJ1dHRvbixcblx0XHRcdHZhbGlkYXRlOiAgICAgIHZhbGlkYXRlQWRkcmVzcyxcblx0XHRcdGNhbGxiYWNrOiAgICAgIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xuXG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIucnVuKCk7XG5cblx0XHRcdFx0Y29uc3QgcHJpbWFyeUFkZHJlc3MgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblx0XHRcdFx0Y29uc3QgcmVjYXB0Y2hhID0gVGh1bmRlci51dGlsLnVuc2V0UmVjYXB0Y2hhKHByaW1hcnlBZGRyZXNzKTtcblxuXHRcdFx0XHRjb25zdCBkYXRhID0geyBhZGRyZXNzOiB7IHByaW1hcnk6IHByaW1hcnlBZGRyZXNzIH0gfTtcblxuXHRcdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xuXHRcdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHQnaW52YWxpZC1wb3N0Y29kZSc6ICBjb250ZXh0Lm0oJ2ludmFsaWRQb3N0Y29kZScpLFxuXHRcdFx0XHRcdCdwb3N0Y29kZS1yZXF1aXJlZCc6IGNvbnRleHQubSgncG9zdGNvZGVSZXF1aXJlZCcpLFxuXHRcdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgIGNvbnRleHQubSgndXBkYXRlRmFpbGVkJyksXG5cdFx0XHRcdFx0dmFsaWRhdGlvbjogZXJyID0+IHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgWywgZmllbGRdID0gZXJyLnZhbGlkYXRpb24uc291cmNlLnNwbGl0KCdhZGRyZXNzLnByaW1hcnkuJyk7XG5cblx0XHRcdFx0XHRcdGlmICghZmllbGQgfHwgIWFsbEZpZWxkc01hcFtmaWVsZF0pIHJldHVybjtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQubShjYW1lbENhc2UoWydpbnZhbGlkJywgdHJhbnNsYXRpb25LZXlbZmllbGRdIHx8IGZpZWxkXSkpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAgICAnUFVUJyxcblx0XHRcdFx0XHR1cmw6ICAgICAgICcvdjEvbWUnLFxuXHRcdFx0XHRcdGRhdGE6ICAgICAgZGF0YSxcblx0XHRcdFx0XHRyZWNhcHRjaGE6IHJlY2FwdGNoYVxuXHRcdFx0XHR9KS50aGVuKGRhdGEgPT4ge1xuXG5cdFx0XHRcdFx0Y29uc3QgYWRkcmVzcyA9IGdldChkYXRhLCAnYWRkcmVzcy5wcmltYXJ5Jyk7XG5cblx0XHRcdFx0XHRhZGRyZXNzVG9Gb3JtKGFkZHJlc3MpO1xuXG5cdFx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVXBkYXRlLFxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdFx0XHRhZGRyZXNzXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XG5cblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRcdGVyciA9PiByZXNldFN0YXRlKClcblx0XHRcdFx0KSk7XG5cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlQWRkcmVzcygpIHtcblxuXHRcdFx0Y29uc3QgYWRkcmVzcyA9IFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRmb3JtLnNlcmlhbGl6ZUFycmF5KCkpO1xuXG5cdFx0XHRjb25zdCByZXF1aXJlZEZpZWxkcyA9IFtdLmNvbmNhdChcblx0XHRcdFx0Y29udGV4dC5yZWNpcGllbnRGaWVsZHMsXG5cdFx0XHRcdGNvbnRleHQuYWRkcmVzc0ZpZWxkc1xuXHRcdFx0KS5maWx0ZXIoZiA9PiBmLnJlcXVpcmVkKS5tYXAoZiA9PiBmLmtleSk7XG5cblx0XHRcdGZvciAoY29uc3QgZmllbGQgb2YgcmVxdWlyZWRGaWVsZHMpIHtcblxuXHRcdFx0XHRpZiAoIWdldChhZGRyZXNzLCBmaWVsZCwgbnVsbCkpIHtcblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oYCR7dHJhbnNsYXRpb25LZXlbZmllbGRdIHx8IGZpZWxkfVJlcXVpcmVkYCkpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYWRkcmVzc1RvRm9ybShhZGRyZXNzLCBvbmx5QWRkcmVzc0ZpZWxkcyA9IGZhbHNlKSB7XG5cblx0XHRcdGlmICghYWRkcmVzcykgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCBmaWVsZHMgPSBvbmx5QWRkcmVzc0ZpZWxkcyA/XG5cdFx0XHRcdFx0XHRcdGFkZHJlc3NGaWVsZHMgOlxuXHRcdFx0XHRcdFx0XHRbXS5jb25jYXQocmVjaXBpZW50RmllbGRzLCBhZGRyZXNzRmllbGRzKTtcblxuXHRcdFx0ZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gZmllbGQgPT09ICdjb3VudHJ5JyA/XG5cdFx0XHRcdFx0XHRcdFx0Z2V0KGFkZHJlc3MsIGAke2ZpZWxkfS5jb2RlYCwgZ2V0KGFkZHJlc3MsIGZpZWxkLCBudWxsKSkgOlxuXHRcdFx0XHRcdFx0XHRcdGdldChhZGRyZXNzLCBmaWVsZCwgbnVsbCk7XG5cblx0XHRcdFx0JGZpZWxkc1tmaWVsZF0udmFsKHZhbHVlKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHNlYXJjaEFkZHJlc3MoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnNlYXJjaEFkZHJlc3MoKGVyciwgYWRkcmVzcykgPT4ge1xuXG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgZXJyLm1lc3NhZ2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWRkcmVzc1RvRm9ybShhZGRyZXNzLCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsImNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAnY3VzdG9tZXItdXBkYXRlLWNyZWRlbnRpYWwnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cblx0XHRmaWVsZDogbnVsbCwgLy8gJ3VzZXJJZCcsICdlbWFpbCcsICdwYXNzd29yZCdcblxuXHRcdG9uVXBkYXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCd1cGRhdGVTdWNjZXNzJykpO1xuXHRcdH0sXG5cdFx0b25VcGRhdGVDdXN0b21lcjogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgZmllbGQpIHtcblxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXVwZGF0ZScpO1xuXHRcdH1cblxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJHVwZGF0ZUN1c3RvbWVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tdXBkYXRlLWN1c3RvbWVyJyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jcmVkZW50aWFsLWZvcm0nKTtcblx0XHRjb25zdCAkYnV0dG9uID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXVwZGF0ZS1jcmVkZW50aWFsJyk7XG5cdFx0Y29uc3QgYnV0dG9uU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJGJ1dHRvbik7XG5cblx0XHQkdXBkYXRlQ3VzdG9tZXIub24oJ2NsaWNrJywgKCkgPT4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVXBkYXRlQ3VzdG9tZXIsXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dFxuXHRcdCkpO1xuXG5cdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoaW1wbGVtZW50YXRpb24ubmFtZSwgJGJ1dHRvbiwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblxuXHRcdFx0Ly8gRm9yIGN1c3RvbWVycyB3aXRoIHNvY2lhbCByZWdpc3RyYXRpb25zXG5cdFx0XHRkYXRhLnBhc3N3b3JkID0gZGF0YS5wYXNzd29yZCB8fCAnJztcblxuXHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHQnaW52YWxpZC1wYXNzd29yZCc6ICAgY29udGV4dC5tKCdpbnZhbGlkUGFzc3dvcmQnKSxcblx0XHRcdFx0J2R1cGxpY2F0ZWQtdXNlci1pZCc6IGNvbnRleHQubSgnZHVwbGljYXRlZFVzZXJJZCcpLFxuXHRcdFx0XHQnZHVwbGljYXRlZC1lbWFpbCc6ICAgY29udGV4dC5tKCdkdXBsaWNhdGVkRW1haWwnKSxcblx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgIGNvbnRleHQubSgndXBkYXRlRmFpbGVkJyksXG5cdFx0XHRcdHZhbGlkYXRpb246IGVyciA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcGF0aCA9IGVyci52YWxpZGF0aW9uLnNvdXJjZS5zcGxpdCgnLicpO1xuXHRcdFx0XHRcdGNvbnN0IGZpZWxkID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQubShjYW1lbENhc2UoWydpbnZhbGlkTmV3JywgZmllbGRdKSk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0dXJsOiAgICAnL3YxL21lL2NyZWRlbnRpYWxzJyxcblx0XHRcdFx0ZGF0YTogICBkYXRhLFxuXHRcdFx0fSkudGhlbigoKSA9PiB7XG5cblx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVwZGF0ZSxcblx0XHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRcdGNvbnRleHRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xuXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0ZXJyID0+IHJlc2V0U3RhdGUoKVxuXHRcdFx0KSk7XG5cblx0XHR9KTtcblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgdHJhbnNsYXRpb25LZXkgPSB7XG5cdFx0J25hbWUuZmlyc3QnOiAnZmlyc3ROYW1lJyxcblx0XHQnbmFtZS5sYXN0JzogICdsYXN0TmFtZScsXG5cdFx0J25hbWUuZnVsbCc6ICAnZnVsbE5hbWUnLFxuXHR9O1xuXG5cdC8vIEltcGxlbWVudGF0aW9uXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdjdXN0b21lci11cGRhdGUnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cblx0XHRmaWVsZHM6ICAgICAgICAgIFRodW5kZXIub3B0aW9ucy5jdXN0b21lclVwZGF0ZUZpZWxkcyxcblx0XHRiaXJ0aGRhdGVGb3JtYXQ6IFRodW5kZXIub3B0aW9ucy5kYXRlSW5wdXRGb3JtYXQsXG5cblx0XHRvblVwZGF0ZTogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgY3VzdG9tZXIpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCd1cGRhdGVTdWNjZXNzJykpO1xuXHRcdH0sXG5cdFx0b25DaGFuZ2VDcmVkZW50aWFsOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBmaWVsZCkge1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsJywgeyBmaWVsZCB9KTtcblx0XHR9XG5cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnN0IGJpcnRoT3B0aW9ucyA9IHtcblx0XHRcdFlZWVk6IHsga2V5OiAnYmlydGhZZWFyJywgdHJhbnNsYXRpb25LZXk6ICd5ZWFyJywgdGVzdGVyOiAvXlxcZHs0fSQvIH0sXG5cdFx0XHRNTTogICB7IGtleTogJ2JpcnRoTW9udGgnLCB0cmFuc2xhdGlvbktleTogJ21vbnRoJywgdGVzdGVyOiAvXlxcZHsxLDJ9JC8gfSxcblx0XHRcdEREOiAgIHsga2V5OiAnYmlydGhEYXRlJywgdHJhbnNsYXRpb25LZXk6ICdkYXRlJywgdGVzdGVyOiAvXlxcZHsxLDJ9JC8gfVxuXHRcdH07XG5cblx0XHRjb25zdCBoYXNCaXJ0aERhdGUgPSBjb250ZXh0Lm9wdGlvbnMuZmllbGRzLmluZGV4T2YoJ2JpcnRoZGF0ZScpID49IDA7XG5cdFx0Y29uc3QgYmlydGhkYXRlRm9ybWF0cyA9IGNvbnRleHQub3B0aW9ucy5iaXJ0aGRhdGVGb3JtYXQuc3BsaXQoJy0nKTtcblxuXHRcdGNvbnRleHQuZmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmZpZWxkcykubWFwKGZpZWxkID0+IHtcblxuXHRcdFx0Y29uc3QgW2tleSwgcmVxdWlyZWRdID0gZmllbGQuc3BsaXQoJzonKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cmVxdWlyZWQ6ICAgICAgIHJlcXVpcmVkID09PSAncmVxdWlyZWQnLFxuXHRcdFx0XHRrZXk6ICAgICAgICAgICAga2V5LFxuXHRcdFx0XHR0cmFuc2xhdGlvbktleTogdHJhbnNsYXRpb25LZXlba2V5XSB8fCBrZXlcblx0XHRcdH07XG5cblx0XHR9KTtcblxuXHRcdGNvbnRleHQuYmlydGhkYXRlRmllbGRzID0gaGFzQmlydGhEYXRlID8gYmlydGhkYXRlRm9ybWF0cy5tYXAoKGZvcm1hdCwgaSkgPT4gJC5leHRlbmQoe1xuXHRcdFx0bGFzdDogaSA9PT0gYmlydGhkYXRlRm9ybWF0cy5sZW5ndGggLSAxXG5cdFx0fSwgYmlydGhPcHRpb25zW2Zvcm1hdF0pKSA6IFtdO1xuXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjdXN0b21lclJlYWRGYWlsZWQnKVxuXHRcdH07XG5cblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICAgICcvdjEvbWUnLFxuXHRcdFx0cXVlcnk6ICB7XG5cdFx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHRcdCdhdmF0YXInLFxuXHRcdFx0XHRcdCd1c2VySWQnLFxuXHRcdFx0XHRcdCdlbWFpbCcsXG5cdFx0XHRcdFx0J2FsaWFzJyxcblx0XHRcdFx0XHQnbmFtZS5maXJzdCcsXG5cdFx0XHRcdFx0J25hbWUubGFzdCcsXG5cdFx0XHRcdFx0J25hbWUuZnVsbCcsXG5cdFx0XHRcdFx0J21vYmlsZScsXG5cdFx0XHRcdFx0J3Bob25lJyxcblx0XHRcdFx0XHQnZ2VuZGVyJyxcblx0XHRcdFx0XHQnYmlydGhkYXRlJyxcblx0XHRcdFx0XHQnY291bnRyeScsXG5cdFx0XHRcdF0uam9pbignLCcpXG5cdFx0XHR9XG5cdFx0fSkudGhlbihkYXRhID0+IHtcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBzZXQoY29udGV4dCwgJ2N1c3RvbWVyJywgZGF0YSkpO1xuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRiYWNrVG9DaGVja291dCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tY2hlY2tvdXQnKTtcblx0XHRjb25zdCAkY2hhbmdlQ3JlZGVudGlhbCA9ICQodGhpcykuZmluZCgnW2RhdGEtY2hhbmdlLWNyZWRlbnRpYWxdJyk7XG5cdFx0Y29uc3QgJGF2YXRhckZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1hdmF0YXItZm9ybScpO1xuXHRcdGNvbnN0ICRhdmF0YXIgPSAkYXZhdGFyRm9ybS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItYXZhdGFyJyk7XG5cdFx0Y29uc3QgJHVwZGF0ZUZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci11cGRhdGUtZm9ybScpO1xuXHRcdGNvbnN0ICRidXR0b24gPSAkdXBkYXRlRm9ybS5maW5kKCcudGh1bmRlci0tdXBkYXRlLWN1c3RvbWVyJyk7XG5cdFx0Y29uc3QgYnV0dG9uU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJGJ1dHRvbiwgeyBiaW5kOiBmYWxzZSB9KTtcblxuXHRcdGNvbnN0IGZpZWxkcyA9IFtcblx0XHRcdC4uLmNvbnRleHQuZmllbGRzLFxuXHRcdFx0Li4uY29udGV4dC5iaXJ0aGRhdGVGaWVsZHNcblx0XHRdXG5cdFx0LmZpbHRlcigoeyBrZXkgfSkgPT4ga2V5ICE9PSAnYmlydGhkYXRlJylcblx0XHQubWFwKCh7IGtleSB9KSA9PiAoe1xuXHRcdFx0a2V5OiAgIGtleSxcblx0XHRcdCRpbnB1dDogJHVwZGF0ZUZvcm0uZmluZChgW25hbWU9XCIke2tleX1cIl1gKSxcblx0XHR9KSk7XG5cblx0XHRjdXN0b21lclRvRm9ybShjb250ZXh0LmN1c3RvbWVyKTtcblxuXHRcdFRodW5kZXIudXRpbC5pbWFnZVVwbG9hZGVyKFxuXHRcdFx0JGF2YXRhckZvcm0sXG5cdFx0XHRpbWFnZSA9PiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUnLFxuXHRcdFx0XHRkYXRhOiAgIHsgYXZhdGFyOiBpbWFnZS5faWQgfVxuXHRcdFx0fSkudGhlbigoKSA9PiB7XG5cdFx0XHRcdCRhdmF0YXIuYXR0cignc3JjJywgVGh1bmRlci51dGlsLmltYWdlVVJMKGltYWdlLCAxMjAsIDEyMCkpO1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2F2YXRhclVwbG9hZFN1Y2Nlc3MnKSk7XG5cdFx0XHR9LCBlcnIgPT4ge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdhdmF0YXJVcGxvYWRGYWlsZWQnKSk7XG5cdFx0XHR9KSxcblx0XHRcdCgpID0+IFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnYXZhdGFyVXBsb2FkRmFpbGVkJykpXG5cdFx0KTtcblxuXHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvQ2hlY2tvdXQsIGNvbnRleHQpO1xuXG5cdFx0JGNoYW5nZUNyZWRlbnRpYWwub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uQ2hhbmdlQ3JlZGVudGlhbCxcblx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0JCh0aGlzKS5kYXRhKCdjaGFuZ2VDcmVkZW50aWFsJylcblx0XHRcdCk7XG5cblx0XHR9KTtcblxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcblx0XHRcdGNvbXBvbmVudE5hbWU6IGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRidXR0b246ICAgICAgICAkYnV0dG9uLFxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVDdXN0b21lcixcblx0XHRcdGNhbGxiYWNrOiAgICAgIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xuXG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIucnVuKCk7XG5cblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0XHRidXR0b25TcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCd1cGRhdGVGYWlsZWQnKSxcblxuXHRcdFx0XHRcdHZhbGlkYXRpb246IGVyciA9PiB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IFssIC4uLnBhdGhdID0gZXJyLnZhbGlkYXRpb24uc291cmNlLnNwbGl0KCcuJyk7XG5cdFx0XHRcdFx0XHRjb25zdCBmaWVsZCA9IHBhdGguam9pbignLicpO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5tKGNhbWVsQ2FzZShbJ2ludmFsaWQnLCB0cmFuc2xhdGlvbktleVtmaWVsZF0gfHwgZmllbGRdKSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHRcdHVybDogICAgJy92MS9tZScsXG5cdFx0XHRcdFx0ZGF0YTogICBmb3JtVG9DdXN0b21lcigpLFxuXHRcdFx0XHR9KS50aGVuKGN1c3RvbWVyID0+IHtcblxuXHRcdFx0XHRcdGN1c3RvbWVyVG9Gb3JtKGN1c3RvbWVyKTtcblxuXHRcdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVwZGF0ZSxcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRcdFx0Y3VzdG9tZXJcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcblxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0ZXJyID0+IHJlc2V0U3RhdGUoKVxuXHRcdFx0XHQpKTtcblxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gbm9ybWFsaXplQmlydGhkYXRlKGRhdGEpIHtcblxuXHRcdFx0Y29uc3QgYmlydGhGaWVsZHMgPSBbXG5cdFx0XHRcdCdiaXJ0aFllYXInLFxuXHRcdFx0XHQnYmlydGhNb250aCcsXG5cdFx0XHRcdCdiaXJ0aERhdGUnLFxuXHRcdFx0XTtcblxuXHRcdFx0aWYgKGJpcnRoRmllbGRzLmV2ZXJ5KGZpZWxkID0+IGRhdGFbZmllbGRdKSkge1xuXG5cdFx0XHRcdGRhdGEuYmlydGhkYXRlID0gbmV3IERhdGUoXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aFllYXIsXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aE1vbnRoIC0gMSxcblx0XHRcdFx0XHRkYXRhLmJpcnRoRGF0ZVxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhLmJpcnRoZGF0ZSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGJpcnRoRmllbGRzLmZvckVhY2goZmllbGQgPT4gZGVsZXRlIGRhdGFbZmllbGRdKTtcblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmb3JtVG9DdXN0b21lcigpIHtcblxuXHRcdFx0cmV0dXJuIG5vcm1hbGl6ZUJpcnRoZGF0ZShUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkdXBkYXRlRm9ybS5zZXJpYWxpemVBcnJheSgpKSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY3VzdG9tZXJUb0Zvcm0oY3VzdG9tZXIpIHtcblxuXHRcdFx0Y29uc3QgYmlydGhkYXRlID0gY3VzdG9tZXIuYmlydGhkYXRlID9cblx0XHRcdFx0XHRcdFx0XHRuZXcgRGF0ZShjdXN0b21lci5iaXJ0aGRhdGUucmF3IHx8IGN1c3RvbWVyLmJpcnRoZGF0ZSkgOlxuXHRcdFx0XHRcdFx0XHRcdG51bGw7XG5cblx0XHRcdGRlbGV0ZSBjdXN0b21lci5iaXJ0aGRhdGU7XG5cblx0XHRcdGlmIChiaXJ0aGRhdGUpIHtcblx0XHRcdFx0JC5leHRlbmQoY3VzdG9tZXIsIHtcblx0XHRcdFx0XHRiaXJ0aFllYXI6ICBiaXJ0aGRhdGUuZ2V0RnVsbFllYXIoKSxcblx0XHRcdFx0XHRiaXJ0aE1vbnRoOiBiaXJ0aGRhdGUuZ2V0TW9udGgoKSArIDEsXG5cdFx0XHRcdFx0YmlydGhEYXRlOiAgYmlydGhkYXRlLmdldERhdGUoKSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGZpZWxkcy5mb3JFYWNoKCh7IGtleSwgJGlucHV0IH0pID0+IHtcblxuXHRcdFx0XHQkaW5wdXQudmFsKGdldChjdXN0b21lciwga2V5KSB8fCBudWxsKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiB2YWxpZGF0ZUN1c3RvbWVyKCkge1xuXG5cdFx0XHRjb25zdCBjdXN0b21lciA9IGZvcm1Ub0N1c3RvbWVyKCk7XG5cblx0XHRcdGNvbnN0IHJlcXVpcmVkRmllbGRzID0gY29udGV4dC5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnJlcXVpcmVkKTtcblxuXHRcdFx0Zm9yIChjb25zdCB7IGtleSwgdHJhbnNsYXRpb25LZXkgfSBvZiByZXF1aXJlZEZpZWxkcykge1xuXG5cdFx0XHRcdGlmICghZ2V0KGN1c3RvbWVyLCBrZXksIG51bGwpKSB7XG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGAke3RyYW5zbGF0aW9uS2V5fVJlcXVpcmVkYCkpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ2N1c3RvbWVyLXZlcmlmaWNhdGlvbidcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRjdXN0b21lcjogICdjdXN0b21lcicsXG5cdFx0c2VjcmV0OiAgICAnc2VjcmV0Jyxcblx0XHRpbnB1dDogICAgICdxdWVyeScsICAgICAgLy8gJ3F1ZXJ5JyBvciAnYXR0cmlidXRlJ1xuXHRcdGV4cGlyZXNJbjogNjAgKiA2MCAqIDI0LCAvLyAyNCBob3Vyc1xuXG5cdFx0b25FbWFpbFJlcXVlc3Q6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlcXVlc3RFbWFpbFN1Y2Nlc3MnKSk7XG5cdFx0fSxcblx0XHRvblZlcmlmaWNhdGlvbjogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xuXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgndmVyaWZpY2F0aW9uU3VjY2VzcycpKTtcblx0XHR9LFxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy5pbnB1dCA9PT0gJ3F1ZXJ5Jykge1xuXG5cdFx0XHRjb25zdCBxdWVyeSA9IFRodW5kZXIudXRpbC51cmxRdWVyeSgpO1xuXHRcdFx0Y29uc3QgY3VzdG9tZXJGaWVsZCA9IGNvbnRleHQub3B0aW9ucy5jdXN0b21lcjtcblx0XHRcdGNvbnN0IHNlY3JldEZpZWxkID0gY29udGV4dC5vcHRpb25zLnNlY3JldDtcblxuXHRcdFx0aWYgKHF1ZXJ5W2N1c3RvbWVyRmllbGRdICYmXG5cdFx0XHRcdHF1ZXJ5W3NlY3JldEZpZWxkXSkge1xuXG5cdFx0XHRcdGNvbnRleHQuY3VzdG9tZXIgPSBxdWVyeVtjdXN0b21lckZpZWxkXTtcblx0XHRcdFx0Y29udGV4dC5zZWNyZXQgPSBxdWVyeVtzZWNyZXRGaWVsZF07XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoY29udGV4dC5vcHRpb25zLmlucHV0ID09PSAnYXR0cmlidXRlJykge1xuXG5cdFx0XHRjb250ZXh0LmN1c3RvbWVyID0gY29udGV4dC5vcHRpb25zLmN1c3RvbWVyO1xuXHRcdFx0Y29udGV4dC5zZWNyZXQgPSBjb250ZXh0Lm9wdGlvbnMuc2VjcmV0O1xuXHRcdH1cblxuXHRcdGNvbnRleHQudHlwZSA9IGNvbnRleHQuY3VzdG9tZXIgJiZcblx0XHRcdFx0XHRcdGNvbnRleHQuc2VjcmV0ID9cblx0XHRcdFx0XHRcdFx0J3ZlcmlmaWNhdGlvbicgOlxuXHRcdFx0XHRcdFx0XHQncmVxdWVzdC1lbWFpbCc7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXNldC1wYXNzd29yZC1mb3JtJyk7XG5cblx0XHRpZiAoY29udGV4dC50eXBlID09PSAncmVxdWVzdC1lbWFpbCcpIHtcblxuXHRcdFx0Y29uc3QgJHJlcXVlc3RFbWFpbCA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1yZXF1ZXN0LWVtYWlsJyk7XG5cdFx0XHRjb25zdCByZXF1ZXN0RW1haWxTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkcmVxdWVzdEVtYWlsKTtcblxuXHRcdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoaW1wbGVtZW50YXRpb24ubmFtZSwgJHJlcXVlc3RFbWFpbCwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdFx0Y29uc3QgZGF0YSA9ICQuZXh0ZW5kKFRodW5kZXIudXRpbC51c2VySWRPckVtYWlsKFxuXHRcdFx0XHRcdFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRmb3JtLnNlcmlhbGl6ZUFycmF5KCkpXG5cdFx0XHRcdCksIHtcblx0XHRcdFx0XHRleHBpcmVzSW46IGNvbnRleHQub3B0aW9ucy5leHBpcmVzSW4sXG5cdFx0XHRcdFx0c2NvcGU6ICAgICAndmVyaWZpY2F0aW9uJ1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xuXHRcdFx0XHRcdHJlcXVlc3RFbWFpbFNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHQnbm90LWV4aXN0aW5nLWN1c3RvbWVyJzogY29udGV4dC5tKCdub3RFeGlzdGluZ0N1c3RvbWVyJyksXG5cdFx0XHRcdFx0J2VtYWlsLXJlcXVpcmVkJzogICAgICAgIGNvbnRleHQubSgnY3VzdG9tZXJXaXRob3V0RW1haWwnKSxcblx0XHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdyZXF1ZXN0RW1haWxGYWlsZWQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAgJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogICAgICcvdjEvY3VzdG9tZXJzL3ZlcmlmaWNhdGlvbnMvZW1haWxzJyxcblx0XHRcdFx0XHRkYXRhOiAgICBkYXRhLFxuXHRcdFx0XHR9KS50aGVuKCgpID0+IHtcblxuXHRcdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkVtYWlsUmVxdWVzdCxcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0XHRjb250ZXh0XG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XG5cblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRcdGVyciA9PiByZXNldFN0YXRlKClcblx0XHRcdFx0KSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0aWYgKGNvbnRleHQudHlwZSA9PT0gJ3ZlcmlmaWNhdGlvbicpIHtcblxuXHRcdFx0Y29uc3QgJGZpbmlzaFZlcmlmaWNhdGlvbiA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1maW5pc2gtdmVyaWZpY2F0aW9uJyk7XG5cdFx0XHRjb25zdCBmaW5pc2hWZXJpZmljYXRpb25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkZmluaXNoVmVyaWZpY2F0aW9uKTtcblxuXHRcdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoaW1wbGVtZW50YXRpb24ubmFtZSwgJGZpbmlzaFZlcmlmaWNhdGlvbiwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdFx0Y29uc3QgZGF0YSA9IHtcblx0XHRcdFx0XHRzZWNyZXQ6IGNvbnRleHQuc2VjcmV0XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0XHRmaW5pc2hWZXJpZmljYXRpb25TcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCd2ZXJpZmljYXRpb25GYWlsZWQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAgICAnUE9TVCcsXG5cdFx0XHRcdFx0dXJsOiAgICAgICBgL3YxL2N1c3RvbWVycy8ke2NvbnRleHQuY3VzdG9tZXJ9L3ZlcmlmaWVkYCxcblx0XHRcdFx0XHRkYXRhOiAgICAgIGRhdGEsXG5cdFx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcblx0XHRcdFx0fSkudGhlbigoKSA9PiB7XG5cblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WZXJpZmljYXRpb24sXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xuXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRlcnIgPT4gcmVzZXRTdGF0ZSgpXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ29yZGVyLWRldGFpbCdcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRvcmRlcjogICAgICAgICAgICAgICcnLCAgIC8vIE9yZGVyIElEIHRvIHJlbmRlclxuXHRcdHVwZGF0ZVRyYW5zYWN0aW9uczogdHJ1ZSwgLy8gVXBkYXRlIHRyYW5zYWN0aW9ucyBiZWZvcmUgZ2V0dGluZyBhbiBvcmRlclxuXHRcdGN1c3RvbWVyRmllbGRzOiAgICAgVGh1bmRlci5vcHRpb25zLmN1c3RvbWVyT3JkZXJGaWVsZHMubWFwKGZpZWxkID0+IGZpZWxkLnNwbGl0KCc6JylbMF0pLFxuXHRcdHJlY2lwaWVudEZpZWxkczogICAgVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcy5tYXAoZmllbGQgPT4gZmllbGQuc3BsaXQoJzonKVswXSksXG5cblx0XHRvblJlcXVlc3RSZWZ1bmQ6ICAgIGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIG9yZGVyKSB7XG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ29yZGVyLXJlcXVlc3QtcmVmdW5kJywge1xuXHRcdFx0XHRvcmRlcjogb3JkZXIuX2lkLFxuXHRcdFx0XHRiYWNrOiAge1xuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3QgeyBvcmRlciB9ID0gY29udGV4dC5vcHRpb25zO1xuXG5cdFx0Y29udGV4dC5jb3Vwb25EZXRhaWwgPSBjb3Vwb24gPT4ge1xuXHRcdFx0cmV0dXJuIGNvdXBvbiA/XG5cdFx0XHRcdFx0Y29udGV4dC5tKCdkaXNjb3VudGVkQnknLCB7IHZhbHVlOiBjb3Vwb24uZGlzY291bnQudmFsdWUuY29udmVydGVkIH0pIDpcblx0XHRcdFx0XHQnJztcblx0XHR9O1xuXG5cdFx0Y29udGV4dC5mdWxmaWxsbWVudFRyYWNrZXIgPSAoeyB0cmFja2luZyB9KSA9PiB7XG5cblx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBbXG5cdFx0XHRcdHRyYWNraW5nLmNvbXBhbnksXG5cdFx0XHRcdHRyYWNraW5nLnVpZCA/IGAoJHt0cmFja2luZy51aWR9KWAgOiBudWxsLFxuXHRcdFx0XS5maWx0ZXIodiA9PiB2KS5qb2luKCcgJyk7XG5cblx0XHRcdHJldHVybiB0cmFja2luZy51cmwgP1xuXHRcdFx0XHRcdGA8YSBocmVmPVwiJHt0cmFja2luZy51cmx9XCI+JHttZXNzYWdlIHx8IGNvbnRleHQubSgndmlld1RyYWNrZXInKX08L2E+YCA6XG5cdFx0XHRcdFx0YDxzcGFuPiR7bWVzc2FnZX08L3NwYW4+YDtcblx0XHR9O1xuXG5cdFx0Y29udGV4dC5yZWZ1bmRUb3RhbERldGFpbCA9IHRvdGFsID0+IFtcblx0XHRcdHR5cGVvZiB0b3RhbC5pdGVtcy5wcmljZS53aXRoVGF4LnJhdyA9PT0gJ251bWJlcicgP1xuXHRcdFx0XHRjb250ZXh0Lm0oJ3JlZnVuZEl0ZW1Ub3RhbCcsIHsgdG90YWw6IHRvdGFsLml0ZW1zLnByaWNlLndpdGhUYXguY29udmVydGVkIH0pIDpcblx0XHRcdFx0bnVsbCxcblx0XHRcdHR5cGVvZiB0b3RhbC5zaGlwcGluZy5mZWUud2l0aFRheC5yYXcgPT09ICdudW1iZXInID9cblx0XHRcdFx0Y29udGV4dC5tKCdyZWZ1bmRTaGlwcGluZ1RvdGFsJywgeyB0b3RhbDogdG90YWwuc2hpcHBpbmcuZmVlLndpdGhUYXguY29udmVydGVkIH0pIDpcblx0XHRcdFx0bnVsbCxcblx0XHRdLmZpbHRlcih2ID0+IHYpLmpvaW4oJyArICcpO1xuXG5cdFx0Y29udGV4dC5jYWxjdWxhdGVFeHBpcmVzQXQgPSAob3JkZXIsIGl0ZW0pID0+IHtcblxuXHRcdFx0Y29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gaXRlbS5kb3dubG9hZC5wb2xpY3kuZXhwaXJlcztcblxuXHRcdFx0aWYgKCF0eXBlKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0cmV0dXJuIHR5cGUgPT09ICdhdCcgP1xuXHRcdFx0XHRuZXcgRGF0ZSh2YWx1ZS5yYXcpIDpcblx0XHRcdFx0VGh1bmRlci51dGlsLmFkZFRpbWUob3JkZXIuY3JlYXRlZEF0LnJhdywgdHlwZSwgdmFsdWUucmF3KTtcblx0XHR9O1xuXG5cdFx0Y29udGV4dC50b0RhdGVWYWx1ZXMgPSBkYXRlID0+ICh7XG5cdFx0XHR5ZWFyOiAgZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCksXG5cdFx0XHRtb250aDogKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCksXG5cdFx0XHRkYXRlOiAgZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKSxcblx0XHRcdGhvdXJzOiBkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHRyYW5zbGF0aW9uS2V5cyA9IHtcblx0XHRcdCduYW1lLmZpcnN0JzogJ2ZpcnN0TmFtZScsXG5cdFx0XHQnbmFtZS5sYXN0JzogICdsYXN0TmFtZScsXG5cdFx0XHQnbmFtZS5mdWxsJzogICdmdWxsTmFtZScsXG5cdFx0fTtcblxuXHRcdGNvbnRleHQuY3VzdG9tZXJGaWVsZHMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhcblx0XHRcdGNvbnRleHQub3B0aW9ucy5jdXN0b21lckZpZWxkc1xuXHRcdCkubWFwKGtleSA9PiAoe1xuXHRcdFx0a2V5OiBrZXksXG5cdFx0XHR0cmFuc2xhdGlvbktleTogY2FtZWxDYXNlKFsnY3VzdG9tZXInLCB0cmFuc2xhdGlvbktleXNba2V5XSB8fCBrZXldKSxcblx0XHR9KSk7XG5cblx0XHRjb250ZXh0LnJlY2lwaWVudEZpZWxkcyA9IFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKFxuXHRcdFx0Y29udGV4dC5vcHRpb25zLnJlY2lwaWVudEZpZWxkc1xuXHRcdCkubWFwKGtleSA9PiAoe1xuXHRcdFx0a2V5OiBrZXksXG5cdFx0XHR0cmFuc2xhdGlvbktleTogY2FtZWxDYXNlKFsnYWRkcmVzcycsIHRyYW5zbGF0aW9uS2V5c1trZXldIHx8IGtleV0pLFxuXHRcdH0pKTtcblxuXHRcdGNvbnRleHQudW5kb3dubG9hZGFibGVTdGF0dXNlcyA9IHtcblx0XHRcdHBsYWNlZDogICAgICAgdHJ1ZSxcblx0XHRcdGNhbmNlbGxlZDogICAgdHJ1ZSxcblx0XHRcdCd1bmRlci1wYWlkJzogdHJ1ZSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGNvbnRleHQub3B0aW9ucy51cGRhdGVUcmFuc2FjdGlvbnMgP1xuXHRcdFx0XHQvLyBTaW5jZSB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgdGhlIG9yZGVyIHVwLXRvLWRhdGUgd2l0aCB0aGUgYmVzdCBlZmZvcnQsXG5cdFx0XHRcdC8vIHByb2NlZWQgZm9sbG93aW5nIHByb2Nlc3NlcyBldmVuIGlmIGB1cGRhdGVUcmFuc2FjdGlvbnNgIGV4ZWN1dGlvbiBmYWlscy5cblx0XHRcdFx0dXBkYXRlVHJhbnNhY3Rpb25zKCkudGhlbihcblx0XHRcdFx0XHQoKSA9PiBmZXRjaE9yZGVyKCkudGhlbihvcmRlciA9PiBzdWNjZXNzKG9yZGVyKSksXG5cdFx0XHRcdFx0KCkgPT4gZmV0Y2hPcmRlcigpLnRoZW4ob3JkZXIgPT4gc3VjY2VzcyhvcmRlcikpXG5cdFx0XHRcdCkgOlxuXHRcdFx0XHRmZXRjaE9yZGVyKCkudGhlbihvcmRlciA9PiBzdWNjZXNzKG9yZGVyKSk7XG5cblx0XHRmdW5jdGlvbiBzdWNjZXNzKG9yZGVyKSB7XG5cblx0XHRcdC8vIE1ha2UgYHVwZGF0ZVRyYW5zYWN0aW9uc2Agb3B0aW9uIGFzIGB0cnVlYCxcblx0XHRcdC8vIGV2ZW50IGlmIGl0IHdhcyBwYXNzZWQgYXMgYGZhbHNlYC5cblx0XHRcdGNvbnRleHQub3B0aW9ucy51cGRhdGVUcmFuc2FjdGlvbnMgPSB0cnVlO1xuXG5cdFx0XHRjb25zdCBmaW5kRGlzY291bnQgPSB0eXBlID0+IGRpc2NvdW50ID0+IHtcblx0XHRcdFx0cmV0dXJuIGRpc2NvdW50LmNvdXBvbiAmJiBkaXNjb3VudC5jb3Vwb24udHlwZSA9PT0gdHlwZTtcblx0XHRcdH07XG5cdFx0XHRjb25zdCBmaW5kQ2FydERpc2NvdW50ID0gZmluZERpc2NvdW50KCdjYXJ0Jyk7XG5cdFx0XHRjb25zdCBmaW5kUHJvZHVjdERpc2NvdW50ID0gZmluZERpc2NvdW50KCdwcm9kdWN0Jyk7XG5cblx0XHRcdGNvbnN0IGFsbEl0ZW1zID0gb3JkZXIuaXRlbXMucmVkdWNlKChpdGVtcywgaXRlbSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gaXRlbXMuY29uY2F0KGl0ZW0sIGl0ZW0uYnVuZGxlSXRlbXMgfHwgW10pO1xuXHRcdFx0fSwgW10pO1xuXHRcdFx0Y29uc3QgaXRlbXNBbmRTaGlwbWVudHMgPSBbXS5jb25jYXQoYWxsSXRlbXMsIG9yZGVyLnNoaXBtZW50cyk7XG5cblx0XHRcdGFsbEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdC8vIO2ZmOu2iCDsl6zrtoAg7ZSM656Y6re4XG5cdFx0XHRcdGl0ZW0ucmVmdW5kZWQgPSBUaHVuZGVyLnV0aWwuY2hlY2tJdGVtUmVmdW5kZWQob3JkZXIsIGl0ZW0uX2lkKTtcblxuXHRcdFx0XHQvLyDri6TsmrTroZzrk5wg6rCA64qlIOyXrOu2gCDtlIzrnpjqt7hcblx0XHRcdFx0aXRlbS5kb3dubG9hZGFibGUgPSAoXG5cdFx0XHRcdFx0aXRlbS50eXBlID09PSAnZG93bmxvYWRhYmxlJyAmJiAvLyDri6TsmrTroZzrk5wg7IOB7ZKI7J2066m07IScXG5cdFx0XHRcdFx0IWl0ZW0ucmVmdW5kZWQgJiYgICAgICAgICAgICAgICAvLyDtmZjrtojrkJjsp4Ag7JWK7JWY6rOgXG5cdFx0XHRcdFx0KFxuXHRcdFx0XHRcdFx0Ly8g64uk7Jq066Gc65OcIOqwgOuKpSDtmp/siJgg7KCc7ZWc7J20IOyXhuqxsOuCmCwg7KCc7ZWc65+J7J2EIOuEmOq4sOyngCDslYrslZjqs6Bcblx0XHRcdFx0XHRcdCFpdGVtLmRvd25sb2FkLnBvbGljeS5jb3VudCB8fFxuXHRcdFx0XHRcdFx0aXRlbS5kb3dubG9hZC5kb3dubG9hZGVkLnJhdyA8IGl0ZW0uZG93bmxvYWQucG9saWN5LmNvdW50LnJhd1xuXHRcdFx0XHRcdCkgJiZcblx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHQvLyDrp4zro4wg64Kg7KecIOygnO2VnOydtCDsl4bqsbDrgpgsIOunjOujjOydvOydtCDsp4Drgpjsp4Ag7JWK7J2AIOyDge2SiFxuXHRcdFx0XHRcdFx0IWl0ZW0uZG93bmxvYWQucG9saWN5LmV4cGlyZXMudHlwZSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dC5jYWxjdWxhdGVFeHBpcmVzQXQob3JkZXIsIGl0ZW0pLnZhbHVlT2YoKSA+IERhdGUubm93KClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRpdGVtc0FuZFNoaXBtZW50cy5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRcdGl0ZW0uYXBwbGllZENvdXBvbiA9IChcblx0XHRcdFx0XHRpdGVtLmRpc2NvdW50cy5maW5kKGZpbmRQcm9kdWN0RGlzY291bnQpIHx8IHsgY291cG9uOiBudWxsIH1cblx0XHRcdFx0KS5jb3Vwb247XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRvcmRlci5zaGlwcGluZ1N0YXR1cyA9IFRodW5kZXIudXRpbC5vcmRlclNoaXBwaW5nU3RhdHVzKG9yZGVyKTtcblxuXHRcdFx0b3JkZXIuYXBwbGllZENvdXBvbiA9IChcblx0XHRcdFx0KFxuXHRcdFx0XHRcdGl0ZW1zQW5kU2hpcG1lbnRzLmZpbmQoaXRlbSA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaXRlbS5kaXNjb3VudHMuZmluZChmaW5kQ2FydERpc2NvdW50KTtcblx0XHRcdFx0XHR9KSB8fCB7IGRpc2NvdW50czogW10gfVxuXHRcdFx0XHQpLmRpc2NvdW50cy5maW5kKGZpbmRDYXJ0RGlzY291bnQpIHx8IHsgY291cG9uOiBudWxsIH1cblx0XHRcdCkuY291cG9uO1xuXG5cdFx0XHRvcmRlci5oYXNUYW5naWJsZUl0ZW0gPSBhbGxJdGVtcy5zb21lKGl0ZW0gPT4gaXRlbS50eXBlID09PSAndGFuZ2libGUnKTtcblxuXHRcdFx0Y29udGV4dC5vcmRlciA9IG9yZGVyO1xuXHRcdFx0Y29udGV4dC52YmFua3MgPSBvcmRlci50cmFuc2FjdGlvbnMucmVkdWNlKCh2YmFua3MsIHRyYW5zYWN0aW9uKSA9PiB7XG5cdFx0XHRcdHJldHVybiB2YmFua3MuY29uY2F0KHRyYW5zYWN0aW9uLnZiYW5rcyB8fCBbXSk7XG5cdFx0XHR9LCBbXSkuZmlsdGVyKHZiYW5rID0+IHtcblx0XHRcdFx0Ly8gRmlsdGVyIG91dCBleHBpcmVkIHZpcnR1YWwgYmFuayBkZXRhaWxzXG5cdFx0XHRcdHJldHVybiAhVGh1bmRlci51dGlsLmlzRXhwaXJlZCh2YmFuay5leHBpcmVzQXQucmF3KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBTZXQgcGF5bWVudCBkZXRhaWxzLlxuXHRcdFx0Y29uc3QgdGh1bmRlclBheW1lbnRNZXRob2RNYXAgPVxuXHRcdFx0XHQoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzLm9yZGVyIHx8IFtdKVxuXHRcdFx0XHRcdC5yZWR1Y2UoKG8sIHApID0+IHNldChvLCBwLmlkLCBwKSwge30pO1xuXG5cdFx0XHQvLyBGaWx0ZXIgdmlhYmxlIHBheW1lbnQgbWV0aG9kcyB3aGVyZS4uXG5cdFx0XHRjb25zdCBwYXltZW50TWV0aG9kcyA9IG9yZGVyLnRyYW5zYWN0aW9ucy5tYXAoKHsgcGF5bWVudE1ldGhvZCwgdmJhbmtzIH0pID0+IHtcblxuXHRcdFx0XHRjb25zdCB0aHVuZGVyUGF5bWVudE1ldGhvZCA9XG5cdFx0XHRcdFx0dGh1bmRlclBheW1lbnRNZXRob2RNYXBbcGF5bWVudE1ldGhvZC5faWRdIHx8XG5cdFx0XHRcdFx0dGh1bmRlclBheW1lbnRNZXRob2RNYXBbcGF5bWVudE1ldGhvZC5zbHVnXTtcblxuXHRcdFx0XHRjb25zdCBzaG91bGREaXNwbGF5ID0gKFxuXHRcdFx0XHRcdC8vIHRoZSBwYXltZW50IG1ldGhvZCBpcyBjb25maWd1cmVkIGZvciBUaHVuZGVyIGFuZC4uXG5cdFx0XHRcdFx0dGh1bmRlclBheW1lbnRNZXRob2QgJiZcblx0XHRcdFx0XHQvLyB0aGUgcGF5bWVudCAoYnkgdGhlIG1ldGhvZCkgaXMgbm90IGZvciBsYXRlclxuXHRcdFx0XHRcdCF0aHVuZGVyUGF5bWVudE1ldGhvZC5wYXlMYXRlciAmJlxuXHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdCF2YmFua3MubGVuZ3RoIHx8ICAgICAgLy8gdGhlIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBmb3IgdmlydHVhbCBiYW5rc1xuXHRcdFx0XHRcdFx0dmJhbmtzLnNvbWUodmJhbmsgPT4geyAvLyBvciBvbmUgb3IgbW9yZSB2aXJ0dWFsIGJhbmtzIGFyZSBleHBpcmVkXG5cdFx0XHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnV0aWwuaXNFeHBpcmVkKHZiYW5rLmV4cGlyZXNBdC5yYXcpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cmV0dXJuIHNob3VsZERpc3BsYXkgPyB0aHVuZGVyUGF5bWVudE1ldGhvZCA6IG51bGw7XG5cblx0XHRcdH0pLmZpbHRlcih2ID0+IHYpO1xuXG5cdFx0XHQvLyBTaG91bGQgZGlzcGxheSBhIHBheW1lbnQgZm9ybSB3aGVuLFxuXHRcdFx0Ly8gLSBUaGUgb3JkZXIncyBzdGF0dXMgaXMgJ3BsYWNlZCdcblx0XHRcdC8vIC0gT25lIG9yIG1vcmUgdmlhYmxlIHBheW1lbnQgbWV0aG9kcyBleGlzdFxuXHRcdFx0Y29uc3Qgc2hvdWxkUGF5ID1cblx0XHRcdFx0b3JkZXIuc3RhdHVzID09PSAncGxhY2VkJyAmJlxuXHRcdFx0XHRwYXltZW50TWV0aG9kcy5sZW5ndGg7XG5cblx0XHRcdGNvbnRleHQucGF5bWVudE1ldGhvZHMgPSBwYXltZW50TWV0aG9kcztcblx0XHRcdGNvbnRleHQuc2hvdWxkUGF5ID0gc2hvdWxkUGF5O1xuXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVHJhbnNhY3Rpb25zKCkge1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL29yZGVycy8ke29yZGVyfS90cmFuc2FjdGlvbnNgLFxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmZXRjaE9yZGVyKCkge1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnb3JkZXJSZWFkRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXJ9YCxcblx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdGNhbGxiYWNrXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCB7XG5cdFx0XHRvcmRlcixcblx0XHRcdHBheW1lbnRNZXRob2RzLFxuXHRcdFx0c2hvdWxkUGF5LFxuXHRcdH0gPSBjb250ZXh0O1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGJhY2tUb09yZGVycyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tb3JkZXJzJyk7XG5cdFx0Y29uc3QgJHN1YnNjcmlwdGlvbmlkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tc3Vic2NyaXB0aW9uLWlkIGEnKTtcblx0XHRjb25zdCAkbWFya0FzUmVjZWl2ZWQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1tYXJrLW9yZGVyLWFzLXJlY2VpdmVkJyk7XG5cdFx0Y29uc3QgJG1hcmtBc05vdFJlY2VpdmVkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tbWFyay1vcmRlci1hcy1ub3QtcmVjZWl2ZWQnKTtcblx0XHRjb25zdCAkY2FuY2VsT3JkZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYW5jZWwtb3JkZXInKTtcblx0XHRjb25zdCAkY2FuY2VsbGF0aW9uRm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLW9yZGVyLWNhbmNlbGxhdGlvbi1mb3JtJyk7XG5cdFx0Y29uc3QgJGNhbmNlbGxhdGlvblJlYXNvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ3RleHRhcmVhJyk7XG5cdFx0Y29uc3QgJGNhbmNlbEJ1dHRvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ2J1dHRvbicpO1xuXHRcdGNvbnN0ICRyZXF1ZXN0UmVmdW5kID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVxdWVzdC1yZWZ1bmQnKTtcblx0XHRjb25zdCAkZG93bmxvYWRCdXR0b24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1kb3dubG9hZC1idXR0b24nKTtcblxuXHRcdGNvbnN0IGNhbmNlbEJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRjYW5jZWxCdXR0b24pO1xuXG5cdFx0JGRvd25sb2FkQnV0dG9uLm9uKCdjbGljaycsIGdldERvd25sb2FkTGluayk7XG5cdFx0JHN1YnNjcmlwdGlvbmlkLm9uKCdjbGljaycsIHZpZXdTdWJzY3JpcHRpb24pO1xuXHRcdCRtYXJrQXNSZWNlaXZlZC5vbignY2xpY2snLCBtYXJrQXNSZWNlaXZlZCk7XG5cdFx0JG1hcmtBc05vdFJlY2VpdmVkLm9uKCdjbGljaycsIG1hcmtBc05vdFJlY2VpdmVkKTtcblx0XHQkY2FuY2VsT3JkZXIub24oJ2NsaWNrJywgc3RhcnRDYW5jZWxsYXRpb24pO1xuXHRcdCRjYW5jZWxCdXR0b24ub24oJ2NsaWNrJywgY2FuY2VsT3JkZXIpO1xuXHRcdCRyZXF1ZXN0UmVmdW5kLm9uKCdjbGljaycsIHJlcXVlc3RSZWZ1bmQpO1xuXHRcdCQodGhpcykub24oJ2NsaWNrJywgJy50aHVuZGVyLS1jYW5jZWwtcmVmdW5kJywgc3RhcnRSZWZ1bmRDYW5jZWxsYXRpb24pO1xuXHRcdCQodGhpcykub24oJ2NsaWNrJywgJy50aHVuZGVyLS1yZWZ1bmQtY2FuY2VsbGF0aW9uLWZvcm0gYnV0dG9uJywgY2FuY2VsUmVmdW5kKTtcblxuXHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvT3JkZXJzLCBjb250ZXh0KTtcblxuXHRcdC8vIFJlbmRlciBhIHBheW1lbnQgZm9ybSBpZiBpdCdzIG5lZWRlZC5cblx0XHRpZiAoc2hvdWxkUGF5KSB7XG5cblx0XHRcdGNvbnN0ICRwYXltZW50Rm9ybUNvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXBheW1lbnQtZm9ybS1jb250YWluZXInKTtcblx0XHRcdGNvbnN0ICRtYWtlUGF5bWVudCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLW1ha2UtcGF5bWVudCcpO1xuXHRcdFx0Y29uc3QgbWFrZVBheW1lbnRTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkbWFrZVBheW1lbnQsIHsgYmluZDogZmFsc2UgfSk7XG5cblx0XHRcdFRodW5kZXIucmVuZGVyKCRwYXltZW50Rm9ybUNvbnRhaW5lciwgJ3BheW1lbnQtZm9ybScsIHtcblx0XHRcdFx0dHlwZTogJ29yZGVyJyxcblx0XHRcdFx0cGF5bWVudE1ldGhvZHM6IHBheW1lbnRNZXRob2RzLm1hcChwID0+IHAuaWQpXG5cdFx0XHR9LCAoZXJyLCB7IGludGVyZmFjZXM6IHBheW1lbnRIYW5kbGVyIH0pID0+ICRtYWtlUGF5bWVudC5vbignY2xpY2snLCAoKSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgdmFsaWRhdGlvbkVycm9yID0gcGF5bWVudEhhbmRsZXIudmFsaWRhdGUoKTtcblxuXHRcdFx0XHRpZiAodmFsaWRhdGlvbkVycm9yKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIHZhbGlkYXRpb25FcnJvci5tZXNzYWdlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1ha2VQYXltZW50U3Bpbm5lci5ydW4oKTtcblxuXHRcdFx0XHRyZXR1cm4gcGF5bWVudEhhbmRsZXIubWFrZVBheW1lbnQoe1xuXHRcdFx0XHRcdGNhcnQ6ICAgICBvcmRlcixcblx0XHRcdFx0XHRvcmRlcjogICAgb3JkZXIsXG5cdFx0XHRcdFx0Y3VzdG9tZXI6IG9yZGVyLmN1c3RvbWVyXG5cdFx0XHRcdH0sIGVyciA9PiB7XG5cblx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3BheW1lbnRGYWlsZWQnKSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncGF5bWVudFN1Y2Nlc3MnKSk7XG5cdFx0XHRcdFx0bWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgaW1wbGVtZW50YXRpb24ubmFtZSwgJC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7XG5cdFx0XHRcdFx0XHR1cGRhdGVUcmFuc2FjdGlvbnM6IHRydWVcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0fSk7XG5cblx0XHRcdH0pKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXREb3dubG9hZExpbmsoKSB7XG5cblx0XHRcdGNvbnN0ICRpdGVtID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1pdGVtXScpLmVxKDApO1xuXHRcdFx0Y29uc3QgaXRlbUlkID0gJGl0ZW0uZGF0YSgnYnVuZGxlSXRlbScpIHx8ICRpdGVtLmRhdGEoJ2l0ZW0nKTtcblx0XHRcdGNvbnN0IG9yZGVySWQgPSBjb250ZXh0Lm9yZGVyLl9pZDtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXJJZH0vaXRlbXMvJHtpdGVtSWR9L2Rvd25sb2FkL3VybGAsXG5cdFx0XHR9KS50aGVuKHJlcyA9PiB7XG5cdFx0XHRcdGlmICghcmVzLnVybCkgcmV0dXJuO1xuXG5cdFx0XHRcdGNvbnN0ICRjb3VudFZpZXcgPSAkaXRlbS5maW5kKCcudGh1bmRlci0tZG93bmxvYWQtY291bnQtdmlldycpLmVxKDApO1xuXG5cdFx0XHRcdGlmICgkY291bnRWaWV3Lmxlbmd0aCkge1xuXHRcdFx0XHRcdCRjb3VudFZpZXcuZGF0YSgnY3VycmVudCcsICRjb3VudFZpZXcuZGF0YSgnY3VycmVudCcpICsgMSk7XG5cdFx0XHRcdFx0JGNvdW50Vmlldy50ZXh0KGNvbnRleHQubSgnblRpbWVzRG93bmxvYWRlZCcsICRjb3VudFZpZXcuZGF0YSgpKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3aW5kb3cub3BlbihyZXMudXJsKTtcblxuXHRcdFx0fSwgZXJyID0+IHtcblx0XHRcdFx0aWYgKGVyci5yZXNwb25zZUpTT04uZXJyb3JDb2RlID09PSAnZnVsbHktdXNlZC1pdGVtJykge1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2Z1bGx5VXNlZERvd25sb2FkYWJsZScpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXJyLnJlc3BvbnNlSlNPTi5lcnJvckNvZGUgPT09ICdleHBpcmVkLWl0ZW0nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnZXhwaXJlZERvd25sb2FkYWJsZScpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXJyLnJlc3BvbnNlSlNPTi5lcnJvckNvZGUgPT09ICdyZWZ1bmRlZC1pdGVtJykge1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3JlZnVuZGVkSXRlbScpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdmlld1N1YnNjcmlwdGlvbigpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdzdWJzY3JpcHRpb24tZGV0YWlsJywge1xuXHRcdFx0XHRzdWJzY3JpcHRpb246IG9yZGVyLnN1YnNjcmlwdGlvbi5faWQsXG5cdFx0XHRcdGJhY2s6IHtcblx0XHRcdFx0XHQkY29udGFpbmVyOiAkY29udGFpbmVyLFxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbWFya0FzUmVjZWl2ZWQoKSB7XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0J2ludmFsaWQtb3JkZXItc3RhdHVzJzogY29udGV4dC5tKCdpbnZhbGlkT3JkZXJTdGF0dXMnKSxcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdtYXJrQXNSZWNlaXZlZEZhaWxlZCcpLFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXIuX2lkfS9yZWNlaXZlZGAsXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcblxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnbWFya0FzUmVjZWl2ZWRTdWNjZXNzJykpO1xuXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBpbXBsZW1lbnRhdGlvbi5uYW1lLCAkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHtcblx0XHRcdFx0XHR1cGRhdGVUcmFuc2FjdGlvbnM6IGZhbHNlXG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnNcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbWFya0FzTm90UmVjZWl2ZWQoKSB7XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0J2ludmFsaWQtb3JkZXItc3RhdHVzJzogY29udGV4dC5tKCdpbnZhbGlkT3JkZXJTdGF0dXMnKSxcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdtYXJrQXNOb3RSZWNlaXZlZEZhaWxlZCcpLFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRcdHVybDogICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlci5faWR9L3JlY2VpdmVkYCxcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdtYXJrQXNOb3RSZWNlaXZlZFN1Y2Nlc3MnKSk7XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsICQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywge1xuXHRcdFx0XHRcdHVwZGF0ZVRyYW5zYWN0aW9uczogZmFsc2Vcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdGVycm9yc1xuXHRcdFx0KSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzdGFydENhbmNlbGxhdGlvbigpIHtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JGNhbmNlbGxhdGlvbkZvcm0ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JGNhbmNlbGxhdGlvblJlYXNvbi5mb2N1cygpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNhbmNlbE9yZGVyKGV2ZW50KSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkY2FuY2VsbGF0aW9uRm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHQnaW52YWxpZC1vcmRlci1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRPcmRlclN0YXR1cycpLFxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NhbmNlbGxhdGlvbkZhaWxlZCcpLFxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0Y2FuY2VsQnV0dG9uU3Bpbm5lci5kb25lKCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlci5faWR9L2NhbmNlbGxhdGlvbmAsXG5cdFx0XHRcdGRhdGE6ICAgZGF0YSxcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdHJlc2V0U3RhdGUoKTtcblxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnY2FuY2VsbGF0aW9uU3VjY2VzcycpKTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgaW1wbGVtZW50YXRpb24ubmFtZSwgJC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7XG5cdFx0XHRcdFx0dXBkYXRlVHJhbnNhY3Rpb25zOiBmYWxzZVxuXHRcdFx0XHR9KSk7XG5cblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRyZXNldFN0YXRlXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlcXVlc3RSZWZ1bmQoKSB7XG5cdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblJlcXVlc3RSZWZ1bmQsXG5cdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdG9yZGVyXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHN0YXJ0UmVmdW5kQ2FuY2VsbGF0aW9uKGV2ZW50KSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0ICRyZWZ1bmQgPSAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJlZnVuZF0nKTtcblx0XHRcdGNvbnN0ICRjYW5jZWxsYXRpb25Gb3JtID0gJHJlZnVuZC5maW5kKCcudGh1bmRlci0tcmVmdW5kLWNhbmNlbGxhdGlvbi1mb3JtJyk7XG5cblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JGNhbmNlbGxhdGlvbkZvcm0ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY2FuY2VsUmVmdW5kKGV2ZW50KSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0ICRyZWZ1bmQgPSAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJlZnVuZF0nKTtcblx0XHRcdGNvbnN0ICRjYW5jZWxsYXRpb25Gb3JtID0gJHJlZnVuZC5maW5kKCcudGh1bmRlci0tcmVmdW5kLWNhbmNlbGxhdGlvbi1mb3JtJyk7XG5cdFx0XHRjb25zdCByZWZ1bmRJZCA9ICRyZWZ1bmQuZGF0YSgncmVmdW5kJyk7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkY2FuY2VsbGF0aW9uRm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblxuXHRcdFx0cmV0dXJuIGNhbmNlbCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncmVmdW5kQ2FuY2VsbGF0aW9uU3VjY2VzcycpKTtcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsICQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywge1xuXHRcdFx0XHRcdHVwZGF0ZVRyYW5zYWN0aW9uczogZmFsc2Vcblx0XHRcdFx0fSkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZ1bmN0aW9uIGNhbmNlbCgpIHtcblxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdFx0J2ludmFsaWQtcmVmdW5kLXN0YXR1cyc6IGNvbnRleHQubSgnaW52YWxpZFJlZnVuZFN0YXR1cycpLFxuXHRcdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgICBjb250ZXh0Lm0oJ3JlZnVuZENhbmNlbGxhdGlvbkZhaWxlZCcpXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL29yZGVycy8ke29yZGVyLl9pZH0vcmVmdW5kcy8ke3JlZnVuZElkfS9jYW5jZWxsYXRpb25gLFxuXHRcdFx0XHRcdGRhdGE6ICAgZGF0YVxuXHRcdFx0XHR9KS50aGVuKG51bGwsIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9yc1xuXHRcdFx0XHQpKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ29yZGVyLWxpc3QnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0cGFnZTogICAgICAgICAgMSwgICAgLy8gV2hpY2ggcGFnZSBvZiBvcmRlcnM/XG5cdFx0bGltaXQ6ICAgICAgICAgMTAsICAgLy8gSG93IG1hbnkgb3JkZXJzIGF0IG9uY2U/XG5cdFx0dXNlUGFnaW5hdGlvbjogdHJ1ZSwgLy8gVXNlIHBhZ2luYXRpb24/XG5cdFx0b25WaWV3T3JkZXI6ICAgZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgb3JkZXJJZCkge1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ29yZGVyLWRldGFpbCcsIHtcblx0XHRcdFx0b3JkZXI6IG9yZGVySWQsXG5cdFx0XHRcdGJhY2s6ICB7XG5cdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnM6ICAgIGNvbnRleHQub3B0aW9uc1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdH1cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnb3JkZXJMaXN0RmFpbGVkJylcblx0XHR9O1xuXG5cdFx0cmV0dXJuICQud2hlbihcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9vcmRlcnMnLFxuXHRcdFx0XHRxdWVyeTogIHtcblx0XHRcdFx0XHRwYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxuXHRcdFx0XHRcdGxpbWl0OiAgY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRcdHNvcnQ6ICAgJy1jcmVhdGVkQXQnLFxuXHRcdFx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHRcdFx0J3N1YnNjcmlwdGlvbicsXG5cdFx0XHRcdFx0XHQnc3RhdHVzJyxcblx0XHRcdFx0XHRcdCdpdGVtcy50eXBlJyxcblx0XHRcdFx0XHRcdCdpdGVtcy5wcm9kdWN0Jyxcblx0XHRcdFx0XHRcdCdpdGVtcy5idW5kbGVJdGVtcy50eXBlJyxcblx0XHRcdFx0XHRcdCdmdWxmaWxsbWVudHMuc3RhdHVzJyxcblx0XHRcdFx0XHRcdCd0b3RhbC5wcmljZS53aXRoVGF4Jyxcblx0XHRcdFx0XHRcdCdjYW5jZWxsYXRpb24nLFxuXHRcdFx0XHRcdFx0J3JlY2VpdmVkQXQnLFxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXG5cdFx0XHRcdFx0XS5qb2luKCcsJylcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbiA/IFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9vcmRlcnMvY291bnQnLFxuXHRcdFx0XHRxdWVyeTogIHtcblx0XHRcdFx0XHRyYXc6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fSkgOiBudWxsXG5cdFx0KS50aGVuKChvcmRlcnMsIGNvdW50KSA9PiB7XG5cblx0XHRcdGNvbnRleHQub3JkZXJzID0gKG9yZGVyc1swXSB8fCBbXSkubWFwKG9yZGVyID0+IHtcblx0XHRcdFx0b3JkZXIuc2hpcHBpbmdTdGF0dXMgPSBUaHVuZGVyLnV0aWwub3JkZXJTaGlwcGluZ1N0YXR1cyhvcmRlcik7XG5cdFx0XHRcdHJldHVybiBvcmRlcjtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb250ZXh0LmNvdW50ID0gY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGw7XG5cblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcblxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRvcmRlciA9ICQodGhpcykuZmluZCgnW2RhdGEtb3JkZXJdJyk7XG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1vcmRlci1saXN0LXBhZ2luYXRpb24nKTtcblxuXHRcdCRvcmRlci5vbignY2xpY2snLCBbXG5cdFx0XHQnLnRodW5kZXItLW9yZGVyLWlkJyxcblx0XHRcdCcudGh1bmRlci0tb3JkZXItdGh1bWJuYWlsJyxcblx0XHRcdCcudGh1bmRlci0tb3JkZXItZmlyc3QtaXRlbScsXG5cdFx0XHQnLnRodW5kZXItLW9yZGVyLXJlc3QtaXRlbXMnLFxuXHRcdF0uam9pbignLCcpLCBldmVudCA9PiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WaWV3T3JkZXIsXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dCxcblx0XHRcdCQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpLmRhdGEoJ29yZGVyJylcblx0XHQpKTtcblxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xuXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XG5cdFx0XHRcdGNvbnRhaW5lcjogICAgICRwYWdpbmF0aW9uLFxuXHRcdFx0XHRjdXJyZW50UGFnZTogICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0dG90YWxSZXN1bHQ6ICAgY29udGV4dC5jb3VudCxcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxuXHRcdFx0XHQpXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdvcmRlci1yZXF1ZXN0LXJlZnVuZCdcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRvcmRlcjogICAgICAgICAgICAnJywgLy8gT3JkZXIgSUQgdG8gcmVmdW5kXG5cdFx0cmVhc29uQ2F0ZWdvcmllczogVGh1bmRlci5vcHRpb25zLnJlZnVuZFJlYXNvbkNhdGVnb3JpZXMsXG5cblx0XHRvblJlcXVlc3RSZWZ1bmRTdWNjZXNzOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCByZWZ1bmQpIHtcblxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlcXVlc3RSZWZ1bmRTdWNjZXNzJykpO1xuXG5cdFx0XHRjb25zdCBiYWNrID0gY29udGV4dC5vcHRpb25zLmJhY2s7XG5cblx0XHRcdGlmICghYmFjaykgcmV0dXJuO1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoYmFjay4kY29udGFpbmVyLCBiYWNrLmNvbXBvbmVudCwgYmFjay5vcHRpb25zKTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRsZXQgb3JkZXIgPSBudWxsO1xuXG5cdFx0cmV0dXJuIGZldGNoT3JkZXIoY29udGV4dC5vcHRpb25zLm9yZGVyKVxuXHRcdFx0XHQudGhlbihvID0+IHtcblx0XHRcdFx0XHRvcmRlciA9IG87XG5cdFx0XHRcdFx0cmV0dXJuIGZldGNoQ3VycmVuY3kob3JkZXIuY3VycmVuY3kucGF5bWVudC5jb2RlKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LnRoZW4oKFtjdXJyZW5jeV0pID0+IHN1Y2Nlc3Mob3JkZXIsIGN1cnJlbmN5KSk7XG5cblx0XHRmdW5jdGlvbiBzdWNjZXNzKG9yZGVyLCBjdXJyZW5jeSkge1xuXG5cdFx0XHRjb250ZXh0LmN1cnJlbmN5ID0gJC5leHRlbmQoY3VycmVuY3ksIHtcblx0XHRcdFx0Ly8gT3ZlcnJpZGUgcHJlY2lzaW9uIHdpdGggYSBzbmFwc2hvdCB2ZXJzaW9uXG5cdFx0XHRcdHByZWNpc2lvbjogb3JkZXIuY3VycmVuY3kucGF5bWVudC5wcmVjaXNpb25cblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCByZWZ1bmRzSW5Qcm9jZXNzID1cblx0XHRcdFx0b3JkZXIucmVmdW5kc1xuXHRcdFx0XHRcdC5maWx0ZXIoKHsgc3RhdHVzIH0pID0+IHN0YXR1cyAhPT0gJ2NhbmNlbGxlZCcpO1xuXG5cdFx0XHQvLyB7IFtpdGVtSWRdOiBzaGlwbWVudCwgLi4uIH1cblx0XHRcdGNvbnN0IGl0ZW1Ub1NoaXBtZW50TWFwID0gb3JkZXIuc2hpcG1lbnRzLnJlZHVjZSgobywgc2hpcG1lbnQpID0+IHtcblxuXHRcdFx0XHRyZXR1cm4gc2hpcG1lbnQuaXRlbXMucmVkdWNlKChvLCBpdGVtKSA9PiB7XG5cblx0XHRcdFx0XHRyZXR1cm4gc2V0KG8sIGl0ZW0uX2lkLCBzaGlwbWVudCk7XG5cblx0XHRcdFx0fSwgbyk7XG5cblx0XHRcdH0sIHt9KTtcblxuXHRcdFx0Ly8geyBbaXRlbUlkXTogcXVhbnRpdHksIC4uLiB9XG5cdFx0XHRjb25zdCByZWZ1bmRlZEl0ZW1RdWFudGl0eU1hcCA9IHJlZnVuZHNJblByb2Nlc3MucmVkdWNlKChvLCByZWZ1bmQpID0+IHtcblxuXHRcdFx0XHRyZXR1cm4gcmVmdW5kLml0ZW1zLnJlZHVjZSgobywgeyBpdGVtLCBxdWFudGl0eSB9KSA9PiB7XG5cdFx0XHRcdFx0b1tpdGVtLl9pZF0gPSBvW2l0ZW0uX2lkXSB8fCAwO1xuXHRcdFx0XHRcdG9baXRlbS5faWRdICs9IHF1YW50aXR5LnJhdztcblx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdFx0fSwgbyk7XG5cblx0XHRcdH0sIHt9KTtcblxuXHRcdFx0Ly8geyBbc2hpcG1lbnRJZF06IGFtb3VudCwgLi4uIH1cblx0XHRcdGNvbnN0IHJlZnVuZGVkU2hpcG1lbnRBbW91bnRNYXAgPSByZWZ1bmRzSW5Qcm9jZXNzLnJlZHVjZSgobywgcmVmdW5kKSA9PiB7XG5cblx0XHRcdFx0cmV0dXJuIHJlZnVuZC5zaGlwbWVudHMucmVkdWNlKChvLCB7IHNoaXBtZW50LCBmZWUgfSkgPT4ge1xuXHRcdFx0XHRcdG9bc2hpcG1lbnQuX2lkXSA9IG9bc2hpcG1lbnQuX2lkXSB8fCAwO1xuXHRcdFx0XHRcdG9bc2hpcG1lbnQuX2lkXSA9IFRodW5kZXIudXRpbC50b1ByZWNpc2lvbihcblx0XHRcdFx0XHRcdG9bc2hpcG1lbnQuX2lkXSArIGZlZS53aXRoVGF4LnJhdyxcblx0XHRcdFx0XHRcdGNvbnRleHQuY3VycmVuY3kucHJlY2lzaW9uXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdFx0fSwgbyk7XG5cblx0XHRcdH0sIHt9KTtcblxuXHRcdFx0b3JkZXIuaXRlbXMuZm9yRWFjaChpdGVtID0+IFtdLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKS5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHNoaXBtZW50ID0gaXRlbVRvU2hpcG1lbnRNYXBbaXRlbS5faWRdO1xuXHRcdFx0XHRjb25zdCByZWZ1bmRlZEl0ZW1RdWFudGl0eSA9IHJlZnVuZGVkSXRlbVF1YW50aXR5TWFwW2l0ZW0uX2lkXSB8fCAwO1xuXG5cdFx0XHRcdGl0ZW0uc2hpcG1lbnQgPSBzaGlwbWVudDtcblx0XHRcdFx0aXRlbS5yZWZ1bmRhYmxlUXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5LnJhdyAtIHJlZnVuZGVkSXRlbVF1YW50aXR5O1xuXG5cdFx0XHR9KSk7XG5cblx0XHRcdG9yZGVyLnNoaXBtZW50cy5mb3JFYWNoKHNoaXBtZW50ID0+IHtcblxuXHRcdFx0XHRjb25zdCByZWZ1bmRlZFNoaXBtZW50QW1vdW50ID0gcmVmdW5kZWRTaGlwbWVudEFtb3VudE1hcFtzaGlwbWVudC5faWRdIHx8IDA7XG5cblx0XHRcdFx0c2hpcG1lbnQucmVmdW5kYWJsZUZlZSA9IFRodW5kZXIudXRpbC50b1ByZWNpc2lvbihcblx0XHRcdFx0XHRzaGlwbWVudC5mZWUud2l0aFRheC5yYXcgLSByZWZ1bmRlZFNoaXBtZW50QW1vdW50LFxuXHRcdFx0XHRcdGNvbnRleHQuY3VycmVuY3kucHJlY2lzaW9uXG5cdFx0XHRcdCk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRvcmRlci5oYXNSZWZ1bmRhYmxlSXRlbSA9IG9yZGVyLml0ZW1zLnNvbWUoaXRlbSA9PiB7XG5cdFx0XHRcdHJldHVybiBbXS5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyB8fCBbXSkuc29tZShpdGVtID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5yZWZ1bmRhYmxlUXVhbnRpdHkgPiAwO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgc2V0KGNvbnRleHQsICdvcmRlcicsIG9yZGVyKSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZmV0Y2hPcmRlcihvcmRlcikge1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnb3JkZXJSZWFkRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXJ9YCxcblx0XHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdFx0J2l0ZW1zJyxcblx0XHRcdFx0XHQnc2hpcG1lbnRzJyxcblx0XHRcdFx0XHQncmVmdW5kcycsXG5cdFx0XHRcdFx0J3RyYW5zYWN0aW9ucycsXG5cdFx0XHRcdFx0J3RvdGFsJyxcblx0XHRcdFx0XS5qb2luKCcsJylcblx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdGNhbGxiYWNrXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZldGNoQ3VycmVuY3koY29kZSkge1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY3VycmVuY3lSZWFkRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvY3VycmVuY2llc2AsXG5cdFx0XHRcdHF1ZXJ5OiB7IGNvZGUgfVxuXHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0Y2FsbGJhY2tcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0IHtcblx0XHRcdG9yZGVyLFxuXHRcdFx0Y3VycmVuY3lcblx0XHR9ID0gY29udGV4dDtcblxuXHRcdGNvbnN0IGNhdGVnb3J5TWFwID0gY29udGV4dC5vcHRpb25zLnJlYXNvbkNhdGVnb3JpZXMucmVkdWNlKChvLCBjYXRlZ29yeSkgPT4ge1xuXHRcdFx0cmV0dXJuIHNldChvLCBjYXRlZ29yeS5sYWJlbCwgY2F0ZWdvcnkpO1xuXHRcdH0sIHt9KTtcblxuXHRcdGNvbnN0IGl0ZW1NYXAgPSBvcmRlci5pdGVtcy5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcblx0XHRcdHJldHVybiBbXS5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyB8fCBbXSkucmVkdWNlKChvLCBpdGVtKSA9PiB7XG5cdFx0XHRcdHJldHVybiBzZXQobywgaXRlbS5faWQsIGl0ZW0pO1xuXHRcdFx0fSwgbyk7XG5cdFx0fSwge30pO1xuXG5cdFx0Y29uc3Qgc2hpcG1lbnRNYXAgPSBvcmRlci5zaGlwbWVudHMucmVkdWNlKChvLCBzaGlwbWVudCkgPT4ge1xuXHRcdFx0cmV0dXJuIHNldChvLCBzaGlwbWVudC5faWQsIHNoaXBtZW50KTtcblx0XHR9LCB7fSk7XG5cblx0XHRjb25zdCBzaGlwbWVudEl0ZW1RdWFudGl0eU1hcCA9IG9yZGVyLnNoaXBtZW50cy5yZWR1Y2UoKG8sIHNoaXBtZW50KSA9PiB7XG5cdFx0XHRyZXR1cm4gc2hpcG1lbnQuaXRlbXMucmVkdWNlKChvLCBpdGVtKSA9PiB7XG5cdFx0XHRcdHJldHVybiBzZXQobywgW3NoaXBtZW50Ll9pZCwgaXRlbS5faWRdLCBpdGVtLnF1YW50aXR5LnJhdyk7XG5cdFx0XHR9LCBvKTtcblx0XHR9LCB7fSk7XG5cblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcblx0XHRjb25zdCAkYmFja1RvT3JkZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1iYWNrLXRvLW9yZGVyJyk7XG5cdFx0Y29uc3QgJGNhcnRJdGVtcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbScpO1xuXHRcdGNvbnN0ICR0b2dnbGVJdGVtU2VsZWN0aW9uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tdG9nZ2xlLWl0ZW0tc2VsZWN0aW9uJyk7XG5cdFx0Y29uc3QgJHJlZnVuZFF1YW50aXR5ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY2FydC1pdGVtIGlucHV0W25hbWU9XCJyZWZ1bmRRdWFudGl0eVwiXScpO1xuXHRcdGNvbnN0ICRyZWZ1bmRDYXRlZ29yeSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC1jYXRlZ29yeScpO1xuXHRcdGNvbnN0ICRyZWZ1bmRSZWFzb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZWZ1bmQtcmVhc29uJyk7XG5cdFx0Y29uc3QgJHJlcXVpcmVzUmVhc29uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVxdWlyZXMtcmVmdW5kLXJlYXNvbicpO1xuXHRcdGNvbnN0ICR0b3RhbERldGFpbCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC10b3RhbC1kZXRhaWwnKTtcblx0XHRjb25zdCAkcmVmdW5kSXRlbXNUb3RhbCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC1pdGVtcy10b3RhbCB0ZCcpO1xuXHRcdGNvbnN0ICRyZWZ1bmRTaGlwcGluZ1RvdGFsID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVmdW5kLXNoaXBwaW5nLXRvdGFsIHRkJyk7XG5cdFx0Y29uc3QgJHJlZnVuZFRvdGFsID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVmdW5kLXRvdGFsIHRkJyk7XG5cdFx0Y29uc3QgJHJlcXVlc3RSZWZ1bmQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXF1ZXN0LXJlZnVuZCcpO1xuXHRcdGNvbnN0IHJlcXVlc3RCdXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkcmVxdWVzdFJlZnVuZCwgeyBiaW5kOiBmYWxzZSB9KTtcblxuXHRcdCR0b2dnbGVJdGVtU2VsZWN0aW9uLm9uKCdjbGljaycsIHRvZ2dsZUl0ZW1TZWxlY3Rpb24pO1xuXHRcdCRyZWZ1bmRRdWFudGl0eS5vbignY2hhbmdlJywgcmVmdW5kUXVhbnRpdHlDaGFuZ2VkKTtcblx0XHQkcmVmdW5kQ2F0ZWdvcnkub24oJ2NoYW5nZScsIHVwZGF0ZVJlZnVuZFRvdGFsKTtcblxuXHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvT3JkZXIsIGNvbnRleHQpO1xuXG5cdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoe1xuXHRcdFx0Y29tcG9uZW50TmFtZTogaW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdGJ1dHRvbjogICAgICAgICRyZXF1ZXN0UmVmdW5kLFxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVSZXF1ZXN0LFxuXHRcdFx0Y2FsbGJhY2s6ICAgICAgcmVxdWVzdFJlZnVuZFxuXHRcdH0pO1xuXG5cdFx0dXBkYXRlUmVmdW5kVG90YWwoKTtcblxuXHRcdGZ1bmN0aW9uIGdldE9uZUl0ZW1QcmljZShpdGVtKSB7XG5cdFx0XHRyZXR1cm4gaXRlbS5wcmljZS53aXRoVGF4LnJhdyAvIGl0ZW0ucXVhbnRpdHkucmF3O1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG1hcmtJdGVtQWN0aXZlKCRjYXJ0SXRlbSwgYWN0aXZlLCBxdWFudGl0eSkge1xuXG5cdFx0XHRjb25zdCAkdG9nZ2xlQnV0dG9uID0gJGNhcnRJdGVtLmZpbmQoJy50aHVuZGVyLS10b2dnbGUtaXRlbS1zZWxlY3Rpb24nKTtcblx0XHRcdGNvbnN0ICRyZWZ1bmRRdWFudGl0eSA9ICRjYXJ0SXRlbS5maW5kKCdpbnB1dFtuYW1lPVwicmVmdW5kUXVhbnRpdHlcIl0nKTtcblx0XHRcdGNvbnN0IGl0ZW0gPSBpdGVtTWFwWyRjYXJ0SXRlbS5kYXRhKCdpdGVtJyldO1xuXG5cdFx0XHRpZiAoYWN0aXZlKSB7XG5cdFx0XHRcdCRjYXJ0SXRlbS5kYXRhKCdhY3RpdmUnLCB0cnVlKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKTtcblx0XHRcdFx0JHRvZ2dsZUJ1dHRvbi50ZXh0KGNvbnRleHQubSgncmVtb3ZlRnJvbVJlZnVuZCcpKTtcblx0XHRcdFx0JHJlZnVuZFF1YW50aXR5LnZhbChcblx0XHRcdFx0XHRxdWFudGl0eSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHRcdGl0ZW0ucmVmdW5kYWJsZVF1YW50aXR5IDpcblx0XHRcdFx0XHRcdHF1YW50aXR5XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkY2FydEl0ZW0uZGF0YSgnYWN0aXZlJywgZmFsc2UpLmFkZENsYXNzKCdpbmFjdGl2ZScpO1xuXHRcdFx0XHQkdG9nZ2xlQnV0dG9uLnRleHQoY29udGV4dC5tKCdhZGRUb1JlZnVuZCcpKTtcblx0XHRcdFx0JHJlZnVuZFF1YW50aXR5LnZhbCgwKTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUl0ZW1TZWxlY3Rpb24oZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgJGNhcnRJdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcudGh1bmRlci0tY2FydC1pdGVtJyk7XG5cblx0XHRcdG1hcmtJdGVtQWN0aXZlKCRjYXJ0SXRlbSwgISRjYXJ0SXRlbS5kYXRhKCdhY3RpdmUnKSk7XG5cdFx0XHR1cGRhdGVSZWZ1bmRUb3RhbCgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlZnVuZFF1YW50aXR5Q2hhbmdlZCgpIHtcblxuXHRcdFx0Y29uc3QgJGNhcnRJdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcudGh1bmRlci0tY2FydC1pdGVtJyk7XG5cdFx0XHRjb25zdCBxdWFudGl0eSA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xuXG5cdFx0XHRtYXJrSXRlbUFjdGl2ZSgkY2FydEl0ZW0sICEhcXVhbnRpdHksIHF1YW50aXR5KTtcblx0XHRcdHVwZGF0ZVJlZnVuZFRvdGFsKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlUmVmdW5kVG90YWwoKSB7XG5cblx0XHRcdCRjYXJ0SXRlbXMuZWFjaChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRjb25zdCAkY2FydEl0ZW0gPSAkKHRoaXMpO1xuXHRcdFx0XHRjb25zdCAkcmVmdW5kQW1vdW50ID0gJGNhcnRJdGVtLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW0tcmVmdW5kLWFtb3VudCcpO1xuXHRcdFx0XHRjb25zdCBpdGVtID0gaXRlbU1hcFskY2FydEl0ZW0uZGF0YSgnaXRlbScpXTtcblx0XHRcdFx0Y29uc3QgcXVhbnRpdHkgPSBwYXJzZUludCgkY2FydEl0ZW0uZmluZCgnaW5wdXRbbmFtZT1cInJlZnVuZFF1YW50aXR5XCJdJykudmFsKCkpO1xuXG5cdFx0XHRcdGNvbnN0IHJlZnVuZEFtb3VudCA9IFRodW5kZXIudXRpbC5mb3JtYXRQcmljZShcblx0XHRcdFx0XHRnZXRPbmVJdGVtUHJpY2UoaXRlbSkgKiBxdWFudGl0eSxcblx0XHRcdFx0XHRjdXJyZW5jeVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdCRyZWZ1bmRBbW91bnQudGV4dChyZWZ1bmRBbW91bnQpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yeU1hcFskcmVmdW5kQ2F0ZWdvcnkudmFsKCldO1xuXG5cdFx0XHRpZiAoIWNhdGVnb3J5KSB7XG5cdFx0XHRcdCRyZXF1aXJlc1JlYXNvbi5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdCR0b3RhbERldGFpbC5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVmdW5kSXRlbXMgPSBnZXRSZWZ1bmRJdGVtcygpO1xuXHRcdFx0Y29uc3QgcmVmdW5kU2hpcG1lbnRzID0gZ2V0UmVmdW5kU2hpcG1lbnRzKGNhdGVnb3J5LCByZWZ1bmRJdGVtcyk7XG5cblx0XHRcdGNvbnN0IGl0ZW1zVG90YWwgPSByZWZ1bmRJdGVtcy5yZWR1Y2UoKHN1bSwgeyBpdGVtLCBxdWFudGl0eSB9KSA9PiB7XG5cdFx0XHRcdHJldHVybiBzdW0gKyAoZ2V0T25lSXRlbVByaWNlKGl0ZW0pICogcXVhbnRpdHkpO1xuXHRcdFx0fSwgMCk7XG5cblx0XHRcdGNvbnN0IHNoaXBwaW5nVG90YWwgPSByZWZ1bmRTaGlwbWVudHMucmVkdWNlKChzdW0sIHNoaXBtZW50KSA9PiB7XG5cdFx0XHRcdHJldHVybiBzdW0gKyBzaGlwbWVudC5yZWZ1bmRhYmxlRmVlO1xuXHRcdFx0fSwgMCk7XG5cblx0XHRcdGNvbnN0IHRvdGFsID0gaXRlbXNUb3RhbCArIHNoaXBwaW5nVG90YWw7XG5cblx0XHRcdCRyZWZ1bmRJdGVtc1RvdGFsLnRleHQoVGh1bmRlci51dGlsLmZvcm1hdFByaWNlKGl0ZW1zVG90YWwsIGN1cnJlbmN5KSk7XG5cdFx0XHQkcmVmdW5kU2hpcHBpbmdUb3RhbC50ZXh0KFRodW5kZXIudXRpbC5mb3JtYXRQcmljZShzaGlwcGluZ1RvdGFsLCBjdXJyZW5jeSkpO1xuXHRcdFx0JHJlZnVuZFRvdGFsLnRleHQoVGh1bmRlci51dGlsLmZvcm1hdFByaWNlKHRvdGFsLCBjdXJyZW5jeSkpO1xuXG5cdFx0XHQkcmVxdWlyZXNSZWFzb24uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JHRvdGFsRGV0YWlsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldFJlZnVuZEl0ZW1zKCkge1xuXG5cdFx0XHRyZXR1cm4gJHJlZnVuZFF1YW50aXR5Lm1hcChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGl0ZW06ICAgICBpdGVtTWFwWyQodGhpcykucGFyZW50cygnW2RhdGEtaXRlbV0nKS5kYXRhKCdpdGVtJyldLFxuXHRcdFx0XHRcdHF1YW50aXR5OiBwYXJzZUludCgkKHRoaXMpLnZhbCgpKSxcblx0XHRcdFx0fTtcblxuXHRcdFx0fSkuZ2V0KCkuZmlsdGVyKCh7IHF1YW50aXR5IH0pID0+IHF1YW50aXR5KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldFJlZnVuZFNoaXBtZW50cyhjYXRlZ29yeSwgcmVmdW5kSXRlbXMpIHtcblxuXHRcdFx0aWYgKCFjYXRlZ29yeSkge1xuXHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNoaXBtZW50VG9SZWZ1bmRJdGVtcyA9IHt9O1xuXG5cdFx0XHRyZWZ1bmRJdGVtcy5mb3JFYWNoKHJlZnVuZEl0ZW0gPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHNoaXBtZW50ID0gcmVmdW5kSXRlbS5pdGVtLnNoaXBtZW50O1xuXG5cdFx0XHRcdGlmICghc2hpcG1lbnQpIHJldHVybjtcblxuXHRcdFx0XHRzaGlwbWVudFRvUmVmdW5kSXRlbXNbc2hpcG1lbnQuX2lkXSA9XG5cdFx0XHRcdFx0KHNoaXBtZW50VG9SZWZ1bmRJdGVtc1tzaGlwbWVudC5faWRdIHx8IFtdKS5jb25jYXQocmVmdW5kSXRlbSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3Qgc2hpcG1lbnRJZHNUb1JlZnVuZCA9IE9iamVjdC5rZXlzKHNoaXBtZW50VG9SZWZ1bmRJdGVtcyk7XG5cblx0XHRcdHJldHVybiBzaGlwbWVudElkc1RvUmVmdW5kLm1hcChzaGlwbWVudElkID0+IHtcblxuXHRcdFx0XHQvLyBDbG9uZSBmaXJzdCB0byBhdm9pZCBzaWRlIGVmZmVjdHNcblx0XHRcdFx0Y29uc3Qgc2hpcG1lbnRJdGVtUXVhbnRpdHkgPSAkLmV4dGVuZCh7fSwgc2hpcG1lbnRJdGVtUXVhbnRpdHlNYXBbc2hpcG1lbnRJZF0pO1xuXHRcdFx0XHRjb25zdCByZWZ1bmRJdGVtcyA9IHNoaXBtZW50VG9SZWZ1bmRJdGVtc1tzaGlwbWVudElkXTtcblxuXHRcdFx0XHRyZWZ1bmRJdGVtcy5mb3JFYWNoKCh7IGl0ZW0sIHF1YW50aXR5IH0pID0+IHtcblx0XHRcdFx0XHRzaGlwbWVudEl0ZW1RdWFudGl0eVtpdGVtLl9pZF0gLT0gcXVhbnRpdHk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IGFyZUFsbEl0ZW1zUmVmdW5kZWQgPVxuXHRcdFx0XHRcdE9iamVjdC5rZXlzKHNoaXBtZW50SXRlbVF1YW50aXR5KVxuXHRcdFx0XHRcdFx0LmV2ZXJ5KGl0ZW1JZCA9PiBzaGlwbWVudEl0ZW1RdWFudGl0eVtpdGVtSWRdID09PSAwKTtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHNoaXBtZW50OiBzaGlwbWVudE1hcFtzaGlwbWVudElkXSxcblx0XHRcdFx0XHRzaG91bGRSZWZ1bmQ6IGFyZUFsbEl0ZW1zUmVmdW5kZWQgP1xuXHRcdFx0XHRcdFx0XHRcdGNhdGVnb3J5LnNoaXBwaW5nRmVlLmFsbEl0ZW1zIDpcblx0XHRcdFx0XHRcdFx0XHRjYXRlZ29yeS5zaGlwcGluZ0ZlZS5zb21lSXRlbXNcblx0XHRcdFx0fTtcblxuXHRcdFx0fSkuZmlsdGVyKCh7IHNoaXBtZW50LCBzaG91bGRSZWZ1bmQgfSkgPT4ge1xuXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHNoaXBtZW50IHNob3VsZCBiZSByZWZ1bmRlZFxuXHRcdFx0XHQvLyBhbmQgaXRzIHJlZnVuZGFibGUgZmVlIGlzIGdyZWF0ZXIgdGhhbiAwXG5cdFx0XHRcdHJldHVybiBzaG91bGRSZWZ1bmQgJiZcblx0XHRcdFx0XHRcdHNoaXBtZW50LnJlZnVuZGFibGVGZWUgPiAwO1xuXG5cdFx0XHR9KS5tYXAoKHsgc2hpcG1lbnQgfSkgPT4gc2hpcG1lbnQpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UmVxdWVzdERldGFpbCgpIHtcblxuXHRcdFx0Y29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yeU1hcFskcmVmdW5kQ2F0ZWdvcnkudmFsKCldO1xuXHRcdFx0Y29uc3QgaXRlbXMgPSBnZXRSZWZ1bmRJdGVtcygpO1xuXHRcdFx0Y29uc3Qgc2hpcG1lbnRzID0gZ2V0UmVmdW5kU2hpcG1lbnRzKGNhdGVnb3J5LCBpdGVtcykubWFwKHMgPT4gcy5faWQpO1xuXG5cdFx0XHRpdGVtcy5mb3JFYWNoKGRldGFpbCA9PiBkZXRhaWwuaXRlbSA9IGRldGFpbC5pdGVtLl9pZCk7XG5cblx0XHRcdGNvbnN0IHJlYXNvbiA9IHtcblx0XHRcdFx0Y2F0ZWdvcnk6IGNhdGVnb3J5ID9cblx0XHRcdFx0XHRcdFx0Y29udGV4dC5tKGNhdGVnb3J5LmxhYmVsKSA6XG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdGJvZHk6ICAgICAkcmVmdW5kUmVhc29uLnZhbCgpLFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIHsgaXRlbXMsIHNoaXBtZW50cywgcmVhc29uIH07XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVSZXF1ZXN0KCkge1xuXG5cdFx0XHRjb25zdCB7XG5cdFx0XHRcdGl0ZW1zLFxuXHRcdFx0XHRyZWFzb246IHtcblx0XHRcdFx0XHRjYXRlZ29yeVxuXHRcdFx0XHR9XG5cdFx0XHR9ID0gZ2V0UmVxdWVzdERldGFpbCgpO1xuXG5cdFx0XHRpZiAoIWl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2F0TGVhc3RPbmVJdGVtUmVxdWlyZWQnKSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFjYXRlZ29yeSkge1xuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3JlYXNvbkNhdGVnb3J5UmVxdWlyZWQnKSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZXF1ZXN0UmVmdW5kKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xuXG5cdFx0XHRyZXF1ZXN0QnV0dG9uU3Bpbm5lci5ydW4oKTtcblxuXHRcdFx0Y29uc3QgZGV0YWlsID0gZ2V0UmVxdWVzdERldGFpbCgpO1xuXG5cdFx0XHRkZXRhaWwucmVhc29uID0gYFske2RldGFpbC5yZWFzb24uY2F0ZWdvcnl9XSAke2RldGFpbC5yZWFzb24uYm9keSB8fCAnJ31gLnRyaW0oKTtcblxuXHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0cmVxdWVzdEJ1dHRvblNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0J2ludmFsaWQtb3JkZXItc3RhdHVzJzogY29udGV4dC5tKCdpbnZhbGlkT3JkZXJTdGF0dXMnKSxcblx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgY29udGV4dC5tKCdyZXF1ZXN0UmVmdW5kRmFpbGVkJyksXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAgICAnUE9TVCcsXG5cdFx0XHRcdHVybDogICAgICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlci5faWR9L3JlZnVuZHNgLFxuXHRcdFx0XHRkYXRhOiAgICAgIGRldGFpbCxcblx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcblx0XHRcdH0pLnRoZW4ocmVmdW5kID0+IHtcblxuXHRcdFx0XHRyZXNldFN0YXRlKCk7XG5cblx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblJlcXVlc3RSZWZ1bmRTdWNjZXNzLFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0XHRyZWZ1bmRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdHJlc2V0U3RhdGVcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcbmNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcbmNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAncGF5bWVudC1mb3JtJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdHR5cGU6ICdvcmRlcicsIC8vICdvcmRlcicgb3IgJ3N1YnNjcmlwdGlvbidcblx0XHRwYXltZW50TWV0aG9kczogbnVsbCxcblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnN0IHtcblx0XHRcdHR5cGVcblx0XHR9ID0gY29udGV4dC5vcHRpb25zO1xuXG5cdFx0Y29uc3QgcGF5bWVudE1ldGhvZEZpbHRlciA9IGNvbnRleHQub3B0aW9ucy5wYXltZW50TWV0aG9kcztcblx0XHRjb25zdCBkZWZhdWx0UGF5bWVudE1ldGhvZHMgPSBUaHVuZGVyLm9wdGlvbnMucGF5bWVudE1ldGhvZHNbdHlwZV0gfHwgW107XG5cblx0XHRjb250ZXh0LnBheW1lbnRNZXRob2RzID1cblx0XHRcdGNvbnRleHQub3B0aW9ucy5wYXltZW50TWV0aG9kcyA/XG5cdFx0XHRkZWZhdWx0UGF5bWVudE1ldGhvZHMuZmlsdGVyKHBheW1lbnRNZXRob2QgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcGF5bWVudE1ldGhvZEZpbHRlci5zb21lKHAgPT4gcGF5bWVudE1ldGhvZC5pZCA9PT0gcCk7XG5cdFx0XHR9KSA6XG5cdFx0XHRkZWZhdWx0UGF5bWVudE1ldGhvZHM7XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3Qgb3duZXIgPSB7XG5cdFx0XHRwZXJzb246ICB7IGxhYmVsOiBjb250ZXh0Lm0oJ2NhcmRPd25lckJpcnRoZGF0ZScpLCBmb3JtYXQ6ICdZWU1NREQnIH0sXG5cdFx0XHRjb21wYW55OiB7IGxhYmVsOiBjb250ZXh0Lm0oJ2NhcmRPd25lckNvbXBhbnlOdW1iZXInKSwgZm9ybWF0OiAnWFhYWFhYWFhYWCcgfVxuXHRcdH07XG5cblx0XHRjb25zdCBwYXltZW50TWV0aG9kTWFwID1cblx0XHRcdFx0Y29udGV4dC5wYXltZW50TWV0aG9kc1xuXHRcdFx0XHRcdC5yZWR1Y2UoKG8sIHApID0+IHNldChvLCBbYCR7cC5pZH0uJHtwLmxhYmVsfWBdLCBwKSwge30pO1xuXG5cdFx0Y29uc3QgJGNhcmRGb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcGF5bWVudC1jYXJkLWRldGFpbCcpO1xuXHRcdGNvbnN0ICRwYXltZW50TWV0aG9kID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cInBheW1lbnRNZXRob2RcIl0nKTtcblx0XHRjb25zdCAkY2FyZE51bWJlciA9ICQodGhpcykuZmluZCgnW25hbWU9XCJjYXJkLm51bWJlclwiXScpO1xuXHRcdGNvbnN0ICRpc0NvbXBhbnlDYXJkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0taXMtY29tcGFueS1jYXJkIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuXHRcdGNvbnN0ICRjYXJkT3duZXJMYWJlbCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcmQtb3duZXIgbGFiZWwnKTtcblx0XHRjb25zdCAkY2FyZE93bmVySW5wdXQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYXJkLW93bmVyIGlucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG5cblx0XHQkcGF5bWVudE1ldGhvZC5vbignY2hhbmdlJywgZGlzcGxheUNhcmRGb3JtKTtcblx0XHQkY2FyZE51bWJlci5vbigna2V5dXAnLCBub3JtYWxpemVDYXJkTnVtYmVyKTtcblx0XHQkaXNDb21wYW55Q2FyZC5vbignY2hhbmdlJywgZGVjaWRlQ2FyZE93bmVyKTtcblxuXHRcdGRlY2lkZUNhcmRPd25lcigpO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0UGF5bWVudE1ldGhvZElkKCkge1xuXHRcdFx0cmV0dXJuICRwYXltZW50TWV0aG9kLnZhbCgpIHx8IG51bGw7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UGF5bWVudE1ldGhvZCgpIHtcblx0XHRcdHJldHVybiBwYXltZW50TWV0aG9kTWFwW2dldFBheW1lbnRNZXRob2RJZCgpXSB8fCBudWxsO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldENhcmQoKSB7XG5cblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBnZXRQYXltZW50TWV0aG9kKCk7XG5cblx0XHRcdGlmICghcGF5bWVudE1ldGhvZCB8fCAhcGF5bWVudE1ldGhvZC5jYXJkRmllbGRzKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkYXRhID0ge307XG5cblx0XHRcdCRjYXJkRm9ybS5maW5kKCdbbmFtZV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZXQoZGF0YSwgJCh0aGlzKS5wcm9wKCduYW1lJyksICQodGhpcykudmFsKCkgfHwgbnVsbCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgY2FyZCA9IGRhdGEuY2FyZDtcblxuXHRcdFx0aWYgKGNhcmQpIHtcblx0XHRcdFx0aWYgKGNhcmQubnVtYmVyKSB7XG5cdFx0XHRcdFx0Y2FyZC5udW1iZXIgPSBjYXJkLm51bWJlci5yZXBsYWNlKC9cXHMvZywgJy0nKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gY2FyZDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcblxuXHRcdFx0Y29uc3QgY2FyZCA9IGdldENhcmQoKTtcblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBnZXRQYXltZW50TWV0aG9kKCk7XG5cblx0XHRcdGlmICghcGF5bWVudE1ldGhvZCkge1xuXG5cdFx0XHRcdGNvbnN0IGNvZGUgPSAncGF5bWVudE1ldGhvZFJlcXVpcmVkJztcblx0XHRcdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKGNvbnRleHQubShjb2RlKSk7XG5cblx0XHRcdFx0ZXJyLmNvZGUgPSBjb2RlO1xuXG5cdFx0XHRcdHJldHVybiBlcnI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghcGF5bWVudE1ldGhvZC5jYXJkRmllbGRzKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBWYWxpZGF0ZSBpZiB0aGUgcGF5bWVudCBtZXRob2QgcmVxdWlyZXMgbWFudWFsIGNhcmQgaW5wdXRzXG5cblx0XHRcdGNvbnN0IGZpZWxkcyA9ICRjYXJkRm9ybS5maW5kKCdbbmFtZV0nKS5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLnByb3AoJ25hbWUnKTtcblx0XHRcdH0pLmdldCgpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gZ2V0KGNhcmQsIGZpZWxkLnJlcGxhY2UoJ2NhcmQuJywgJycpKTtcblxuXHRcdFx0XHRpZiAodmFsdWUpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdGNvbnN0IGNvZGUgPSBjYW1lbENhc2UoW2ZpZWxkLCAncmVxdWlyZWQnXSk7XG5cdFx0XHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihjb250ZXh0Lm0oY29kZSkpO1xuXG5cdFx0XHRcdGVyci5jb2RlID0gY29kZTtcblxuXHRcdFx0XHRyZXR1cm4gZXJyO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG5vcm1hbGl6ZUNhcmROdW1iZXIoKSB7XG5cblx0XHRcdGNvbnN0IHZhbHVlID0gKCQodGhpcykudmFsKCkgfHwgJycpXG5cdFx0XHRcdFx0XHRcdC5yZXBsYWNlKC9bXlxcZF0vZywgJycpO1xuXG5cdFx0XHRjb25zdCBub3JtYWxpemVkID0gWzAsIDEsIDIsIDNdLnJlZHVjZSgobnVtYmVycywgaSkgPT4ge1xuXG5cdFx0XHRcdHJldHVybiBudW1iZXJzLmNvbmNhdCh2YWx1ZS5zbGljZShpICogNCwgKGkgKyAxKSAqIDQpKTtcblxuXHRcdFx0fSwgW10pO1xuXG5cdFx0XHQkKHRoaXMpLnZhbChub3JtYWxpemVkLmZpbHRlcih2ID0+IHYpLmpvaW4oJyAnKSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBkZWNpZGVDYXJkT3duZXIoKSB7XG5cblx0XHRcdGNvbnN0IGlzQ29tcGFueUNhcmQgPSAkaXNDb21wYW55Q2FyZC5pcygnOmNoZWNrZWQnKTtcblx0XHRcdGNvbnN0IHtcblx0XHRcdFx0bGFiZWwsXG5cdFx0XHRcdGZvcm1hdFxuXHRcdFx0fSA9IGlzQ29tcGFueUNhcmQgPyBvd25lci5jb21wYW55IDogb3duZXIucGVyc29uO1xuXG5cdFx0XHQkY2FyZE93bmVyTGFiZWwudGV4dChsYWJlbCk7XG5cdFx0XHQkY2FyZE93bmVySW5wdXQucHJvcCgncGxhY2Vob2xkZXInLCBmb3JtYXQpO1xuXG5cdFx0XHQvLyBSZXNldCBjYXJkIG93bmVyIGlucHV0J3MgdmFsdWVcblx0XHRcdCRjYXJkT3duZXJJbnB1dC52YWwoJycpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzZXRDYXJkKCkge1xuXG5cdFx0XHQvLyBSZXNldCBhbGwgaW5wdXQgdmFsdWVzXG5cdFx0XHQkY2FyZEZvcm0uZmluZCgnaW5wdXQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLmlzKCdbdHlwZT1cImNoZWNrYm94XCJdJykgP1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpIDpcblx0XHRcdFx0XHRcdCQodGhpcykudmFsKCcnKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRkZWNpZGVDYXJkT3duZXIoKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGRpc3BsYXlDYXJkRm9ybSgpIHtcblxuXHRcdFx0Ly8gUmVzZXQgYWxsIGlucHV0IHZhbHVlc1xuXHRcdFx0cmVzZXRDYXJkKCk7XG5cblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBnZXRQYXltZW50TWV0aG9kKCk7XG5cblx0XHRcdHJldHVybiBwYXltZW50TWV0aG9kLmNhcmRGaWVsZHMgP1xuXHRcdFx0XHRcdCRjYXJkRm9ybS5zaG93KCkgOlxuXHRcdFx0XHRcdCRjYXJkRm9ybS5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbWFrZVBheW1lbnQoeyBjYXJ0LCBvcmRlciwgc3Vic2NyaXB0aW9uLCBjdXN0b21lciB9LCBjYWxsYmFjaykge1xuXG5cdFx0XHRjb25zdCBwYXltZW50TWV0aG9kID0gZ2V0UGF5bWVudE1ldGhvZCgpO1xuXG5cdFx0XHRpZiAoIXBheW1lbnRNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihjb250ZXh0Lm0oJ3BheW1lbnRNZXRob2RSZXF1aXJlZCcpKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChwYXltZW50TWV0aG9kLnBheUxhdGVyKSB7XG5cdFx0XHRcdC8vIElmIGEgcGF5bWVudCBpcyB0byBiZSBtYWRlIGFmdGVyIGFsbCBjaGVja291dCBwcm9jZXNzZXMsXG5cdFx0XHRcdC8vIHNpbXBseSBmaW5pc2ggY2hlY2tvdXQgcHJvY2Vzc2VzLlxuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2soKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucGx1Z2lucy5tYWtlUGF5bWVudCh7XG5cdFx0XHRcdHBheW1lbnRNZXRob2QsXG5cdFx0XHRcdGNhcnQsXG5cdFx0XHRcdG9yZGVyLFxuXHRcdFx0XHRzdWJzY3JpcHRpb24sXG5cdFx0XHRcdGN1c3RvbWVyLFxuXHRcdFx0fSwgZXJyID0+IGNhbGxiYWNrKGVycikpO1xuXG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIGludGVyZmFjZXNcblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2V0UGF5bWVudE1ldGhvZElkLFxuXHRcdFx0Z2V0UGF5bWVudE1ldGhvZCxcblx0XHRcdGdldENhcmQsXG5cdFx0XHRyZXNldENhcmQsXG5cdFx0XHR2YWxpZGF0ZSxcblx0XHRcdG1ha2VQYXltZW50XG5cdFx0fTtcblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5jb25zdCBwcm9kdWN0Q2F0YWxvZyA9IHJlcXVpcmUoJy4vbGliL3Byb2R1Y3RDYXRhbG9nLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ3Byb2R1Y3QtZGV0YWlsJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdHByb2R1Y3Q6ICAgICAgICAgICcnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2R1Y3QgSUQgdG8gcmVuZGVyXG5cdFx0cHJvZHVjdEFjdGlvbnM6ICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RBY3Rpb25zLCAgICAgICAgLy8gWydhZGQtdG8tY2FydCcsICdidXktbm93J10sXG5cdFx0b3B0aW9uU2VsZWN0b3I6ICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RPcHRpb25TZWxlY3RvciwgLy8gJ2NvbWJpbmVkJyB8fCAnc2VwYXJhdGVkJ1xuXHRcdGRlc2NyaXB0aW9uU3R5bGU6ICdkZXRhaWxlZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICdzaW1wbGUnIHx8ICdkZXRhaWxlZCdcblx0XHR1c2VGb2xsb3dpbmdOYXY6ICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgZm9sbG93aW5nIG5hdmlnYXRpb24/XG5cdFx0dXNlUmV2aWV3czogICAgICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcsICAgICAgICAgLy8gVXNlIHJldmlld3M/XG5cdFx0dXNlUmF0aW5nOiAgICAgICAgKCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHJldmlldyByYXRpbmc/XG5cdFx0XHRUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlldyAmJlxuXHRcdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdSYXRpbmdcblx0XHQpLFxuXG5cdFx0b25CdXlOb3c6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGl0ZW0pIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnY2FydCcsIHsgaXRlbXM6IFtpdGVtLl9pZF0gfSk7XG5cdFx0fSxcblx0XHRvbkl0ZW1BZGQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnaXRlbUFkZFN1Y2Nlc3MnKSk7XG5cdFx0fSxcblx0XHRvbkdvVG9DYXJ0OiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2NhcnQnKTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb250ZXh0Lm9wdGlvbnMucHJvZHVjdEFjdGlvbnMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhjb250ZXh0Lm9wdGlvbnMucHJvZHVjdEFjdGlvbnMpO1xuXG5cdFx0Y29uc3QgeyBwcm9kdWN0IH0gPSBjb250ZXh0Lm9wdGlvbnM7XG5cblx0XHRjb250ZXh0LmlzVW5hdmFpbGFibGVQcm9kdWN0ID0gcHJvZHVjdCA9PiB7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdC8vIEEgcHJvZHVjdCBpcyB1bmF2YWlsYWJsZVxuXHRcdFx0XHQhcHJvZHVjdC5hdmFpbGFibGUgfHxcblx0XHRcdFx0KFxuXHRcdFx0XHRcdHByb2R1Y3QudmFyaWFudHMgJiYgLy8gV2hpbGUgYSBwcm9kdWN0IGhhcyB2YXJpYW50cyBhcnJheVxuXHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdC8vIEEgcHJvZHVjdCBkb2Vzbid0IGhhdmUgYW55IHZhcmlhbnRzXG5cdFx0XHRcdFx0XHQhcHJvZHVjdC52YXJpYW50cy5sZW5ndGggfHxcblx0XHRcdFx0XHRcdC8vIEFsbCB2YXJpYW50cyBhcmUgdW5hdmFpbGFibGVcblx0XHRcdFx0XHRcdHByb2R1Y3QudmFyaWFudHMuZXZlcnkodiA9PiAhdi5hdmFpbGFibGUpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIHx8XG5cdFx0XHRcdC8vIEEgdGFuZ2libGUgcHJvZHVjdCBkb2Vzbid0IHN1cHBvcnQgYW55IHNoaXBwaW5nIG1ldGhvZHNcblx0XHRcdFx0KFxuXHRcdFx0XHRcdHByb2R1Y3QudHlwZSA9PT0gJ3RhbmdpYmxlJyAmJlxuXHRcdFx0XHRcdHByb2R1Y3Quc2hpcHBpbmcubWV0aG9kcy5sZW5ndGggPT09IDBcblx0XHRcdFx0KVxuXHRcdFx0KTtcblxuXHRcdH07XG5cblx0XHRjb250ZXh0LmlzU29sZE91dFByb2R1Y3QgPSBwcm9kdWN0ID0+IHtcblx0XHRcdHJldHVybiBwcm9kdWN0LnZhcmlhbnRzLmV2ZXJ5KHYgPT4gdi5xdWFudGl0eSAmJiB2LnF1YW50aXR5LnJhdyA9PT0gMCk7XG5cdFx0fTtcblxuXHRcdGNvbnRleHQuaXNVbmF2YWlsYWJsZVZhcmlhbnQgPSAocHJvZHVjdCwgdmFyaWFudCkgPT4ge1xuXG5cdFx0XHRpZiAoY29udGV4dC5pc1VuYXZhaWxhYmxlUHJvZHVjdChwcm9kdWN0KSB8fFxuXHRcdFx0XHQhdmFyaWFudC5hdmFpbGFibGUpIHtcblx0XHRcdFx0cmV0dXJuICdub3RBdmFpbGFibGVWYXJpYW50Jztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhcmlhbnQucXVhbnRpdHkgJiZcblx0XHRcdFx0dmFyaWFudC5xdWFudGl0eS5yYXcgPT09IDApIHtcblx0XHRcdFx0cmV0dXJuICdzb2xkT3V0VmFyaWFudCc7XG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0Y29udGV4dC5zaG93T3B0aW9uU2VsZWN0b3IgPSAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub3B0aW9uU2VsZWN0b3IgPT09ICdzZXBhcmF0ZWQnICYmXG5cdFx0XHRcdGNvbnRleHQucHJvZHVjdC5vcHRpb25zLmxlbmd0aCA+PSAyICYmXG5cdFx0XHRcdGNvbnRleHQucHJvZHVjdC52YXJpYW50cy5sZW5ndGggPj0gMlxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0J25vdC1leGlzdGluZy1wcm9kdWN0JzogY29udGV4dC5tKCdub3RFeGlzdGluZ1Byb2R1Y3QnKSxcblx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgIGNvbnRleHQubSgncHJvZHVjdFJlYWRGYWlsZWQnKVxuXHRcdH07XG5cblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICAgIGAvdjEvcHJvZHVjdHMvJHtwcm9kdWN0fWAsXG5cdFx0XHRxdWVyeTogIHtcblx0XHRcdFx0ZW1iZWQ6ICcrYnVuZGxlcy5pdGVtcy5wcm9kdWN0LnNoaXBwaW5nJ1xuXHRcdFx0fVxuXHRcdH0pLnRoZW4oKHByb2R1Y3QsIHRleHRTdGF0dXMsIGpxWEhSKSA9PiB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnV0aWwuZ2V0Q3VycmVuY3koanFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtY3VycmVuY3knKSkudGhlbihjdXJyZW5jeSA9PiB7XG5cblx0XHRcdFx0Y29udGV4dC5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuXHRcdFx0XHRjb250ZXh0LnByb2R1Y3QgPSBtb3ZlVW5hdmFpbGFibGVzVG9FbmQocHJvZHVjdCk7XG5cblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0ZnVuY3Rpb24gbW92ZVVuYXZhaWxhYmxlc1RvRW5kKHByb2R1Y3QpIHtcblxuXHRcdFx0XHRjb25zdCBva1ZhcmlhbnRzID0gW107XG5cdFx0XHRcdGNvbnN0IG5vdE9rVmFyaWFudHMgPSBbXTtcblxuXHRcdFx0XHRwcm9kdWN0LnZhcmlhbnRzLmZvckVhY2godmFyaWFudCA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuaXNVbmF2YWlsYWJsZVZhcmlhbnQocHJvZHVjdCwgdmFyaWFudCkgP1xuXHRcdFx0XHRcdFx0XHRub3RPa1ZhcmlhbnRzLnB1c2godmFyaWFudCkgOlxuXHRcdFx0XHRcdFx0XHRva1ZhcmlhbnRzLnB1c2godmFyaWFudCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHByb2R1Y3QudmFyaWFudHMgPSBbXS5jb25jYXQob2tWYXJpYW50cywgbm90T2tWYXJpYW50cyk7XG5cblx0XHRcdFx0cHJvZHVjdC5idW5kbGVzLmZvckVhY2goYnVuZGxlID0+IHtcblxuXHRcdFx0XHRcdGNvbnN0IG9rSXRlbXMgPSBbXTtcblx0XHRcdFx0XHRjb25zdCBub3RPa0l0ZW1zID0gW107XG5cblx0XHRcdFx0XHRidW5kbGUuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmlzVW5hdmFpbGFibGVWYXJpYW50KGl0ZW0ucHJvZHVjdCwgaXRlbS52YXJpYW50KSA/XG5cdFx0XHRcdFx0XHRcdFx0bm90T2tJdGVtcy5wdXNoKGl0ZW0pIDpcblx0XHRcdFx0XHRcdFx0XHRva0l0ZW1zLnB1c2goaXRlbSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRidW5kbGUuaXRlbXMgPSBbXS5jb25jYXQob2tJdGVtcywgbm90T2tJdGVtcyk7XG5cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHByb2R1Y3Q7XG5cblx0XHRcdH1cblxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uYmluZCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRmb2xsb3dpbmdOYXYgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1mb2xsb3dpbmctbmF2LWNvbnRhaW5lcicpO1xuXG5cdFx0VGh1bmRlci51dGlsLmZvbGxvd2luZ05hdmlnYXRpb24oJGZvbGxvd2luZ05hdiwgY29udGV4dC5vcHRpb25zLnVzZUZvbGxvd2luZ05hdiwgW1xuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiBjb250ZXh0Lm0oJ3Byb2R1Y3RJbmZvJyksXG5cdFx0XHRcdCRlbDogICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtZGV0YWlsJylcblx0XHRcdH0sXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUmV2aWV3cyA/IHtcblx0XHRcdFx0bmFtZTogW1xuXHRcdFx0XHRcdGNvbnRleHQubSgncHJvZHVjdFJldmlld3MnKSxcblx0XHRcdFx0XHRgPHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1wcm9kdWN0LXRvdGFsLWNvbW1lbnRzXCI+KCR7Y29udGV4dC5wcm9kdWN0LnRvdGFsUmV2aWV3LmNvbnZlcnRlZH0pPC9zcGFuPmAsXG5cdFx0XHRcdF0uam9pbignICcpLFxuXHRcdFx0XHQkZWw6ICAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LXJldmlld3Mtd3JhcHBlcicpXG5cdFx0XHR9IDogbnVsbCxcblx0XHRdLmZpbHRlcih2ID0+IHYpKTtcblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCBwcm9kdWN0ID0gY29udGV4dC5wcm9kdWN0O1xuXG5cdFx0Y29uc3QgdmFyaWFudE1hcCA9IFtdLmNvbmNhdChcblx0XHRcdGNvbnRleHQucHJvZHVjdC52YXJpYW50cyxcblx0XHRcdGNvbnRleHQucHJvZHVjdC5idW5kbGVzLnJlZHVjZSgodmFyaWFudHMsIGJ1bmRsZSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYnVuZGxlLml0ZW1zLnJlZHVjZSgodmFyaWFudHMsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gdmFyaWFudHMuY29uY2F0KGl0ZW0udmFyaWFudCk7XG5cdFx0XHRcdH0sIHZhcmlhbnRzKTtcblx0XHRcdH0sIFtdKVxuXHRcdCkucmVkdWNlKChvLCB2YXJpYW50KSA9PiB7XG5cdFx0XHRyZXR1cm4gc2V0KG8sIHZhcmlhbnQuX2lkLCB2YXJpYW50KTtcblx0XHR9LCB7fSk7XG5cblx0XHRjb25zdCBidW5kbGVQcm9kdWN0TWFwID0gY29udGV4dC5wcm9kdWN0LmJ1bmRsZXMucmVkdWNlKChvLCBidW5kbGUpID0+IHtcblx0XHRcdHJldHVybiBidW5kbGUuaXRlbXMucmVkdWNlKChvLCBpdGVtKSA9PiBzZXQobywgaXRlbS5wcm9kdWN0Ll9pZCwgaXRlbS5wcm9kdWN0KSwgbyk7XG5cdFx0fSwge30pO1xuXG5cdFx0Y29uc3QgdmFyaWFudFRvQnVuZGxlTWFwID0gY29udGV4dC5wcm9kdWN0LmJ1bmRsZXMucmVkdWNlKChvLCBidW5kbGUpID0+IHtcblx0XHRcdHJldHVybiBidW5kbGUuaXRlbXMucmVkdWNlKChvLCBpdGVtKSA9PiB7XG5cdFx0XHRcdHJldHVybiBzZXQobywgaXRlbS52YXJpYW50Ll9pZCwgYnVuZGxlKTtcblx0XHRcdH0sIG8pO1xuXHRcdH0sIHt9KTtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRvcHRpb25TZWxlY3QgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LW9wdGlvbi13cmFwIHNlbGVjdCcpO1xuXHRcdGNvbnN0ICR2YXJpYW50U2VsZWN0b3IgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWluZm8gLnRodW5kZXItLXByb2R1Y3Qtb3B0aW9uIC50aHVuZGVyLS1wcm9kdWN0LXZhcmlhbnQgc2VsZWN0Jyk7XG5cdFx0Y29uc3QgJHNoaXBwaW5nTWV0aG9kU2VsZWN0b3IgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zaGlwcGluZy1tZXRob2Qgc2VsZWN0Jyk7XG5cdFx0Y29uc3QgJGl0ZW1RdWFudGl0eUlucHV0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0taXRlbS1xdWFudGl0eSBpbnB1dCcpO1xuXHRcdGNvbnN0ICRidW5kbGVJdGVtcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtYnVuZGxlLWl0ZW0nKTtcblx0XHRjb25zdCAkYnVuZGxlSXRlbVNlbGVjdG9ycyA9ICRidW5kbGVJdGVtcy5maW5kKCdzZWxlY3QnKTtcblx0XHRjb25zdCAkdG90YWxXcmFwID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJpY2UtdG90YWwtd3JhcCcpO1xuXHRcdGNvbnN0ICR0b3RhbFZhbHVlID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJpY2UtdG90YWwtdmFsdWUnKTtcblx0XHRjb25zdCAkYWRkVG9DYXJ0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYWRkLXRvLWNhcnQnKTtcblx0XHRjb25zdCAkYnV5Tm93ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYnV5LW5vdycpO1xuXHRcdGNvbnN0ICRnb1RvQ2FydCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWdvLXRvLWNhcnQnKTtcblxuXHRcdGNvbnN0IHZhcmlhdGlvblRvVmFyaWFudHMgPSBjb250ZXh0LnByb2R1Y3QudmFyaWFudHMucmVkdWNlKChvLCB2KSA9PiB7XG5cblx0XHRcdGNvbnN0IGtleSA9IHYudHlwZXMubWFwKHR5cGUgPT4gdHlwZS52YXJpYXRpb24uX2lkKS5zb3J0KCkuam9pbignLicpO1xuXG5cdFx0XHRyZXR1cm4gc2V0KG8sIFtrZXldLCB2Ll9pZCk7XG5cblx0XHR9LCB7fSk7XG5cblx0XHRjb25zdCBhZGRUb0NhcnRTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYWRkVG9DYXJ0KTtcblxuXHRcdHByb2R1Y3RDYXRhbG9nKCRjb250YWluZXIpO1xuXG5cdFx0JGJ1bmRsZUl0ZW1TZWxlY3RvcnMub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRjb25zdCB2YWx1ZSA9ICQodGhpcykudmFsKCk7XG5cdFx0XHRjb25zdCAkcXVhbnRpdHkgPSAkKHRoaXMpLmNsb3Nlc3QoJy50aHVuZGVyLS1wcm9kdWN0LWJ1bmRsZS1pdGVtJykuZmluZCgnaW5wdXRbdHlwZT1cIm51bWJlclwiXScpO1xuXG5cdFx0XHQkcXVhbnRpdHkudmFsKHZhbHVlID8gMSA6IDApO1xuXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjYWxjdWxhdGVQcmljZSA9ICgpID0+IHtcblxuXHRcdFx0Y29uc3QgaXRlbSA9IGJ1aWxkSXRlbURhdGEoKTtcblxuXHRcdFx0aWYgKCFpdGVtIHx8ICFpdGVtLnZhcmlhbnQgfHwgIWl0ZW0ucXVhbnRpdHkpIHtcblx0XHRcdFx0cmV0dXJuICR0b3RhbFdyYXAuaGlkZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwcmljZSA9IFtdLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKS5tYXAoaXRlbSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgdmFyaWFudCA9IHZhcmlhbnRNYXBbaXRlbS52YXJpYW50XTtcblx0XHRcdFx0Y29uc3QgcXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5O1xuXG5cdFx0XHRcdHJldHVybiB2YXJpYW50ICYmIHF1YW50aXR5ID8gdmFyaWFudC5wcmljZS5zYWxlLnJhdyAqIHF1YW50aXR5IDogMDtcblxuXHRcdFx0fSkucmVkdWNlKChzdW0sIHByaWNlKSA9PiBzdW0gKyBwcmljZSwgMCk7XG5cblx0XHRcdCR0b3RhbFZhbHVlLnRleHQoVGh1bmRlci51dGlsLmZvcm1hdFByaWNlKHByaWNlLCBjb250ZXh0LmN1cnJlbmN5KSk7XG5cblx0XHRcdHJldHVybiBwcmljZSA/ICR0b3RhbFdyYXAuZmFkZUluKDQwMCkgOiAkdG90YWxXcmFwLmhpZGUoKTtcblx0XHR9O1xuXG5cdFx0JHZhcmlhbnRTZWxlY3Rvci5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGNvbnN0IHZhcmlhbnQgPSB2YXJpYW50TWFwWyQodGhpcykudmFsKCldO1xuXG5cdFx0XHRpZiAoIXZhcmlhbnQpIHJldHVybjtcblxuXHRcdFx0dmFyaWFudC50eXBlcy5mb3JFYWNoKCh7IG9wdGlvbiwgdmFyaWF0aW9uIH0pID0+IHtcblx0XHRcdFx0JG9wdGlvblNlbGVjdC5maWx0ZXIoYFtuYW1lPVwiJHtvcHRpb24uX2lkfVwiXWApLnZhbCh2YXJpYXRpb24uX2lkKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0XHQvLyDsmLXshZgg7ISg7YOdIOydtOuypO2KuCAoJ3NlcGFyYXRlZCcpXG5cdFx0JG9wdGlvblNlbGVjdC5vbignY2hhbmdlJywgKCkgPT4ge1xuXG5cdFx0XHRjb25zdCB2YXJpYXRpb25zID0gJG9wdGlvblNlbGVjdC5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLnZhbCgpO1xuXHRcdFx0fSkuZ2V0KCkuc29ydCgpO1xuXG5cdFx0XHRjb25zdCBrZXkgPSB2YXJpYXRpb25zLmpvaW4oJy4nKTtcblxuXHRcdFx0Y29uc3QgdmFsdWUgPSB2YXJpYXRpb25Ub1ZhcmlhbnRzW2tleV0gfHwgbnVsbDtcblxuXHRcdFx0aWYgKCF2YWx1ZSAmJiB2YXJpYXRpb25zLmxlbmd0aCA9PT0gJG9wdGlvblNlbGVjdC5sZW5ndGgpIHtcblx0XHRcdFx0JHRvdGFsV3JhcC5oaWRlKCk7XG5cdFx0XHRcdCR0b3RhbFZhbHVlLnRleHQoJycpO1xuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ25vdEV4aXN0aW5nVmFyaWFudCcpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICR2YXJpYW50U2VsZWN0b3IudmFsKCkgPT09IHZhbHVlID8gbnVsbCA6ICR2YXJpYW50U2VsZWN0b3IudmFsKHZhbHVlKTtcblx0XHR9KTtcblxuXHRcdCRjb250YWluZXIuZmluZCgnaW5wdXQsc2VsZWN0Jykub24oJ2NoYW5nZScsIGNhbGN1bGF0ZVByaWNlKTtcblxuXHRcdCRhZGRUb0NhcnQub24oJ2NsaWNrJywgKCkgPT4gYWRkVG9DYXJ0KCkpO1xuXG5cdFx0JGJ1eU5vdy5vbignY2xpY2snLCAoKSA9PiBhZGRUb0NhcnQoaXRlbSA9PiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25CdXlOb3csXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dCxcblx0XHRcdGl0ZW1cblx0XHQpKSk7XG5cblx0XHQkZ29Ub0NhcnQub24oJ2NsaWNrJywgKCkgPT4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0Y29udGV4dC5vcHRpb25zLm9uR29Ub0NhcnQsXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dFxuXHRcdCkpO1xuXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VSZXZpZXdzKSB7XG5cblx0XHRcdGNvbnN0ICRyZXZpZXdzQ29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXdzLXdyYXBwZXInKTtcblxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJHJldmlld3NDb250YWluZXIsICdwcm9kdWN0LXJldmlld3MnLCB7XG5cdFx0XHRcdHByb2R1Y3Q6ICAgICAgIGNvbnRleHQucHJvZHVjdC5faWQsXG5cdFx0XHRcdHByb2R1Y3RSYXRpbmc6IGNvbnRleHQub3B0aW9ucy51c2VSYXRpbmcgP1xuXHRcdFx0XHRcdFx0XHRcdHByb2R1Y3QucmF0aW5nIDpcblx0XHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHR1c2VSYXRpbmc6ICAgICBjb250ZXh0Lm9wdGlvbnMudXNlUmF0aW5nLFxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjbGVhckFsbE9wdGlvbnMoKSB7XG5cdFx0XHQkdG90YWxXcmFwLmhpZGUoKTtcblx0XHRcdCR0b3RhbFZhbHVlLnRleHQoJycpO1xuXHRcdFx0JGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1vcHRpb24gc2VsZWN0JykudmFsKCcnKTtcblx0XHRcdCRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3Qtb3B0aW9uIGlucHV0W3R5cGU9XCJudW1iZXJcIl0nKS52YWwoMSk7XG5cdFx0XHQkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWJ1bmRsZXMgc2VsZWN0JykudmFsKCcnKTtcblx0XHRcdCRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtYnVuZGxlcyBpbnB1dFt0eXBlPVwibnVtYmVyXCJdJykudmFsKDApO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFkZFRvQ2FydChzdWNjZXNzKSB7XG5cdFx0XHRjb25zdCBpdGVtID0gYnVpbGRJdGVtRGF0YSgpO1xuXG5cdFx0XHRzdWNjZXNzID0gc3VjY2VzcyB8fCAoKCkgPT4ge1xuXG5cdFx0XHRcdCRnb1RvQ2FydC5zaG93KCk7XG5cblx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkl0ZW1BZGQsXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0XHRjb250ZXh0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIXZhbGlkYXRlSXRlbURhdGEoaXRlbSkpIHtcblx0XHRcdFx0cmV0dXJuIGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdCdpdGVtcy1leGNlZWRlZCc6IGNvbnRleHQubSgnaXRlbXNFeGNlZWRlZCcpLFxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICBjb250ZXh0Lm0oJ2l0ZW1BZGRGYWlsZWQnKSxcblx0XHRcdH07XG5cblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xuXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogICAgJy92MS9tZS9jYXJ0L2l0ZW1zJyxcblx0XHRcdFx0XHRkYXRhOiAgIGl0ZW1cblx0XHRcdFx0fSkudGhlbihpdGVtID0+IHtcblx0XHRcdFx0XHRhZGRUb0NhcnRTcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHRjbGVhckFsbE9wdGlvbnMoKTtcblx0XHRcdFx0XHRyZXR1cm4gc3VjY2VzcyhpdGVtKTtcblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRcdGVyciA9PiBhZGRUb0NhcnRTcGlubmVyLmRvbmUoKVxuXHRcdFx0XHQpKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRUaHVuZGVyLkNhcnQuYWRkSXRlbShpdGVtLCBlcnIgPT4ge1xuXG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0YWRkVG9DYXJ0U3Bpbm5lci5kb25lKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgZXJyb3JzW2Vyci5jb2RlIHx8ICdkZWZhdWx0J10gfHwgZXJyb3JzLmRlZmF1bHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdGNsZWFyQWxsT3B0aW9ucygpO1xuXHRcdFx0XHRcdHJldHVybiBzdWNjZXNzKGl0ZW0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlSXRlbURhdGEoaXRlbURhdGEpIHtcblx0XHRcdGlmICghaXRlbURhdGEudmFyaWFudCkge1xuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3ZhcmlhbnRSZXF1aXJlZCcpKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXZhbGlkYXRlUXVhbnRpdHkocHJvZHVjdC5uYW1lLCBpdGVtRGF0YSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxlY3RlZEJ1bmRsZXMgPSBbXTtcblxuXHRcdFx0Zm9yIChjb25zdCBpdGVtIG9mIGl0ZW1EYXRhLmJ1bmRsZUl0ZW1zIHx8IFtdKSB7XG5cblx0XHRcdFx0Y29uc3QgYnVuZGxlID0gdmFyaWFudFRvQnVuZGxlTWFwW2l0ZW0udmFyaWFudF07XG5cblx0XHRcdFx0c2VsZWN0ZWRCdW5kbGVzLnB1c2goYnVuZGxlKTtcblxuXHRcdFx0XHRpZiAoIXZhbGlkYXRlUXVhbnRpdHkoYnVuZGxlLm5hbWUsIGl0ZW0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGJ1bmRsZS5yZXF1aXJlZCAmJlxuXHRcdFx0XHRcdGl0ZW0ucXVhbnRpdHkgIT09IGl0ZW1EYXRhLnF1YW50aXR5KSB7XG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdpbnZhbGlkUmVxdWlyZWRCdW5kbGVJdGVtUXVhbnRpdHknLCB7IGJ1bmRsZTogYnVuZGxlLm5hbWUgfSkpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlcXVpcmVkQnVuZGxlcyA9IHByb2R1Y3QuYnVuZGxlcy5maWx0ZXIoYiA9PiBiLnJlcXVpcmVkKTtcblxuXHRcdFx0Zm9yIChjb25zdCBidW5kbGUgb2YgcmVxdWlyZWRCdW5kbGVzKSB7XG5cblx0XHRcdFx0aWYgKHNlbGVjdGVkQnVuZGxlcy5pbmRleE9mKGJ1bmRsZSkgPT09IC0xKSB7XG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdyZXF1aXJlZEJ1bmRsZUl0ZW1SZXF1aXJlZCcsIHsgYnVuZGxlOiBidW5kbGUubmFtZSB9KSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlUXVhbnRpdHkoc2NvcGUsIGl0ZW0pIHtcblxuXHRcdFx0XHRpZiAoIWl0ZW0ucXVhbnRpdHkpIHtcblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2l0ZW1RdWFudGl0eVJlcXVpcmVkJywgeyBzY29wZSB9KSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdmFyaWFudCA9IHZhcmlhbnRNYXBbaXRlbS52YXJpYW50XTtcblxuXHRcdFx0XHRpZiAodmFyaWFudC5xdWFudGl0eSAmJlxuXHRcdFx0XHRcdHZhcmlhbnQucXVhbnRpdHkucmF3IDwgaXRlbS5xdWFudGl0eSkge1xuXHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnZXhjZWVkZWRJdGVtUXVhbnRpdHknLCB7IHNjb3BlIH0pKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYnVpbGRJdGVtRGF0YSgpIHtcblxuXHRcdFx0Y29uc3Qgc2hpcHBpbmdNZXRob2QgPSAkc2hpcHBpbmdNZXRob2RTZWxlY3Rvci52YWwoKTtcblx0XHRcdGNvbnN0IGJ1bmRsZUl0ZW1zID0gW107XG5cblx0XHRcdCRidW5kbGVJdGVtcy5lYWNoKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdGNvbnN0IFtwcm9kdWN0LCB2YXJpYW50XSA9ICgkKHRoaXMpLmZpbmQoJ3NlbGVjdCcpLnZhbCgpIHx8ICcnKS5zcGxpdCgnLicpO1xuXHRcdFx0XHRjb25zdCBidW5kbGVJdGVtUXVhbnRpdHkgPSAkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9XCJudW1iZXJcIl0nKS52YWwoKSB8fCAwO1xuXG5cdFx0XHRcdGlmICghcHJvZHVjdCB8fCAhdmFyaWFudCkgcmV0dXJuO1xuXG5cdFx0XHRcdGJ1bmRsZUl0ZW1zLnB1c2goe1xuXHRcdFx0XHRcdHByb2R1Y3Q6ICAgICAgICBwcm9kdWN0LFxuXHRcdFx0XHRcdHZhcmlhbnQ6ICAgICAgICB2YXJpYW50LFxuXHRcdFx0XHRcdHNoaXBwaW5nTWV0aG9kOiBidW5kbGVQcm9kdWN0TWFwW3Byb2R1Y3RdLnR5cGUgPT09ICd0YW5naWJsZScgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaGlwcGluZ01ldGhvZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0cXVhbnRpdHk6ICAgICAgIGJ1bmRsZUl0ZW1RdWFudGl0eSA/IHBhcnNlSW50KGJ1bmRsZUl0ZW1RdWFudGl0eSkgOiBudWxsLFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGl0ZW1RdWFudGl0eSA9ICRpdGVtUXVhbnRpdHlJbnB1dC52YWwoKSB8fCAwO1xuXHRcdFx0Y29uc3QgdmFyaWFudCA9ICR2YXJpYW50U2VsZWN0b3IudmFsKCkgfHwgKFxuXHRcdFx0XHRwcm9kdWN0LnZhcmlhbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHRcdFx0cHJvZHVjdC52YXJpYW50c1swXS5faWQgOlxuXHRcdFx0XHRcdG51bGxcblx0XHRcdCkgfHwgbnVsbDtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cHJvZHVjdDogICAgICAgIHByb2R1Y3QuX2lkLFxuXHRcdFx0XHR2YXJpYW50OiAgICAgICAgdmFyaWFudCxcblx0XHRcdFx0c2hpcHBpbmdNZXRob2Q6IHNoaXBwaW5nTWV0aG9kLFxuXHRcdFx0XHRxdWFudGl0eTogICAgICAgaXRlbVF1YW50aXR5ID8gcGFyc2VJbnQoaXRlbVF1YW50aXR5KSA6IG51bGwsXG5cdFx0XHRcdGJ1bmRsZUl0ZW1zOiAgICBidW5kbGVJdGVtc1xuXHRcdFx0fTtcblxuXHRcdH1cblxuXHR9O1xuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSAoJGNvbnRhaW5lcikgPT4ge1xuXG5cdGNvbnN0IGNhdGFsb2dNYXAgPSB7fTtcblxuXHRjb25zdCAkZGV0YWlscyA9ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtY2F0YWxvZy1kZXRhaWwnKTtcblx0Y29uc3QgJHRodW1ibmFpbHMgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWNhdGFsb2ctdGh1bWJuYWlscyBpbWcnKTtcblxuXHQkZGV0YWlscy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdGNhdGFsb2dNYXBbZ2V0SW1hZ2VJZCgkKHRoaXMpKV0gPSAkKHRoaXMpO1xuXHR9KTtcblxuXHRzZXRDdXJyZW50SW1hZ2UoZ2V0SW1hZ2VJZCgkZGV0YWlscy5lcSgwKSkpO1xuXG5cdC8vIENsaWNrIGV2ZW50cyBmb3IgbW9iaWxlIGRldmljZXMuLlxuXHQkdGh1bWJuYWlscy5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRzZXRDdXJyZW50SW1hZ2UoZ2V0SW1hZ2VJZCgkKHRoaXMpKSk7XG5cdH0pO1xuXG5cdC8vIEhvdmVyIGV2ZW50cyBmb3IgbGFwdG9wc1xuXHQkdGh1bWJuYWlscy5ob3Zlcihcblx0XHRmdW5jdGlvbigpIHsgY2F0YWxvZ01hcFtnZXRJbWFnZUlkKCQodGhpcykpXS5hZGRDbGFzcygnYWN0aXZlJykgfSxcblx0XHRmdW5jdGlvbigpIHsgY2F0YWxvZ01hcFtnZXRJbWFnZUlkKCQodGhpcykpXS5yZW1vdmVDbGFzcygnYWN0aXZlJykgfVxuXHQpO1xuXG5cdGZ1bmN0aW9uIHNldEN1cnJlbnRJbWFnZShpbWFnZUlkKSB7XG5cdFx0c2V0QW5jaG9yKCRkZXRhaWxzLCBpbWFnZUlkKTtcblx0XHRzZXRBbmNob3IoJHRodW1ibmFpbHMsIGltYWdlSWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2V0QW5jaG9yKGltYWdlcywgaW1hZ2VJZCkge1xuXG5cdFx0aW1hZ2VzXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ2FuY2hvcmVkJylcblx0XHRcdC5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLmRhdGEoKS5jYXRhbG9nSW1hZ2UgPT09IGltYWdlSWQ7XG5cdFx0XHR9KVxuXHRcdFx0LmFkZENsYXNzKCdhbmNob3JlZCcpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0SW1hZ2VJZChzZWxlY3Rvcikge1xuXG5cdFx0cmV0dXJuIHNlbGVjdG9yLmRhdGEoJ2NhdGFsb2dJbWFnZScpIHx8IG51bGw7XG5cdH1cblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdwcm9kdWN0LWxpc3QnXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XG5cdFx0cGFnZTogICAgICAgIDEsICAgICAgICAgICAgLy8gV2hpY2ggcGFnZSBvZiBwcm9kdWN0cz9cblx0XHRsaW1pdDogICAgICAgMjQsICAgICAgICAgICAvLyBIb3cgbWFueSBwcm9kdWN0cyBhdCBvbmNlP1xuXHRcdHNvcnQ6ICAgICAgICAnLWNyZWF0ZWRBdCcsIC8vIERlZmF1bHQgc29ydCBvcmRlclxuXHRcdGZpZWxkczogICAgICAnJywgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgZmllbGRzXG5cdFx0Y29sdW1uczogICAgIDQsICAgICAgICAgICAgLy8gSG93IG1hbnkgY29sdW1ucz8gKGNzcyBzdXBwb3J0cyBmb3IgMS0xMilcblx0XHRmaWx0ZXI6ICAgICAgJycsICAgICAgICAgICAvLyBFeHRyYSBmaWx0ZXJzLiBlLmcuLCBicmFuZD1hYmNkXG5cdFx0bGFiZWxzOiAgICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0TGFiZWxzLCAvLyBQcm9kdWN0IGxhYmVscyAodW5hdmFpbGFibGUsIHNvbGQtb3V0LCBkaXNjb3VudGVkKVxuXHRcdGltYWdlV2lkdGg6ICAyNDAsICAgICAgICAgIC8vIEltYWdlIHdpZHRoXG5cdFx0aW1hZ2VIZWlnaHQ6IDI0MCwgICAgICAgICAgLy8gSW1hZ2UgaGVpZ2h0XG5cdFx0c2hvd1N1bW1hcnk6IHRydWUsICAgICAgICAgLy8gU2hvdyBgcHJvZHVjdC5zdW1tYXJ5YFxuXHRcdHNob3dSYXRpbmc6ICAoICAgICAgICAgICAgIC8vIFNob3cgYHByb2R1Y3QucmF0aW5nYFxuXHRcdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcgJiZcblx0XHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nXG5cdFx0KSxcblx0XHRzaG93Q29tcGFyZVByaWNlOiB0cnVlLCAgLy8gU2hvdyBgcHJvZHVjdC5wcmljZS5vcmlnaW5hbGBcbiAgICAgICAgc2hvd0NhcnRCdXR0b246ICAgICB0cnVlLCAgIC8vIFNob3cgYW4gYWRkIHRvIGNhcnQgYnV0dG9uXG5cdFx0dXNlUGFnaW5hdGlvbjogICAgdHJ1ZSwgIC8vIFVzZSBwYWdpbmF0aW9uP1xuICAgICAgICBvbkl0ZW1BZGQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnaXRlbUFkZFN1Y2Nlc3MnKSk7XG4gICAgICAgIH0sXG5cdFx0b25WaWV3UHJvZHVjdDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgcHJvZHVjdElkKSB7XG5cdFx0XHRyZXR1cm4gVGh1bmRlci5vcGVuKCdwcm9kdWN0LWRldGFpbCcsIHtcblx0XHRcdFx0cHJvZHVjdDogcHJvZHVjdElkXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCBvcHRpb25zID0gY29udGV4dC5vcHRpb25zO1xuXG5cdFx0Y29uc3QgcXVlcnkgPSAkLmV4dGVuZCh7XG5cdFx0XHRidW5kbGVkOiBmYWxzZSAvLyBPbmx5IGRpc3BsYXkgcm9vdCBwcm9kdWN0c1xuXHRcdH0sIFRodW5kZXIudXRpbC5wYXJzZVF1ZXJ5U3RyaW5nKG9wdGlvbnMuZmlsdGVyKSk7XG5cblx0XHRjb25zdCBsaXN0UXVlcnkgPSAkLmV4dGVuZCh7XG5cdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0J3RodW1ibmFpbCcsXG5cdFx0XHRcdCdzbHVnJyxcblx0XHRcdFx0J25hbWUnLFxuXHRcdFx0XHQnc3VtbWFyeScsXG5cdFx0XHRcdCdwcmljZScsXG5cdFx0XHRcdCdkaXNjb3VudCcsXG5cdFx0XHRcdCdyYXRpbmcnLFxuXHRcdFx0XHQnYXZhaWxhYmxlJyxcblx0XHRcdFx0J3ZhcmlhbnRzLmF2YWlsYWJsZScsXG5cdFx0XHRcdCd2YXJpYW50cy5xdWFudGl0eSdcblx0XHRcdF1cblx0XHRcdC5jb25jYXQoVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcob3B0aW9ucy5maWVsZHMpKVxuXHRcdFx0LmpvaW4oJywnKSxcblx0XHRcdHBhZ2U6ICAgb3B0aW9ucy5wYWdlLCAgIC8vIFBhZ2Ugb3B0aW9uXG5cdFx0XHRsaW1pdDogIG9wdGlvbnMubGltaXQsICAvLyBMaW1pdCBvcHRpb25cblx0XHRcdHNvcnQ6ICAgb3B0aW9ucy5zb3J0LCAgIC8vIFNvcnQgb3B0aW9uXG5cdFx0fSwgcXVlcnkpO1xuXG5cdFx0Y29uc3QgY291bnRRdWVyeSA9ICQuZXh0ZW5kKHtcblx0XHRcdHJhdzogdHJ1ZSxcblx0XHR9LCBxdWVyeSk7XG5cblx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Byb2R1Y3RMaXN0RmFpbGVkJylcblx0XHR9O1xuXG5cdFx0Y29uc3QgbGFiZWxzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcob3B0aW9ucy5sYWJlbHMpLm1hcChsYWJlbCA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRsYWJlbDogbGFiZWwsXG5cdFx0XHRcdGNoZWNrOiAoe1xuXHRcdFx0XHRcdHVuYXZhaWxhYmxlOiBwcm9kdWN0ID0+IChcblx0XHRcdFx0XHRcdCFwcm9kdWN0LmF2YWlsYWJsZSB8fFxuXHRcdFx0XHRcdFx0cHJvZHVjdC52YXJpYW50cy5ldmVyeSh2ID0+ICF2LmF2YWlsYWJsZSlcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdCdzb2xkLW91dCc6IHByb2R1Y3QgPT4gcHJvZHVjdC52YXJpYW50cy5ldmVyeSh2ID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiB2LnF1YW50aXR5ICYmIHYucXVhbnRpdHkucmF3ID09PSAwO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdGRpc2NvdW50ZWQ6IHByb2R1Y3QgPT4gISFwcm9kdWN0LmRpc2NvdW50LnR5cGUsXG5cdFx0XHRcdH0pW2xhYmVsXVxuXHRcdFx0fTtcblx0XHR9LCB7fSk7XG5cblx0XHRyZXR1cm4gJC53aGVuKC4uLltcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9wcm9kdWN0cycsXG5cdFx0XHRcdHF1ZXJ5OiAgbGlzdFF1ZXJ5LFxuXHRcdFx0fSksXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbiA/IFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9wcm9kdWN0cy9jb3VudCcsXG5cdFx0XHRcdHF1ZXJ5OiAgY291bnRRdWVyeSxcblx0XHRcdH0pIDogbnVsbFxuXHRcdF0pLnRoZW4oKHByb2R1Y3RzLCBjb3VudCkgPT4ge1xuXG5cdFx0XHRjb250ZXh0LmNvdW50ID0gY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGw7XG5cdFx0XHRjb250ZXh0LnByb2R1Y3RzID0gcHJvZHVjdHNbMF0ubWFwKHByb2R1Y3QgPT4ge1xuXG5cdFx0XHRcdHByb2R1Y3QubGFiZWwgPSAoXG5cdFx0XHRcdFx0bGFiZWxzLmZpbmQoKHsgY2hlY2sgfSkgPT4gY2hlY2socHJvZHVjdCkpIHx8XG5cdFx0XHRcdFx0eyBsYWJlbDogbnVsbCB9XG5cdFx0XHRcdCkubGFiZWw7XG5cblx0XHRcdFx0cmV0dXJuIHByb2R1Y3Q7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRwcm9kdWN0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdCcpO1xuICAgICAgICBjb25zdCAkYWRkVG9DYXJ0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYWRkLXRvLWNhcnQnKTtcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtbGlzdC1wYWdpbmF0aW9uJyk7XG5cbiAgICAgICAgY29uc3QgYWRkVG9DYXJ0U3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJGFkZFRvQ2FydCk7XG5cbiAgICAgICAgJHByb2R1Y3Qub24oJ2NsaWNrJywgW1xuXHRcdFx0Jy50aHVuZGVyLS1wcm9kdWN0LXRodW1ibmFpbC13cmFwcGVyJyxcblx0XHRcdCcudGh1bmRlci0tcHJvZHVjdC1uYW1lJyxcblx0XHRcdCcudGh1bmRlci0tcHJvZHVjdC1zdW1tYXJ5Jyxcblx0XHRdLmpvaW4oJywnKSwgZXZlbnQgPT4gVGh1bmRlci5leGVjdXRlKFxuXHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVmlld1Byb2R1Y3QsXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dCxcblx0XHRcdCQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpLmRhdGEoJ3Byb2R1Y3QnKVxuXHRcdCkpO1xuXG4gICAgICAgICRhZGRUb0NhcnQub24oJ2NsaWNrJywgKCkgPT4gYWRkVG9DYXJ0KCkpO1xuXG4gICAgICAgIGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xuXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XG5cdFx0XHRcdGNvbnRhaW5lcjogICAgICRwYWdpbmF0aW9uLFxuXHRcdFx0XHRjdXJyZW50UGFnZTogICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0dG90YWxSZXN1bHQ6ICAgY29udGV4dC5jb3VudCxcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxuXHRcdFx0XHQpXG5cdFx0XHR9KTtcblx0XHR9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9DYXJ0KHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBidWlsZEl0ZW1EYXRhKCk7XG5cbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBzdWNjZXNzIHx8ICgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBUaHVuZGVyLmV4ZWN1dGUoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQub3B0aW9ucy5vbkl0ZW1BZGQsXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZXJyb3JzID0ge1xuICAgICAgICAgICAgICAgICdpdGVtcy1leGNlZWRlZCc6IGNvbnRleHQubSgnaXRlbXNFeGNlZWRlZCcpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgIGNvbnRleHQubSgnaXRlbUFkZEZhaWxlZCcpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAgICAnL3YxL2N1c3RvbWVycy9WWTZCRUZCSlg3UlUvY2FydC9pdGVtcycsXG4gICAgICAgICAgICAgICAgZGF0YTogICBpdGVtXG4gICAgICAgICAgICB9KS50aGVuKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzKGl0ZW0pO1xuICAgICAgICAgICAgfSwgZXJyID0+IGNvbnNvbGUubG9nKFwiRXJyb3JcIikpO1xuXG4gICAgICAgICAgICAvLyBUaHVuZGVyLkNhcnQuYWRkSXRlbShpdGVtLCBlcnIgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xuICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgZXJyb3JzW2Vyci5jb2RlIHx8ICdkZWZhdWx0J10gfHwgZXJyb3JzLmRlZmF1bHQpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgYWRkVG9DYXJ0U3Bpbm5lci5kb25lKCk7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHN1Y2Nlc3MoaXRlbSk7XG4gICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgLy8gaWYgKFRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuICAgICAgICAgICAgLy8gICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIC8vICAgICAgICAgdXJsOiAgICAnL3YxL21lL2NhcnQvaXRlbXMnLFxuICAgICAgICAgICAgLy8gICAgICAgICBkYXRhOiAgIGl0ZW1cbiAgICAgICAgICAgIC8vICAgICB9KS50aGVuKGl0ZW0gPT4ge1xuICAgICAgICAgICAgLy8gICAgICAgICBhZGRUb0NhcnRTcGlubmVyLmRvbmUoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuIHN1Y2Nlc3MoaXRlbSk7XG4gICAgICAgICAgICAvLyAgICAgfSwgZXJyID0+IGNvbnNvbGUubG9nKFwiRXJyb3JcIikpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgIFRodW5kZXIuQ2FydC5hZGRJdGVtKGl0ZW0sIGVyciA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBhZGRUb0NhcnRTcGlubmVyLmRvbmUoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBlcnJvcnNbZXJyLmNvZGUgfHwgJ2RlZmF1bHQnXSB8fCBlcnJvcnMuZGVmYXVsdCk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgIGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xuICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4gc3VjY2VzcyhpdGVtKTtcbiAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkSXRlbURhdGEoKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nTWV0aG9kID0gJzJKNEpEWVpCSjlIOSc7XG4gICAgICAgICAgICBjb25zdCBidW5kbGVJdGVtcyA9IFtdO1xuXG4gICAgICAgICAgICBjb25zdCBpdGVtUXVhbnRpdHkgPSAxO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdDogICAgICAgICRwcm9kdWN0Ll9pZCxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiAgICAgICAgdmFyaWFudCxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ01ldGhvZDogc2hpcHBpbmdNZXRob2QsXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6ICAgICAgIGl0ZW1RdWFudGl0eSA/IHBhcnNlSW50KGl0ZW1RdWFudGl0eSkgOiBudWxsLFxuICAgICAgICAgICAgICAgIGJ1bmRsZUl0ZW1zOiAgICBidW5kbGVJdGVtc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGNvbW1lbnRGaWVsZHMgPSBbXG5cdFx0J2N1c3RvbWVyJyxcblx0XHQnY29sbGFib3JhdG9yJyxcblx0XHQnYm9keScsXG5cdFx0J2ZsYWdnZWQnLFxuXHRcdCdjcmVhdGVkQXQnLFxuXHRdO1xuXG5cdC8vIEltcGxlbWVudGF0aW9uXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdwcm9kdWN0LXJldmlldy1jb21tZW50cydcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRyZXZpZXc6ICAgICAgICAgIG51bGwsICAgICAgICAgLy8gUmV2aWV3IElEXG5cdFx0cGFnZTogICAgICAgICAgICAxLCAgICAgICAgICAgIC8vIFdoaWNoIHBhZ2Ugb2YgY29tbWVudHM/XG5cdFx0bGltaXQ6ICAgICAgICAgICAxMCwgICAgICAgICAgIC8vIEhvdyBtYW55IGNvbW1lbnRzIGF0IG9uY2U/XG5cdFx0c29ydDogICAgICAgICAgICAnY3JlYXRlZEF0JywgIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxuXHRcdGZpbHRlcjogICAgICAgICAgbnVsbCwgICAgICAgICAvLyBFeHRyYSBxdWVyeSBmaWx0ZXJcblx0XHR1c2VCb2R5RXhjZXJwdDogIDE0MCwgICAgICAgICAgLy8gTGVuZ3RoIG9mIGEgYm9keSBleGNlcnB0IHx8IGZhbHNlXG5cdFx0dXNlRmxhZzogICAgICAgICB0cnVlLCAgICAgICAgIC8vIFVzZSBmbGFnP1xuXHRcdHVzZVBhZ2luYXRpb246ICAgdHJ1ZSwgICAgICAgICAvLyBVc2UgUGFnaW5hdGlvbj9cblx0XHRoYXNOb0NvbW1lbnRzOiAgIGZhbHNlLCAgICAgICAgLy8gSGFzIG5vIGNvbW1lbnRzPyAod2hlbiBpdCdzIGFscmVhZHkga25vd24pXG5cdFx0Y29uZmlybU9uRGVsZXRlOiBUaHVuZGVyLm9wdGlvbnMuY29uZmlybWF0aW9uLnJldmlld0NvbW1lbnREZWxldGUsIC8vIFdoZXRoZXIgdG8gY29uZmlybSBiZWZvcmUgZGVsZXRpbmcgYSByZXZpZXcgY29tbWVudFxuXG5cdFx0b25VbmF1dGhlbnRpY2F0ZWRXcml0ZUNvbW1lbnQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnaW5mbycsIGNvbnRleHQubSgnbG9naW5SZXF1aXJlZCcpKTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRpZiAoY29udGV4dC5vcHRpb25zLmhhc05vQ29tbWVudHMpIHtcblx0XHRcdC8vIElmIHRoZSByZXZpZXcgZG9lc24ndCBoYXZlIGFueSBjb21tZW50cywgZG8gbm90IGNhbGwgQVBJcy5cblx0XHRcdGNvbnRleHQuY29tbWVudHMgPSBbXTtcblx0XHRcdGNvbnRleHQuY291bnQgPSB7IHJhdzogMCwgZm9ybWF0dGVkOiAnMCcsIGNvbnZlcnRlZDogJzAnIH07XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjb21tZW50TGlzdEZhaWxlZCcpXG5cdFx0fTtcblxuXHRcdGNvbnN0IGRlZmF1bHRRdWVyeSA9ICQuZXh0ZW5kKHtcblx0XHRcdHJldmlldzogY29udGV4dC5vcHRpb25zLnJldmlldyxcblx0XHR9LCBUaHVuZGVyLnV0aWwucGFyc2VRdWVyeVN0cmluZyhjb250ZXh0Lm9wdGlvbnMuZmlsdGVyKSk7XG5cblx0XHRyZXR1cm4gJC53aGVuKFxuXHRcdFx0ZmV0Y2hDb21tZW50cygpLFxuXHRcdFx0Y291bnRDb21tZW50cygpXG5cdFx0KS50aGVuKChjb21tZW50cywgY291bnQpID0+IGNhbGxiYWNrKG51bGwsICQuZXh0ZW5kKGNvbnRleHQsIHtcblx0XHRcdGNvbW1lbnRzOiAoY29tbWVudHNbMF0gfHwgW10pLm1hcChjID0+IHtcblx0XHRcdFx0cmV0dXJuIGJ1aWxkUmV2aWV3Q29tbWVudChjLCBjb250ZXh0Lm9wdGlvbnMudXNlQm9keUV4Y2VycHQpO1xuXHRcdFx0fSksXG5cdFx0XHRjb3VudDogICAgY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGwsXG5cdFx0fSkpLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0ZXJyb3JzLFxuXHRcdFx0Y2FsbGJhY2tcblx0XHQpKTtcblxuXHRcdGZ1bmN0aW9uIGZldGNoQ29tbWVudHMoKSB7XG5cblx0XHRcdGNvbnN0IHF1ZXJ5ID0gJC5leHRlbmQoe30sIGRlZmF1bHRRdWVyeSwge1xuXHRcdFx0XHRwYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxuXHRcdFx0XHRsaW1pdDogIGNvbnRleHQub3B0aW9ucy5saW1pdCxcblx0XHRcdFx0c29ydDogICBjb250ZXh0Lm9wdGlvbnMuc29ydCxcblx0XHRcdFx0ZmllbGRzOiBjb21tZW50RmllbGRzLmpvaW4oJywnKVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHR1cmw6ICAgICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cycsXG5cdFx0XHRcdHF1ZXJ5OiAgcXVlcnlcblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY291bnRDb21tZW50cygpIHtcblxuXHRcdFx0Y29uc3QgcXVlcnkgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdFF1ZXJ5KTtcblxuXHRcdFx0ZGVsZXRlIHF1ZXJ5LmlkcztcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9wcm9kdWN0cy9yZXZpZXdzL2NvbW1lbnRzL2NvdW50Jyxcblx0XHRcdFx0cXVlcnk6ICBxdWVyeVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0bGV0IGNvbW1lbnRNYXAgPSB7fTtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICR3cml0ZUNvbW1lbnQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS13cml0ZS1jb21tZW50Jyk7XG5cdFx0Y29uc3QgJGhhc05vQ29tbWVudHMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctaGFzLW5vLWNvbW1lbnRzJyk7XG5cdFx0Y29uc3QgJGNvbW1lbnRXcml0ZXJDb250YWluZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jb21tZW50LXdyaXRlci1jb250YWluZXInKTtcblx0XHRjb25zdCAkY29tbWVudEJvZHkgPSAkY29tbWVudFdyaXRlckNvbnRhaW5lci5maW5kKCd0ZXh0YXJlYScpO1xuXHRcdGNvbnN0ICRwb3N0Q29tbWVudCA9ICRjb21tZW50V3JpdGVyQ29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wb3N0LWNvbW1lbnQnKTtcblx0XHRjb25zdCAkY2FuY2VsQ29tbWVudCA9ICRjb21tZW50V3JpdGVyQ29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1jYW5jZWwtY29tbWVudCcpO1xuXHRcdGNvbnN0ICRjb21tZW50TGlzdCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJldmlldy1jb21tZW50LWxpc3QnKTtcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJldmlldy1jb21tZW50LWxpc3QtcGFnaW5hdGlvbicpO1xuXG5cdFx0dXBkYXRlQ29tbWVudE1hcCgpO1xuXG5cdFx0JHdyaXRlQ29tbWVudC5vbignY2xpY2snLCBzdGFydENvbW1lbnRXcml0aW5nKTtcblx0XHQkY2FuY2VsQ29tbWVudC5vbignY2xpY2snLCBjYW5jZWxDb21tZW50KTtcblxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1yZWFkLW1vcmUnLCByZWFkTW9yZSk7XG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWVkaXQtcmV2aWV3LWNvbW1lbnQnLCBlZGl0Q29tbWVudCk7XG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWRlbGV0ZS1yZXZpZXctY29tbWVudCcsIGRlbGV0ZUNvbW1lbnQpO1xuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1mbGFnJywgZmxhZ0NvbW1lbnQpO1xuXG5cblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYSh7XG5cdFx0XHRjb21wb25lbnROYW1lOiBpbXBsZW1lbnRhdGlvbi5uYW1lLFxuXHRcdFx0YnV0dG9uOiAgICAgICAgJHBvc3RDb21tZW50LFxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVDb21tZW50LFxuXHRcdFx0Y2FsbGJhY2s6ICAgICAgcG9zdENvbW1lbnQsXG5cdFx0fSk7XG5cblx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZVBhZ2luYXRpb24pIHtcblxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xuXHRcdFx0XHR0eXBlOiAgICAgICAgICAnc2ltcGxlJyxcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxuXHRcdFx0XHR0b3RhbFJlc3VsdDogICBjb250ZXh0LmNvdW50LnJhdyxcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxuXHRcdFx0XHQpXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1cGRhdGVDb21tZW50TWFwKCkge1xuXG5cdFx0XHRjb21tZW50TWFwID0gY29udGV4dC5jb21tZW50cy5yZWR1Y2UoKG8sIGNvbW1lbnQpID0+IHtcblx0XHRcdFx0cmV0dXJuIHNldChvLCBjb21tZW50Ll9pZCwgY29tbWVudCk7XG5cdFx0XHR9LCB7fSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzdGFydENvbW1lbnRXcml0aW5nKGV2ZW50KSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xuXHRcdFx0XHRyZXR1cm4gc2hvd0NvbW1lbnRXcml0ZXIoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVW5hdXRoZW50aWNhdGVkV3JpdGVDb21tZW50LFxuXHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRjb250ZXh0XG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0Q29tbWVudCgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHJldmlldzogY29udGV4dC5vcHRpb25zLnJldmlldyxcblx0XHRcdFx0Ym9keTogICAkY29tbWVudEJvZHkudmFsKCksXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlQ29tbWVudChjb21tZW50KSB7XG5cblx0XHRcdGNvbW1lbnQgPSBjb21tZW50IHx8IGdldENvbW1lbnQoKTtcblxuXHRcdFx0aWYgKCFjb21tZW50LmJvZHkpIHtcblx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdib2R5UmVxdWlyZWQnKSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcG9zdENvbW1lbnQodG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXG5cdFx0XHRjb25zdCBkYXRhID0gZ2V0Q29tbWVudCgpO1xuXG5cdFx0XHRyZXR1cm4gY3JlYXRlQ29tbWVudChkYXRhKVxuXHRcdFx0XHRcdC50aGVuKGNvbW1lbnQgPT4gZmV0Y2hDb21tZW50KGNvbW1lbnQpKVxuXHRcdFx0XHRcdC50aGVuKGNvbW1lbnQgPT4gZG9uZShjb21tZW50KSk7XG5cblx0XHRcdGZ1bmN0aW9uIGRvbmUoY29tbWVudCkge1xuXG5cdFx0XHRcdGNvbW1lbnQgPSBidWlsZFJldmlld0NvbW1lbnQoY29tbWVudCwgY29udGV4dC5vcHRpb25zLnVzZUJvZHlFeGNlcnB0KTtcblxuXHRcdFx0XHRjb250ZXh0LmNvbW1lbnRzLnVuc2hpZnQoY29tbWVudCk7XG5cblx0XHRcdFx0dXBkYXRlQ29tbWVudE1hcCgpO1xuXG5cdFx0XHRcdGNvbnN0ICR0ZW1wbGF0ZSA9ICQoVGh1bmRlci5jb21wb25lbnQoaW1wbGVtZW50YXRpb24ubmFtZSkudGVtcGxhdGUoJC5leHRlbmQoe30sIGNvbnRleHQsIHtcblx0XHRcdFx0XHRjb21tZW50czogW2NvbW1lbnRdXG5cdFx0XHRcdH0pKSk7XG5cblx0XHRcdFx0Y29uc3QgJGNvbW1lbnQgPSAkKCR0ZW1wbGF0ZS5maW5kKCcudGh1bmRlci0tcmV2aWV3LWNvbW1lbnQtbGlzdCcpLmh0bWwoKSk7XG5cblx0XHRcdFx0JGNvbW1lbnRMaXN0LnByZXBlbmQoJGNvbW1lbnQpO1xuXG5cdFx0XHRcdGNhbmNlbENvbW1lbnQoKTtcblxuXHRcdFx0XHRyZXNldFN0YXRlKCk7XG5cblx0XHRcdFx0JGhhc05vQ29tbWVudHMucmVtb3ZlKCk7XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdjb21tZW50UG9zdFN1Y2Nlc3MnKSk7XG5cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gY3JlYXRlQ29tbWVudChkYXRhKSB7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY29tbWVudFBvc3RGYWlsZWQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogICAgJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogICAgICAgJy92MS9tZS9wcm9kdWN0cy9yZXZpZXdzL2NvbW1lbnRzJyxcblx0XHRcdFx0XHRkYXRhOiAgICAgIGRhdGEsXG5cdFx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcblx0XHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdFx0cmVzZXRTdGF0ZVxuXHRcdFx0XHQpKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBmZXRjaENvbW1lbnQoY29tbWVudCkge1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NvbW1lbnRSZWFkRmFpbGVkJylcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRcdHVybDogICAgYC92MS9wcm9kdWN0cy9yZXZpZXdzL2NvbW1lbnRzLyR7Y29tbWVudC5faWR9YCxcblx0XHRcdFx0XHRxdWVyeTogIHtcblx0XHRcdFx0XHRcdGZpZWxkczogY29tbWVudEZpZWxkcy5qb2luKCcsJylcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRcdHJlc2V0U3RhdGVcblx0XHRcdFx0KSk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNhbmNlbENvbW1lbnQoZXZlbnQpIHtcblxuXHRcdFx0aWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHQkY29tbWVudEJvZHkudmFsKG51bGwpO1xuXHRcdFx0aGlkZUNvbW1lbnRXcml0ZXIoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaG93Q29tbWVudFdyaXRlcigpIHtcblx0XHRcdCR3cml0ZUNvbW1lbnQuaGlkZSgpO1xuXHRcdFx0JGNvbW1lbnRXcml0ZXJDb250YWluZXIuc2hvdygpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGVDb21tZW50V3JpdGVyKCkge1xuXHRcdFx0JHdyaXRlQ29tbWVudC5zaG93KCk7XG5cdFx0XHQkY29tbWVudFdyaXRlckNvbnRhaW5lci5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVhZE1vcmUoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgJGNvbW1lbnQgPSAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJldmlldy1jb21tZW50XScpO1xuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJGNvbW1lbnQuZGF0YSgncmV2aWV3Q29tbWVudCcpO1xuXHRcdFx0Y29uc3QgYm9keSA9IGNvbW1lbnRNYXBbY29tbWVudElkXS5ib2R5O1xuXG5cdFx0XHQkY29tbWVudC5maW5kKCcudGh1bmRlci0tcmV2aWV3LWNvbW1lbnQtYm9keScpLmh0bWwoYm9keSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBlZGl0Q29tbWVudChldmVudCkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRjb25zdCBpc0VkaXRpbmcgPSAkKHRoaXMpLmRhdGEoJ2VkaXRpbmcnKTtcblx0XHRcdGNvbnN0ICRjb21tZW50ID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1yZXZpZXctY29tbWVudF0nKTtcblx0XHRcdGNvbnN0IGNvbW1lbnRJZCA9ICRjb21tZW50LmRhdGEoJ3Jldmlld0NvbW1lbnQnKTtcblxuXHRcdFx0aWYgKGlzRWRpdGluZykge1xuXG5cdFx0XHRcdGNvbnN0ICRpbnB1dCA9ICRjb21tZW50LmZpbmQoJ3RleHRhcmVhLnRodW5kZXItLXJldmlldy1jb21tZW50LWJvZHknKTtcblxuXHRcdFx0XHRjb25zdCBkYXRhID0geyBib2R5OiAkaW5wdXQudmFsKCkgfHwgbnVsbCB9O1xuXG5cdFx0XHRcdGlmICghdmFsaWRhdGVDb21tZW50KGRhdGEpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnc2F2ZUZhaWxlZCcpLFxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ1BVVCcsXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvY29tbWVudHMvJHtjb21tZW50SWR9YCxcblx0XHRcdFx0XHRkYXRhOiAgIGRhdGEsXG5cdFx0XHRcdH0pLnRoZW4oY29tbWVudCA9PiB7XG5cblx0XHRcdFx0XHQkKHRoaXMpLnRleHQoY29udGV4dC5tKCdlZGl0Q29tbWVudCcpKTtcblx0XHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2VkaXRpbmcnLCBmYWxzZSk7XG5cblx0XHRcdFx0XHRjb25zdCAkYm9keSA9ICQoYDxkaXYgY2xhc3M9XCIkeyRpbnB1dC5hdHRyKCdjbGFzcycpfVwiPjwvZGl2PmApO1xuXG5cdFx0XHRcdFx0JGJvZHkuaHRtbChjb21tZW50LmJvZHkpO1xuXG5cdFx0XHRcdFx0JGlucHV0LnJlcGxhY2VXaXRoKCRib2R5KTtcblxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnc2F2ZVN1Y2Nlc3MnKSk7XG5cblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGNvbnN0IGNvbW1lbnQgPSBjb21tZW50TWFwW2NvbW1lbnRJZF07XG5cblx0XHRcdFx0Y29uc3QgJGJvZHkgPSAkY29tbWVudC5maW5kKCcudGh1bmRlci0tcmV2aWV3LWNvbW1lbnQtYm9keScpO1xuXG5cdFx0XHRcdGNvbnN0ICRpbnB1dCA9ICQoYDx0ZXh0YXJlYSBjbGFzcz1cIiR7JGJvZHkuYXR0cignY2xhc3MnKX1cIj4ke2NvbW1lbnQuYm9keSB8fCAnJ308L3RleHRhcmVhPmApO1xuXG5cdFx0XHRcdCRib2R5LnJlcGxhY2VXaXRoKCRpbnB1dCk7XG5cblx0XHRcdFx0JCh0aGlzKS50ZXh0KGNvbnRleHQubSgnc2F2ZUNvbW1lbnQnKSk7XG5cdFx0XHRcdCQodGhpcykuZGF0YSgnZWRpdGluZycsIHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ29tbWVudChldmVudCkge1xuXG5cdFx0XHRpZiAoZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0IHJlbW92ZUNvbW1lbnQgPSAoKSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgJGNvbW1lbnQgPSAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJldmlldy1jb21tZW50XScpO1xuXHRcdFx0XHRjb25zdCBjb21tZW50SWQgPSAkY29tbWVudC5kYXRhKCdyZXZpZXdDb21tZW50Jyk7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnZGVsZXRlRmFpbGVkJyksXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy8ke2NvbW1lbnRJZH1gLFxuXHRcdFx0XHR9KS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHQkY29tbWVudC5hZGRDbGFzcygnaGlkZGVuJykuaGlkZSgpO1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnZGVsZXRlU3VjY2VzcycpKTtcblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoIWNvbnRleHQub3B0aW9ucy5jb25maXJtT25EZWxldGUpIHtcblx0XHRcdFx0cmV0dXJuIHJlbW92ZUNvbW1lbnQoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucGx1Z2lucy5jb25maXJtYXRpb24oXG5cdFx0XHRcdGNvbnRleHQubSgnZGVsZXRlQ29uZmlybScpLFxuXHRcdFx0XHQoKSA9PiByZW1vdmVDb21tZW50KClcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmbGFnQ29tbWVudChldmVudCkge1xuXG5cdFx0XHRpZiAoZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0IGNvbW1lbnRJZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmV2aWV3LWNvbW1lbnRdJykuZGF0YSgncmV2aWV3Q29tbWVudCcpO1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICBjb250ZXh0Lm0oJ2ZsYWdGYWlsZWQnKSxcblx0XHRcdFx0J2R1cGxpY2F0ZWQtZmxhZyc6IGNvbnRleHQubSgnZHVwbGljYXRlZEZsYWcnKSxcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvY29tbWVudHMvJHtjb21tZW50SWR9L2ZsYWdzYCxcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2ZsYWdTdWNjZXNzJykpO1xuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnNcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG5cdGZ1bmN0aW9uIGJ1aWxkUmV2aWV3Q29tbWVudChjb21tZW50LCB1c2VCb2R5RXhjZXJwdCkge1xuXG5cdFx0Y29uc3QgY3VzdG9tZXIgPSBnZXQoVGh1bmRlci5hdXRoZW50aWNhdGVkKCdjdXN0b21lcicpLCAnc3ViJywgJ3VuYXV0aGVudGljYXRlZCcpO1xuXG5cdFx0Y29tbWVudC5lZGl0YWJsZSA9IGdldChjb21tZW50LCAnY3VzdG9tZXIuX2lkJykgPT09IGN1c3RvbWVyO1xuXHRcdGNvbW1lbnQuZXhjZXJwdCA9IFRodW5kZXIudXRpbC5leGNlcnB0KGNvbW1lbnQuYm9keSwgdXNlQm9keUV4Y2VycHQpIHx8ICcnO1xuXHRcdGNvbW1lbnQuYm9keSA9IGNvbW1lbnQuYm9keSB8fCAnJztcblxuXHRcdHJldHVybiBjb21tZW50O1xuXG5cdH1cblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IHJldmlld0ZpZWxkcyA9IFtcblx0XHQnY3VzdG9tZXInLFxuXHRcdCd0aXRsZScsXG5cdFx0J2JvZHknLFxuXHRcdCdpbWFnZXMnLFxuXHRcdCdyYXRpbmcnLFxuXHRcdCdoZWxwZWQnLFxuXHRcdCdmbGFnZ2VkJyxcblx0XHQndG90YWxDb21tZW50Jyxcblx0XHQnY3JlYXRlZEF0Jyxcblx0XTtcblxuXHQvLyBJbXBsZW1lbnRhdGlvblxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcblx0XHRuYW1lOiAncHJvZHVjdC1yZXZpZXctd3JpdGVyJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXG5cdFx0cHJvZHVjdDogICBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvZHVjdCBJRCB0byB3cml0ZSBhIHJldmlld1xuXHRcdHVzZVJhdGluZzogVGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdSYXRpbmcsIC8vIFVzZSByYXRpbmc/XG5cblx0XHRvblJldmlld1Bvc3Q6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHJldmlldykge30sXG5cdFx0b25SZXZpZXdDYW5jZWw6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHt9XG5cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCByZXZpZXcgPSB7IGltYWdlczogW10gfTtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICR3cml0ZVJldmlld0Zvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS13cml0ZS1yZXZpZXctZm9ybScpO1xuXHRcdGNvbnN0ICR3cml0ZVJldmlld0ltYWdlRm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJldmlldy1pbWFnZS1mb3JtJyk7XG5cdFx0Y29uc3QgJHdyaXRlUmV2aWV3SW1hZ2VzID0gJHdyaXRlUmV2aWV3SW1hZ2VGb3JtLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctaW1hZ2VzJyk7XG5cdFx0Y29uc3QgJHBvc3RSZXZpZXcgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wb3N0LXByb2R1Y3QtcmV2aWV3Jyk7XG5cdFx0Y29uc3QgJGNhbmNlbFJldmlldyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhbmNlbC1wcm9kdWN0LXJldmlldycpO1xuXG5cdFx0JGNhbmNlbFJldmlldy5vbignY2xpY2snLCBjYW5jZWxSZXZpZXdXcml0aW5nKTtcblxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1kZWxldGUtcmV2aWV3LWltYWdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGNvbnN0IGltYWdlSWQgPSAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLWltYWdlXScpLmRhdGEoJ2ltYWdlJyk7XG5cblx0XHRcdHJldHVybiByZW1vdmVJbWFnZShpbWFnZUlkKTtcblx0XHR9KTtcblxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcblx0XHRcdGNvbXBvbmVudE5hbWU6IGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRidXR0b246ICAgICAgICAkcG9zdFJldmlldyxcblx0XHRcdHZhbGlkYXRlOiAgICAgIHZhbGlkYXRlUmV2aWV3LFxuXHRcdFx0Y2FsbGJhY2s6ICAgICAgcG9zdFJldmlldyxcblx0XHR9KTtcblxuXHRcdFRodW5kZXIudXRpbC5pbWFnZVVwbG9hZGVyKFxuXHRcdFx0JHdyaXRlUmV2aWV3SW1hZ2VGb3JtLFxuXHRcdFx0aW1hZ2UgPT4gYWRkSW1hZ2UoaW1hZ2UpLFxuXHRcdFx0KCkgPT4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdpbWFnZVVwbG9hZEZhaWxlZCcpKVxuXHRcdCk7XG5cblx0XHRmdW5jdGlvbiBjYW5jZWxSZXZpZXdXcml0aW5nKGV2ZW50KSB7XG5cblx0XHRcdGlmIChldmVudCkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Ly8gUG9zc2libHkgYSBidWcgZnJvbSBCYWJlbD9cblx0XHRcdC8vIGByZXZpZXcuaW1hZ2VzYCBhY3R1YWxseSBjb250YWlucyBtdWx0aXBsZSBpZCxcblx0XHRcdC8vIGJ1dCBgcmVtb3ZlSW1hZ2UoKWAgb25seSBnZXRzIGNhbGxlZCBvbmNlIGluIGAuZm9yRWFjaGBcblx0XHRcdHJldmlldy5pbWFnZXMuZm9yRWFjaChpbWFnZUlkID0+IHtcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiByZW1vdmVJbWFnZShpbWFnZUlkKSwgMCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmVzZXRGb3JtKCk7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblJldmlld0NhbmNlbCxcblx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0Y29udGV4dFxuXHRcdFx0KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHtcblxuXHRcdFx0cmV2aWV3LmltYWdlcy5mb3JFYWNoKGltYWdlSWQgPT4gcmVtb3ZlSW1hZ2UoaW1hZ2VJZCwgdHJ1ZSkpO1xuXG5cdFx0XHQkd3JpdGVSZXZpZXdGb3JtLmZpbmQoJ3NlbGVjdCcpLnZhbCg1KTtcblx0XHRcdCR3cml0ZVJldmlld0Zvcm0uZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0sdGV4dGFyZWEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKHRoaXMpLnZhbChudWxsKTtcblx0XHRcdH0pO1xuXHRcdFx0JHdyaXRlUmV2aWV3SW1hZ2VGb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykudmFsKG51bGwpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UmV2aWV3KCkge1xuXG5cdFx0XHRyZXR1cm4gJC5leHRlbmQoXG5cdFx0XHRcdFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCR3cml0ZVJldmlld0Zvcm0uc2VyaWFsaXplQXJyYXkoKSksXG5cdFx0XHRcdHJldmlld1xuXHRcdFx0KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFkZEltYWdlKGltYWdlKSB7XG5cblx0XHRcdC8vIFVwZGF0ZSByZXZpZXdcblx0XHRcdHJldmlldy5pbWFnZXMucHVzaChpbWFnZS5faWQpO1xuXG5cdFx0XHQvLyBVcGRhdGUgRE9NXG5cdFx0XHQkd3JpdGVSZXZpZXdJbWFnZXMuYXBwZW5kKGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLXJldmlldy1pbWFnZVwiIGRhdGEtaW1hZ2U9XCIke2ltYWdlLl9pZH1cIj5cblx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7VGh1bmRlci51dGlsLmltYWdlVVJMKGltYWdlLCAxMjAsIDEyMCl9XCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1kZWxldGUtcmV2aWV3LWltYWdlXCI+JHtjb250ZXh0Lm0oJ2RlbGV0ZUltYWdlJyl9PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGAudHJpbSgpKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZW1vdmVJbWFnZShpbWFnZUlkLCBkb05vdERlbGV0ZSA9IGZhbHNlKSB7XG5cblx0XHRcdC8vIFVwZGF0ZSByZXZpZXdcblx0XHRcdHJldmlldy5pbWFnZXMuc3BsaWNlKHJldmlldy5pbWFnZXMuaW5kZXhPZihpbWFnZUlkKSwgMSk7XG5cblx0XHRcdC8vIFVwZGF0ZSBET01cblx0XHRcdCR3cml0ZVJldmlld0ltYWdlcy5maW5kKGBbZGF0YS1pbWFnZT1cIiR7aW1hZ2VJZH1cIl1gKS5yZW1vdmUoKTtcblxuXHRcdFx0aWYgKGRvTm90RGVsZXRlKSByZXR1cm47XG5cblx0XHRcdC8vIFJlbW92ZSBmcm9tIHRoZSBzdG9yYWdlIChGaXJlICYgRm9yZ2V0KVxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRcdHVybDogICAgYC92MS9tZS9pbWFnZXMvJHtpbWFnZUlkfWBcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlUmV2aWV3KCkge1xuXG5cdFx0XHRjb25zdCByZXZpZXcgPSBnZXRSZXZpZXcoKTtcblxuXHRcdFx0aWYgKCFyZXZpZXcudGl0bGUpIHtcblx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCd0aXRsZVJlcXVpcmVkJykpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHBvc3RSZXZpZXcodG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xuXG5cdFx0XHRyZXR1cm4gY3JlYXRlUmV2aWV3KClcblx0XHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZmV0Y2hSZXZpZXcocmV2aWV3KSlcblx0XHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZG9uZShyZXZpZXcpKTtcblxuXHRcdFx0ZnVuY3Rpb24gZG9uZShyZXZpZXcpIHtcblxuXHRcdFx0XHRyZXNldEZvcm0oKTtcblxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncmV2aWV3UG9zdFN1Y2Nlc3MnKSk7XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25SZXZpZXdQb3N0LFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0XHRyZXZpZXdcblx0XHRcdFx0KTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBjcmVhdGVSZXZpZXcoKSB7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdCdub3QtcHVyY2hhc2VkLXByb2R1Y3QnOiBjb250ZXh0Lm0oJ25vdFB1cmNoYXNlZFByb2R1Y3QnKSxcblx0XHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdyZXZpZXdQb3N0RmFpbGVkJylcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRtZXRob2Q6ICAgICdQT1NUJyxcblx0XHRcdFx0XHR1cmw6ICAgICAgICcvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cycsXG5cdFx0XHRcdFx0ZGF0YTogICAgICBnZXRSZXZpZXcoKSxcblx0XHRcdFx0XHRyZWNhcHRjaGE6IHRva2VuLFxuXHRcdFx0XHR9KS50aGVuKG51bGwsIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRyZXNldFN0YXRlXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGZldGNoUmV2aWV3KHJldmlldykge1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Jldmlld1JlYWRGYWlsZWQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL3Byb2R1Y3RzL3Jldmlld3MvcHVibGlzaGVkLyR7cmV2aWV3Ll9pZH1gLFxuXHRcdFx0XHRcdHF1ZXJ5OiAgeyBmaWVsZHM6IHJldmlld0ZpZWxkcy5qb2luKCcsJykgfVxuXHRcdFx0XHR9KS50aGVuKG51bGwsIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdGVycm9ycyxcblx0XHRcdFx0XHRyZXNldFN0YXRlXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IHJldmlld1F1ZXJ5ID0gc2hvd1Byb2R1Y3QgPT4gKHtcblx0XHRmaWVsZHM6IFtcblx0XHRcdCdjdXN0b21lcicsXG5cdFx0XHQndGl0bGUnLFxuXHRcdFx0J2JvZHknLFxuXHRcdFx0J2ltYWdlcycsXG5cdFx0XHQncmF0aW5nJyxcblx0XHRcdCdoZWxwZWQnLFxuXHRcdFx0J2ZsYWdnZWQnLFxuXHRcdFx0J3RvdGFsQ29tbWVudCcsXG5cdFx0XHQnY3JlYXRlZEF0Jyxcblx0XHRdLmNvbmNhdChzaG93UHJvZHVjdCA/ICdwcm9kdWN0JyA6IFtdKS5qb2luKCcsJyksXG5cdFx0ZW1iZWQ6ICcrcHJvZHVjdC50aHVtYm5haWwnXG5cdH0pO1xuXG5cdC8vIEltcGxlbWVudGF0aW9uXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdwcm9kdWN0LXJldmlldydcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRyZXZpZXc6ICAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXZpZXcgSUQgb3IgcmV2aWV3IG9iamVjdFxuXHRcdHVzZUN1c3RvbWVyQXZhdGFyOiBUaHVuZGVyLm9wdGlvbnMuY3VzdG9tZXJBdmF0YXIsICAgICAgIC8vIFVzZSBjdXN0b21lciBhdmF0YXJcblx0XHR1c2VCb2R5RXhjZXJwdDogICAgMTQwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb2R5IGV4Y2VycHQgbGVuZ3RoIHx8IGZhbHNlXG5cdFx0dXNlUmF0aW5nOiAgICAgICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nLCAgLy8gVXNlIHJhdGluZz9cblx0XHR1c2VIZWxwVm90ZTogICAgICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgaGVscGZ1bCB2b3Rlcz9cblx0XHR1c2VGbGFnOiAgICAgICAgICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgZmxhZz9cblx0XHR1c2VDb21tZW50czogICAgICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdDb21tZW50LCAvLyBVc2UgcmV2aWV3IGNvbW1lbnRzP1xuXHRcdGNvbmZpcm1PbkRlbGV0ZTogICBUaHVuZGVyLm9wdGlvbnMuY29uZmlybWF0aW9uLnJldmlld0RlbGV0ZSwgLy8gV2hldGhlciB0byBjb25maXJtIGJlZm9yZSBkZWxldGluZyBhIHJldmlld1xuXHRcdHNob3dQcm9kdWN0OiAgICAgICBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgcHJvZHVjdCBkZXRhaWw/XG5cdFx0Ly8gTG9hZCAmIFNob3cgY29tbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nP1xuXHRcdC8vIChJZiBpdCdzIGFuIG9iamVjdCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgYW4gb3B0aW9uIHRvIGBwcm9kdWN0LXJldmlldy1jb21tZW50c2AgY29tcG9uZW50KVxuXHRcdHNob3dDb21tZW50czogICAgICBmYWxzZSxcblxuXHRcdG9uRGVsZXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnZGVsZXRlU3VjY2VzcycpKTtcblxuXHRcdH1cblx0fSk7XG5cblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcblxuXHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQub3B0aW9ucy5yZXZpZXc7XG5cblx0XHRpZiAodHlwZW9mIHJldmlldyA9PT0gJ29iamVjdCcpIHtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHNldFJldmlldyhyZXZpZXcpKTtcblx0XHR9XG5cblxuXHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3UmVhZEZhaWxlZCcpXG5cdFx0fTtcblxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdHVybDogICAgYC92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZC8ke3Jldmlld31gLFxuXHRcdFx0cXVlcnk6ICByZXZpZXdRdWVyeShjb250ZXh0Lm9wdGlvbnMuc2hvd1Byb2R1Y3QpXG5cdFx0fSkudGhlbihyZXZpZXcgPT4ge1xuXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgc2V0UmV2aWV3KHJldmlldykpO1xuXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cblx0XHRmdW5jdGlvbiBzZXRSZXZpZXcocmV2aWV3KSB7XG5cdFx0XHRyZXR1cm4gc2V0KGNvbnRleHQsICdyZXZpZXcnLCBidWlsZFJldmlldyhyZXZpZXcsIGNvbnRleHQub3B0aW9ucy51c2VCb2R5RXhjZXJwdCkpO1xuXHRcdH1cblxuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcblx0XHRjb25zdCAkcmV2aWV3ID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXcnKTtcblx0XHRjb25zdCAkaW1hZ2VGb3JtID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tZWRpdC1yZXZpZXctaW1hZ2UtZm9ybScpO1xuXHRcdGNvbnN0ICRyZXZpZXdJbWFnZXMgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctaW1hZ2VzJyk7XG5cblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0taGVscGVkLXZvdGUnLCBoZWxwVm90ZSk7XG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWZsYWcnLCBmbGFnKTtcblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0tZWRpdC1wcm9kdWN0LXJldmlldycsIGVkaXRSZXZpZXcpO1xuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1kZWxldGUtcHJvZHVjdC1yZXZpZXcnLCBkZWxldGVSZXZpZXcpO1xuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1kZWxldGUtcmV2aWV3LWltYWdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGNvbnN0ICRpbWFnZUxpc3QgPSAkKHRoaXMpLnBhcmVudHMoJy50aHVuZGVyLS1yZXZpZXctaW1hZ2VzJyk7XG5cdFx0XHRjb25zdCBpbWFnZUlkID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1pbWFnZV0nKS5kYXRhKCdpbWFnZScpO1xuXG5cdFx0XHRyZXR1cm4gcmVtb3ZlSW1hZ2UoJGltYWdlTGlzdCwgY29udGV4dC5yZXZpZXcsIGltYWdlSWQpO1xuXG5cdFx0fSk7XG5cblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0tcmVhZC1tb3JlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGNvbnN0ICRyZXZpZXdCb2R5ID0gJCh0aGlzKS5wYXJlbnRzKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctYm9keScpO1xuXG5cdFx0XHQkcmV2aWV3Qm9keS5odG1sKGNvbnRleHQucmV2aWV3LmJvZHkpO1xuXG5cdFx0fSk7XG5cblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0tc2hvdy1wcm9kdWN0LXJldmlldy1jb21tZW50Jywgc2hvd0NvbW1lbnRzKTtcblxuXHRcdFRodW5kZXIudXRpbC5pbWFnZVVwbG9hZGVyKFxuXHRcdFx0JGltYWdlRm9ybSxcblx0XHRcdGltYWdlID0+IGFkZEltYWdlKCRyZXZpZXdJbWFnZXMsIGNvbnRleHQucmV2aWV3LCBpbWFnZSksXG5cdFx0XHQoKSA9PiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2ltYWdlVXBsb2FkRmFpbGVkJykpXG5cdFx0KTtcblxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlQ29tbWVudHMgJiZcblx0XHRcdGNvbnRleHQub3B0aW9ucy5zaG93Q29tbWVudHMpIHtcblx0XHRcdC8vIElmIGBzaG93Q29tbWVudHNgIG9wdGlvbiBpcyBzZXQgdG8gYHRydWVgLFxuXHRcdFx0Ly8gcmVuZGVyIGNvbW1lbnRzIHdoZW4gdGhlIGNvbXBvbmVudCBpbml0aWF0ZXMuXG5cdFx0XHRzaG93Q29tbWVudHMoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB2YWxpZGF0ZVJldmlldyhyZXZpZXcpIHtcblxuXHRcdFx0aWYgKCFyZXZpZXcudGl0bGUpIHtcblx0XHRcdFx0cmV0dXJuICd0aXRsZVJlcXVpcmVkJztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYWRkSW1hZ2UoJGltYWdlTGlzdCwgcmV2aWV3LCBpbWFnZSkge1xuXG5cdFx0XHQvLyBVcGRhdGUgcmV2aWV3XG5cdFx0XHRyZXZpZXcuaW1hZ2VzLnB1c2goaW1hZ2UpO1xuXG5cdFx0XHQvLyBVcGRhdGUgRE9NXG5cdFx0XHQkaW1hZ2VMaXN0LmFwcGVuZChgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aHVuZGVyLS1yZXZpZXctaW1hZ2VcIiBkYXRhLWltYWdlPVwiJHtpbWFnZS5faWR9XCI+XG5cdFx0XHRcdFx0PGltZyBzcmM9XCIke1RodW5kZXIudXRpbC5pbWFnZVVSTChpbWFnZSwgMTIwLCAxMjApfVwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tZGVsZXRlLXJldmlldy1pbWFnZVwiPiR7Y29udGV4dC5tKCdkZWxldGVJbWFnZScpfTwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgLnRyaW0oKSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlSW1hZ2UoJGltYWdlTGlzdCwgcmV2aWV3LCBpbWFnZUlkKSB7XG5cblx0XHRcdGNvbnN0IGltYWdlID0gcmV2aWV3LmltYWdlcy5maW5kKGltYWdlID0+IGltYWdlICYmIChpbWFnZS5faWQgPT09IGltYWdlSWQpKTtcblxuXHRcdFx0aWYgKCFpbWFnZSkgcmV0dXJuO1xuXG5cdFx0XHQvLyBVcGRhdGUgcmV2aWV3XG5cdFx0XHRyZXZpZXcuaW1hZ2VzLnNwbGljZShyZXZpZXcuaW1hZ2VzLmluZGV4T2YoaW1hZ2UpLCAxKTtcblxuXHRcdFx0Ly8gVXBkYXRlIERPTVxuXHRcdFx0JGltYWdlTGlzdC5maW5kKGBbZGF0YS1pbWFnZT1cIiR7aW1hZ2VJZH1cIl1gKS5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGZyb20gdGhlIHN0b3JhZ2UgKEZpcmUgJiBGb3JnZXQpXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL2ltYWdlcy8ke2ltYWdlSWR9YFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGVscFZvdGUoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XG5cdFx0XHRjb25zdCB1cERvd24gPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTtcblxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHR1bmF1dGhvcml6ZWQ6ICAgICAgeyB0eXBlOiAnaW5mbycsIG1lc3NhZ2U6IGNvbnRleHQubSgnbG9naW5SZXF1aXJlZCcpIH0sXG5cdFx0XHRcdCdkdXBsaWNhdGVkLXZvdGUnOiBjb250ZXh0Lm0oJ2R1cGxpY2F0ZWRWb3RlJyksXG5cdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICBjb250ZXh0Lm0oJ2hlbHBWb3RlRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvJHtyZXZpZXcuX2lkfS9oZWxwZWQvJHt1cERvd259YCxcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2hlbHBWb3RlU3VjY2VzcycpKTtcblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZsYWcoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0dW5hdXRob3JpemVkOiAgICAgIHsgdHlwZTogJ2luZm8nLCBtZXNzYWdlOiBjb250ZXh0Lm0oJ2xvZ2luUmVxdWlyZWQnKSB9LFxuXHRcdFx0XHQnZHVwbGljYXRlZC1mbGFnJzogY29udGV4dC5tKCdkdXBsaWNhdGVkRmxhZycpLFxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgY29udGV4dC5tKCdmbGFnRmFpbGVkJylcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvJHtyZXZpZXcuX2lkfS9mbGFnc2AsXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdmbGFnU3VjY2VzcycpKTtcblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0ZXJyb3JzXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGVkaXRSZXZpZXcoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgaXNFZGl0aW5nID0gJHJldmlldy5kYXRhKCdlZGl0aW5nJykgfHwgZmFsc2U7XG5cblx0XHRcdGlmIChpc0VkaXRpbmcpIHtcblx0XHRcdFx0ZW5kUmV2aWV3RWRpdGluZygpO1xuXHRcdFx0XHQkcmV2aWV3LnJlbW92ZUNsYXNzKCdlZGl0aW5nJyk7XG5cdFx0XHRcdCQodGhpcykudGV4dChjb250ZXh0Lm0oJ2VkaXRSZXZpZXcnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdGFydFJldmlld0VkaXRpbmcoKTtcblx0XHRcdFx0JHJldmlldy5hZGRDbGFzcygnZWRpdGluZycpO1xuXHRcdFx0XHQkKHRoaXMpLnRleHQoY29udGV4dC5tKCdzYXZlUmV2aWV3JykpO1xuXHRcdFx0fVxuXG5cdFx0XHQkcmV2aWV3LmRhdGEoJ2VkaXRpbmcnLCAhaXNFZGl0aW5nKTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHN0YXJ0UmV2aWV3RWRpdGluZygpIHtcblxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XG5cblx0XHRcdGNvbnN0ICRyYXRpbmcgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctc3RhcnMnKTtcblx0XHRcdGNvbnN0ICR0aXRsZSA9ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3LXRpdGxlJyk7XG5cdFx0XHRjb25zdCAkYm9keSA9ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3LWJvZHknKTtcblxuXHRcdFx0Y29uc3QgJG5ld1JhdGluZyA9XG5cdFx0XHRcdCQoVGh1bmRlci51aSgncmV2aWV3LXN0YXItcmF0aW5nJykoJHJhdGluZy5kYXRhKCdyYXRpbmcnKSkpXG5cdFx0XHRcdFx0LmFkZENsYXNzKCRyYXRpbmcuYXR0cignY2xhc3MnKSk7XG5cdFx0XHRjb25zdCAkbmV3VGl0bGUgPSAkKGA8aW5wdXQgY2xhc3M9XCIkeyR0aXRsZS5hdHRyKCdjbGFzcycpfVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke3Jldmlldy50aXRsZX1cIiByZXF1aXJlZD5gKTtcblx0XHRcdGNvbnN0ICRuZXdCb2R5ID0gJChgPHRleHRhcmVhIGNsYXNzPVwiJHskYm9keS5hdHRyKCdjbGFzcycpfVwiPiR7cmV2aWV3LmJvZHl9PC90ZXh0YXJlYT5gKTtcblxuXHRcdFx0JHJhdGluZy5yZXBsYWNlV2l0aCgkbmV3UmF0aW5nKTtcblx0XHRcdCR0aXRsZS5yZXBsYWNlV2l0aCgkbmV3VGl0bGUpO1xuXHRcdFx0JGJvZHkucmVwbGFjZVdpdGgoJG5ld0JvZHkpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZW5kUmV2aWV3RWRpdGluZygpIHtcblxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRcdHJhdGluZzogJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcmV2aWV3LXN0YXJzJykudmFsKCksXG5cdFx0XHRcdHRpdGxlOiAgJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctdGl0bGUnKS52YWwoKSxcblx0XHRcdFx0Ym9keTogICAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LXJldmlldy1ib2R5JykudmFsKCksXG5cdFx0XHRcdGltYWdlczogJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcmV2aWV3LWltYWdlcyBbZGF0YS1pbWFnZV0nKS5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQodGhpcykuZGF0YSgnaW1hZ2UnKTtcblx0XHRcdFx0fSkuZ2V0KCksXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBlcnJvckNvZGUgPSB2YWxpZGF0ZVJldmlldyhkYXRhKTtcblxuXHRcdFx0aWYgKGVycm9yQ29kZSkge1xuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGVycm9yQ29kZSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdXBkYXRlUmV2aWV3KGRhdGEpXG5cdFx0XHRcdC50aGVuKHJldmlldyA9PiBmZXRjaFJldmlldyhyZXZpZXcpKVxuXHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZG9uZShyZXZpZXcpKTtcblxuXHRcdFx0ZnVuY3Rpb24gZG9uZShyZXZpZXcpIHtcblxuXHRcdFx0XHRjb250ZXh0LnJldmlldyA9IHJldmlldztcblxuXHRcdFx0XHRUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBpbXBsZW1lbnRhdGlvbi5uYW1lLCBjb250ZXh0KTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3Jldmlld1NhdmVTdWNjZXNzJykpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZVJldmlldyhkYXRhKSB7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3U2F2ZUZhaWxlZCcpXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy8ke3Jldmlldy5faWR9YCxcblx0XHRcdFx0XHRkYXRhOiAgIGRhdGFcblx0XHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdFx0XHRlcnJvcnNcblx0XHRcdFx0KSk7XG5cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gZmV0Y2hSZXZpZXcocmV2aWV3KSB7XG5cblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3UmVhZEZhaWxlZCcpXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvcHJvZHVjdHMvcmV2aWV3cy9wdWJsaXNoZWQvJHtyZXZpZXcuX2lkfWAsXG5cdFx0XHRcdFx0cXVlcnk6ICByZXZpZXdRdWVyeShjb250ZXh0Lm9wdGlvbnMuc2hvd1Byb2R1Y3QpXG5cdFx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBkZWxldGVSZXZpZXcoZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgcmVtb3ZlUmV2aWV3ID0gKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQucmV2aWV3O1xuXG5cdFx0XHRcdGRlbGV0ZVJldmlld0ltYWdlcyhyZXZpZXcpO1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2RlbGV0ZUZhaWxlZCcpXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy8ke3Jldmlldy5faWR9YCxcblx0XHRcdFx0fSkudGhlbigoKSA9PiB7XG5cblx0XHRcdFx0XHQvLyBIaWRlIHRoZSByZXZpZXdcblx0XHRcdFx0XHQkY29udGFpbmVyLmFkZENsYXNzKCdoaWRkZW4nKS5oaWRlKCk7XG5cblx0XHRcdFx0XHQvLyBIaWRlIGNvbW1lbnRzIG9mIHRoZSByZXZpZXdcblx0XHRcdFx0XHQkY29udGFpbmVyLm5leHQoJy50aHVuZGVyLS1yZXZpZXctY29tbWVudHMtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2hpZGRlbicpLmhpZGUoKTtcblxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25EZWxldGUsXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdFx0ZXJyb3JzXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoIWNvbnRleHQub3B0aW9ucy5jb25maXJtT25EZWxldGUpIHtcblx0XHRcdFx0cmV0dXJuIHJlbW92ZVJldmlldygpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5wbHVnaW5zLmNvbmZpcm1hdGlvbihcblx0XHRcdFx0Y29udGV4dC5tKCdkZWxldGVDb25maXJtJyksXG5cdFx0XHRcdCgpID0+IHJlbW92ZVJldmlldygpXG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZGVsZXRlUmV2aWV3SW1hZ2VzKHJldmlldykge1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnaW1hZ2VEZWxldGVGYWlsZWQnKVxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuICQud2hlbihcblx0XHRcdFx0Li4ucmV2aWV3LmltYWdlcy5tYXAoaW1hZ2UgPT4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRtZXRob2Q6ICdERUxFVEUnLFxuXHRcdFx0XHRcdHVybDogICAgYC92MS9tZS9pbWFnZXMvJHtpbWFnZS5faWQgfHwgaW1hZ2V9YFxuXHRcdFx0XHR9KSlcblx0XHRcdCkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRcdGVycm9yc1xuXHRcdFx0KSk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaG93Q29tbWVudHMoKSB7XG5cblx0XHRcdGlmIChjb250ZXh0LmNvbW1lbnRzTG9hZGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29udGV4dC5jb21tZW50c0xvYWRlZCA9IHRydWU7XG5cblx0XHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQucmV2aWV3O1xuXG5cdFx0XHRjb25zdCAkY29tbWVudHNDb250YWluZXIgPSAkKGA8ZGl2IGNsYXNzPVwidGh1bmRlci0tcmV2aWV3LWNvbW1lbnRzLWNvbnRhaW5lclwiIGRhdGEtcmV2aWV3PVwiJHtyZXZpZXcuX2lkfVwiPjwvZGl2PmApO1xuXG5cdFx0XHQkY29tbWVudHNDb250YWluZXIuaW5zZXJ0QWZ0ZXIoJGNvbnRhaW5lcik7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcihcblx0XHRcdFx0JGNvbW1lbnRzQ29udGFpbmVyLFxuXHRcdFx0XHQncHJvZHVjdC1yZXZpZXctY29tbWVudHMnLFxuXHRcdFx0XHQkLmV4dGVuZChcblx0XHRcdFx0XHQvLyBVc2UgYHNob3dDb21tZW50c2AgYXMgYW4gb3B0aW9uIHdoZW4gaXQncyBhbiBvYmplY3QuXG5cdFx0XHRcdFx0dHlwZW9mIGNvbnRleHQub3B0aW9ucy5zaG93Q29tbWVudHMgPT09ICdvYmplY3QnID9cblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5zaG93Q29tbWVudHMgOlxuXHRcdFx0XHRcdFx0e30sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0cmV2aWV3OiByZXZpZXcuX2lkLFxuXHRcdFx0XHRcdFx0aGFzTm9Db21tZW50czogY29udGV4dC5yZXZpZXcudG90YWxDb21tZW50LnJhdyA9PT0gMCxcblx0XHRcdFx0XHR9XG5cdFx0XHRcdClcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cblx0ZnVuY3Rpb24gYnVpbGRSZXZpZXcocmV2aWV3LCB1c2VCb2R5RXhjZXJwdCkge1xuXG5cdFx0Y29uc3QgY3VzdG9tZXIgPSBnZXQoVGh1bmRlci5hdXRoZW50aWNhdGVkKCdjdXN0b21lcicpLCAnc3ViJywgJ3VuYXV0aGVudGljYXRlZCcpO1xuXG5cdFx0cmV2aWV3LmVkaXRhYmxlID0gZ2V0KHJldmlldywgJ2N1c3RvbWVyLl9pZCcpID09PSBjdXN0b21lcjtcblx0XHRyZXZpZXcuZXhjZXJwdCA9IFRodW5kZXIudXRpbC5leGNlcnB0KHJldmlldy5ib2R5LCB1c2VCb2R5RXhjZXJwdCkgfHwgJyc7XG5cdFx0cmV2aWV3LmJvZHkgPSByZXZpZXcuYm9keSB8fCAnJztcblxuXHRcdHJldHVybiByZXZpZXc7XG5cblx0fVxuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ3Byb2R1Y3QtcmV2aWV3cydcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRwcm9kdWN0OiAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9kdWN0IElEXG5cdFx0cGFnZTogICAgICAgICAgICAgIDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hpY2ggcGFnZSBvZiBwcm9kdWN0cz9cblx0XHRsaW1pdDogICAgICAgICAgICAgMTAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3cgbWFueSBwcm9kdWN0cyBhdCBvbmNlP1xuXHRcdHNvcnQ6ICAgICAgICAgICAgICAnLWNyZWF0ZWRBdCcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxuXHRcdHByb2R1Y3RSYXRpbmc6ICAgICBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2R1Y3QgcmF0aW5nP1xuXHRcdHVzZUN1c3RvbWVyQXZhdGFyOiBUaHVuZGVyLm9wdGlvbnMuY3VzdG9tZXJBdmF0YXIsICAgICAgIC8vIFVzZSBjdXN0b21lciBhdmF0YXI/XG5cdFx0dXNlQm9keUV4Y2VycHQ6ICAgIDE0MCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9keSBleGNlcnB0IGxlbmd0aCB8fCBmYWxzZVxuXHRcdHVzZVJhdGluZzogICAgICAgICAoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSByYXRpbmc/XG5cdFx0XHRUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlldyAmJlxuXHRcdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdSYXRpbmdcblx0XHQpLFxuXHRcdHVzZUhlbHBWb3RlOiAgICAgICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBoZWxwZnVsIHZvdGVzP1xuXHRcdHVzZUZsYWc6ICAgICAgICAgICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBmbGFnP1xuXHRcdHVzZUNvbW1lbnRzOiAgICAgICBUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlld0NvbW1lbnQsIC8vIFVzZSBjb21tZW50cz9cblx0XHR1c2VQYWdpbmF0aW9uOiAgICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgUGFnaW5hdGlvbj9cblxuXHRcdG9uVW5hdXRoZW50aWNhdGVkV3JpdGVSZXZpZXc6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnaW5mbycsIGNvbnRleHQubSgnbG9naW5SZXF1aXJlZCcpKTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Jldmlld0xpc3RGYWlsZWQnKVxuXHRcdH07XG5cblx0XHRyZXR1cm4gJC53aGVuKFxuXHRcdFx0ZmV0Y2hSZXZpZXdzKCksXG5cdFx0XHRjb3VudFJldmlld3MoKVxuXHRcdCkudGhlbigocmV2aWV3cywgY291bnQpID0+IGNhbGxiYWNrKG51bGwsICQuZXh0ZW5kKGNvbnRleHQsIHtcblx0XHRcdHJldmlld3M6IHJldmlld3NbMF0gfHwgW10sXG5cdFx0XHRjb3VudDogICBjb3VudCA/IGNvdW50WzBdLmNvdW50IDogbnVsbCxcblx0XHR9KSksIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdFx0ZnVuY3Rpb24gZmV0Y2hSZXZpZXdzKCkge1xuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZCcsXG5cdFx0XHRcdHF1ZXJ5OiB7XG5cdFx0XHRcdFx0cHJvZHVjdDogY29udGV4dC5vcHRpb25zLnByb2R1Y3QsXG5cdFx0XHRcdFx0cGFnZTogICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXG5cdFx0XHRcdFx0bGltaXQ6ICAgY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRcdHNvcnQ6ICAgIGNvbnRleHQub3B0aW9ucy5zb3J0LFxuXHRcdFx0XHRcdGZpZWxkczogIFtcblx0XHRcdFx0XHRcdCdjdXN0b21lcicsXG5cdFx0XHRcdFx0XHQndGl0bGUnLFxuXHRcdFx0XHRcdFx0J2JvZHknLFxuXHRcdFx0XHRcdFx0J2ltYWdlcycsXG5cdFx0XHRcdFx0XHQncmF0aW5nJyxcblx0XHRcdFx0XHRcdCdoZWxwZWQnLFxuXHRcdFx0XHRcdFx0J2ZsYWdnZWQnLFxuXHRcdFx0XHRcdFx0J3RvdGFsQ29tbWVudCcsXG5cdFx0XHRcdFx0XHQnY3JlYXRlZEF0Jyxcblx0XHRcdFx0XHRdLmpvaW4oJywnKVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNvdW50UmV2aWV3cygpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZC9jb3VudCcsXG5cdFx0XHRcdHF1ZXJ5OiB7XG5cdFx0XHRcdFx0cHJvZHVjdDogY29udGV4dC5vcHRpb25zLnByb2R1Y3QsXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICR3cml0ZVJldmlldyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXdyaXRlLXJldmlldycpO1xuXHRcdGNvbnN0ICRyZXZpZXdMaXN0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctbGlzdCcpO1xuXHRcdGNvbnN0ICRwYWdpbmF0aW9uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctbGlzdC1wYWdpbmF0aW9uJyk7XG5cdFx0Y29uc3QgJHJldmlld1dyaXRlckNvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJldmlldy13cml0ZXItY29udGFpbmVyJyk7XG5cblx0XHQkd3JpdGVSZXZpZXcub24oJ2NsaWNrJywgc3RhcnRSZXZpZXdXcml0aW5nKTtcblxuXHRcdFRodW5kZXIucmVuZGVyKCRyZXZpZXdXcml0ZXJDb250YWluZXIsICdwcm9kdWN0LXJldmlldy13cml0ZXInLCB7XG5cdFx0XHRwcm9kdWN0OiAgICAgICAgIGNvbnRleHQub3B0aW9ucy5wcm9kdWN0LFxuXHRcdFx0dXNlUmF0aW5nOiAgICAgICBjb250ZXh0Lm9wdGlvbnMudXNlUmF0aW5nLFxuXHRcdFx0b25SZXZpZXdQb3N0OiAgICBvblJldmlld1Bvc3QsXG5cdFx0XHRvblJldmlld0NhbmNlbDogICgpID0+IGhpZGVSZXZpZXdXcml0ZXIoKSxcblx0XHR9KTtcblxuXHRcdGNvbnRleHQucmV2aWV3cy5mb3JFYWNoKHJldmlldyA9PiByZW5kZXJSZXZpZXcoJ2FwcGVuZCcsIHJldmlldykpO1xuXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uKSB7XG5cblx0XHRcdFRodW5kZXIucGx1Z2lucy5wYWdpbmF0aW9uKHtcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxuXHRcdFx0XHR0b3RhbFJlc3VsdDogICBjb250ZXh0LmNvdW50LnJhdyxcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxuXHRcdFx0XHQpXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZW5kZXJSZXZpZXcoY29tbWFuZCwgcmV2aWV3KSB7XG5cblx0XHRcdGNvbnN0ICRyZXZpZXdDb250YWluZXIgPSAkKGA8ZGl2IGNsYXNzPVwidGh1bmRlci0tcHJvZHVjdC1yZXZpZXctd3JhcHBlclwiIGRhdGEtcmV2aWV3PVwiJHtyZXZpZXcuX2lkfVwiPjwvZGl2PmApO1xuXG5cdFx0XHQkcmV2aWV3TGlzdFtjb21tYW5kXSgkcmV2aWV3Q29udGFpbmVyKTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRyZXZpZXdDb250YWluZXIsICdwcm9kdWN0LXJldmlldycsIHtcblx0XHRcdFx0cmV2aWV3OiAgICAgICAgICAgIHJldmlldyxcblx0XHRcdFx0dXNlQ3VzdG9tZXJBdmF0YXI6IGNvbnRleHQub3B0aW9ucy51c2VDdXN0b21lckF2YXRhcixcblx0XHRcdFx0dXNlQm9keUV4Y2VycHQ6ICAgIGNvbnRleHQub3B0aW9ucy51c2VCb2R5RXhjZXJwdCxcblx0XHRcdFx0dXNlUmF0aW5nOiAgICAgICAgIGNvbnRleHQub3B0aW9ucy51c2VSYXRpbmcsXG5cdFx0XHRcdHVzZUhlbHBWb3RlOiAgICAgICBjb250ZXh0Lm9wdGlvbnMudXNlSGVscFZvdGUsXG5cdFx0XHRcdHVzZUZsYWc6ICAgICAgICAgICBjb250ZXh0Lm9wdGlvbnMudXNlRmxhZyxcblx0XHRcdFx0dXNlQ29tbWVudHM6ICAgICAgIGNvbnRleHQub3B0aW9ucy51c2VDb21tZW50cyxcblx0XHRcdFx0c2hvd1Byb2R1Y3Q6ICAgICAgIGZhbHNlLFxuXHRcdFx0XHRzaG93Q29tbWVudHM6ICAgICAgZmFsc2UsXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHN0YXJ0UmV2aWV3V3JpdGluZyhldmVudCkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcblx0XHRcdFx0cmV0dXJuIHNob3dSZXZpZXdXcml0ZXIoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVW5hdXRoZW50aWNhdGVkV3JpdGVSZXZpZXcsXG5cdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdGNvbnRleHRcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvblJldmlld1Bvc3QoXyRjb250YWluZXIsIF9jb250ZXh0LCByZXZpZXcpIHtcblxuXHRcdFx0Y29udGV4dC5yZXZpZXdzLnVuc2hpZnQocmV2aWV3KTtcblxuXHRcdFx0aGlkZVJldmlld1dyaXRlcigpO1xuXHRcdFx0cmVuZGVyUmV2aWV3KCdwcmVwZW5kJywgcmV2aWV3KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaG93UmV2aWV3V3JpdGVyKCkge1xuXHRcdFx0JHdyaXRlUmV2aWV3LmhpZGUoKTtcblx0XHRcdCRyZXZpZXdXcml0ZXJDb250YWluZXIuc2hvdygpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGVSZXZpZXdXcml0ZXIoKSB7XG5cdFx0XHQkd3JpdGVSZXZpZXcuc2hvdygpO1xuXHRcdFx0JHJldmlld1dyaXRlckNvbnRhaW5lci5oaWRlKCk7XG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XG5cblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XG5cdFx0bmFtZTogJ3NlYXJjaC1wdXJjaGFzZSdcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHR0eXBlOiAnb3JkZXInLCAvLyAnb3JkZXInIHx8ICdzdWJzY3JpcHRpb24nXG5cblx0XHRvblNlYXJjaDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgc3ViamVjdCkge1xuXG5cdFx0XHRjb25zdCB0eXBlID0gY29udGV4dC5vcHRpb25zLnR5cGU7XG5cblx0XHRcdFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGAke3R5cGV9LWRldGFpbGAsIHtcblx0XHRcdFx0W3R5cGVdOiBzdWJqZWN0XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XG5cblx0XHRjb25zdCB0cmFuc2xhdGlvbktleXMgPSB7XG5cdFx0XHQnbmFtZS5maXJzdCc6ICdmaXJzdE5hbWUnLFxuXHRcdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxuXHRcdFx0J25hbWUuZnVsbCc6ICAnZnVsbE5hbWUnLFxuXHRcdH07XG5cblx0XHRjb250ZXh0LmF1dGhGaWVsZHMgPSBUaHVuZGVyLm9wdGlvbnMub3JkZXJBdXRoRmllbGRzLm1hcChmaWVsZCA9PiAoe1xuXHRcdFx0a2V5OiBmaWVsZCxcblx0XHRcdHRyYW5zbGF0aW9uS2V5OiB0cmFuc2xhdGlvbktleXNbZmllbGRdIHx8IGZpZWxkLFxuXHRcdH0pKTtcblxuXHRcdGNvbnRleHQuc2hvd0xpbmtzID0ge1xuXHRcdFx0b3JkZXI6IHRydWUsXG5cdFx0XHRzdWJzY3JpcHRpb246ICEhVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzLnN1YnNjcmlwdGlvblxuXHRcdH07XG5cblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zZWFyY2gtcHVyY2hhc2UtZm9ybScpO1xuXHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCcudGh1bmRlci0tc2VhcmNoLXB1cmNoYXNlJyk7XG5cdFx0Y29uc3QgJGdvVG9TZWFyY2ggPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1nby10by1zZWFyY2gtcHVyY2hhc2UnKTtcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uKTtcblxuXHRcdCRnb1RvU2VhcmNoLm9uKCdjbGljaycsIGdvVG9TZWFyY2gpO1xuXG5cdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoaW1wbGVtZW50YXRpb24ubmFtZSwgJGJ1dHRvbiwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XG5cblx0XHRcdGNvbnN0IHR5cGUgPSBjb250ZXh0Lm9wdGlvbnMudHlwZTtcblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKTtcblx0XHRcdGNvbnN0IHN1YmplY3QgPSBkYXRhLnN1YmplY3Q7XG5cblx0XHRcdGRlbGV0ZSBkYXRhLnN1YmplY3Q7XG5cblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcblx0XHRcdFx0J25vdC1leGlzdGluZy1vcmRlcic6ICAgICAgICBjb250ZXh0Lm0oJ25vdEV4aXN0aW5nT3JkZXInKSxcblx0XHRcdFx0J25vdC1leGlzdGluZy1zdWJzY3JpcHRpb24nOiBjb250ZXh0Lm0oJ25vdEV4aXN0aW5nU3Vic2NyaXB0aW9uJyksXG5cdFx0XHRcdCdpbnZhbGlkLWN1c3RvbWVyLWluZm8nOiAgICAgY29udGV4dC5tKCdpbnZhbGlkQ3VzdG9tZXJJbmZvJyksXG5cdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdzZWFyY2hGYWlsZWQnKVxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvJHt0eXBlfXMvJHtzdWJqZWN0fS9hdXRoYCxcblx0XHRcdFx0ZGF0YTogICBkYXRhLFxuXHRcdFx0fSkudGhlbihhdXRoUmVzdWx0ID0+IHtcblxuXHRcdFx0XHRjb25zdCBzdG9yYWdlID0gVGh1bmRlci5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xuXHRcdFx0XHRjb25zdCB0b2tlbiA9IGF1dGhSZXN1bHQudG9rZW47XG5cblx0XHRcdFx0Ly8gU2V0IGF1dGggdG9rZW4gaW4gdGhlIHN0b3JhZ2UuXG5cdFx0XHRcdHN0b3JhZ2Uuc2V0SXRlbShUaHVuZGVyLm9wdGlvbnMuYXV0aFN0b3JhZ2Uub3JkZXIsIHRva2VuKTtcblxuXHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXG5cdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uU2VhcmNoLFxuXHRcdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0XHRzdWJqZWN0XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcblxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdCgpID0+IHJlc2V0U3RhdGUoKVxuXHRcdFx0KSk7XG5cblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIGdvVG9TZWFyY2goKSB7XG5cblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnc2VhcmNoLXB1cmNoYXNlJywge1xuXHRcdFx0XHR0eXBlOiAkKHRoaXMpLmRhdGEoJ3R5cGUnKVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fTtcblxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdzdWJzY3JpcHRpb24tZGV0YWlsJ1xuXHR9O1xuXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xuXHRcdHN1YnNjcmlwdGlvbjogICAgJycsIC8vIFN1YnNjcmlwdGlvbiBJRCB0byByZW5kZXJcblx0XHRjdXN0b21lckZpZWxkczogIFRodW5kZXIub3B0aW9ucy5jdXN0b21lck9yZGVyRmllbGRzLm1hcChmaWVsZCA9PiBmaWVsZC5zcGxpdCgnOicpWzBdKSxcblx0XHRyZWNpcGllbnRGaWVsZHM6IFRodW5kZXIub3B0aW9ucy5yZWNpcGllbnRGaWVsZHMubWFwKGZpZWxkID0+IGZpZWxkLnNwbGl0KCc6JylbMF0pLFxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3QgeyBzdWJzY3JpcHRpb24gfSA9IGNvbnRleHQub3B0aW9ucztcblxuXHRcdGNvbnRleHQuY291cG9uRGV0YWlsID0gY291cG9uID0+IHtcblxuXHRcdFx0aWYgKCFjb3Vwb24pIHJldHVybiAnJztcblxuXHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0Y29udGV4dC5tKCdkaXNjb3VudGVkQnknLCB7IHZhbHVlOiBjb3Vwb24uZGlzY291bnQudmFsdWUuY29udmVydGVkIH0pLFxuXHRcdFx0XHQnJiMxMDsoJyxcblx0XHRcdFx0Y29udGV4dC5tKCh7XG5cdFx0XHRcdFx0Zmlyc3Q6ICdmaXJzdE5UaW1lc0Rpc2NvdW50ZWQnLFxuXHRcdFx0XHRcdGxhc3Q6ICAnbGFzdE5UaW1lc0Rpc2NvdW50ZWQnLFxuXHRcdFx0XHRcdGV2ZXJ5OiAnYWxsRGlzY291bnRlZCcsXG5cdFx0XHRcdH0pW2NvdXBvbi5zdWJzY3JpcHRpb24udHlwZV0sIHtcblx0XHRcdFx0XHRjb3VudDogZ2V0KGNvdXBvbi5zdWJzY3JpcHRpb24sICd2YWx1ZS5jb252ZXJ0ZWQnKSxcblx0XHRcdFx0XHRzbWFydF9jb3VudDogZ2V0KGNvdXBvbi5zdWJzY3JpcHRpb24sICd2YWx1ZS5yYXcnKSxcblx0XHRcdFx0fSksXG5cdFx0XHRcdCcpJ1xuXHRcdFx0XS5qb2luKCcnKTtcblxuXHRcdH07XG5cblx0XHRjb25zdCB0cmFuc2xhdGlvbktleXMgPSB7XG5cdFx0XHQnbmFtZS5maXJzdCc6ICdmaXJzdE5hbWUnLFxuXHRcdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxuXHRcdFx0J25hbWUuZnVsbCc6ICAnZnVsbE5hbWUnLFxuXHRcdH07XG5cblx0XHRjb250ZXh0LmN1c3RvbWVyRmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMuY3VzdG9tZXJGaWVsZHNcblx0XHQpLm1hcChrZXkgPT4gKHtcblx0XHRcdGtleToga2V5LFxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IGNhbWVsQ2FzZShbJ2N1c3RvbWVyJywgdHJhbnNsYXRpb25LZXlzW2tleV0gfHwga2V5XSksXG5cdFx0fSkpO1xuXG5cdFx0Y29udGV4dC5yZWNpcGllbnRGaWVsZHMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhcblx0XHRcdGNvbnRleHQub3B0aW9ucy5yZWNpcGllbnRGaWVsZHNcblx0XHQpLm1hcChrZXkgPT4gKHtcblx0XHRcdGtleToga2V5LFxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IGNhbWVsQ2FzZShbJ2FkZHJlc3MnLCB0cmFuc2xhdGlvbktleXNba2V5XSB8fCBrZXldKSxcblx0XHR9KSk7XG5cblx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3N1YnNjcmlwdGlvblJlYWRGYWlsZWQnKVxuXHRcdH07XG5cblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICAgIGAvdjEvbWUvc3Vic2NyaXB0aW9ucy8ke3N1YnNjcmlwdGlvbn1gLFxuXHRcdH0pLnRoZW4oc3Vic2NyaXB0aW9uID0+IHtcblxuXHRcdFx0Y29uc3QgaXRlbU1hcCA9IHN1YnNjcmlwdGlvbi5pdGVtcy5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcblx0XHRcdFx0cmV0dXJuIFtdLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKS5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gc2V0KG8sIGl0ZW0uX2lkLCBpdGVtKTtcblx0XHRcdFx0fSwgbyk7XG5cdFx0XHR9LCB7fSk7XG5cblx0XHRcdGNvbnN0IGRpc2NvdW50ID0gc3Vic2NyaXB0aW9uLmRpc2NvdW50IHx8IHt9O1xuXG5cdFx0XHRPYmplY3Qua2V5cyhkaXNjb3VudCkuZm9yRWFjaChzY29wZSA9PiB7XG5cblx0XHRcdFx0aWYgKHNjb3BlID09PSAnc2hpcHBpbmcnKSB7XG5cdFx0XHRcdFx0Ly8gSU1QT1JUQU5UOiBGb3Igbm93IHdlIHdpbGwgb25seSBkaXNwbGF5ICdpdGVtcycgYW5kICdjYXJ0JyBjb3Vwb25zXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0W10uY29uY2F0KGRpc2NvdW50W3Njb3BlXSkuZm9yRWFjaCgoeyBpdGVtLCBjb3Vwb24gfSkgPT4ge1xuXG5cdFx0XHRcdFx0aWYgKCFjb3Vwb24pIHJldHVybjtcblxuXHRcdFx0XHRcdHJldHVybiBpdGVtID9cblx0XHRcdFx0XHRcdFx0c2V0KGl0ZW1NYXBbaXRlbS5faWRdLCAnYXBwbGllZENvdXBvbicsIGNvdXBvbikgOlxuXHRcdFx0XHRcdFx0XHRzZXQoc3Vic2NyaXB0aW9uLCAnYXBwbGllZENvdXBvbicsIGNvdXBvbik7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3Qgc2NoZWR1bGVTdGF0dXMgPSBzdWJzY3JpcHRpb24uc3RhdHVzID09PSAnY2FuY2VsbGVkJyA/ICdjYW5jZWxsZWQnIDogbnVsbDtcblxuXHRcdFx0c3Vic2NyaXB0aW9uLnNjaGVkdWxlcy5mb3JFYWNoKHNjaGVkdWxlID0+IHtcblx0XHRcdFx0Ly8gV2hlbiB0aGUgc3Vic2NyaXB0aW9uIGlzIGNhbmNlbGxlZCxcblx0XHRcdFx0Ly8gbWFrZSBhbGwgc2NoZWR1bGVzJyBzdGF0dXNlcyBhcyAnY2FuY2VsbGVkJyBhcyB3ZWxsIHVubGVzcyBhIHNjaGVkdWxlIGlzICdkb25lJy5cblx0XHRcdFx0c2NoZWR1bGUuc3RhdHVzID0gc2NoZWR1bGUuc3RhdHVzID09PSAnZG9uZScgP1xuXHRcdFx0XHRcdFx0XHRcdFx0c2NoZWR1bGUuc3RhdHVzIDpcblx0XHRcdFx0XHRcdFx0XHRcdHNjaGVkdWxlU3RhdHVzIHx8IHNjaGVkdWxlLnN0YXR1cztcblx0XHRcdH0pO1xuXG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbjtcblxuXHRcdFx0Ly8gU2V0IHBheW1lbnQgZGV0YWlscy5cblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdWJzY3JpcHRpb24ucGF5bWVudE1ldGhvZDtcblxuXHRcdFx0Y29uc3QgdGh1bmRlclBheW1lbnRNZXRob2RNYXAgPVxuXHRcdFx0XHRUaHVuZGVyLm9wdGlvbnMucGF5bWVudE1ldGhvZHMuc3Vic2NyaXB0aW9uXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgcCkgPT4gc2V0KG8sIHAuaWQsIHApLCB7fSk7XG5cblx0XHRcdGNvbnN0IHRodW5kZXJQYXltZW50TWV0aG9kID1cblx0XHRcdFx0dGh1bmRlclBheW1lbnRNZXRob2RNYXBbcGF5bWVudE1ldGhvZC5faWRdIHx8XG5cdFx0XHRcdHRodW5kZXJQYXltZW50TWV0aG9kTWFwW3BheW1lbnRNZXRob2Quc2x1Z107XG5cblx0XHRcdGNvbnN0IHNob3VsZFBheSA9XG5cdFx0XHRcdHN1YnNjcmlwdGlvbi5zdGF0dXMgPT09ICdwZW5kaW5nJyAmJlxuXHRcdFx0XHR0aHVuZGVyUGF5bWVudE1ldGhvZDtcblxuXHRcdFx0Y29udGV4dC5wYXltZW50TWV0aG9kID0gdGh1bmRlclBheW1lbnRNZXRob2Q7XG5cdFx0XHRjb250ZXh0LnNob3VsZFBheSA9IHNob3VsZFBheTtcblxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xuXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcblx0XHRcdGVycm9ycyxcblx0XHRcdGNhbGxiYWNrXG5cdFx0KSk7XG5cblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG5cdFx0Y29uc3Qge1xuXHRcdFx0c3Vic2NyaXB0aW9uLFxuXHRcdFx0cGF5bWVudE1ldGhvZCxcblx0XHRcdHNob3VsZFBheVxuXHRcdH0gPSBjb250ZXh0O1xuXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XG5cdFx0Y29uc3QgJGJhY2tUb1N1YnNjcmlwdGlvbnMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1iYWNrLXRvLXN1YnNjcmlwdGlvbnMnKTtcblx0XHRjb25zdCAkY2FuY2VsU3Vic2NyaXB0aW9uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY2FuY2VsLXN1YnNjcmlwdGlvbicpO1xuXHRcdGNvbnN0ICRjYW5jZWxsYXRpb25Gb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tc3Vic2NyaXB0aW9uLWNhbmNlbGxhdGlvbi1mb3JtJyk7XG5cdFx0Y29uc3QgJGNhbmNlbGxhdGlvblJlYXNvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ3RleHRhcmVhJyk7XG5cdFx0Y29uc3QgJGNhbmNlbEJ1dHRvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ2J1dHRvbicpO1xuXHRcdGNvbnN0ICR2aWV3T3JkZXIgPSAkKHRoaXMpLmZpbmQoJ1tkYXRhLW9yZGVyXVtkYXRhLXN0YXR1cz1cImRvbmVcIl0nKTtcblx0XHRjb25zdCAkb21pdHRlZFNjaGVkdWxlcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1vbWl0dGVkLXNjaGVkdWxlcycpO1xuXHRcdGNvbnN0ICR2aWV3QWxsU2NoZWR1bGVzID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tdmlldy1hbGwtc2NoZWR1bGVzJyk7XG5cdFx0Y29uc3QgJGhpZGRlblNjaGVkdWxlcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1zY2hlZHVsZS5oaWRkZW4nKTtcblxuXHRcdGNvbnN0IGNhbmNlbEJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRjYW5jZWxCdXR0b24pO1xuXG5cdFx0JGNhbmNlbFN1YnNjcmlwdGlvbi5vbignY2xpY2snLCBzdGFydENhbmNlbGxhdGlvbik7XG5cdFx0JGNhbmNlbEJ1dHRvbi5vbignY2xpY2snLCBjYW5jZWxTdWJzY3JpcHRpb24pO1xuXHRcdCR2aWV3QWxsU2NoZWR1bGVzLm9uKCdjbGljaycsIHZpZXdBbGxTY2hlZHVsZXMpO1xuXHRcdCR2aWV3T3JkZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1zY2hlZHVsZS1vcmRlcicsIGV2ZW50ID0+IHtcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnb3JkZXItZGV0YWlsJywge1xuXHRcdFx0XHRvcmRlcjogJChldmVudC5kZWxlZ2F0ZVRhcmdldCkuZGF0YSgnb3JkZXInKSxcblx0XHRcdFx0YmFjazoge1xuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb1N1YnNjcmlwdGlvbnMsIGNvbnRleHQpO1xuXG5cdFx0Ly8gUmVuZGVyIGEgcGF5bWVudCBmb3JtIGlmIGl0J3MgbmVlZGVkLlxuXHRcdGlmIChzaG91bGRQYXkpIHtcblxuXHRcdFx0Y29uc3QgJHBheW1lbnRGb3JtQ29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcGF5bWVudC1mb3JtLWNvbnRhaW5lcicpO1xuXHRcdFx0Y29uc3QgJG1ha2VQYXltZW50ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tbWFrZS1wYXltZW50Jyk7XG5cdFx0XHRjb25zdCBtYWtlUGF5bWVudFNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRtYWtlUGF5bWVudCwgeyBiaW5kOiBmYWxzZSB9KTtcblxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJHBheW1lbnRGb3JtQ29udGFpbmVyLCAncGF5bWVudC1mb3JtJywge1xuXHRcdFx0XHR0eXBlOiAnc3Vic2NyaXB0aW9uJyxcblx0XHRcdFx0cGF5bWVudE1ldGhvZHM6IFtwYXltZW50TWV0aG9kLmlkXVxuXHRcdFx0fSwgKGVyciwgeyBpbnRlcmZhY2VzOiBwYXltZW50SGFuZGxlciB9KSA9PiAkbWFrZVBheW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHBheW1lbnRIYW5kbGVyLnZhbGlkYXRlKCk7XG5cblx0XHRcdFx0aWYgKHZhbGlkYXRpb25FcnJvcikge1xuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCB2YWxpZGF0aW9uRXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjYXJkID0gcGF5bWVudEhhbmRsZXIuZ2V0Q2FyZCgpO1xuXG5cdFx0XHRcdG1ha2VQYXltZW50U3Bpbm5lci5ydW4oKTtcblxuXHRcdFx0XHRyZXR1cm4gcGF5bWVudEhhbmRsZXIubWFrZVBheW1lbnQoe1xuXHRcdFx0XHRcdHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLFxuXHRcdFx0XHRcdGN1c3RvbWVyOiAgICAgc3Vic2NyaXB0aW9uLmN1c3RvbWVyXG5cdFx0XHRcdH0sIGVyciA9PiB7XG5cblx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3BheW1lbnRGYWlsZWQnKSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3NjaGVkdWxpbmdGYWlsZWQnKVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcblx0XHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3N1YnNjcmlwdGlvbnMvJHtzdWJzY3JpcHRpb24uX2lkfS9zY2hlZHVsZWRgLFxuXHRcdFx0XHRcdFx0ZGF0YTogICBjYXJkID8geyBjYXJkIH0gOiB7fVxuXHRcdFx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnc2NoZWR1bGluZ1N1Y2Nlc3MnKSk7XG5cdFx0XHRcdFx0XHRtYWtlUGF5bWVudFNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsIGNvbnRleHQub3B0aW9ucyk7XG5cblx0XHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXG5cdFx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0XHRcdFx0KCkgPT4gbWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKVxuXHRcdFx0XHRcdCkpO1xuXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9KSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc3RhcnRDYW5jZWxsYXRpb24oKSB7XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHRcdCRjYW5jZWxsYXRpb25Gb3JtLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdCRjYW5jZWxsYXRpb25SZWFzb24uZm9jdXMoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjYW5jZWxTdWJzY3JpcHRpb24oZXZlbnQpIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgZGF0YSA9IFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRjYW5jZWxsYXRpb25Gb3JtLnNlcmlhbGl6ZUFycmF5KCkpO1xuXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XG5cdFx0XHRcdCdpbnZhbGlkLXN1YnNjcmlwdGlvbi1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRTdWJzY3JpcHRpb25TdGF0dXMnKSxcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjYW5jZWxsYXRpb25GYWlsZWQnKSxcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XG5cdFx0XHRcdGNhbmNlbEJ1dHRvblNwaW5uZXIuZG9uZSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvc3Vic2NyaXB0aW9ucy8ke3N1YnNjcmlwdGlvbi5faWR9L2NhbmNlbGxhdGlvbmAsXG5cdFx0XHRcdGRhdGE6ICAgZGF0YSxcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdHJlc2V0U3RhdGUoKTtcblxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnY2FuY2VsbGF0aW9uU3VjY2VzcycpKTtcblxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgaW1wbGVtZW50YXRpb24ubmFtZSwgY29udGV4dC5vcHRpb25zKTtcblxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxuXHRcdFx0XHRlcnJvcnMsXG5cdFx0XHRcdHJlc2V0U3RhdGVcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdmlld0FsbFNjaGVkdWxlcygpIHtcblx0XHRcdCRvbWl0dGVkU2NoZWR1bGVzLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHRcdCRoaWRkZW5TY2hlZHVsZXMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH1cblxuXHR9O1xuXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xuXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuXHRcdG5hbWU6ICdzdWJzY3JpcHRpb24tbGlzdCdcblx0fTtcblxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcblx0XHRwYWdlOiAgICAgICAgICAgICAgIDEsICAgIC8vIFdoaWNoIHBhZ2Ugb2Ygc3Vic2NyaXB0aW9ucz9cblx0XHRsaW1pdDogICAgICAgICAgICAgIDEwLCAgIC8vIEhvdyBtYW55IHN1YnNjcmlwdGlvbnMgYXQgb25jZT9cblx0XHR1c2VQYWdpbmF0aW9uOiAgICAgIHRydWUsIC8vIFVzZSBwYWdpbmF0aW9uP1xuXHRcdG9uVmlld1N1YnNjcmlwdGlvbjogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgc3Vic2NyaXB0aW9uSWQpIHtcblxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdzdWJzY3JpcHRpb24tZGV0YWlsJywge1xuXHRcdFx0XHRzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbklkLFxuXHRcdFx0XHRiYWNrOiAgICAgICAgIHtcblx0XHRcdFx0XHQkY29udGFpbmVyOiAkY29udGFpbmVyLFxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXHR9KTtcblxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xuXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdzdWJzY3JpcHRpb25MaXN0RmFpbGVkJylcblx0XHR9O1xuXG5cdFx0cmV0dXJuICQud2hlbihcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9zdWJzY3JpcHRpb25zJyxcblx0XHRcdFx0cXVlcnk6ICB7XG5cdFx0XHRcdFx0cGFnZTogICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcblx0XHRcdFx0XHRsaW1pdDogIGNvbnRleHQub3B0aW9ucy5saW1pdCxcblx0XHRcdFx0XHRzb3J0OiAgICctY3JlYXRlZEF0Jyxcblx0XHRcdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0XHRcdCdzdGF0dXMnLFxuXHRcdFx0XHRcdFx0J3BsYW4nLFxuXHRcdFx0XHRcdFx0J3NjaGVkdWxlcycsXG5cdFx0XHRcdFx0XHQnaXRlbXMucHJvZHVjdCcsXG5cdFx0XHRcdFx0XHQnY2FuY2VsbGF0aW9uJyxcblx0XHRcdFx0XHRcdCdlbmRzQXQnLFxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXG5cdFx0XHRcdFx0XS5qb2luKCcsJylcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbiA/IFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9zdWJzY3JpcHRpb25zL2NvdW50Jyxcblx0XHRcdFx0cXVlcnk6ICB7XG5cdFx0XHRcdFx0cmF3OiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdH0pIDogbnVsbFxuXHRcdCkudGhlbigoc3Vic2NyaXB0aW9ucywgY291bnQpID0+IHtcblxuXHRcdFx0Y29udGV4dC5zdWJzY3JpcHRpb25zID0gKHN1YnNjcmlwdGlvbnNbMF0gfHwgW10pLm1hcChzID0+IHtcblxuXHRcdFx0XHRzLm1heFNjaGVkdWxlZEFtb3VudCA9IHMuc2NoZWR1bGVzLnJlZHVjZSgobWF4LCBzKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIG1heCA+IHMuYW1vdW50LnJhdyA/IG1heCA6IHMuYW1vdW50O1xuXHRcdFx0XHR9LCAwKTtcblxuXHRcdFx0XHRzLmR1cmF0aW9uID0gW1xuXHRcdFx0XHRcdHMuc2NoZWR1bGVzWzBdLnRpbWUgPT09ICdub3cnID9cblx0XHRcdFx0XHRcdHMuY3JlYXRlZEF0IDpcblx0XHRcdFx0XHRcdHMuc2NoZWR1bGVzWzBdLnRpbWUsXG5cdFx0XHRcdFx0cy5lbmRzQXRcblx0XHRcdFx0XTtcblxuXHRcdFx0XHRyZXR1cm4gcztcblx0XHRcdH0pO1xuXG5cdFx0XHRjb250ZXh0LmNvdW50ID0gY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGw7XG5cblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcblxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXG5cdFx0XHRlcnJvcnMsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCkpO1xuXG5cdH07XG5cblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRzdWJzY3JpcHRpb24gPSAkKHRoaXMpLmZpbmQoJ1tkYXRhLXN1YnNjcmlwdGlvbl0nKTtcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1saXN0LXBhZ2luYXRpb24nKTtcblxuXHRcdCRzdWJzY3JpcHRpb24ub24oJ2NsaWNrJywgW1xuXHRcdFx0Jy50aHVuZGVyLS1zdWJzY3JpcHRpb24taWQnLFxuXHRcdFx0Jy50aHVuZGVyLS1zdWJzY3JpcHRpb24tdGh1bWJuYWlsJyxcblx0XHRcdCcudGh1bmRlci0tc3Vic2NyaXB0aW9uLWZpcnN0LWl0ZW0nLFxuXHRcdFx0Jy50aHVuZGVyLS1zdWJzY3JpcHRpb24tcmVzdC1pdGVtcycsXG5cdFx0XS5qb2luKCcsJyksIGV2ZW50ID0+IFRodW5kZXIuZXhlY3V0ZShcblx0XHRcdGNvbnRleHQub3B0aW9ucy5vblZpZXdTdWJzY3JpcHRpb24sXG5cdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0Y29udGV4dCxcblx0XHRcdCQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpLmRhdGEoJ3N1YnNjcmlwdGlvbicpXG5cdFx0KSk7XG5cblx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZVBhZ2luYXRpb24pIHtcblxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xuXHRcdFx0XHRjb250YWluZXI6ICAgICAkcGFnaW5hdGlvbixcblx0XHRcdFx0Y3VycmVudFBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXG5cdFx0XHRcdHRvdGFsUmVzdWx0OiAgIGNvbnRleHQuY291bnQsXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcblx0XHRcdFx0b25QYWdlQ2hhbmdlOiAgKHsgcGFnZSB9KSA9PiBUaHVuZGVyLnJlbmRlcihcblx0XHRcdFx0XHQkY29udGFpbmVyLFxuXHRcdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXG5cdFx0XHRcdFx0JC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7IHBhZ2UgfSlcblx0XHRcdFx0KVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gbG9jYWxTdG9yYWdlOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWVzc2FnZSwgb2ssIG5vID0gKCkgPT4ge30pIHtcblxuXHRyZXR1cm4gY29uZmlybShg8J+UlCAke21lc3NhZ2V9YCkgPyBvaygpIDogbm8oKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHNlc3Npb25TdG9yYWdlOyIsImNvbnN0IGVtb2ppQnlUeXBlID0ge1xuXHRlcnJvcjogICAn8J+aqCcsXG5cdHN1Y2Nlc3M6ICfinIUnLFxuXHRpbmZvOiAgICAn8J+SrCcsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHR5cGUsIG1lc3NhZ2UpIHtcblxuXHRyZXR1cm4gYWxlcnQoYCR7ZW1vamlCeVR5cGVbdHlwZV0gfHwgJyd9ICR7bWVzc2FnZX1gKTtcblxufTsiLCJjb25zdCBncm91cFN0YXJ0ID0gKGdyb3VwLCBwYWdlc0F0T25jZSkgPT4ge1xuXHRyZXR1cm4gKChncm91cCAtIDEpICogcGFnZXNBdE9uY2UpICsgMTtcbn07XG5cbmNvbnN0IGdyb3VwRW5kID0gKGdyb3VwLCBwYWdlc0F0T25jZSkgPT4ge1xuXHRyZXR1cm4gZ3JvdXBTdGFydChncm91cCwgcGFnZXNBdE9uY2UpICsgcGFnZXNBdE9uY2UgLSAxO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG5cblx0Y29uc3Qge1xuXHRcdHR5cGUgPSAnbm9ybWFsJyxcblx0XHRjb250YWluZXIsXG5cdFx0Y3VycmVudFBhZ2UgPSAxLFxuXHRcdHRvdGFsUmVzdWx0LFxuXHRcdHJlc3VsdFBlclBhZ2UsXG5cdFx0cGFnZXNBdE9uY2UgPSAxMCxcblx0XHRvblBhZ2VDaGFuZ2UgPSAoKSA9PiB7fVxuXHR9ID0gb3B0aW9ucztcblxuXG5cdGNvbnN0IGxhc3RQYWdlID0gTWF0aC5jZWlsKHRvdGFsUmVzdWx0IC8gcmVzdWx0UGVyUGFnZSk7XG5cdGNvbnN0IHRvdGFsR3JvdXBzID0gTWF0aC5jZWlsKGxhc3RQYWdlIC8gcGFnZXNBdE9uY2UpO1xuXHRjb25zdCBjdXJyZW50R3JvdXAgPSBNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBwYWdlc0F0T25jZSk7XG5cdGNvbnN0IGN1cnJlbnRHcm91cFN0YXJ0ID0gZ3JvdXBTdGFydChjdXJyZW50R3JvdXAsIHBhZ2VzQXRPbmNlKTtcblxuXHRjb25zdCBpdGVyYXRvciA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KHBhZ2VzQXRPbmNlKSlcblx0XHRcdFx0XHRcdC5tYXAoKHYsIGkpID0+IGkpXG5cdFx0XHRcdFx0XHQuZmlsdGVyKHYgPT4gY3VycmVudEdyb3VwU3RhcnQgKyB2IDw9IGxhc3RQYWdlKTtcblxuXHRpZiAoaXRlcmF0b3IubGVuZ3RoIDw9IDEpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBwYWdlID0gKHRleHQsIHR5cGUsIHBhZ2UsIGN1cnJlbnQpID0+IGBcblx0XHQ8bGkgZGF0YS1wYWdlPVwiJHsgcGFnZSB9XCJcblx0XHRcdGNsYXNzPVwiJHsgdHlwZSB9ICR7IHBhZ2UgPT09IGN1cnJlbnQgPyAnY3VycmVudCcgOiAnJyB9XCI+XG5cdFx0XHQ8c3Bhbj4keyB0ZXh0IHx8IHBhZ2UgfTwvc3Bhbj5cblx0XHQ8L2xpPlxuXHRgLnRyaW0oKTtcblxuXHRjb25zdCAkcGFnaW5hdGlvbiA9ICQoW1xuXHRcdGA8dWwgY2xhc3M9XCJ0aHVuZGVyLS1wYWdpbmF0aW9uICR7dHlwZX1cIj5gLFxuXG5cdFx0XHRjdXJyZW50R3JvdXAgPD0gMSA/XG5cdFx0XHRcdCcnIDpcblx0XHRcdFx0cGFnZSgnPCcsICd0aHVuZGVyLS1wYWdpbmF0aW9uLXByZXYnLCBncm91cEVuZChjdXJyZW50R3JvdXAgLSAxLCBwYWdlc0F0T25jZSkpLFxuXG5cdFx0XHQuLi5pdGVyYXRvci5tYXAoaSA9PiBwYWdlKFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHQndGh1bmRlci0tcGFnaW5hdGlvbi1wYWdlJyxcblx0XHRcdFx0Y3VycmVudEdyb3VwU3RhcnQgKyBpLFxuXHRcdFx0XHRjdXJyZW50UGFnZVxuXHRcdFx0KSksXG5cblx0XHRcdGN1cnJlbnRHcm91cCA+PSB0b3RhbEdyb3VwcyA/XG5cdFx0XHRcdCcnIDpcblx0XHRcdFx0cGFnZSgnPicsICd0aHVuZGVyLS1wYWdpbmF0aW9uLW5leHQnLCBncm91cFN0YXJ0KGN1cnJlbnRHcm91cCArIDEsIHBhZ2VzQXRPbmNlKSksXG5cblx0XHRgPC91bD5gLFxuXHRdLmpvaW4oJycpKTtcblxuXHRjb250YWluZXIuaHRtbCgkcGFnaW5hdGlvbik7XG5cblx0JHBhZ2luYXRpb24uZmluZCgnW2RhdGEtcGFnZV0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdGNvbnN0IHBhZ2UgPSAkKHRoaXMpLmRhdGEoJ3BhZ2UnKTtcblxuXHRcdGlmIChjdXJyZW50UGFnZSA9PT0gcGFnZSkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgJG92ZXJsYXkgPSAkKHRoaXMpLnBhcmVudHMoJyN0aHVuZGVyLS1vdmVybGF5Jyk7XG5cblx0XHRjb25zdCBpc092ZXJsYXkgPSAhISRvdmVybGF5Lmxlbmd0aDtcblxuXHRcdGNvbnN0ICRzY3JvbGxUYXJnZXQgPSBpc092ZXJsYXkgPyAkb3ZlcmxheS5lcSgwKSA6ICQoJ2h0bWwsIGJvZHknKTtcblx0XHRjb25zdCAkcG9zaXRpb25UYXJnZXQgPSAkKHRoaXMpLnBhcmVudHMoJy50aHVuZGVyLS1jb250ZW50cycpLmVxKDApO1xuXG5cdFx0Y29uc3Qgb2Zmc2V0ID0gLTYwO1xuXG5cdFx0Y29uc3Qgc2Nyb2xsVG9wID0gaXNPdmVybGF5ID8gKFxuXHRcdFx0JHBvc2l0aW9uVGFyZ2V0Lm9mZnNldCgpLnRvcFxuXHRcdFx0XHQtICRzY3JvbGxUYXJnZXQub2Zmc2V0KCkudG9wXG5cdFx0XHRcdCsgJHNjcm9sbFRhcmdldC5zY3JvbGxUb3AoKVxuXHRcdFx0XHQrIG9mZnNldFxuXHRcdCkgOiAoXG5cdFx0XHQkcG9zaXRpb25UYXJnZXQub2Zmc2V0KCkudG9wICsgb2Zmc2V0XG5cdFx0KTtcblxuXHRcdGNvbnN0IHNob3VsZE5vdFNjcm9sbCA9IChcblx0XHRcdCFpc092ZXJsYXkgJiZcblx0XHRcdCRzY3JvbGxUYXJnZXQuc2Nyb2xsVG9wKCkgPD0gc2Nyb2xsVG9wXG5cdFx0KTtcblxuXHRcdG9uUGFnZUNoYW5nZSh7IHBhZ2UgfSk7XG5cblx0XHRpZiAoc2hvdWxkTm90U2Nyb2xsKSByZXR1cm47XG5cblx0XHQvLyDsmKTrsoTroIjsnbQg7LC97J24IOqyveyasFxuXHRcdHJldHVybiBzZXRUaW1lb3V0KCgpID0+ICRzY3JvbGxUYXJnZXQuYW5pbWF0ZSh7IHNjcm9sbFRvcCB9LCA0MDApLCAzMDApO1xuXG5cdH0pO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odG8pIHtcblxuXHRyZXR1cm4gbG9jYXRpb24ucmVwbGFjZSh0byk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIGBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUhrQUFBQjVDQVlBQUFBZCtvNUpBQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBSW8wbEVRVlI0bk8yZFcyNFRTUlJBYjZJZ0hnSWNRRUlnQlBGZmZTYXpnc2tPSnJNQ3pBcndyR0JnQjhrS1NIWmdWakRKRHBMUCtrdEFDQlFCd1lCNENBR2oyOXd5M1hhM3U2cTdIcmZhZFNRckdZMUNsL3YwcmJwZHo2V2ZQMzlDVjVCU2JnTEFLZ0JzMEZmQy85YmxtRDd2QU9BUWZ4ZENISGZoMWtRcldVcTVRUkx4MHdlQWRRZVhHWlB3ZmZWVENQSE93WFdjRW8xa0tXV2ZoRzdSejE2Z29oeVI5SkVRWWo5UUdZeGdMVmxLdVVwU2g0NGl0UzBZNlNNQTJCWkNIRElzWHdaTHlkUzJEZ0RnUG9QaTZIS0NzZ0ZnbDF1VnprcXlsQkxGUGdLQU5RYkZhY01lZmc4dWlSc0x5UjJTT3cwTDJVRWxkMWp1TkVGbEI1Rk1yei9ZZnYzcC9lTGhHRk9DOXNoM0NieEtwbXdaditSRGJ4ZmxCeVpvQTUrdlg5NGtVOGE4dXdCVnN5NDdWSVU3ejhTWFhWOEFmZ25HNlAwdkNTNkF0ZGsrTlYxT2NSckpWRDN2TSszSTRNUURJY1N1cS9JNGkyUjZRbytUWUMyZVNDbWRTWFlTeWZScTlNVDZQOXg5c0Y5ODAzWTdiVDJTcFpUREpMZ3g2OVJPOTIzK28xWWptYXFjbVBxYnVUS21pTFl5NkdFdGtwTmdxL1JzWnQ1V0pDZkJUckFtdXJWa0tlVjJFdXlNbm8wMnVwVmt5cUlYdVl2U0J5aDZSSDBPalZocCtvZFN5aTN1V2ZTNWMrZmc4dVhMY09uU3BlejM4K2ZQVC83Zmp4OC80TXVYTC9EMTYxZjQ5T2tUZlB6NE1XaFphMWluVHFWR1ZYZWo3SnJhaWYyQTg2em1nbEp2M0xpUi9kUUZwWitkbmNIYnQyK3ozNW15SjRRWW1CYk5XRExucmtxTTFsdTNiaG5KblFZRnYzNzlPaFBPRk9NdTBDWnQ4aTVId1NpMjMrKzNFb3dzTHkvRHpaczNzNGNGZjJmSUU5T00yeWlTdVhaWDlucTlUSXB0c0wxKzl1d1p4K3JicVB0VCsxR2xOSDY3VmRFY2dKSHJRakNDaWRxZE8zY0NmOE5TMW1ueWhSWW05ZEV1dDBRTDIyRFhFdkFod3VxYklROXBJa1l0V3BLcG1tWTNIOHRYdTNudDJyWFdiYjBqdEJLdzJqdEUyVFRMYXRybmpjZFhNb2FzMGF5YnVlaUV3U09PNzhPK2I3cnZoOHFBWVYyMzUxeko5TWZzdWkyeExRNXh3NjlldmVyOW1ocjA2cEt3dWtqMlBrZFlCK3lxRE1HVksxYzQzZzdrL3J4b3JwUk1mOFJ5ZENsVXRZbEpYcjcvbXhtVkFUa3ZrbGxHTVZCMXZZalhycUV5bWtzbGM0NWlvRTZLVUZ5NGNDSDAxNTlIYVdCV1JmSXdTQkVUYmJsZk51NWNKZGw0T0N2QmhobDNNNUtwZDR2bE9MRWk1SURCOSsvZmcxMWJrNWxhdUN5U3Q3aVV0Z3FjMFJFS0hKbGl6dHIwVUdSQk1pVmNmM0gvRmlGdmRNZ0h6SUJDTkU5SE12c29SbkJPVmdqdzRXSThOU2hQd1dPVWtuSFNYWWliUFI2UHZWK3pJYjM4TU9SRU1xWGUwV3p2NEhzT0ZqNVVFVW1HZk1EbUk5bGtIOHJnK0o1VmlROVZKRlcxWWphU1k1T01OL3pseTVkZXJvVnRNYzdnakl4MTFURVNyV1NndHRsMUZlcnpZWEpBNWpRdk9jb2RBVjY5ZXVYMGxRb0ZSL0J1WEVYMnZweEoxcDBReGhXY05tdjd0UW9qK01XTEY5eVh6OVJSaUdUbk85QzRCSVU4Zi80YzNyeDVZK1VxYXI1MTVJSkJlVjNKLzBmc1lITDA0Y09IYkFwdGs0a0ZhajFVaEVsV0ZmaSszRmVTcmU1UkVSS01Rb3hxSEhOV1UybnJCdnF4cW4vLy9uMzJnRVQybXFSRHZ6T1JqRkpSS1A3TVMvMzI3VnMyY3JTMHRGU1lvNDNMZy9DalJwVndrcDZhcVBmNTgrZXNqeHJsZDBENmhwTE1lbWl4Q3BTSjY2QlFqczFwT2ZtcVhyMm1SZHcrcjY3WTNrN0lCeGlSMTY5Zjl6TDNHbWVHNGdlYmdkUFQwMkNESXkzSXF1dW9KS3RGYUw0bjFPRjE3OTY5bXlWbUtEc2krbzIza3dpQnF5V3FKcWhranVtUzFsSllyckl1ZzROZ0JVYjF2WHYzdUM1U255R0tVbUtieUVXd1FvbU9BZmFTc2UyOWZmczJnNUxNZ3FLWnJsMHV3RjR5NDcwN01oaXZYWjdBV2pMajVhSUZtSzVkbnNCYU12ZWJwK0QrTUxLVkhHb05jbE9ZcmwzT1lDc1pYNWxpZ25ONTJVcStlUEVpZzFLWXdiWG1XZVo2Qm5CTVZiV0NhWm4zV1VaeUxEMUowM0F0dHlyVlVlQnlGR0MrMExzU3BsdE5IQ3JKMFozVG45RG1uWkljeGRuOENYTXc1MUtTMlo3SG4yaEYxZ3dyeVN5T1pVOVlKd3ZlVERJZE1oWFZrcjJFRnI4bEU2bGQ3aDZaMHlTNXU0elZNWUJKY25lWitKeElKdXNuaTM1bk9zUklmWlhwZnJnVXpkMWhOcEtKVVdlLzhtSnhKSVNZdkJZWEpBc2hScW5LN2dTRjR5VEtoazFTTk1kUHdXR1paSGFIaWlTTTJKcytGR3hHTXRYbEIrbStSc3ZNTVVKVm85eEdCejRtMkhCU050T25WREtkNnBrU3NQZ3cycmtlT0o5QmtTamxwT3JJM1VySktacWpvOUZwTXBDaU9Sb3FveGpxSktkb2pvWldKN3hCT25TRVBRZDF4OS9YU3FhVS9PbkMzTEw0cUQzZVNYYzIrTkRuOUtBSVRtd3BKY0FlSWp0cVlzQTh0Q1JUTDVpM0pDeWlzeDRLZU43KzZVVFhpZmE2RGlIRXRzL3VUdHdDTVRZOGIrZzJtTzZqcnNKMDhjNldyMnJiMW82M3ZzQmQrM0NMUjA4OE5sbW9hQ1Nabmh3djJUYmVzRmcyUmZOY1Zwd1FZTlIwR2kvRG80a0ZqMDMvcmdtNCt4MzNpTWI4QVRjLzk1UkRqSnNjSTdHRU84VTJRVW81OG5VYUhLNzd4ZjFET0szL1ZYdGplejdWNWcrZGJIcWFOdHN1RG1peW1QT3pLekJyeFE4dURjVmxyYUVQcXNheTRGYkpudDhBSGpRUkRHMGlHWDRmR0lZWFhtdjhqeVIwK0lmZWJoclJhbWs4SldMZU11NEZaYStOWUxDeE1ReFZJWnRKdEJOUWNPdTNHU3ViWENUUlRyQWlHR3h1OFpRVG5ZWW0yN05qU3pDMFRiektvR1RNUzliZFVSN1VEUjJhWW4xUElrckdOdFB3cERIWTFQMXRXekM0aU9ROFVrcnNmdnZYMlFXNnd4RU5PRGpadThXcFpQZ2xlb3ZtY1VkNUxKRUhucHFNS0RYQnVXVDQzVTZQWWpwcDNRTllQUTlkVk0vVGVKR3NrRklPYWFCNzBhUDZnS0xYeTY1TFhpWERMOUY5V2xUblpYQ0RHZDZpTjQ5M3lRbzZzM2wzZ2ZxOWQ3QVdjOW4yVmhGTXNrSktPYUFxdkt1eTkwaHVzQTN4Z2t0V2RGQjJjTGtLTnBJVkpIc1FhU1krcGlab200TmNCVHZKQ2tyUWhqU1V5VDI2OFYxMzVEdWgwb1d0NUR6VW9iSkYzYVZjaEIvUXUvK0lVOVNXRVlYa1BGTEtEWkt0UHI3ZXVZOW80Q1g3aE1pU214S2Q1R21vV3QrZ0QwcGZiVGtDTnFZcFRjZjA4NURyWVN5NlJDOTVIdlF1cnNzeDkycTNFUUR3UDdFK2dDZmtuVW9oQUFBQUFFbEZUa1N1UW1DQ2A7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cblx0cmV0dXJuIGBcblx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLWJ1dHRvbi1zcGlubmVyXCI+PC9zcGFuPlxuXHRgLnRyaW0oKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiBgXG5cdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLWNvbXBvbmVudC1zcGlubmVyLXdyYXBwZXJcIj5cblx0XHRcdDxkaXYgY2xhc3M9XCJ0aHVuZGVyLS1jb21wb25lbnQtc3Bpbm5lclwiPjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRgLnRyaW0oKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVUNBTUFBQUJWbFlZQkFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFBWUZCTVZFWC8vLy9ZMk5qVzF0YlQwOVBZMk5qVjFkWFQwOVBYMTlmWDE5ZlgxOWZYMTlmVzF0YlcxdGJXMXRiVjFkWFYxZFhVMU5UVjFkWFQwOVBVMU5UVTFOVFQwOVBVMU5UVjFkWFcxdGJYMTlmWTJOaloyZG5hMnRyYjI5dmMzTnpkM2QwTWxwaUVBQUFBRlhSU1RsTUFIeTR3UEQxQWNJZWNyOERQM09mdjh2YjUrLzVsZFpkbEFBQUFxRWxFUVZRWUdXWEJnVnJDSUJnRjBHdFJ1SWd0by9zampuSGYveTFkU3Z1YW5vUE42enVlT1hMQWs4bEtPdUNCWjIwVzhDQ2RwUXNkZGo3WUpObUlQKzRZcGg5ZXRLcE1ZL0JZRFdRdTg2S2JPcCtORE1DWXRkZEtBZ1lXN1ZSR0FBTm4vYk5ZeEsvQVdadkZKdHhGTm5YTlRnZmNPUzdxR2owNlQyM28wUjJwalEzb1FwWlVTMm1TY2tBWHN1Yk1VMkt1eXAvb29obEhEL2lKbGlkMEwxL1I0Y2JGN3plc3JxZ2lGeDVaSitEZkFBQUFBRWxGVGtTdVFtQ0NgO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVUNBTUFBQUJWbFlZQkFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFBYVZCTVZFWC8vLy80eVFEMnh3RHl3d0Q0eVFEMXhnRHl3d0Q0eVFEM3lBRDN5QUQzeUFEMnh3RDJ4d0QyeHdEMXhnRDF4Z0R6eEFEMHhRRHl3d0R6eEFEenhBRHl3d0R6eEFEMHhRRDF4Z0QyeHdEM3lBRDR5UUQ1eWdENnl3RDd6QUQ4elFEOXpnRCt6d0QvMEFCREcvK0VBQUFBRlhSU1RsTUFIeTR3UEQxQWNJZWNyOERQM09mdjh2YjUrLzVsZFpkbEFBQUFxMGxFUVZRWUdXWEJBVmFETUJRRXdLMUdVNHlCMXJqOEZFVEMzditRWWh0NTBzNWc4L3lLUjQ1czhLQ3pJUjF3eDNOZStvQTc2U0tOZE5oNVk1RmtMZjY0WStnK09XbzFNN1hCWTlXUU5rNUZWL1BYeGNnQXRLYTlaVWhBdzFFNzM0d0FHazc2cC9RUnZ3SW5iVXJmNFNheXFGcnNmTUNOWTFGVjZGRjVha09QNmtodCtnWlZNRW56TUJSSk9hQUtXVlBtT1RIUHl1K29vaGxiRC9pT1poMnFwMU4wdUhMeDR3V3JIOStSR0xlLzJSeXFBQUFBQUVsRlRrU3VRbUNDYDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIGBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJRQUFBQVVDQVlBQUFDTmlSME5BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBQ0IwbEVRVlE0aloyVU8yc1VVUlRILytmdW1kbWRnQ1JXUWhvVmhKMGxXZ2lDRVJKaWJ5VUkrZ0VzTGJhMjhRTllhQzhwL0FCaUlHQW5SQkEwV3dsYVRMTkdlOXZWZWR4N3Jwd1paNTBNMlVmMndObVp2ZmZjMzV6bmhmZCtvYWJIMlBuNTdkV0RaV3hKZitaSk5xTExSWUdUSCt0ZktRaUMzWDYvLzNHZXZabExBeUNDMXdDSWlPQ2NPMXhrUHhlWWpXakhXdXlGSVJDR0lVUmtJMG1TNGNwQTUzQm9qTUtBVHFjRFk0eDYrWHdsWURhaW9YUFk2UFgrcjNXN1hVMDhKMG55ZHRhNWFWR3lFVDMwSG8rOHh3MFJiSW9nNm5TQXRiWEs4UHVGY2Zrc2lxSlVJckpFOU1zWTh4bkFoemlPWDViQTlCakRQTWVMOGc4QkdxS0NtS3QzWFdzQ3ExUTR6ZWRVYTZlWStZQkY4RVFQUmxFRldFWTBuNnExS0ZDOUZwRzdoZ2hISWhyS2NyQ3pSRDIyMW1yUmprenZ0bjhjQk5qUDg5V2dDc3Z6WEQwZXgzRjh2d3hTb2N6NGtxYm5nMnIrYXRoZ01MaUdadHRFMi80bU04WUsxUlFzRXMxYmxtVmE3VDgxRE8wK2pMWjl1YkZndktlaVVHUE0wK2JhS2FDTzJyTGhVdDFQTFdrM3lpMmc2c056UVBkbWV1ZzlMclVQYWZoWlZrMUkrNnBUb1BmK1luT05XNGZ2MU0ydGhkRldzcmJhc3JZY09XSm1uWWp5b3ZnbjZ6TTlyRVVyUFptVU1NdU1neURBMWEydDY0YVo5NTF6TmsxVHFGWk8rQ3Vudkc2Rzhmc1Q3WXJndlRHWUdJTTMycDluZlZEdlJCRjVwdmNqTTkrTDQvaGR1UUhnTDQzSUt5TzZwTkV2QUFBQUFFbEZUa1N1UW1DQ2A7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FZQUFBQ05pUjBOQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUJjMGxFUVZRNEVhVlUyMDNEUUJBY0l2NUpDU2xncFpnT1FnWFFBYVlDWEVKS2dBcGlLaUFkSkZRQWFLZUEwSUU3TUJwckhWMGNKODVqcEpQdDgzbjJOZU9idXE0eEJKSVRBR016K3hrNk96cVJURVRmSkordUpnVHdCcUFDOEJIM2x4T1NuQUY0QkZBQW1LdHNrdk5yTWxSR1gyYTJOTE5OUEJja3gyY1Rrc3dCVEFIa25RRFZzZEtiS1VmRURNQXN1ZDRCZURlem9pZlFBc0J2REt0WlpyWnVDTjFkay91TTgrbWg5U0daUkcrN3dZVVhFWmJ0Q3pPckRuYnpDRUphR3Raa0ZQMlluaUtKSTFDV3p3Q1dVQS9kUFhmMzJ0MExQWit6M0QyTGI4dkdkZTNIQ1dsK0ttR1FWUzJaMW82WFNhcnNWd0QzUTc1TkxMa3hzNnpkNytxd2RjRkI0U1lZeDNSVG5lNFJ0cEVHL3lwSkJUdkJlNTF5cVh5RTI1NE0vOUtORUhFUmxpdGJSd1JrQkwzZjduVXpWUHI2Q1RRV0k2bjdWZXhyQ0N1UzY3Q2ZzRmRKWDhrWlNSMlVYeFZaRTVlTGxNbERCRnhFTUFYUjJxSXJHMlVpSzZyaEtxL0p0b3VRak5yUWVIcmJjd0QvNDhNSXIrUEhJcW9BQUFBQVNVVk9SSzVDWUlJPWA7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cblx0aWYgKCF0aGlzLm9wdGlvbnMuaGVhZGVyKSByZXR1cm4gJyc7XG5cblx0Y29uc3QgdGVtcGxhdGVzID0gW107XG5cdGNvbnN0IHsgaXRlbXMgfSA9IHRoaXMub3B0aW9ucy5oZWFkZXI7XG5cblx0Y29uc3QgbWVudUl0ZW0gPSAoY29tcG9uZW50LCBtZXNzYWdlKSA9PiB7XG5cdFx0cmV0dXJuIGA8bGk+PGEgZGF0YS1jb21wb25lbnQ9XCIke2NvbXBvbmVudH1cIj4ke21lc3NhZ2V9PC9hPjwvbGk+YDtcblx0fTtcblxuXHRpdGVtcy5mb3JFYWNoKHR5cGUgPT4ge1xuXG5cdFx0aWYgKHR5cGUgPT09ICdjdXN0b21lcicpIHtcblxuXHRcdFx0aWYgKHRoaXMuYXV0aGVudGljYXRlZCgpKSB7XG5cblx0XHRcdFx0dGVtcGxhdGVzLnB1c2goYFxuXHRcdFx0XHRcdDxsaT48YSBkYXRhLXRodW5kZXItbG9nb3V0PiR7dGhpcy5wb2x5Z2xvdC50KCdoZWFkZXItbmF2aWdhdGlvbi5sb2dvdXQnKX08L2E+PC9saT5cblx0XHRcdFx0YCk7XG5cblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWRhc2hib2FyZCcsXG5cdFx0XHRcdFx0dGhpcy5wb2x5Z2xvdC50KCdoZWFkZXItbmF2aWdhdGlvbi5wcm9maWxlJylcblx0XHRcdFx0KSk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXG5cdFx0XHRcdFx0J2N1c3RvbWVyLXJlZ2lzdGVyJyxcblx0XHRcdFx0XHR0aGlzLnBvbHlnbG90LnQoJ2hlYWRlci1uYXZpZ2F0aW9uLnJlZ2lzdGVyJylcblx0XHRcdFx0KSk7XG5cblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWxvZ2luJyxcblx0XHRcdFx0XHR0aGlzLnBvbHlnbG90LnQoJ2hlYWRlci1uYXZpZ2F0aW9uLmxvZ2luJylcblx0XHRcdFx0KSk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICh0eXBlID09PSAnc2VhcmNoLXB1cmNoYXNlJykge1xuXG5cdFx0XHRpZiAoIXRoaXMuYXV0aGVudGljYXRlZCgpKSB7XG5cblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXG5cdFx0XHRcdFx0J3NlYXJjaC1wdXJjaGFzZScsXG5cdFx0XHRcdFx0dGhpcy5wb2x5Z2xvdC50KCdoZWFkZXItbmF2aWdhdGlvbi5zZWFyY2hPcmRlcicpXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAodHlwZSA9PT0gJ2NhcnQnKSB7XG5cblx0XHRcdHRlbXBsYXRlcy5wdXNoKG1lbnVJdGVtKFxuXHRcdFx0XHQnY2FydCcsXG5cdFx0XHRcdHRoaXMucG9seWdsb3QudCgnaGVhZGVyLW5hdmlnYXRpb24uY2FydCcpXG5cdFx0XHQpKTtcblxuXHRcdH1cblxuXHR9KTtcblxuXHRyZXR1cm4gYFxuXHRcdDxkaXYgaWQ9XCJ0aHVuZGVyLS1oZWFkZXItbmF2aWdhdGlvblwiPlxuXHRcdFx0PHVsPlxuXHRcdFx0XHQke3RlbXBsYXRlcy5qb2luKCcnKX1cblx0XHRcdDwvdWw+XG5cdFx0PC9kaXY+XG5cdGA7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIGBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUR3QUFBQThDQU1BQUFBTklpbEFBQUFBZ1ZCTVZFVUFBQUFBQUFBQUFBRFkyTmdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUR2Nys4ek16TUFBQUFBQUFBQUFBRGEydG9BQUFBQUFBQUFBQUFBQUFEZDNkMEFBQURZMk5qTXpNenI2K3ZRME5DOXZiMEFBQUQzOS9mdzhQRFEwTkM3dTdzakl5T2dvS0FwS1NtcXFxbzVPVGwxZFhWQ1FrTC8vLytWSHNaOEFBQUFLblJTVGxNQUJRdTlFd2xCSUI0eExoRVYzVTlGSWhpN1BDa2xEN2cwbDR6aHhHeFg5OTZjZzNSbVltQkhSajRBamhpQ0FBQUJKa2xFUVZSSXgrM1h5MjdESUJBRlVBOHhCaHVhQk52NGxTWjl2L2ovRCt5VWRxUm0xNWxHbFNxWmhYZEg5NXJGYUNoK2ZLQVFIZ0RRR2o4eXF3Ym5uTklnc0hydzFoanJCdzE4NjBKc2x2bG92QUsyTFczVGpTbWxvM1VhdUxsbzI0Um5Ob2padVZXMmFka2padHROdG1OdEhUQTdrMjI3UGlpUTVXNnFodTZMYjNlMUtWbldmYmQ3cjBTNVpFSGFtYXl3TTZ5ZDE4NnN6cGUzZ3M2RVZlaTc5c3RPbk53Y2JLWXgyK3ZkRkZrV2NSbVhUM3VxK2pDZzVXRGYzMzNZbTRkVEYybmFNWkx2Yy9MaGlaSWwvM3pZMGo5TGJ2dHFpOU5TQ1djOGFmZ3pyVXBUbit1Q3AzK1Z2VFpmbS8vSDVocTFzRG50WWFMbUw3UUJTcHJmdnRIdXlkQm5XNjlZejRRNW1qYjlaMHVZTnhWai9UaS8wdmJKMVVIeXVpRk43Nm9MdnVqZUFhUG5RT040UUV3dEFBQUFBRWxGVGtTdVFtQ0NgO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiBgXG5cdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLW92ZXJsYXktbmF2XCI+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLWNsb3NlLW92ZXJsYXlcIiBkYXRhLXRodW5kZXItY2xvc2U+JnRpbWVzOzxzcGFuPlxuXHRcdDwvZGl2PlxuXHRgLnRyaW0oKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRlZmF1bHRSYXRpbmcgPSA1KSB7XG5cblx0Y29uc3QgcmF0aW5ncyA9IFsxLCAyLCAzLCA0LCA1XTtcblxuXHRyZXR1cm4gYFxuXHQ8c2VsZWN0IG5hbWU9XCJyYXRpbmdcIj4ke3JhdGluZ3MubWFwKHIgPT4gYFxuXHRcdDxvcHRpb24gdmFsdWU9XCIke3J9XCIgJHtkZWZhdWx0UmF0aW5nID09PSByID8gJ3NlbGVjdGVkJyA6ICcnfT4keyfirZAnLnJlcGVhdChyKX08L29wdGlvbj5cblx0YC50cmltKCkpLmpvaW4oJycpfVxuXHQ8L3NlbGVjdD5cblx0YC50cmltKCk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdGFycmVkID0gMCkge1xuXG5cdGNvbnN0IHN0YXJzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGFycmVkIC0gMTsgaSsrKSB7XG5cdFx0c3RhcnMucHVzaCgxKTtcblx0fVxuXG5cdGNvbnN0IHJlc3QgPSBzdGFycmVkIC0gc3RhcnMubGVuZ3RoO1xuXG5cdGlmIChyZXN0ID4gMCkge1xuXHRcdHN0YXJzLnB1c2gocmVzdCk7XG5cdH1cblxuXHRyZXR1cm4gW1xuXHRcdGA8c3BhbiBjbGFzcz1cInRodW5kZXItLXJldmlldy1zdGFyc1wiIGRhdGEtcmF0aW5nPVwiJHtzdGFycmVkfVwiPmAsXG5cdFx0Li4uQXJyYXkuYXBwbHkobnVsbCwgeyBsZW5ndGg6IDUgfSkubWFwKChlbCwgaSkgPT4ge1xuXHRcdFx0cmV0dXJuIHN0YXJyZWQgPT09IDAgP1xuXHRcdFx0XHRcdGA8aW1nIHNyYz1cIiR7dGhpcy51aShzdGFyKC0xKSkoKX1cIj5gIDpcblx0XHRcdFx0XHRgPGltZyBzcmM9XCIke3RoaXMudWkoc3RhcihzdGFyc1tpXSB8fCAwKSkoKX1cIj5gO1xuXHRcdH0pLFxuXHRcdGA8L3NwYW4+YCxcblx0XS5qb2luKCcnKTtcblxufTtcblxuZnVuY3Rpb24gc3RhcihuID0gMCkge1xuXG5cdGlmIChuID09PSAtMSkgcmV0dXJuICdoYWxsb3ctc3Rhcic7XG5cdGlmIChuID09PSAwKSByZXR1cm4gJ2VtcHR5LXN0YXInO1xuXHRpZiAobiA9PT0gMSkgcmV0dXJuICdmaWxsZWQtc3Rhcic7XG5cblx0cmV0dXJuIG4gPj0gMC41ID9cblx0XHQnaGFsZi1maWxsZWQtc3RhcicgOlxuXHRcdCdlbXB0eS1zdGFyJztcblxufSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFEd0FBQUE4Q0FNQUFBQU5JaWxBQUFBQWdWQk1WRVVBQUFBQUFBQUFBQUFBQUFENStma0FBQUFBQUFBQUFBQUFBQUFBQUFCMWRYVUFBQUFBQUFBQUFBQ3JxNnR0YlcwQUFBQUFBQUFBQUFBQUFBQUFBQUQ3Ky9zQUFBQi9mMzhBQUFCNGVIZ0FBQUFBQUFEWTJOaSt2cjVpWW1JQUFBRDM5L2YxOWZYdzhQQ3ZyNithbXByTnpjMEFBQUNOalkxQlFVRk5UVTMvLy84aVUyTCtBQUFBS25SU1RsTUFBd1lNOVFrV05Sd2xhQkFyUFk5d0VpTVpMUi8wS0dBeFpUcE9sNEY4Uk9iWXk3cWVpMlJXUGpYZGlvSGFBQUFCQjBsRVFWUkl4KzNYeVc0RElRd0c0QUhDaEFuVGxnRm15OUowWDNqL0Iyd1RFdm1RMCs4Y29rajQvc25DU0piLzZxTEVzU3BXQ1NtMWxwSTRaTFd5emlvdEJjTXE1Mk1YdlZPNEZ0cVozKzMyZTRoMTFsaGpQN3ltMUk5VGx6V0dUVWpwWDgra0lkd2Y5R0sxYkxKR3NHL0hCVmRyMXkxWHVLYUpyWis0V2x2VFBqQzF1S1dXUlJkOWo3cTdUanNsSzB5SHM1NkRzVkpBMnNWcC81ejEyTlFhM0lsMXM5NWszUWZQMkltYnIvZDBxR0F5eGpwL0hPMUw3Z3k5T2V3ZkU3MFozV2duTzAvUmFvRmIrbWZCdEUxZGJMSEZvcmJpV3JyRGNFdmJEcmQwZSs1WWxuLzFFczY3aml3MHJ6ZTY5UEdNTWV3K2Y5cElGa28zaHRJTnJxMERjaFUvMGYwQlA2MUFHcEowa2c0QUFBQUFTVVZPUks1Q1lJST1gO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiBgXG5cdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLXNlY3Rpb24tc3Bpbm5lci13cmFwcGVyXCI+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLXNlY3Rpb24tc3Bpbm5lclwiPjwvc3Bhbj5cblx0XHQ8L2Rpdj5cblx0YC50cmltKCk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zID0ge30pIHtcblxuXHRsZXQge1xuXHRcdHR5cGUgPSAnbG9naW4nLCAvLyAnbG9naW4nIG9yICdyZWdpc3Rlcidcblx0XHR2ZW5kb3JzID0gW1xuXHRcdFx0J2ZhY2Vib29rJyxcblx0XHRcdCdnb29nbGUnLFxuXHRcdFx0J2luc3RhZ3JhbScsXG5cdFx0XHQnbmF2ZXInLFxuXHRcdFx0J2tha2FvJyxcblx0XHRdLFxuXHRcdGxvZ29zID0ge1xuXHRcdFx0ZmFjZWJvb2s6ICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMVwiIGhlaWdodD1cIjIxXCI+PHBhdGggZD1cIk0xOS40LjVIMS42QzEgLjUuNSAxIC41IDEuNnYxNy44YzAgLjYuNSAxLjEgMS4xIDEuMWg5LjZ2LTcuN0g4LjZ2LTNoMi42VjcuNWMwLTIuNiAxLjYtNCAzLjktNCAuOCAwIDEuNiAwIDIuMy4xdjIuN2gtMS42Yy0xLjMgMC0xLjUuNi0xLjUgMS41djEuOWgzbC0uNCAzaC0yLjZ2Ny43aDUuMWMuNiAwIDEuMS0uNSAxLjEtMS4xVjEuNmMwLS42LS41LTEuMS0xLjEtMS4xelwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG5cdFx0XHRnb29nbGU6ICAgIGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIxXCIgaGVpZ2h0PVwiMjFcIj48cGF0aCBkPVwiTTIwLjEgMTAuN2MwLS43LS4xLTEuNC0uMi0yaC05LjR2My45aDUuNGMtLjIgMS4zLS45IDIuMy0yIDN2Mi41aDMuMmMxLjktMS44IDMtNC4zIDMtNy40elwiIGZpbGw9XCIjNDI4NWY0XCIvPjxwYXRoIGQ9XCJNMTAuNSAyMC41YzIuNyAwIDUtLjkgNi42LTIuNGwtMy4yLTIuNWMtLjkuNi0yIDEtMy40IDEtMi42IDAtNC44LTEuOC01LjYtNC4xSDEuNlYxNWMxLjYgMy4zIDUgNS41IDguOSA1LjV6XCIgZmlsbD1cIiMzNGE4NTNcIi8+PHBhdGggZD1cIk00LjkgMTIuNGMtLjItLjYtLjMtMS4yLS4zLTEuOXMuMS0xLjMuMy0xLjlWNkgxLjZDLjkgNy40LjUgOC45LjUgMTAuNXMuNCAzLjEgMS4xIDQuNWwzLjMtMi42elwiIGZpbGw9XCIjZmJiYzA1XCIvPjxwYXRoIGQ9XCJNMTAuNSA0LjVjMS41IDAgMi44LjUgMy44IDEuNWwyLjktMi45Yy0xLjctMS42LTQtMi42LTYuNy0yLjZDNi42LjUgMy4yIDIuNyAxLjYgNmwzLjMgMi42Yy44LTIuNCAzLTQuMSA1LjYtNC4xelwiIGZpbGw9XCIjZWE0MzM1XCIvPjxwYXRoIGQ9XCJNLjUuNWgyMHYyMEguNVYuNXpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz5gLFxuXHRcdFx0aW5zdGFncmFtOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMVwiIGhlaWdodD1cIjIxXCI+PHN0eWxlPi5zdDB7ZmlsbDojZmZmfTwvc3R5bGU+PHBhdGggY2xhc3M9XCJzdDBcIiBkPVwiTTEwLjUgMS45YzIuOCAwIDMuMSAwIDQuMi4xIDEgMCAxLjYuMiAxLjkuNC41LjIuOC40IDEuMi44LjQuNC42LjcuOCAxLjIuMi4zLjQuOC40IDEuOS4xIDEuMS4xIDEuNC4xIDQuMnMwIDMuMS0uMSA0LjJjMCAxLS4yIDEuNi0uNCAxLjktLjIuNS0uNC44LS44IDEuMi0uNC40LS43LjYtMS4yLjgtLjQuMS0uOS4zLTEuOS40LTEuMS4xLTEuNC4xLTQuMi4xcy0zLjEgMC00LjItLjFjLTEgMC0xLjYtLjItMS45LS40LS41LS4yLS44LS40LTEuMi0uOC0uNC0uNC0uNi0uNy0uOC0xLjItLjItLjMtLjQtLjgtLjQtMS45LS4xLTEuMS0uMS0xLjQtLjEtNC4yczAtMy4xLjEtNC4yYzAtMSAuMi0xLjYuNC0xLjkuMi0uNS40LS44LjgtMS4yLjQtLjQuNy0uNiAxLjItLjguMy0uMi44LS40IDEuOS0uNCAxLjEtLjEgMS40LS4xIDQuMi0uMW0wLTEuOUM3LjYgMCA3LjMgMCA2LjIuMSA1LjEuMSA0LjMuMyAzLjYuNmMtLjcuMi0xLjMuNi0xLjggMS4yLS42LjUtMSAxLjEtMS4yIDEuOC0uMy43LS41IDEuNS0uNSAyLjZDMCA3LjMgMCA3LjYgMCAxMC41czAgMy4yLjEgNC4zYy4xIDEuMS4yIDEuOS41IDIuNS4zLjcuNiAxLjMgMS4yIDEuOS42LjYgMS4yLjkgMS45IDEuMi43LjMgMS40LjQgMi41LjUgMS4xLjEgMS40LjEgNC4zLjFzMy4yIDAgNC4zLS4xYzEuMS0uMSAxLjktLjIgMi41LS41LjctLjMgMS4zLS42IDEuOS0xLjIuNi0uNi45LTEuMiAxLjItMS45LjMtLjcuNC0xLjQuNS0yLjUuMS0xLjEuMS0xLjUuMS00LjNzMC0zLjItLjEtNC4zYy0uMS0xLjEtLjItMS45LS41LTIuNS0uMy0uNy0uNi0xLjMtMS4yLTEuOS0uNi0uNi0xLjItLjktMS45LTEuMi0uNy0uMy0xLjQtLjQtMi41LS41LTEuMS0uMS0xLjQtLjEtNC4zLS4xelwiLz48cGF0aCBjbGFzcz1cInN0MFwiIGQ9XCJNMTAuNSA1LjFjLTMgMC01LjQgMi40LTUuNCA1LjRzMi40IDUuNCA1LjQgNS40IDUuNC0yLjQgNS40LTUuNC0yLjQtNS40LTUuNC01LjR6bTAgOC45QzguNiAxNCA3IDEyLjQgNyAxMC41UzguNiA3IDEwLjUgNyAxNCA4LjYgMTQgMTAuNSAxMi40IDE0IDEwLjUgMTR6XCIvPjxjaXJjbGUgY2xhc3M9XCJzdDBcIiBjeD1cIjE2LjFcIiBjeT1cIjQuOVwiIHI9XCIxLjNcIi8+PC9zdmc+YCxcblx0XHRcdG5hdmVyOiAgICAgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjFcIiBoZWlnaHQ9XCIyMVwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZD1cIk0xMy41IDEuOHY4LjhsLTYtOC44SC45djE3LjVoNi42di04LjlsNiA4LjloNi42VjEuOHpcIi8+PC9zdmc+YCxcblx0XHRcdGtha2FvOiAgICAgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjFcIiBoZWlnaHQ9XCIyMVwiPjxwYXRoIGQ9XCJNMTAuNSAxLjdDNSAxLjcuNSA1LjIuNSA5LjZjMCAyLjggMS45IDUuMyA0LjcgNi43LS4yLjgtLjggMi44LS45IDMuMy0uMS41LjIuNS40LjQuMi0uMSAyLjctMS45IDMuOC0yLjYuNi4xIDEuMi4xIDEuOS4xIDUuNSAwIDEwLTMuNSAxMC03LjlTMTYgMS43IDEwLjUgMS43elwiIGZpbGw9XCIjM2MxZTFlXCIvPjwvc3ZnPmAsXG5cdFx0fSxcblx0fSA9IG9wdGlvbnM7XG5cblx0dmVuZG9ycyA9IHR5cGVvZiB2ZW5kb3JzID09PSAnc3RyaW5nJyA/XG5cdFx0XHRcdHZlbmRvcnMuc3BsaXQoJywnKS5maWx0ZXIodiA9PiB2KSA6XG5cdFx0XHRcdHZlbmRvcnM7XG5cblx0aWYgKHZlbmRvcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0cmV0dXJuIGBcblx0XHQ8dWwgY2xhc3M9XCJ0aHVuZGVyLS1zb2NpYWwtYXBwLWFjdGlvbnMgdGh1bmRlci0tc29jaWFsLWFwcC0ke3R5cGV9XCI+XG5cdFx0XHQkeyB2ZW5kb3JzLm1hcCh2ZW5kb3IgPT4gYFxuXHRcdFx0PGxpIGNsYXNzPVwidGh1bmRlci1zb2NpYWwtYXBwLSR7dmVuZG9yfVwiPlxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtc29jaWFsLWFwcD1cIiR7dmVuZG9yfVwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tc29jaWFsLWFwcC1sb2dvXCI+JHtsb2dvc1t2ZW5kb3JdfTwvc3Bhbj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLXNvY2lhbC1hcHAtYnV0dG9uLW1lc3NhZ2VcIj4ke3RoaXMucG9seWdsb3QudChgc29jaWFsLWxvZ2luLiR7dHlwZX1CeSR7dmVuZG9yWzBdLnRvVXBwZXJDYXNlKCkgKyB2ZW5kb3Iuc2xpY2UoMSl9YCl9PC9zcGFuPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvbGk+XG5cdFx0XHRgKS5qb2luKCcnKSB9XG5cdFx0PC91bD5cblx0YC50cmltKCk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihib2R5KSB7XG5cblx0cmV0dXJuIGBcblx0XHQ8ZGl2IGNsYXNzPVwidGh1bmRlci0tdGV4dC1ib3gtb3ZlcmxheVwiPlxuXHRcdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLXRleHQtYm94LW92ZXJsYXktaGVhZGVyXCI+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tdGV4dC1ib3gtb3ZlcmxheS1jbG9zZVwiPsOXPC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGh1bmRlci0tdGV4dC1ib3gtb3ZlcmxheS1ib2R5XCI+XG5cdFx0XHRcdCR7Ym9keX1cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRgLnRyaW0oKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmcm9tLCB0eXBlLCB2YWx1ZSkgPT4ge1xuXG5cdGNvbnN0IHRpbWVNYXAgPSB7XG5cdFx0ZGF5czogIDg2NDAwMDAwLCAgLy8g7ZWY66Oo66W8IOuwgOumrOy0iOuhnCDtmZjsgrBcblx0XHR3ZWVrczogNjA0ODAwMDAwLCAvLyDtlZwg7KO866W8IOuwgOumrOy0iOuhnCDtmZjsgrBcblx0fTtcblxuXHRjb25zdCB0b0RhdGUgPSBkYXRlID0+IGRhdGUgPyBuZXcgRGF0ZShkYXRlKSA6IG5ldyBEYXRlKCk7XG5cblx0Y29uc3Qgb3JpZ2luYWwgPSB0b0RhdGUoZnJvbSk7XG5cdGNvbnN0IG9yaWdpbmFsVGltZSA9IG9yaWdpbmFsLnZhbHVlT2YoKTtcblx0Y29uc3Qgb3JpZ2luYWxZZWFyID0gb3JpZ2luYWwuZ2V0RnVsbFllYXIoKTtcblx0Y29uc3Qgb3JpZ2luYWxNb250aCA9IG9yaWdpbmFsLmdldE1vbnRoKCk7XG5cdGNvbnN0IG9yaWdpbmFsRGF0ZSA9IG9yaWdpbmFsLmdldERhdGUoKTtcblxuXHQvLyBgZGF5c2AsIGB3ZWVrc2Ag7LyA7J207IqkICjri6jsiJztnogg7Jik7ZSE7IWL7J2EIOqzhOyCsO2VtCDrjZTtlagpXG5cdGlmICh0aW1lTWFwW3R5cGVdKSB7XG5cblx0XHRjb25zdCBvZmZzZXQgPSB0aW1lTWFwW3R5cGVdICogTnVtYmVyKHZhbHVlKTtcblxuXHRcdHJldHVybiB0b0RhdGUob3JpZ2luYWxUaW1lICsgb2Zmc2V0KTtcblx0fVxuXG5cdC8vIOyblCDsvIDsnbTsiqRcblx0aWYgKHR5cGUgPT09ICdtb250aHMnKSB7XG5cblx0XHRjb25zdCB5ZWFyT2Zmc2V0ID0gTWF0aC5mbG9vcigob3JpZ2luYWxNb250aCArIE51bWJlcih2YWx1ZSkpIC8gMTIpO1xuXHRcdGNvbnN0IG5ld01vbnRoID0gKG9yaWdpbmFsTW9udGggKyBOdW1iZXIodmFsdWUpKSAlIDEyO1xuXG5cdFx0b3JpZ2luYWwuc2V0RnVsbFllYXIob3JpZ2luYWxZZWFyICsgeWVhck9mZnNldCk7XG5cdFx0b3JpZ2luYWwuc2V0TW9udGgobmV3TW9udGgpO1xuXG5cdFx0aWYgKG5ld01vbnRoICE9PSBvcmlnaW5hbC5nZXRNb250aCgpKSB7XG5cdFx0XHRvcmlnaW5hbC5zZXREYXRlKDApO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmlnaW5hbDtcblxuXHR9XG5cblx0Ly8g64WEIOy8gOydtOyKpFxuXHRpZiAodHlwZSA9PT0gJ3llYXJzJykge1xuXG5cdFx0Y29uc3QgZXhwaXJlc1llYXIgPSBvcmlnaW5hbC5nZXRGdWxsWWVhcigpICsgTnVtYmVyKHZhbHVlKTtcblxuXHRcdG9yaWdpbmFsLnNldEZ1bGxZZWFyKGV4cGlyZXNZZWFyKTtcblxuXHRcdC8vIOq4sOyhtCDrgqDsp5zqsIAgMuyblCAyOeydvOydtOuptOyEnCxcblx0XHQvLyDrjZTtlbTsp4Qg64Kg7Kec66GcIOqwlOydhCDrlYwgM+yblOydtCDrkJwg6rK97JqwICgy7JuUIDI57J287J20IOyXhuuKlCDqsr3smrApXG5cdFx0aWYgKG9yaWdpbmFsTW9udGggPT09IDEgJiZcblx0XHRcdG9yaWdpbmFsRGF0ZSA9PT0gMjkgJiZcblx0XHRcdG9yaWdpbmFsLmdldE1vbnRoKCkgPT09IDIpIHtcblx0XHRcdG9yaWdpbmFsLnNldERhdGUoMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yaWdpbmFsO1xuXG5cdH1cblxuXHR0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHRpbWUgdHlwZScpO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gKHtcblx0JHRlcm1zLFxuXHRhZ3JlZW1lbnRzXG59KSA9PiB7XG5cblx0Y29uc3QgJGFsbCA9ICR0ZXJtcy5maWx0ZXIoJ1tkYXRhLWFncmVlbWVudC1zY29wZT1cImFsbFwiXScpO1xuXHRjb25zdCAkYWxsQ2hlY2sgPSAkYWxsLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuXG5cdCR0ZXJtcyA9ICR0ZXJtcy5maWx0ZXIoJ1tkYXRhLWFncmVlbWVudC1zY29wZSE9XCJhbGxcIl0nKTtcblx0Y29uc3QgJHRlcm1zQ2hlY2tzID0gJHRlcm1zLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuXG5cdGNvbnN0ICRyZXF1aXJlZFRlcm1zQ2hlY2tzID0gJHRlcm1zLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtyZXF1aXJlZF0nKTtcblxuXHQkdGVybXNDaGVja3Mub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0JGFsbENoZWNrLnByb3AoJ2NoZWNrZWQnLCAkdGVybXNDaGVja3MubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICQodGhpcykuaXMoJzpjaGVja2VkJyk7XG5cdFx0fSkuZ2V0KCkuZXZlcnkodiA9PiB2KSk7XG5cblx0fSk7XG5cblx0JGFsbENoZWNrLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdGNvbnN0IGNoZWNrZWQgPSAkYWxsQ2hlY2suaXMoJzpjaGVja2VkJyk7XG5cblx0XHQkdGVybXNDaGVja3MuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdCQodGhpcykucHJvcCgnY2hlY2tlZCcsIGNoZWNrZWQpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG5cdCR0ZXJtcy5maW5kKCdhJykuZmlsdGVyKCc6bm90KFtocmVmXSknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRjb25zdCBzY29wZSA9ICQodGhpcykucGFyZW50cygnW2RhdGEtYWdyZWVtZW50LXNjb3BlXScpLmRhdGEoJ2FncmVlbWVudFNjb3BlJyk7XG5cdFx0Y29uc3QgJG92ZXJsYXkgPSAkKFRodW5kZXIudWkoJ3RleHQtYm94LW92ZXJsYXknKShhZ3JlZW1lbnRzW3Njb3BlXS50ZXh0KSk7XG5cdFx0Y29uc3QgJGNsb3NlID0gJG92ZXJsYXkuZmluZCgnLnRodW5kZXItLXRleHQtYm94LW92ZXJsYXktY2xvc2UnKTtcblxuXHRcdCQoJ2JvZHknKS5hcHBlbmQoJG92ZXJsYXkpO1xuXG5cdFx0JGNsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0JG92ZXJsYXkucmVtb3ZlKCk7XG5cdFx0fSk7XG5cblx0fSk7XG5cblx0cmV0dXJuICgpID0+IHtcblxuXHRcdGlmICghJHJlcXVpcmVkVGVybXNDaGVja3MubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8ICRyZXF1aXJlZFRlcm1zQ2hlY2tzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGNvbnN0ICR0ZXJtID0gJHJlcXVpcmVkVGVybXNDaGVja3MuZXEoaSk7XG5cblx0XHRcdGlmICghJHRlcm0uaXMoJzpjaGVja2VkJykpIHtcblxuXHRcdFx0XHRjb25zdCBzY29wZSA9ICR0ZXJtLnBhcmVudHMoJ1tkYXRhLWFncmVlbWVudC1zY29wZV0nKS5kYXRhKCdhZ3JlZW1lbnRTY29wZScpO1xuXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGFncmVlbWVudHNbc2NvcGVdLmVycm9yKTtcblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkYnV0dG9uLCBjb250ZXh0KSB7XG5cblx0Y29uc3QgaGlzdG9yeSA9IGdldChjb250ZXh0LCAnb3B0aW9ucy5iYWNrJyk7XG5cblx0aWYgKCEkYnV0dG9uIHx8ICFoaXN0b3J5KSByZXR1cm47XG5cblx0Y29uc3Qge1xuXHRcdCRjb250YWluZXIsXG5cdFx0Y29tcG9uZW50LFxuXHRcdG9wdGlvbnMsXG5cdH0gPSBoaXN0b3J5O1xuXG5cdCRidXR0b24ub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuXG5cdFx0aWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMucmVuZGVyKCRjb250YWluZXIsIGNvbXBvbmVudCwgb3B0aW9ucyB8fCB7fSk7XG5cblx0fSk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuXHR0aGlzLm9wdGlvbnMucmVjYXB0Y2hhLnF1ZXVlLmZvckVhY2gob3B0aW9uID0+IHtcblxuXHRcdHRoaXMudXRpbC5tYWtlUmVjYXB0Y2hhKG9wdGlvbi5jb21wb25lbnROYW1lLCBvcHRpb24uJGJ1dHRvbiwgb3B0aW9uLmZuKTtcblxuXHR9KTtcblxuXHR0aGlzLm9wdGlvbnMucmVjYXB0Y2hhLnF1ZXVlID0gW107XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkY29udGFpbmVyLCB2YWxpZGF0ZSA9ICgoKSA9PiB0cnVlKSkge1xuXG5cdGNvbnN0IFRodW5kZXIgPSB0aGlzO1xuXG5cdGNvbnN0ICRzb2NpYWxCdXR0b24gPSAkY29udGFpbmVyLmZpbmQoJ1tkYXRhLXNvY2lhbC1hcHBdJyk7XG5cblx0JHNvY2lhbEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdGlmICghdmFsaWRhdGUoKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHZlbmRvciA9ICQodGhpcykuZGF0YSgnc29jaWFsQXBwJyk7XG5cblx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHR1cmw6ICAgIGAvdjEvY3VzdG9tZXJzL2F1dGgvJHt2ZW5kb3J9YFxuXHRcdH0pLmRvbmUoZGF0YSA9PiB7XG5cblx0XHRcdGxvY2F0aW9uLnJlcGxhY2UoZGF0YS5yZWRpcmVjdCk7XG5cblx0XHR9KS5mYWlsKChyZXMsIHN0YXR1cykgPT4ge1xuXG5cdFx0XHQvLyBUT0RPOiBFcnJvciBoYW5kbGluZ1xuXG5cdFx0fSk7XG5cblx0fSk7XG5cbn07IiwiY29uc3QgcmVmdW5kU3RhdHVzVG9DaGVjayA9IHtcblx0cmVxdWVzdGVkOiB0cnVlLFxuXHRhY2NlcHRlZDogIHRydWUsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChvcmRlciwgaXRlbUlkKSA9PiB7XG5cblx0aWYgKCFBcnJheS5pc0FycmF5KG9yZGVyLml0ZW1zKSB8fFxuXHRcdCFBcnJheS5pc0FycmF5KG9yZGVyLnJlZnVuZHMpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdPcmRlciBtdXN0IGhhdmUgaXRlbXMgYW5kIHJlZnVuZHMgZmllbGQgdG8gY2hlY2sgaXRlbSByZWZ1bmQgc3RhdHVzLicpO1xuXHR9XG5cblx0Y29uc3QgaXRlbVF1YW50aXR5ID0gb3JkZXIuaXRlbXNcblx0XHRcdFx0XHQucmVkdWNlKChhbGwsIGl0ZW0pID0+IGFsbC5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyksIFtdKVxuXHRcdFx0XHRcdC5maW5kKGl0ZW0gPT4gaXRlbS5faWQgPT09IGl0ZW1JZClcblx0XHRcdFx0XHQucXVhbnRpdHlcblx0XHRcdFx0XHQucmF3O1xuXG5cdGNvbnN0IHJlZnVuZGVkUXVhbnRpdHkgPSBvcmRlci5yZWZ1bmRzXG5cdFx0XHRcdFx0LmZpbHRlcihyID0+IHJlZnVuZFN0YXR1c1RvQ2hlY2tbci5zdGF0dXNdKSAvLyByZXF1ZXN0ZWQsIGFjY2VwdGVkIO2ZmOu2iCDrgrTsl63sl5DshJxcblx0XHRcdFx0XHQucmVkdWNlKChzdW0sIHIpID0+IHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHIuaXRlbXMuZmluZChpID0+IGkuaXRlbS5faWQgPT09IGl0ZW1JZCk7XG5cblx0XHRcdFx0XHRcdHJldHVybiBzdW0gKyAoaXRlbSA/IGl0ZW0ucXVhbnRpdHkucmF3IDogMCk7XG5cblx0XHRcdFx0XHR9LCAwKTsgLy8g7J20IOyVhOydtO2FnOyXkCDrjIDtlbTshJwg7ZmY67aI65CcIOyghOyytCDsiJjrn4nsnYQg6rOE7IKwXG5cblx0aWYgKGl0ZW1RdWFudGl0eSA8PSByZWZ1bmRlZFF1YW50aXR5KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZWxlbSkge1xuXG5cdFx0Y29uc3QgJHRlbXAgPSAkKCc8aW5wdXQ+Jyk7XG5cblx0XHQkdGVtcC5jc3Moe1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRsZWZ0OiAgICAgJy05OTk5cHgnLFxuXHRcdFx0dG9wOiAgICAgICcwJyxcblx0XHR9KTtcblxuXHRcdCQoJ2JvZHknKS5hcHBlbmQoJHRlbXApO1xuXG5cdFx0JHRlbXAudmFsKCQoZWxlbSkudGV4dCgpLnRyaW0oKSkuc2VsZWN0KCk7XG5cblx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XG5cblx0XHR0cnkge1xuXHRcdFx0cmVzdWx0ID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcblx0XHRcdHRoaXMubm90aWZ5KCdzdWNjZXNzJywgdGhpcy5wb2x5Z2xvdC50KCdnZW5lcmFsLmNvcHlTdWNjZWVkZWQnKSk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLm5vdGlmeSgnZXJyb3InLCB0aGlzLnBvbHlnbG90LnQoJ2dlbmVyYWwuY29weUZhaWxlZCcpKTtcblx0XHR9XG5cblx0XHQkdGVtcC5yZW1vdmUoKTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29kZSA9IG51bGwsIG5hbWUgPSAnJykge1xuXG5cdGlmICghY29kZSB8fCAhbmFtZSkgcmV0dXJuICcnO1xuXG5cdGNvbnN0IGZsYWcgPVxuXHRcdGNvZGUudG9VcHBlckNhc2UoKVxuXHRcdFx0LnJlcGxhY2UoLy4vZywgY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludChjaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjczOTcpKTtcblxuXHRyZXR1cm4gW2ZsYWcsIG5hbWVdLmZpbHRlcih2ID0+IHYpLmpvaW4oJyAnKTtcblxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY3VzdG9tZXIpIHtcblxuXHRpZiAoIWN1c3RvbWVyKSByZXR1cm4gbnVsbDtcblxuXHRmb3IgKGNvbnN0IGZpZWxkIG9mIHRoaXMub3B0aW9ucy5jdXN0b21lcklkZW50aXR5KSB7XG5cblx0XHRjb25zdCB2YWx1ZSA9IGdldChjdXN0b21lciwgZmllbGQpO1xuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07IiwiLy8gRGF2aWQgV2Fsc2gncyBkZWJvdW5jZSBmdW5jdGlvbiBzbmlwcGV0cyAoc2xpZ2h0bHkgbW9kaWZpZWQpXG4vLyBSZWY6IGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtZGVib3VuY2UtZnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG5cblx0bGV0IHRpbWVvdXQ7XG5cblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXG5cdFx0bGV0IGNvbnRleHQgPSB0aGlzO1xuXHRcdGxldCBhcmdzID0gYXJndW1lbnRzO1xuXHRcdGxldCBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuXHRcdGxldCBsYXRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGltZW91dCA9IG51bGw7XG5cdFx0XHRpZiAoIWltbWVkaWF0ZSkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0XHR9O1xuXG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcblx0XHRpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0fTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9ICh0ZXh0LCBsZW5ndGgpID0+IHtcblxuXHRpZiAodHlwZW9mIGxlbmd0aCAhPT0gJ251bWJlcicpIHtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdC8vIFJlbW92ZSBIVE1MIHRhZ3Ncblx0dGV4dCA9ICQoYDxkaXY+JHt0ZXh0IHx8ICcnfTwvZGl2PmApLnRleHQoKTtcblxuXHRjb25zdCByZWR1Y2VkID0gdGV4dFxuXHRcdFx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gUmVwbGFjZSBhbGwgZW1wdHkgc3BhY2VkIHRvIG9uZSBzcGFjZVxuXHRcdFx0XHRcdC50cmltKClcblx0XHRcdFx0XHQuc2xpY2UoMCwgbGVuZ3RoKVxuXHRcdFx0XHRcdC50cmltKCk7XG5cblx0cmV0dXJuIHRleHQubGVuZ3RoIDw9IGxlbmd0aCA/XG5cdFx0XHRyZWR1Y2VkIDpcblx0XHRcdGAke3JlZHVjZWR9Li4uYDtcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCRjb250YWluZXIsIGZvbGxvdywgbWVudUl0ZW1zID0gW10pIHtcblxuXHRjb25zdCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zbGljZSgyKTtcblxuXHRjb25zdCBpdGVtTWFwID0gbWVudUl0ZW1zLnJlZHVjZSgobywgaXRlbSwgaSkgPT4ge1xuXHRcdHJldHVybiBzZXQobywgW2Ake2lkfS4ke2l9YF0sIGl0ZW0pO1xuXHR9LCB7fSk7XG5cblx0Y29uc3QgaXRlbXMgPSBtZW51SXRlbXMubWFwKChpdGVtLCBpKSA9PiB7XG5cdFx0cmV0dXJuIGA8bGk+PHNwYW4gZGF0YS1zY3JvbGwtdG89XCIke2lkfS4ke2l9XCI+JHtpdGVtLm5hbWV9PC9zcGFuPjwvbGk+YDtcblx0fSkuam9pbignJyk7XG5cblx0JGNvbnRhaW5lclxuXHRcdC5hZGRDbGFzcygndGh1bmRlci0tZm9sbG93aW5nLW5hdi1jb250YWluZXInKVxuXHRcdC5hZGRDbGFzcyhmb2xsb3cgPyAnc3RpY2t5JyA6ICcnKVxuXHRcdC5odG1sKGA8dWwgY2xhc3M9XCJ0aHVuZGVyLS1mb2xsb3dpbmctbmF2XCI+JHtpdGVtc308L3VsPmApO1xuXG5cdCRjb250YWluZXIub24oJ2NsaWNrJywgJ1tkYXRhLXNjcm9sbC10b10nLCBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGNvbnN0IGl0ZW1JZCA9ICQodGhpcykuZGF0YSgnc2Nyb2xsVG8nKTtcblx0XHRjb25zdCBpdGVtID0gaXRlbU1hcFtpdGVtSWRdO1xuXG5cdFx0cmV0dXJuIGl0ZW0uJGVsLmdldCgwKS5zY3JvbGxJbnRvVmlldygpO1xuXG5cdH0pO1xuXG59OyIsImNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzZXJpYWxpemVkKSB7XG5cblx0Y29uc3QgZGF0YSA9IHt9O1xuXG5cdHNlcmlhbGl6ZWQuZm9yRWFjaChkID0+IHNldChkYXRhLCBkLm5hbWUsIGQudmFsdWUgfHwgbnVsbCkpO1xuXG5cdHJldHVybiBkYXRhO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obnVtYmVyLCBjdXJyZW5jeSA9IHt9KSB7XG5cblx0aWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG5cblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRjb25zdCB7IHByZWNpc2lvbiwgZGVsaW1pdGVyID0ge30gfSA9IGN1cnJlbmN5O1xuXHRjb25zdCB7IHRob3VzYW5kcyA9ICcnLCBkZWNpbWFsID0gJy4nIH0gPSBkZWxpbWl0ZXI7XG5cblx0aWYgKHR5cGVvZiBwcmVjaXNpb24gPT09ICdudW1iZXInKSB7XG5cblx0XHRudW1iZXIgPSB0aGlzLnV0aWwudG9QcmVjaXNpb24obnVtYmVyLCBwcmVjaXNpb24pO1xuXHR9XG5cblx0bGV0IFthLCBiID0gJyddID0gU3RyaW5nKG51bWJlcikuc3BsaXQoJy4nKTtcblxuXHRjb25zdCByZXZlcnNlZEFycmF5ID0gYS5zcGxpdCgnJykucmV2ZXJzZSgpO1xuXG5cdGNvbnN0IHNlZ21lbnRzID0gW107XG5cblx0d2hpbGUgKHJldmVyc2VkQXJyYXkubGVuZ3RoKSB7XG5cblx0XHRzZWdtZW50cy51bnNoaWZ0KHJldmVyc2VkQXJyYXkuc3BsaWNlKDAsIDMpLnJldmVyc2UoKS5qb2luKCcnKSk7XG5cblx0fVxuXG5cdGlmIChwcmVjaXNpb24pIHtcblxuXHRcdGNvbnN0IGRpZmYgPSBwcmVjaXNpb24gLSBiLmxlbmd0aDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSB7XG5cdFx0XHRiICs9ICcwJztcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBbc2VnbWVudHMuam9pbih0aG91c2FuZHMpLCBiXS5qb2luKGIgPyBkZWNpbWFsIDogJycpO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obnVtYmVyLCBjdXJyZW5jeSA9IHt9KSB7XG5cblx0Y29uc3QgZm9ybWF0dGVkTnVtYmVyID0gdGhpcy51dGlsLmZvcm1hdE51bWJlcihudW1iZXIsIGN1cnJlbmN5KTtcblxuXHRpZiAoIWZvcm1hdHRlZE51bWJlcikge1xuXG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0Y29uc3QgeyBzeW1ib2wgPSAnJywgZm9ybWF0ID0gJ3twcmljZX0nIH0gPSBjdXJyZW5jeTtcblxuXHRyZXR1cm4gZm9ybWF0XG5cdFx0XHQucmVwbGFjZSgne3N5bWJvbH0nLCBzeW1ib2wpXG5cdFx0XHQucmVwbGFjZSgne3ByaWNlfScsIGZvcm1hdHRlZE51bWJlcik7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb2RlKSB7XG5cblx0aWYgKCFjb2RlKSB7XG5cdFx0cmV0dXJuIGRlZmVycmVkLnJlamVjdChuZXcgRXJyb3IoJ0N1cnJlbmN5IGNvZGUgaXMgcmVxdWlyZWQuJykpO1xuXHR9XG5cblx0Y29kZSA9IGNvZGUudG9VcHBlckNhc2UoKTtcblxuXHRjb25zdCBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblx0Y29uc3Qga2V5ID0gYF9fY3VycmVuY3k6JHtjb2RlfV9fYDtcblx0Y29uc3Qgc2F2ZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cblx0aWYgKHNhdmVkKSB7XG5cblx0XHRyZXR1cm4gZGVmZXJyZWQucmVzb2x2ZShKU09OLnBhcnNlKHNhdmVkKSk7XG5cblx0fSBlbHNlIHtcblxuXHRcdFRodW5kZXIucmVxdWVzdCh7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0dXJsOiAnL3YxL2N1cnJlbmNpZXMnLFxuXHRcdFx0cXVlcnk6IHtcblx0XHRcdFx0cmF3OiB0cnVlLFxuXHRcdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0XHQnY29kZScsXG5cdFx0XHRcdFx0J2RlbGltaXRlcicsXG5cdFx0XHRcdFx0J2Zvcm1hdCcsXG5cdFx0XHRcdFx0J3ByZWNpc2lvbicsXG5cdFx0XHRcdFx0J3N5bWJvbCcsXG5cdFx0XHRcdF0uam9pbignLCcpLFxuXHRcdFx0XHRjb2RlOiBjb2RlLFxuXHRcdFx0fVxuXHRcdH0pLnRoZW4ocmVzID0+IHtcblx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShyZXNbMF0pKTtcblx0XHRcdHJldHVybiBkZWZlcnJlZC5yZXNvbHZlKHJlc1swXSk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdGNvbnN0IHsgYWN0aW9uLCBjdXN0b21lciwgdG9rZW4gfSA9IHRoaXMudXRpbC51cmxRdWVyeSgpO1xuXG5cdGlmICghYWN0aW9uKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRpZiAoYWN0aW9uICYmIGN1c3RvbWVyICYmIHRva2VuKSB7XG5cblx0XHRjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xuXG5cdFx0c3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5hdXRoU3RvcmFnZS5jdXN0b21lciwgdG9rZW4pO1xuXG5cdFx0Ly8gUmUtcmVuZGVyIGhlYWRlclxuXHRcdHRoaXMuaGVhZGVyKCk7XG5cdH1cblxuXHRjb25zdCBxdWVyeSA9IHRoaXMudXRpbC51cmxRdWVyeSgpO1xuXHRjb25zdCBwYXlsb2FkID0ge307XG5cblx0W1xuXHRcdCdhY3Rpb24nLFxuXHRcdCdjdXN0b21lcicsXG5cdFx0J3Rva2VuJyxcblx0XHQnZXJyb3InLFxuXHRdLmZvckVhY2goZmllbGQgPT4gcGF5bG9hZFtmaWVsZF0gPSBxdWVyeVtmaWVsZF0pO1xuXG5cdHJldHVybiBwYXlsb2FkO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW1hZ2UsIHdpZHRoLCBoZWlnaHQpIHtcblxuXHRpZiAoIWltYWdlKSByZXR1cm4gJyc7XG5cblx0bGV0IGRpbWVuc2lvbiA9IFtdO1xuXG5cdHdpZHRoID0gd2lkdGggPyAnd2lkdGg9JyArIHdpZHRoIDogJyc7XG5cdGhlaWdodCA9IGhlaWdodCA/ICdoZWlnaHQ9JyArIGhlaWdodCA6ICcnO1xuXG5cdGlmICh3aWR0aCkgIGRpbWVuc2lvbi5wdXNoKHdpZHRoKTtcblx0aWYgKGhlaWdodCkgZGltZW5zaW9uLnB1c2goaGVpZ2h0KTtcblxuXHRkaW1lbnNpb24gPSBkaW1lbnNpb24ubGVuZ3RoID8gJz8nICsgZGltZW5zaW9uLmpvaW4oJyYnKSA6ICcnO1xuXG5cdHJldHVybiBpbWFnZS51cmwgKyBkaW1lbnNpb247XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkdXBsb2FkRm9ybSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cblx0Y29uc3QgJGZpbGUgPSAkdXBsb2FkRm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpO1xuXHRjb25zdCAkbGFiZWwgPSAkdXBsb2FkRm9ybS5maW5kKGBsYWJlbFtmb3I9XCIkeyRmaWxlLmF0dHIoJ2lkJyl9XCJdYCk7XG5cdGNvbnN0IG9yaWdpbmFsTGFiZWwgPSAkbGFiZWwudGV4dCgpO1xuXG5cdHJldHVybiAkZmlsZS5vbignY2hhbmdlJywgKCkgPT4ge1xuXG5cdFx0aWYgKCEkZmlsZS52YWwoKSkge1xuXHRcdFx0cmV0dXJuICRsYWJlbC5odG1sKG9yaWdpbmFsTGFiZWwpO1xuXHRcdH1cblxuXHRcdCRsYWJlbC5odG1sKHRoaXMudWkoJ2J1dHRvbi1zcGlubmVyJykpO1xuXG5cdFx0JHVwbG9hZEZvcm0uYWpheFN1Ym1pdCh7XG5cdFx0XHRtZXRob2Q6ICAnUE9TVCcsXG5cdFx0XHR1cmw6ICAgICBgJHt0aGlzLm9wdGlvbnMuYmFzZVVSTH0vdjEvbWUvaW1hZ2VzYCxcblx0XHRcdGhlYWRlcnM6IHRoaXMucmVxdWVzdC5nZXRSZXF1ZXN0SGVhZGVycygpLFxuXHRcdFx0c3VjY2VzczogKC4uLmFyZ3MpID0+IHtcblx0XHRcdFx0JGxhYmVsLmh0bWwob3JpZ2luYWxMYWJlbCk7XG5cdFx0XHRcdHJldHVybiBzdWNjZXNzQ2FsbGJhY2soLi4uYXJncyk7XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6ICguLi5hcmdzKSA9PiB7XG5cdFx0XHRcdCRsYWJlbC5odG1sKG9yaWdpbmFsTGFiZWwpO1xuXHRcdFx0XHRyZXR1cm4gZXJyb3JDYWxsYmFjayguLi5hcmdzKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9KTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRhdGUsIHRpbWVUb0NvbXBhcmUgPSBEYXRlLm5vdygpKSB7XG5cblx0cmV0dXJuIG5ldyBEYXRlKGRhdGUpLnZhbHVlT2YoKSAtIHRpbWVUb0NvbXBhcmUgPCAwO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFncyA9IFtdLCBtZXNzYWdlKSB7XG5cblx0Y29uc3QgdHlwZSA9IHRhZ3MuaW5kZXhPZignZXJyb3InKSA9PT0gLTEgP1xuXHRcdFx0XHRcdCdsb2cnIDpcblx0XHRcdFx0XHQnZXJyb3InO1xuXG5cdHJldHVybiBjb25zb2xlW3R5cGVdKGBbJHsgdGFncy5qb2luKCcsJykgfV0gVGh1bmRlcjogJHsgbWVzc2FnZSB9YCk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkYnV0dG9uLCBvcHRpb25zKSB7XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0Y29uc3Qge1xuXHRcdGJpbmQgPSB0cnVlXG5cdH0gPSBvcHRpb25zO1xuXG5cdGNvbnN0IG9yaWdpbmFsID0gJGJ1dHRvbi5odG1sKCk7XG5cblx0Y29uc3QgcnVuID0gKCkgPT4gJGJ1dHRvbi5odG1sKHRoaXMudWkoJ2J1dHRvbi1zcGlubmVyJykpO1xuXHRjb25zdCBkb25lID0gKCkgPT4gJGJ1dHRvbi5odG1sKG9yaWdpbmFsKTtcblxuXHRpZiAoYmluZCkge1xuXHRcdCRidXR0b24ub24oJ2NsaWNrJywgcnVuKTtcblx0fVxuXG5cdHJldHVybiB7IHJ1biwgZG9uZSB9O1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29tcG9uZW50TmFtZSwgJGJ1dHRvbiwgY2FsbGJhY2spIHtcblxuXHRsZXQgdmFsaWRhdGUgPSAoKSA9PiB0cnVlO1xuXG5cdGlmICh0eXBlb2YgY29tcG9uZW50TmFtZSA9PT0gJ29iamVjdCcpIHtcblxuXHRcdGNvbnN0IG9wdGlvbnMgPSBjb21wb25lbnROYW1lO1xuXG5cdFx0Y29tcG9uZW50TmFtZSA9IG9wdGlvbnMuY29tcG9uZW50TmFtZTtcblx0XHQkYnV0dG9uID0gb3B0aW9ucy5idXR0b247XG5cdFx0dmFsaWRhdGUgPSBvcHRpb25zLnZhbGlkYXRlIHx8IHZhbGlkYXRlO1xuXHRcdGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjaztcblx0fVxuXG5cdGNvbnN0IHNpZ25hdHVyZSA9ICd0aHVuZGVyLS1yZWNhcHRjaGEtaGFuZGxlcic7XG5cblx0aWYgKCEkYnV0dG9uLmhhc0NsYXNzKHNpZ25hdHVyZSkpIHtcblxuXHRcdCRidXR0b24uYWRkQ2xhc3Moc2lnbmF0dXJlKTtcblxuXHRcdCRidXR0b24uZGF0YSgnZXhlY3V0ZScsICgkYnV0dG9uLmRhdGEoJ2V4ZWN1dGUnKSB8fCBbXSkuY29uY2F0KGNhbGxiYWNrKSk7XG5cblx0XHQkYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmICghdmFsaWRhdGUoKSkgcmV0dXJuO1xuXG5cdFx0XHQkYnV0dG9uLmRhdGEoJ2V4ZWN1dGUnKS5mb3JFYWNoKGV4ZWN1dGUgPT4gZXhlY3V0ZSgpKTtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCF0aGlzLnV0aWwudXNlUmVjYXB0Y2hhKGNvbXBvbmVudE5hbWUpKSB7XG5cdFx0cmV0dXJuICRidXR0b24uZGF0YSgnZXhlY3V0ZScpO1xuXHR9XG5cblx0Y29uc3QgZ3JlY2FwdGNoYSA9IHdpbmRvdy5ncmVjYXB0Y2hhO1xuXG5cdGlmICghZ3JlY2FwdGNoYSB8fCAhZ3JlY2FwdGNoYS5yZW5kZXIpIHtcblxuXHRcdHRoaXMub3B0aW9ucy5yZWNhcHRjaGEucXVldWUucHVzaCh7XG5cdFx0XHRjb21wb25lbnROYW1lLFxuXHRcdFx0JGJ1dHRvbixcblx0XHRcdGZuOiBjYWxsYmFja1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuICRidXR0b24uZGF0YSgnZXhlY3V0ZScpO1xuXHR9XG5cblx0Y29uc3QgJGNoYWxsZW5nZSA9ICQoJzxkaXYgY2xhc3M9XCJnLXJlY2FwdGNoYVwiPjwvZGl2PicpO1xuXG5cdCRidXR0b24uYmVmb3JlKCRjaGFsbGVuZ2UpO1xuXG5cdGNvbnN0IGNoYWxsZW5nZSA9ICRjaGFsbGVuZ2UuZ2V0KDApO1xuXG5cdGNvbnN0IGlkID0gZ3JlY2FwdGNoYS5yZW5kZXIoY2hhbGxlbmdlLCB7XG5cdFx0c2l0ZWtleTogIHRoaXMub3B0aW9ucy5yZWNhcHRjaGEuc2l0ZWtleSxcblx0XHRzaXplOiAgICAgJ2ludmlzaWJsZScsXG5cdFx0YmFkZ2U6ICAgICdib3R0b21yaWdodCcsXG5cdFx0aXNvbGF0ZWQ6IHRydWUsXG5cdFx0Y2FsbGJhY2s6IHRva2VuID0+IGNhbGxiYWNrKHRva2VuLCAoKSA9PiBncmVjYXB0Y2hhLnJlc2V0KGlkKSksXG5cdFx0J2V4cGlyZWQtY2FsbGJhY2snOiBlcnIgPT4ge1xuXHRcdFx0Ly8gVE9ETzogSW1wbGVtZW50IGNhbGxiYWNrXG5cdFx0fSxcblx0XHQnZXJyb3ItY2FsbGJhY2snOiBlcnIgPT4ge1xuXHRcdFx0Ly8gVE9ETzogSW1wbGVtZW50IGNhbGxiYWNrXG5cdFx0fSxcblx0fSk7XG5cblx0JGNoYWxsZW5nZS5wcm9wKCdpZCcsICdnLXJlY2FwdGNoYS0nICsgaWQpO1xuXG5cdGNvbnN0IGNhbGxiYWNrcyA9ICgkYnV0dG9uLmRhdGEoJ2V4ZWN1dGUnKSB8fCBbXSlcblx0XHRcdFx0XHRcdC5jb25jYXQoKCkgPT4gZ3JlY2FwdGNoYS5leGVjdXRlKGlkKSlcblx0XHRcdFx0XHRcdC5maWx0ZXIoZm4gPT4gZm4gIT09IGNhbGxiYWNrKTsgLy8gUmVtb3ZlIG9yaWdpbmFsIGNhbGxiYWNrXG5cblx0JGJ1dHRvbi5kYXRhKCdleGVjdXRlJywgY2FsbGJhY2tzKTtcblxuXHRyZXR1cm4gJGJ1dHRvbi5kYXRhKCdleGVjdXRlJyk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBvcmRlciA9PiB7XG5cblx0aWYgKCFvcmRlcikgcmV0dXJuIG51bGw7XG5cblx0aWYgKG9yZGVyLnN0YXR1cyA9PT0gJ3BsYWNlZCcgfHxcblx0XHRvcmRlci5zdGF0dXMgPT09ICdjYW5jZWxsZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRjb25zdCBoYXNUYW5naWJsZUl0ZW0gPSBvcmRlci5pdGVtcy5yZWR1Y2UoKGl0ZW1zLCBpdGVtKSA9PiB7XG5cdFx0cmV0dXJuIGl0ZW1zLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKTtcblx0fSwgW10pLnNvbWUoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICd0YW5naWJsZScpO1xuXG5cdGlmICghaGFzVGFuZ2libGVJdGVtKSByZXR1cm4gbnVsbDtcblxuXHRpZiAob3JkZXIucmVjZWl2ZWRBdCkge1xuXHRcdHJldHVybiAncmVjZWl2ZWQnO1xuXHR9XG5cblx0Y29uc3QgY291bnRCeVN0YXR1cyA9IG9yZGVyLmZ1bGZpbGxtZW50cy5yZWR1Y2UoKG8sIHsgc3RhdHVzIH0pID0+IHtcblx0XHRvW3N0YXR1c10gPSBvW3N0YXR1c10gfHwgMDtcblx0XHRvW3N0YXR1c10rKztcblx0XHRyZXR1cm4gbztcblx0fSwge30pO1xuXG5cdGlmIChvcmRlci5mdWxmaWxsbWVudHMubGVuZ3RoID09PSAwIHx8XG5cdFx0b3JkZXIuZnVsZmlsbG1lbnRzLmxlbmd0aCA9PT0gY291bnRCeVN0YXR1cy5wZW5kaW5nKSB7XG5cdFx0cmV0dXJuICdwZW5kaW5nJztcblx0fVxuXG5cdGlmIChvcmRlci5mdWxmaWxsbWVudHMubGVuZ3RoID09PSBjb3VudEJ5U3RhdHVzLmFycml2ZWQpIHtcblx0XHRyZXR1cm4gJ2Fycml2ZWQnO1xuXHR9XG5cblx0cmV0dXJuICdzaGlwcGVkJztcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgP1xuXHRcdFx0dmFsdWUuc3BsaXQoJywnKS5maWx0ZXIodiA9PiB2KSA6XG5cdFx0XHR2YWx1ZTtcblxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcXVlcnkgPT4ge1xuXG5cdHF1ZXJ5ID0gcXVlcnkgfHwge307XG5cblx0aWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4gcXVlcnk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXG5cdHJldHVybiBxdWVyeS5zcGxpdCgnJicpLnJlZHVjZSgobywgc2VnbWVudCkgPT4ge1xuXG5cdFx0Y29uc3QgW2tleSwgLi4udmFsdWVzXSA9IHNlZ21lbnQuc3BsaXQoJz0nKTtcblxuXHRcdHJldHVybiBzZXQobywgW2tleV0sIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZXMuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpKSk7XG5cblx0fSwge30pO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocHJvZHVjdCwgdmFyaWFudCkge1xuXG5cdHJldHVybiBbXS5jb25jYXQoXG5cdFx0cHJvZHVjdC5uYW1lLFxuXHRcdHZhcmlhbnQgJiYgdmFyaWFudC50eXBlcy5sZW5ndGggPyB0aGlzLnV0aWwudmFyaWFudE5hbWUodmFyaWFudCkgOiBbXVxuXHQpLmpvaW4oJyAvICcpO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJGNvbnRhaW5lcikge1xuXG5cdCRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXF1YW50aXR5JykuZWFjaChmdW5jdGlvbigpIHtcblxuXHRcdGNvbnN0IG1pbiA9IHBhcnNlSW50KCQodGhpcykuYXR0cignbWluJykgfHwgMCk7XG5cdFx0Y29uc3QgbWF4ID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdtYXgnKSB8fCAxMDApO1xuXG5cdFx0Y29uc3QgJHdyYXBwZXIgPSAkKGBcblx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcXVhbnRpdHktd3JhcHBlclwiPjwvc3Bhbj5cblx0XHRgKTtcblxuXHRcdCQodGhpcykud3JhcCgkd3JhcHBlcik7XG5cblx0XHRjb25zdCAkZGVjID0gJChgPHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1xdWFudGl0eS1hY3Rpb25cIiBkYXRhLXR5cGU9XCJkZWNcIj5cblx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcXVhbnRpdHktYWN0aW9uLWJhclwiPjwvc3Bhbj5cblx0XHQ8L3NwYW4+YCk7XG5cdFx0Y29uc3QgJGluYyA9ICQoYDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcXVhbnRpdHktYWN0aW9uXCIgZGF0YS10eXBlPVwiaW5jXCI+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLXF1YW50aXR5LWFjdGlvbi1iYXJcIj48L3NwYW4+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLXF1YW50aXR5LWFjdGlvbi1iYXJcIj48L3NwYW4+XG5cdFx0PC9zcGFuPmApO1xuXG5cdFx0JGRlYy5pbnNlcnRCZWZvcmUoJCh0aGlzKSk7XG5cdFx0JGluYy5pbnNlcnRBZnRlcigkKHRoaXMpKTtcblxuXHRcdCRkZWMub24oJ2NsaWNrJywgKCkgPT4ge1xuXG5cdFx0XHRjb25zdCBvbGRWYWwgPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcblx0XHRcdGNvbnN0IG5ld1ZhbCA9IG9sZFZhbCAtIDE7XG5cblx0XHRcdGlmIChvbGRWYWwgPT09IG1pbikge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdCQodGhpcykudmFsKG5ld1ZhbCk7XG5cdFx0XHQkKHRoaXMpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdH0pO1xuXG5cdFx0JGluYy5vbignY2xpY2snLCAoKSA9PiB7XG5cblx0XHRcdGNvbnN0IG9sZFZhbCA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xuXHRcdFx0Y29uc3QgbmV3VmFsID0gb2xkVmFsICsgMTtcblxuXHRcdFx0aWYgKG9sZFZhbCA9PT0gbWF4KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0JCh0aGlzKS52YWwobmV3VmFsKTtcblx0XHRcdCQodGhpcykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0fSk7XG5cblx0fSk7XG5cbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuXG5jb25zdCBIYW5kbGVyRXJyb3IgPSAoY29kZSwgbWVzc2FnZSkgPT4ge1xuXG5cdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXG5cdGVycm9yLmNvZGUgPSBjb2RlO1xuXG5cdHJldHVybiBlcnJvcjtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihyZXMsIGNvZGVUb01lc3NhZ2UsIGNhbGxiYWNrID0gKCkgPT4ge30pIHtcblxuXHRpZiAoIXJlcy5lcnJvcikge1xuXHRcdC8vIE5vdCBhbiBlcnJvciBjYXNlXG5cdFx0cmV0dXJuIGNhbGxiYWNrKCk7XG5cdH1cblxuXHQvLyBGaW5kIGEgQ2xheWZ1bCBlcnJvciBjb2RlXG5cdGNvbnN0IGVycm9yQ29kZSA9IGdldChyZXMsICdlcnJvckNvZGUnLCBudWxsKTtcblxuXHRjb25zdCBtZXNzYWdlR2V0dGVyID0gY29kZVRvTWVzc2FnZVtlcnJvckNvZGVdO1xuXHRjb25zdCBkZWZhdWx0TWVzc2FnZSA9IGNvZGVUb01lc3NhZ2UuZGVmYXVsdDtcblx0Y29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VHZXR0ZXIgPyAoXG5cdFx0dHlwZW9mIG1lc3NhZ2VHZXR0ZXIgPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0bWVzc2FnZUdldHRlcihyZXMpIHx8IGRlZmF1bHRNZXNzYWdlIDpcblx0XHRcdG1lc3NhZ2VHZXR0ZXIubWVzc2FnZSB8fCBtZXNzYWdlR2V0dGVyIHx8IGRlZmF1bHRNZXNzYWdlXG5cdCkgOiBkZWZhdWx0TWVzc2FnZTtcblxuXHRpZiAobWVzc2FnZSkge1xuXHRcdHRoaXMucGx1Z2lucy5ub3RpZmljYXRpb24oZ2V0KG1lc3NhZ2VHZXR0ZXIsICd0eXBlJykgfHwgJ2Vycm9yJywgbWVzc2FnZSk7XG5cdFx0cmV0dXJuIGNhbGxiYWNrKEhhbmRsZXJFcnJvcihlcnJvckNvZGUsIG1lc3NhZ2UpKTtcblx0fVxuXG5cdHJldHVybiBjYWxsYmFjayhIYW5kbGVyRXJyb3IoJ3Vua25vd24nLCAnVW5rbm93biBFcnJvcicpKTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRleHQgPSAnJykge1xuXG5cdHJldHVybiAkKGA8ZGl2PiR7dGV4dH08L2Rpdj5gKS50ZXh0KCk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihudW1iZXIgPSAwLCBwcmVjaXNpb24gPSAwKSB7XG5cblx0Y29uc3QgbiA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuXG5cdHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIG4pIC8gbjtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuXHRyZXR1cm4gdGhpcy51aXNbbmFtZV0gPyB0aGlzLnVpc1tuYW1lXSgpIDogJyc7XG5cbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkYXRhKSB7XG5cblx0aWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcblxuXHRjb25zdCByZWNhcHRjaGFGaWVsZCA9ICdnLXJlY2FwdGNoYS1yZXNwb25zZSc7XG5cdGNvbnN0IHJlc3BvbnNlID0gZGF0YVtyZWNhcHRjaGFGaWVsZF07XG5cblx0ZGVsZXRlIGRhdGFbcmVjYXB0Y2hhRmllbGRdO1xuXG5cdHJldHVybiByZXNwb25zZSB8fCBudWxsO1xuXG59OyIsImNvbnN0IHBhcnNlUXVlcnlTdHJpbmcgPSByZXF1aXJlKCcuL3BhcnNlUXVlcnlTdHJpbmcuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuXHQvLyBTaW5jZSBTUEEoU2luZ2xlIFBhZ2UgQXBwKSBtaWdodCB1c2UgaGFzaGJhbmcoLyMvP2hlbGxvPXdvcmxkKSBpbiBpdHMgdXJsLFxuXHQvLyBgbG9jYXRpb24uaHJlZmAgaXMgYmVpbmcgdXNlZCB0byBmaW5kIHF1ZXJ5IHN0cmluZy5cblx0Y29uc3QgWywgcXVlcnlBZnRlciA9ICcnXSA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKTtcblxuXHQvLyBSZW1vdmUgVVJMIGhhc2hcblx0Y29uc3QgW3NlYXJjaF0gPSBxdWVyeUFmdGVyLnNwbGl0KCcjJyk7XG5cblx0aWYgKCFzZWFyY2gpIHJldHVybiB7fTtcblxuXHRyZXR1cm4gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlTmFtZSkge1xuXG5cdHJldHVybiB0aGlzLm9wdGlvbnMucmVjYXB0Y2hhLnNpdGVrZXkgJiZcblx0XHRcdHRoaXMub3B0aW9ucy5yZWNhcHRjaGEubW9kdWxlcy5zb21lKG0gPT4gbSA9PT0gbW9kdWxlTmFtZSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZGF0YSkge1xuXG5cdGlmICghZGF0YS51c2VySWRPckVtYWlsKSB7XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblxuXHRpZiAoZGF0YS51c2VySWRPckVtYWlsLmluZGV4T2YoJ0AnKSA+IDApIHtcblx0XHRkYXRhLmVtYWlsID0gZGF0YS51c2VySWRPckVtYWlsO1xuXHR9IGVsc2Uge1xuXHRcdGRhdGEudXNlcklkID0gZGF0YS51c2VySWRPckVtYWlsO1xuXHR9XG5cblx0ZGVsZXRlIGRhdGEudXNlcklkT3JFbWFpbDtcblxuXHRyZXR1cm4gZGF0YTtcblxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhcmlhbnQpIHtcblxuXHRyZXR1cm4gdmFyaWFudC50eXBlc1xuXHRcdFx0Lm1hcCh0eXBlID0+IGAke3R5cGUub3B0aW9uLm5hbWV9IC0gJHt0eXBlLnZhcmlhdGlvbi52YWx1ZX1gKVxuXHRcdFx0LmpvaW4oJywgJyk7XG5cbn07IiwibW9kdWxlLmV4cG9ydHM9XCIxLjIuM1wiIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXVxudmFyIFVOU0NPUEFCTEVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3Vuc2NvcGFibGVzJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmlmIChBcnJheVByb3RvW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpIHJlcXVpcmUoJy4vX2hpZGUnKShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIEFycmF5UHJvdG9bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiLy8gMjIuMS4zLjMgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCwgZW5kID0gdGhpcy5sZW5ndGgpXG4ndXNlIHN0cmljdCc7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gW10uY29weVdpdGhpbiB8fCBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldCAvKiA9IDAgKi8sIHN0YXJ0IC8qID0gMCwgZW5kID0gQGxlbmd0aCAqLykge1xuICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICB2YXIgbGVuID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICB2YXIgdG8gPSB0b0Fic29sdXRlSW5kZXgodGFyZ2V0LCBsZW4pO1xuICB2YXIgZnJvbSA9IHRvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuKTtcbiAgdmFyIGVuZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICB2YXIgY291bnQgPSBNYXRoLm1pbigoZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB0b0Fic29sdXRlSW5kZXgoZW5kLCBsZW4pKSAtIGZyb20sIGxlbiAtIHRvKTtcbiAgdmFyIGluYyA9IDE7XG4gIGlmIChmcm9tIDwgdG8gJiYgdG8gPCBmcm9tICsgY291bnQpIHtcbiAgICBpbmMgPSAtMTtcbiAgICBmcm9tICs9IGNvdW50IC0gMTtcbiAgICB0byArPSBjb3VudCAtIDE7XG4gIH1cbiAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgaWYgKGZyb20gaW4gTykgT1t0b10gPSBPW2Zyb21dO1xuICAgIGVsc2UgZGVsZXRlIE9bdG9dO1xuICAgIHRvICs9IGluYztcbiAgICBmcm9tICs9IGluYztcbiAgfSByZXR1cm4gTztcbn07XG4iLCIvLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aClcbid1c2Ugc3RyaWN0JztcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsbCh2YWx1ZSAvKiAsIHN0YXJ0ID0gMCwgZW5kID0gQGxlbmd0aCAqLykge1xuICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICB2YXIgZW5kUG9zID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0Fic29sdXRlSW5kZXgoZW5kLCBsZW5ndGgpO1xuICB3aGlsZSAoZW5kUG9zID4gaW5kZXgpIE9baW5kZXgrK10gPSB2YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG4iLCIvLyAwIC0+IEFycmF5I2ZvckVhY2hcbi8vIDEgLT4gQXJyYXkjbWFwXG4vLyAyIC0+IEFycmF5I2ZpbHRlclxuLy8gMyAtPiBBcnJheSNzb21lXG4vLyA0IC0+IEFycmF5I2V2ZXJ5XG4vLyA1IC0+IEFycmF5I2ZpbmRcbi8vIDYgLT4gQXJyYXkjZmluZEluZGV4XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgYXNjID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRZUEUsICRjcmVhdGUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICB2YXIgY3JlYXRlID0gJGNyZWF0ZSB8fCBhc2M7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IElPYmplY3QoTyk7XG4gICAgdmFyIGYgPSBjdHgoY2FsbGJhY2tmbiwgdGhhdCwgMyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKHNlbGYubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciByZXN1bHQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgIHZhciB2YWwsIHJlcztcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbCA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzID0gZih2YWwsIGluZGV4LCBPKTtcbiAgICAgIGlmIChUWVBFKSB7XG4gICAgICAgIGlmIChJU19NQVApIHJlc3VsdFtpbmRleF0gPSByZXM7ICAgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlcykgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbDsgICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBpbmRleDsgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHJlc3VsdC5wdXNoKHZhbCk7ICAgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChJU19FVkVSWSkgcmV0dXJuIGZhbHNlOyAvLyBldmVyeVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogcmVzdWx0O1xuICB9O1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICB2YXIgQztcbiAgaWYgKGlzQXJyYXkob3JpZ2luYWwpKSB7XG4gICAgQyA9IG9yaWdpbmFsLmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNPYmplY3QoQykpIHtcbiAgICAgIEMgPSBDW1NQRUNJRVNdO1xuICAgICAgaWYgKEMgPT09IG51bGwpIEMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG59O1xuIiwiLy8gOS40LjIuMyBBcnJheVNwZWNpZXNDcmVhdGUob3JpZ2luYWxBcnJheSwgbGVuZ3RoKVxudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGxlbmd0aCkge1xuICByZXR1cm4gbmV3IChzcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWwpKShsZW5ndGgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBpbnZva2UgPSByZXF1aXJlKCcuL19pbnZva2UnKTtcbnZhciBhcnJheVNsaWNlID0gW10uc2xpY2U7XG52YXIgZmFjdG9yaWVzID0ge307XG5cbnZhciBjb25zdHJ1Y3QgPSBmdW5jdGlvbiAoRiwgbGVuLCBhcmdzKSB7XG4gIGlmICghKGxlbiBpbiBmYWN0b3JpZXMpKSB7XG4gICAgZm9yICh2YXIgbiA9IFtdLCBpID0gMDsgaSA8IGxlbjsgaSsrKSBuW2ldID0gJ2FbJyArIGkgKyAnXSc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgZmFjdG9yaWVzW2xlbl0gPSBGdW5jdGlvbignRixhJywgJ3JldHVybiBuZXcgRignICsgbi5qb2luKCcsJykgKyAnKScpO1xuICB9IHJldHVybiBmYWN0b3JpZXNbbGVuXShGLCBhcmdzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24uYmluZCB8fCBmdW5jdGlvbiBiaW5kKHRoYXQgLyogLCAuLi5hcmdzICovKSB7XG4gIHZhciBmbiA9IGFGdW5jdGlvbih0aGlzKTtcbiAgdmFyIHBhcnRBcmdzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBib3VuZCA9IGZ1bmN0aW9uICgvKiBhcmdzLi4uICovKSB7XG4gICAgdmFyIGFyZ3MgPSBwYXJ0QXJncy5jb25jYXQoYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgYm91bmQgPyBjb25zdHJ1Y3QoZm4sIGFyZ3MubGVuZ3RoLCBhcmdzKSA6IGludm9rZShmbiwgYXJncywgdGhhdCk7XG4gIH07XG4gIGlmIChpc09iamVjdChmbi5wcm90b3R5cGUpKSBib3VuZC5wcm90b3R5cGUgPSBmbi5wcm90b3R5cGU7XG4gIHJldHVybiBib3VuZDtcbn07XG4iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGZvck9mID0gcmVxdWlyZSgnLi9fZm9yLW9mJyk7XG52YXIgJGl0ZXJEZWZpbmUgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpO1xudmFyIHN0ZXAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKTtcbnZhciBzZXRTcGVjaWVzID0gcmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFzdEtleSA9IHJlcXVpcmUoJy4vX21ldGEnKS5mYXN0S2V5O1xudmFyIHZhbGlkYXRlID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIFNJWkUgPSBERVNDUklQVE9SUyA/ICdfcycgOiAnc2l6ZSc7XG5cbnZhciBnZXRFbnRyeSA9IGZ1bmN0aW9uICh0aGF0LCBrZXkpIHtcbiAgLy8gZmFzdCBjYXNlXG4gIHZhciBpbmRleCA9IGZhc3RLZXkoa2V5KTtcbiAgdmFyIGVudHJ5O1xuICBpZiAoaW5kZXggIT09ICdGJykgcmV0dXJuIHRoYXQuX2lbaW5kZXhdO1xuICAvLyBmcm96ZW4gb2JqZWN0IGNhc2VcbiAgZm9yIChlbnRyeSA9IHRoYXQuX2Y7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm4pIHtcbiAgICBpZiAoZW50cnkuayA9PSBrZXkpIHJldHVybiBlbnRyeTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldENvbnN0cnVjdG9yOiBmdW5jdGlvbiAod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUikge1xuICAgIHZhciBDID0gd3JhcHBlcihmdW5jdGlvbiAodGhhdCwgaXRlcmFibGUpIHtcbiAgICAgIGFuSW5zdGFuY2UodGhhdCwgQywgTkFNRSwgJ19pJyk7XG4gICAgICB0aGF0Ll90ID0gTkFNRTsgICAgICAgICAvLyBjb2xsZWN0aW9uIHR5cGVcbiAgICAgIHRoYXQuX2kgPSBjcmVhdGUobnVsbCk7IC8vIGluZGV4XG4gICAgICB0aGF0Ll9mID0gdW5kZWZpbmVkOyAgICAvLyBmaXJzdCBlbnRyeVxuICAgICAgdGhhdC5fbCA9IHVuZGVmaW5lZDsgICAgLy8gbGFzdCBlbnRyeVxuICAgICAgdGhhdFtTSVpFXSA9IDA7ICAgICAgICAgLy8gc2l6ZVxuICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuICAgIH0pO1xuICAgIHJlZGVmaW5lQWxsKEMucHJvdG90eXBlLCB7XG4gICAgICAvLyAyMy4xLjMuMSBNYXAucHJvdG90eXBlLmNsZWFyKClcbiAgICAgIC8vIDIzLjIuMy4yIFNldC5wcm90b3R5cGUuY2xlYXIoKVxuICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBmb3IgKHZhciB0aGF0ID0gdmFsaWRhdGUodGhpcywgTkFNRSksIGRhdGEgPSB0aGF0Ll9pLCBlbnRyeSA9IHRoYXQuX2Y7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm4pIHtcbiAgICAgICAgICBlbnRyeS5yID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZW50cnkucCkgZW50cnkucCA9IGVudHJ5LnAubiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBkZWxldGUgZGF0YVtlbnRyeS5pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGF0Ll9mID0gdGhhdC5fbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhhdFtTSVpFXSA9IDA7XG4gICAgICB9LFxuICAgICAgLy8gMjMuMS4zLjMgTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KVxuICAgICAgLy8gMjMuMi4zLjQgU2V0LnByb3RvdHlwZS5kZWxldGUodmFsdWUpXG4gICAgICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdGhhdCA9IHZhbGlkYXRlKHRoaXMsIE5BTUUpO1xuICAgICAgICB2YXIgZW50cnkgPSBnZXRFbnRyeSh0aGF0LCBrZXkpO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YXIgbmV4dCA9IGVudHJ5Lm47XG4gICAgICAgICAgdmFyIHByZXYgPSBlbnRyeS5wO1xuICAgICAgICAgIGRlbGV0ZSB0aGF0Ll9pW2VudHJ5LmldO1xuICAgICAgICAgIGVudHJ5LnIgPSB0cnVlO1xuICAgICAgICAgIGlmIChwcmV2KSBwcmV2Lm4gPSBuZXh0O1xuICAgICAgICAgIGlmIChuZXh0KSBuZXh0LnAgPSBwcmV2O1xuICAgICAgICAgIGlmICh0aGF0Ll9mID09IGVudHJ5KSB0aGF0Ll9mID0gbmV4dDtcbiAgICAgICAgICBpZiAodGhhdC5fbCA9PSBlbnRyeSkgdGhhdC5fbCA9IHByZXY7XG4gICAgICAgICAgdGhhdFtTSVpFXS0tO1xuICAgICAgICB9IHJldHVybiAhIWVudHJ5O1xuICAgICAgfSxcbiAgICAgIC8vIDIzLjIuMy42IFNldC5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICAgICAgLy8gMjMuMS4zLjUgTWFwLnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgIHZhbGlkYXRlKHRoaXMsIE5BTUUpO1xuICAgICAgICB2YXIgZiA9IGN0eChjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgMyk7XG4gICAgICAgIHZhciBlbnRyeTtcbiAgICAgICAgd2hpbGUgKGVudHJ5ID0gZW50cnkgPyBlbnRyeS5uIDogdGhpcy5fZikge1xuICAgICAgICAgIGYoZW50cnkudiwgZW50cnkuaywgdGhpcyk7XG4gICAgICAgICAgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG4gICAgICAgICAgd2hpbGUgKGVudHJ5ICYmIGVudHJ5LnIpIGVudHJ5ID0gZW50cnkucDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIDIzLjEuMy43IE1hcC5wcm90b3R5cGUuaGFzKGtleSlcbiAgICAgIC8vIDIzLjIuMy43IFNldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiAhIWdldEVudHJ5KHZhbGlkYXRlKHRoaXMsIE5BTUUpLCBrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChERVNDUklQVE9SUykgZFAoQy5wcm90b3R5cGUsICdzaXplJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZSh0aGlzLCBOQU1FKVtTSVpFXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQztcbiAgfSxcbiAgZGVmOiBmdW5jdGlvbiAodGhhdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG4gICAgdmFyIHByZXYsIGluZGV4O1xuICAgIC8vIGNoYW5nZSBleGlzdGluZyBlbnRyeVxuICAgIGlmIChlbnRyeSkge1xuICAgICAgZW50cnkudiA9IHZhbHVlO1xuICAgIC8vIGNyZWF0ZSBuZXcgZW50cnlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhhdC5fbCA9IGVudHJ5ID0ge1xuICAgICAgICBpOiBpbmRleCA9IGZhc3RLZXkoa2V5LCB0cnVlKSwgLy8gPC0gaW5kZXhcbiAgICAgICAgazoga2V5LCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGtleVxuICAgICAgICB2OiB2YWx1ZSwgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gdmFsdWVcbiAgICAgICAgcDogcHJldiA9IHRoYXQuX2wsICAgICAgICAgICAgIC8vIDwtIHByZXZpb3VzIGVudHJ5XG4gICAgICAgIG46IHVuZGVmaW5lZCwgICAgICAgICAgICAgICAgICAvLyA8LSBuZXh0IGVudHJ5XG4gICAgICAgIHI6IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSByZW1vdmVkXG4gICAgICB9O1xuICAgICAgaWYgKCF0aGF0Ll9mKSB0aGF0Ll9mID0gZW50cnk7XG4gICAgICBpZiAocHJldikgcHJldi5uID0gZW50cnk7XG4gICAgICB0aGF0W1NJWkVdKys7XG4gICAgICAvLyBhZGQgdG8gaW5kZXhcbiAgICAgIGlmIChpbmRleCAhPT0gJ0YnKSB0aGF0Ll9pW2luZGV4XSA9IGVudHJ5O1xuICAgIH0gcmV0dXJuIHRoYXQ7XG4gIH0sXG4gIGdldEVudHJ5OiBnZXRFbnRyeSxcbiAgc2V0U3Ryb25nOiBmdW5jdGlvbiAoQywgTkFNRSwgSVNfTUFQKSB7XG4gICAgLy8gYWRkIC5rZXlzLCAudmFsdWVzLCAuZW50cmllcywgW0BAaXRlcmF0b3JdXG4gICAgLy8gMjMuMS4zLjQsIDIzLjEuMy44LCAyMy4xLjMuMTEsIDIzLjEuMy4xMiwgMjMuMi4zLjUsIDIzLjIuMy44LCAyMy4yLjMuMTAsIDIzLjIuMy4xMVxuICAgICRpdGVyRGVmaW5lKEMsIE5BTUUsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICAgICAgdGhpcy5fdCA9IHZhbGlkYXRlKGl0ZXJhdGVkLCBOQU1FKTsgLy8gdGFyZ2V0XG4gICAgICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgICAgICAvLyBraW5kXG4gICAgICB0aGlzLl9sID0gdW5kZWZpbmVkOyAgICAgICAgICAgICAgICAvLyBwcmV2aW91c1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBraW5kID0gdGhhdC5faztcbiAgICAgIHZhciBlbnRyeSA9IHRoYXQuX2w7XG4gICAgICAvLyByZXZlcnQgdG8gdGhlIGxhc3QgZXhpc3RpbmcgZW50cnlcbiAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yKSBlbnRyeSA9IGVudHJ5LnA7XG4gICAgICAvLyBnZXQgbmV4dCBlbnRyeVxuICAgICAgaWYgKCF0aGF0Ll90IHx8ICEodGhhdC5fbCA9IGVudHJ5ID0gZW50cnkgPyBlbnRyeS5uIDogdGhhdC5fdC5fZikpIHtcbiAgICAgICAgLy8gb3IgZmluaXNoIHRoZSBpdGVyYXRpb25cbiAgICAgICAgdGhhdC5fdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHN0ZXAoMSk7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gc3RlcCBieSBraW5kXG4gICAgICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGVudHJ5LmspO1xuICAgICAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIGVudHJ5LnYpO1xuICAgICAgcmV0dXJuIHN0ZXAoMCwgW2VudHJ5LmssIGVudHJ5LnZdKTtcbiAgICB9LCBJU19NQVAgPyAnZW50cmllcycgOiAndmFsdWVzJywgIUlTX01BUCwgdHJ1ZSk7XG5cbiAgICAvLyBhZGQgW0BAc3BlY2llc10sIDIzLjEuMi4yLCAyMy4yLjIuMlxuICAgIHNldFNwZWNpZXMoTkFNRSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKTtcbnZhciBnZXRXZWFrID0gcmVxdWlyZSgnLi9fbWV0YScpLmdldFdlYWs7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGZvck9mID0gcmVxdWlyZSgnLi9fZm9yLW9mJyk7XG52YXIgY3JlYXRlQXJyYXlNZXRob2QgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJyk7XG52YXIgJGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHZhbGlkYXRlID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIGFycmF5RmluZCA9IGNyZWF0ZUFycmF5TWV0aG9kKDUpO1xudmFyIGFycmF5RmluZEluZGV4ID0gY3JlYXRlQXJyYXlNZXRob2QoNik7XG52YXIgaWQgPSAwO1xuXG4vLyBmYWxsYmFjayBmb3IgdW5jYXVnaHQgZnJvemVuIGtleXNcbnZhciB1bmNhdWdodEZyb3plblN0b3JlID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgcmV0dXJuIHRoYXQuX2wgfHwgKHRoYXQuX2wgPSBuZXcgVW5jYXVnaHRGcm96ZW5TdG9yZSgpKTtcbn07XG52YXIgVW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5hID0gW107XG59O1xudmFyIGZpbmRVbmNhdWdodEZyb3plbiA9IGZ1bmN0aW9uIChzdG9yZSwga2V5KSB7XG4gIHJldHVybiBhcnJheUZpbmQoc3RvcmUuYSwgZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gIH0pO1xufTtcblVuY2F1Z2h0RnJvemVuU3RvcmUucHJvdG90eXBlID0ge1xuICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kVW5jYXVnaHRGcm96ZW4odGhpcywga2V5KTtcbiAgICBpZiAoZW50cnkpIHJldHVybiBlbnRyeVsxXTtcbiAgfSxcbiAgaGFzOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICEhZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kVW5jYXVnaHRGcm96ZW4odGhpcywga2V5KTtcbiAgICBpZiAoZW50cnkpIGVudHJ5WzFdID0gdmFsdWU7XG4gICAgZWxzZSB0aGlzLmEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9LFxuICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBpbmRleCA9IGFycmF5RmluZEluZGV4KHRoaXMuYSwgZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gaXRbMF0gPT09IGtleTtcbiAgICB9KTtcbiAgICBpZiAofmluZGV4KSB0aGlzLmEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gISF+aW5kZXg7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRDb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHdyYXBwZXIsIE5BTUUsIElTX01BUCwgQURERVIpIHtcbiAgICB2YXIgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGl0ZXJhYmxlKSB7XG4gICAgICBhbkluc3RhbmNlKHRoYXQsIEMsIE5BTUUsICdfaScpO1xuICAgICAgdGhhdC5fdCA9IE5BTUU7ICAgICAgLy8gY29sbGVjdGlvbiB0eXBlXG4gICAgICB0aGF0Ll9pID0gaWQrKzsgICAgICAvLyBjb2xsZWN0aW9uIGlkXG4gICAgICB0aGF0Ll9sID0gdW5kZWZpbmVkOyAvLyBsZWFrIHN0b3JlIGZvciB1bmNhdWdodCBmcm96ZW4gb2JqZWN0c1xuICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuICAgIH0pO1xuICAgIHJlZGVmaW5lQWxsKEMucHJvdG90eXBlLCB7XG4gICAgICAvLyAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KVxuICAgICAgLy8gMjMuNC4zLjMgV2Vha1NldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKVxuICAgICAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBkYXRhID0gZ2V0V2VhayhrZXkpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUodmFsaWRhdGUodGhpcywgTkFNRSkpWydkZWxldGUnXShrZXkpO1xuICAgICAgICByZXR1cm4gZGF0YSAmJiAkaGFzKGRhdGEsIHRoaXMuX2kpICYmIGRlbGV0ZSBkYXRhW3RoaXMuX2ldO1xuICAgICAgfSxcbiAgICAgIC8vIDIzLjMuMy40IFdlYWtNYXAucHJvdG90eXBlLmhhcyhrZXkpXG4gICAgICAvLyAyMy40LjMuNCBXZWFrU2V0LnByb3RvdHlwZS5oYXModmFsdWUpXG4gICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBkYXRhID0gZ2V0V2VhayhrZXkpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUodmFsaWRhdGUodGhpcywgTkFNRSkpLmhhcyhrZXkpO1xuICAgICAgICByZXR1cm4gZGF0YSAmJiAkaGFzKGRhdGEsIHRoaXMuX2kpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBDO1xuICB9LFxuICBkZWY6IGZ1bmN0aW9uICh0aGF0LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIGRhdGEgPSBnZXRXZWFrKGFuT2JqZWN0KGtleSksIHRydWUpO1xuICAgIGlmIChkYXRhID09PSB0cnVlKSB1bmNhdWdodEZyb3plblN0b3JlKHRoYXQpLnNldChrZXksIHZhbHVlKTtcbiAgICBlbHNlIGRhdGFbdGhhdC5faV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhhdDtcbiAgfSxcbiAgdWZzdG9yZTogdW5jYXVnaHRGcm96ZW5TdG9yZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIHJlZGVmaW5lQWxsID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJyk7XG52YXIgbWV0YSA9IHJlcXVpcmUoJy4vX21ldGEnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyICRpdGVyRGV0ZWN0ID0gcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgaW5oZXJpdElmUmVxdWlyZWQgPSByZXF1aXJlKCcuL19pbmhlcml0LWlmLXJlcXVpcmVkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE5BTUUsIHdyYXBwZXIsIG1ldGhvZHMsIGNvbW1vbiwgSVNfTUFQLCBJU19XRUFLKSB7XG4gIHZhciBCYXNlID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgQyA9IEJhc2U7XG4gIHZhciBBRERFUiA9IElTX01BUCA/ICdzZXQnIDogJ2FkZCc7XG4gIHZhciBwcm90byA9IEMgJiYgQy5wcm90b3R5cGU7XG4gIHZhciBPID0ge307XG4gIHZhciBmaXhNZXRob2QgPSBmdW5jdGlvbiAoS0VZKSB7XG4gICAgdmFyIGZuID0gcHJvdG9bS0VZXTtcbiAgICByZWRlZmluZShwcm90bywgS0VZLFxuICAgICAgS0VZID09ICdkZWxldGUnID8gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpID8gZmFsc2UgOiBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSk7XG4gICAgICB9IDogS0VZID09ICdoYXMnID8gZnVuY3Rpb24gaGFzKGEpIHtcbiAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpID8gZmFsc2UgOiBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSk7XG4gICAgICB9IDogS0VZID09ICdnZXQnID8gZnVuY3Rpb24gZ2V0KGEpIHtcbiAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpID8gdW5kZWZpbmVkIDogZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEpO1xuICAgICAgfSA6IEtFWSA9PSAnYWRkJyA/IGZ1bmN0aW9uIGFkZChhKSB7IGZuLmNhbGwodGhpcywgYSA9PT0gMCA/IDAgOiBhKTsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgOiBmdW5jdGlvbiBzZXQoYSwgYikgeyBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSwgYik7IHJldHVybiB0aGlzOyB9XG4gICAgKTtcbiAgfTtcbiAgaWYgKHR5cGVvZiBDICE9ICdmdW5jdGlvbicgfHwgIShJU19XRUFLIHx8IHByb3RvLmZvckVhY2ggJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICBuZXcgQygpLmVudHJpZXMoKS5uZXh0KCk7XG4gIH0pKSkge1xuICAgIC8vIGNyZWF0ZSBjb2xsZWN0aW9uIGNvbnN0cnVjdG9yXG4gICAgQyA9IGNvbW1vbi5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKTtcbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwgbWV0aG9kcyk7XG4gICAgbWV0YS5ORUVEID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQygpO1xuICAgIC8vIGVhcmx5IGltcGxlbWVudGF0aW9ucyBub3Qgc3VwcG9ydHMgY2hhaW5pbmdcbiAgICB2YXIgSEFTTlRfQ0hBSU5JTkcgPSBpbnN0YW5jZVtBRERFUl0oSVNfV0VBSyA/IHt9IDogLTAsIDEpICE9IGluc3RhbmNlO1xuICAgIC8vIFY4IH4gIENocm9taXVtIDQwLSB3ZWFrLWNvbGxlY3Rpb25zIHRocm93cyBvbiBwcmltaXRpdmVzLCBidXQgc2hvdWxkIHJldHVybiBmYWxzZVxuICAgIHZhciBUSFJPV1NfT05fUFJJTUlUSVZFUyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgaW5zdGFuY2UuaGFzKDEpOyB9KTtcbiAgICAvLyBtb3N0IGVhcmx5IGltcGxlbWVudGF0aW9ucyBkb2Vzbid0IHN1cHBvcnRzIGl0ZXJhYmxlcywgbW9zdCBtb2Rlcm4gLSBub3QgY2xvc2UgaXQgY29ycmVjdGx5XG4gICAgdmFyIEFDQ0VQVF9JVEVSQUJMRVMgPSAkaXRlckRldGVjdChmdW5jdGlvbiAoaXRlcikgeyBuZXcgQyhpdGVyKTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgLy8gZm9yIGVhcmx5IGltcGxlbWVudGF0aW9ucyAtMCBhbmQgKzAgbm90IHRoZSBzYW1lXG4gICAgdmFyIEJVR0dZX1pFUk8gPSAhSVNfV0VBSyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBWOCB+IENocm9taXVtIDQyLSBmYWlscyBvbmx5IHdpdGggNSsgZWxlbWVudHNcbiAgICAgIHZhciAkaW5zdGFuY2UgPSBuZXcgQygpO1xuICAgICAgdmFyIGluZGV4ID0gNTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSAkaW5zdGFuY2VbQURERVJdKGluZGV4LCBpbmRleCk7XG4gICAgICByZXR1cm4gISRpbnN0YW5jZS5oYXMoLTApO1xuICAgIH0pO1xuICAgIGlmICghQUNDRVBUX0lURVJBQkxFUykge1xuICAgICAgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcbiAgICAgICAgYW5JbnN0YW5jZSh0YXJnZXQsIEMsIE5BTUUpO1xuICAgICAgICB2YXIgdGhhdCA9IGluaGVyaXRJZlJlcXVpcmVkKG5ldyBCYXNlKCksIHRhcmdldCwgQyk7XG4gICAgICAgIGlmIChpdGVyYWJsZSAhPSB1bmRlZmluZWQpIGZvck9mKGl0ZXJhYmxlLCBJU19NQVAsIHRoYXRbQURERVJdLCB0aGF0KTtcbiAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICB9KTtcbiAgICAgIEMucHJvdG90eXBlID0gcHJvdG87XG4gICAgICBwcm90by5jb25zdHJ1Y3RvciA9IEM7XG4gICAgfVxuICAgIGlmIChUSFJPV1NfT05fUFJJTUlUSVZFUyB8fCBCVUdHWV9aRVJPKSB7XG4gICAgICBmaXhNZXRob2QoJ2RlbGV0ZScpO1xuICAgICAgZml4TWV0aG9kKCdoYXMnKTtcbiAgICAgIElTX01BUCAmJiBmaXhNZXRob2QoJ2dldCcpO1xuICAgIH1cbiAgICBpZiAoQlVHR1lfWkVSTyB8fCBIQVNOVF9DSEFJTklORykgZml4TWV0aG9kKEFEREVSKTtcbiAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIHNob3VsZCBub3QgY29udGFpbnMgLmNsZWFyIG1ldGhvZFxuICAgIGlmIChJU19XRUFLICYmIHByb3RvLmNsZWFyKSBkZWxldGUgcHJvdG8uY2xlYXI7XG4gIH1cblxuICBzZXRUb1N0cmluZ1RhZyhDLCBOQU1FKTtcblxuICBPW05BTUVdID0gQztcbiAgJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAoQyAhPSBCYXNlKSwgTyk7XG5cbiAgaWYgKCFJU19XRUFLKSBjb21tb24uc2V0U3Ryb25nKEMsIE5BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIEM7XG59O1xuIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNS43JyB9O1xuaWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpIF9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICBpZiAoaW5kZXggaW4gb2JqZWN0KSAkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xufTtcbiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG4iLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciByZXN1bHQgPSBnZXRLZXlzKGl0KTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmIChnZXRTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KTtcbiAgICB2YXIgaXNFbnVtID0gcElFLmY7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKHN5bWJvbHMubGVuZ3RoID4gaSkgaWYgKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gfHwgKGdsb2JhbFtuYW1lXSA9IHt9KSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pO1xuICB2YXIga2V5LCBvd24sIG91dCwgZXhwO1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gKG93biA/IHRhcmdldCA6IHNvdXJjZSlba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGV4cCA9IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4dGVuZCBnbG9iYWxcbiAgICBpZiAodGFyZ2V0KSByZWRlZmluZSh0YXJnZXQsIGtleSwgb3V0LCB0eXBlICYgJGV4cG9ydC5VKTtcbiAgICAvLyBleHBvcnRcbiAgICBpZiAoZXhwb3J0c1trZXldICE9IG91dCkgaGlkZShleHBvcnRzLCBrZXksIGV4cCk7XG4gICAgaWYgKElTX1BST1RPICYmIGV4cFByb3RvW2tleV0gIT0gb3V0KSBleHBQcm90b1trZXldID0gb3V0O1xuICB9XG59O1xuZ2xvYmFsLmNvcmUgPSBjb3JlO1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuIiwidmFyIE1BVENIID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIHJlID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW0tFWV0ocmUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICEnLy4vJ1tLRVldKHJlKTtcbiAgICB9IGNhdGNoIChmKSB7IC8qIGVtcHR5ICovIH1cbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgbGVuZ3RoLCBleGVjKSB7XG4gIHZhciBTWU1CT0wgPSB3a3MoS0VZKTtcbiAgdmFyIGZucyA9IGV4ZWMoZGVmaW5lZCwgU1lNQk9MLCAnJ1tLRVldKTtcbiAgdmFyIHN0cmZuID0gZm5zWzBdO1xuICB2YXIgcnhmbiA9IGZuc1sxXTtcbiAgaWYgKGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgTyA9IHt9O1xuICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgfSkpIHtcbiAgICByZWRlZmluZShTdHJpbmcucHJvdG90eXBlLCBLRVksIHN0cmZuKTtcbiAgICBoaWRlKFJlZ0V4cC5wcm90b3R5cGUsIFNZTUJPTCwgbGVuZ3RoID09IDJcbiAgICAgIC8vIDIxLjIuNS44IFJlZ0V4cC5wcm90b3R5cGVbQEByZXBsYWNlXShzdHJpbmcsIHJlcGxhY2VWYWx1ZSlcbiAgICAgIC8vIDIxLjIuNS4xMSBSZWdFeHAucHJvdG90eXBlW0BAc3BsaXRdKHN0cmluZywgbGltaXQpXG4gICAgICA/IGZ1bmN0aW9uIChzdHJpbmcsIGFyZykgeyByZXR1cm4gcnhmbi5jYWxsKHN0cmluZywgdGhpcywgYXJnKTsgfVxuICAgICAgLy8gMjEuMi41LjYgUmVnRXhwLnByb3RvdHlwZVtAQG1hdGNoXShzdHJpbmcpXG4gICAgICAvLyAyMS4yLjUuOSBSZWdFeHAucHJvdG90eXBlW0BAc2VhcmNoXShzdHJpbmcpXG4gICAgICA6IGZ1bmN0aW9uIChzdHJpbmcpIHsgcmV0dXJuIHJ4Zm4uY2FsbChzdHJpbmcsIHRoaXMpOyB9XG4gICAgKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGhhdCA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGF0Lmdsb2JhbCkgcmVzdWx0ICs9ICdnJztcbiAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKTtcbnZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbnZhciBCUkVBSyA9IHt9O1xudmFyIFJFVFVSTiA9IHt9O1xudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKSB7XG4gIHZhciBpdGVyRm4gPSBJVEVSQVRPUiA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKTtcbiAgdmFyIGYgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSk7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYgKGlzQXJyYXlJdGVyKGl0ZXJGbikpIGZvciAobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYgKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5leHBvcnRzLkJSRUFLID0gQlJFQUs7XG5leHBvcnRzLlJFVFVSTiA9IFJFVFVSTjtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbm1vZHVsZS5leHBvcnRzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGhhdCwgdGFyZ2V0LCBDKSB7XG4gIHZhciBTID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICB2YXIgUDtcbiAgaWYgKFMgIT09IEMgJiYgdHlwZW9mIFMgPT0gJ2Z1bmN0aW9uJyAmJiAoUCA9IFMucHJvdG90eXBlKSAhPT0gQy5wcm90b3R5cGUgJiYgaXNPYmplY3QoUCkgJiYgc2V0UHJvdG90eXBlT2YpIHtcbiAgICBzZXRQcm90b3R5cGVPZih0aGF0LCBQKTtcbiAgfSByZXR1cm4gdGhhdDtcbn07XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuIiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIi8vIDIwLjEuMi4zIE51bWJlci5pc0ludGVnZXIobnVtYmVyKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0ludGVnZXIoaXQpIHtcbiAgcmV0dXJuICFpc09iamVjdChpdCkgJiYgaXNGaW5pdGUoaXQpICYmIGZsb29yKGl0KSA9PT0gaXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG4iLCIvLyA3LjIuOCBJc1JlZ0V4cChhcmd1bWVudClcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIE1BVENIID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXNSZWdFeHA7XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgKChpc1JlZ0V4cCA9IGl0W01BVENIXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBjb2YoaXQpID09ICdSZWdFeHAnKTtcbn07XG4iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBCVUdHWSA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKTsgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxudmFyIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uIChraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKSByZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUztcbiAgdmFyIFZBTFVFU19CVUcgPSBmYWxzZTtcbiAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7XG4gIHZhciAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdO1xuICB2YXIgJGRlZmF1bHQgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKTtcbiAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDtcbiAgdmFyICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlO1xuICB2YXIgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZiAoJGFueU5hdGl2ZSkge1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTtcbiAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmICghTElCUkFSWSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSkge1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuICBpZiAoREVGQVVMVCkge1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChrZXkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSkgcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcbiIsInZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uICgpIHsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjLCBza2lwQ2xvc2luZykge1xuICBpZiAoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gWzddO1xuICAgIHZhciBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHsgZG9uZTogc2FmZSA9IHRydWUgfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuIiwiLy8gMjAuMi4yLjE0IE1hdGguZXhwbTEoeClcbnZhciAkZXhwbTEgPSBNYXRoLmV4cG0xO1xubW9kdWxlLmV4cG9ydHMgPSAoISRleHBtMVxuICAvLyBPbGQgRkYgYnVnXG4gIHx8ICRleHBtMSgxMCkgPiAyMjAyNS40NjU3OTQ4MDY3MTkgfHwgJGV4cG0xKDEwKSA8IDIyMDI1LjQ2NTc5NDgwNjcxNjUxNjhcbiAgLy8gVG9yIEJyb3dzZXIgYnVnXG4gIHx8ICRleHBtMSgtMmUtMTcpICE9IC0yZS0xN1xuKSA/IGZ1bmN0aW9uIGV4cG0xKHgpIHtcbiAgcmV0dXJuICh4ID0gK3gpID09IDAgPyB4IDogeCA+IC0xZS02ICYmIHggPCAxZS02ID8geCArIHggKiB4IC8gMiA6IE1hdGguZXhwKHgpIC0gMTtcbn0gOiAkZXhwbTE7XG4iLCIvLyAyMC4yLjIuMTYgTWF0aC5mcm91bmQoeClcbnZhciBzaWduID0gcmVxdWlyZSgnLi9fbWF0aC1zaWduJyk7XG52YXIgcG93ID0gTWF0aC5wb3c7XG52YXIgRVBTSUxPTiA9IHBvdygyLCAtNTIpO1xudmFyIEVQU0lMT04zMiA9IHBvdygyLCAtMjMpO1xudmFyIE1BWDMyID0gcG93KDIsIDEyNykgKiAoMiAtIEVQU0lMT04zMik7XG52YXIgTUlOMzIgPSBwb3coMiwgLTEyNik7XG5cbnZhciByb3VuZFRpZXNUb0V2ZW4gPSBmdW5jdGlvbiAobikge1xuICByZXR1cm4gbiArIDEgLyBFUFNJTE9OIC0gMSAvIEVQU0lMT047XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGguZnJvdW5kIHx8IGZ1bmN0aW9uIGZyb3VuZCh4KSB7XG4gIHZhciAkYWJzID0gTWF0aC5hYnMoeCk7XG4gIHZhciAkc2lnbiA9IHNpZ24oeCk7XG4gIHZhciBhLCByZXN1bHQ7XG4gIGlmICgkYWJzIDwgTUlOMzIpIHJldHVybiAkc2lnbiAqIHJvdW5kVGllc1RvRXZlbigkYWJzIC8gTUlOMzIgLyBFUFNJTE9OMzIpICogTUlOMzIgKiBFUFNJTE9OMzI7XG4gIGEgPSAoMSArIEVQU0lMT04zMiAvIEVQU0lMT04pICogJGFicztcbiAgcmVzdWx0ID0gYSAtIChhIC0gJGFicyk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgaWYgKHJlc3VsdCA+IE1BWDMyIHx8IHJlc3VsdCAhPSByZXN1bHQpIHJldHVybiAkc2lnbiAqIEluZmluaXR5O1xuICByZXR1cm4gJHNpZ24gKiByZXN1bHQ7XG59O1xuIiwiLy8gMjAuMi4yLjIwIE1hdGgubG9nMXAoeClcbm1vZHVsZS5leHBvcnRzID0gTWF0aC5sb2cxcCB8fCBmdW5jdGlvbiBsb2cxcCh4KSB7XG4gIHJldHVybiAoeCA9ICt4KSA+IC0xZS04ICYmIHggPCAxZS04ID8geCAtIHggKiB4IC8gMiA6IE1hdGgubG9nKDEgKyB4KTtcbn07XG4iLCIvLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGguc2lnbiB8fCBmdW5jdGlvbiBzaWduKHgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICByZXR1cm4gKHggPSAreCkgPT0gMCB8fCB4ICE9IHggPyB4IDogeCA8IDAgPyAtMSA6IDE7XG59O1xuIiwidmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmIChpc05vZGUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgU2FmYXJpIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICB9IGVsc2UgaWYgKE9ic2VydmVyICYmICEoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWU7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICAvLyBQcm9taXNlLnJlc29sdmUgd2l0aG91dCBhbiBhcmd1bWVudCB0aHJvd3MgYW4gZXJyb3IgaW4gTEcgV2ViT1MgMlxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgdGFzayA9IHsgZm46IGZuLCBuZXh0OiB1bmRlZmluZWQgfTtcbiAgICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfSBsYXN0ID0gdGFzaztcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyAyNS40LjEuNSBOZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcblxuZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICB2YXIgQSA9IHt9O1xuICB2YXIgQiA9IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIFMgPSBTeW1ib2woKTtcbiAgdmFyIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCk7XG4gIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgd2hpbGUgKGFMZW4gPiBpbmRleCkge1xuICAgIHZhciBTID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgIHZhciBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIGlmIChpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKSBUW2tleV0gPSBTW2tleV07XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcbiIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgPSBnZXRLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpID0gMDtcbiAgdmFyIFA7XG4gIHdoaWxlIChsZW5ndGggPiBpKSBkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgZ09QTiA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZjtcbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTtcbiIsImV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcbiIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZLCBleGVjKSB7XG4gIHZhciBmbiA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXTtcbiAgdmFyIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uICgpIHsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG4iLCJ2YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGlzRW51bSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXNFbnRyaWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdChpdCk7XG4gICAgdmFyIGtleXMgPSBnZXRLZXlzKE8pO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChPLCBrZXkgPSBrZXlzW2krK10pKSB7XG4gICAgICByZXN1bHQucHVzaChpc0VudHJpZXMgPyBba2V5LCBPW2tleV1dIDogT1trZXldKTtcbiAgICB9IHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuIiwiLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgUmVmbGVjdCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlJlZmxlY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IFJlZmxlY3QgJiYgUmVmbGVjdC5vd25LZXlzIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpIHtcbiAgdmFyIGtleXMgPSBnT1BOLmYoYW5PYmplY3QoaXQpKTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIHJldHVybiBnZXRTeW1ib2xzID8ga2V5cy5jb25jYXQoZ2V0U3ltYm9scyhpdCkpIDoga2V5cztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHsgZTogZmFsc2UsIHY6IGV4ZWMoKSB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgZTogdHJ1ZSwgdjogZSB9O1xuICB9XG59O1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQywgeCkge1xuICBhbk9iamVjdChDKTtcbiAgaWYgKGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IEMpIHJldHVybiB4O1xuICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eS5mKEMpO1xuICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gIHJlc29sdmUoeCk7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCJ2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzcmMsIHNhZmUpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNyY1trZXldLCBzYWZlKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBTUkMgPSByZXF1aXJlKCcuL191aWQnKSgnc3JjJyk7XG52YXIgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJztcbnZhciAkdG9TdHJpbmcgPSBGdW5jdGlvbltUT19TVFJJTkddO1xudmFyIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBoYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH0gZWxzZSBpZiAoT1trZXldKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG4iLCIvLyA3LjIuOSBTYW1lVmFsdWUoeCwgeSlcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07XG4iLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSkge1xuICB2YXIgQyA9IGdsb2JhbFtLRVldO1xuICBpZiAoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSkgZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG4iLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIHRhZywgc3RhdCkge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIiwidmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiBjb3JlLnZlcnNpb24sXG4gIG1vZGU6IHJlcXVpcmUoJy4vX2xpYnJhcnknKSA/ICdwdXJlJyA6ICdnbG9iYWwnLFxuICBjb3B5cmlnaHQ6ICfCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJ1xufSk7XG4iLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG4iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuIiwiLy8gaGVscGVyIGZvciBTdHJpbmcje3N0YXJ0c1dpdGgsIGVuZHNXaXRoLCBpbmNsdWRlc31cbnZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4vX2lzLXJlZ2V4cCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRoYXQsIHNlYXJjaFN0cmluZywgTkFNRSkge1xuICBpZiAoaXNSZWdFeHAoc2VhcmNoU3RyaW5nKSkgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmcjJyArIE5BTUUgKyBcIiBkb2Vzbid0IGFjY2VwdCByZWdleCFcIik7XG4gIHJldHVybiBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG59O1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmRcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHJlcGVhdCA9IHJlcXVpcmUoJy4vX3N0cmluZy1yZXBlYXQnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0aGF0LCBtYXhMZW5ndGgsIGZpbGxTdHJpbmcsIGxlZnQpIHtcbiAgdmFyIFMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gIHZhciBzdHJpbmdMZW5ndGggPSBTLmxlbmd0aDtcbiAgdmFyIGZpbGxTdHIgPSBmaWxsU3RyaW5nID09PSB1bmRlZmluZWQgPyAnICcgOiBTdHJpbmcoZmlsbFN0cmluZyk7XG4gIHZhciBpbnRNYXhMZW5ndGggPSB0b0xlbmd0aChtYXhMZW5ndGgpO1xuICBpZiAoaW50TWF4TGVuZ3RoIDw9IHN0cmluZ0xlbmd0aCB8fCBmaWxsU3RyID09ICcnKSByZXR1cm4gUztcbiAgdmFyIGZpbGxMZW4gPSBpbnRNYXhMZW5ndGggLSBzdHJpbmdMZW5ndGg7XG4gIHZhciBzdHJpbmdGaWxsZXIgPSByZXBlYXQuY2FsbChmaWxsU3RyLCBNYXRoLmNlaWwoZmlsbExlbiAvIGZpbGxTdHIubGVuZ3RoKSk7XG4gIGlmIChzdHJpbmdGaWxsZXIubGVuZ3RoID4gZmlsbExlbikgc3RyaW5nRmlsbGVyID0gc3RyaW5nRmlsbGVyLnNsaWNlKDAsIGZpbGxMZW4pO1xuICByZXR1cm4gbGVmdCA/IHN0cmluZ0ZpbGxlciArIFMgOiBTICsgc3RyaW5nRmlsbGVyO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhkZWZpbmVkKHRoaXMpKTtcbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgbiA9IHRvSW50ZWdlcihjb3VudCk7XG4gIGlmIChuIDwgMCB8fCBuID09IEluZmluaXR5KSB0aHJvdyBSYW5nZUVycm9yKFwiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmVcIik7XG4gIGZvciAoO24gPiAwOyAobiA+Pj49IDEpICYmIChzdHIgKz0gc3RyKSkgaWYgKG4gJiAxKSByZXMgKz0gc3RyO1xuICByZXR1cm4gcmVzO1xufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBpbnZva2UgPSByZXF1aXJlKCcuL19pbnZva2UnKTtcbnZhciBodG1sID0gcmVxdWlyZSgnLi9faHRtbCcpO1xudmFyIGNlbCA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG52YXIgY2xlYXJUYXNrID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO1xudmFyIERpc3BhdGNoID0gZ2xvYmFsLkRpc3BhdGNoO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSArdGhpcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICBpZiAocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldFRhc2sgfHwgIWNsZWFyVGFzaykge1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgaSA9IDE7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZiAocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcbiAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgRGlzcGF0Y2gubm93KGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9pbmRleFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09PSB1bmRlZmluZWQpIHJldHVybiAwO1xuICB2YXIgbnVtYmVyID0gdG9JbnRlZ2VyKGl0KTtcbiAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKG51bWJlcik7XG4gIGlmIChudW1iZXIgIT09IGxlbmd0aCkgdGhyb3cgUmFuZ2VFcnJvcignV3JvbmcgbGVuZ3RoIScpO1xuICByZXR1cm4gbGVuZ3RoO1xufTtcbiIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuIiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5pZiAocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSkge1xuICB2YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbiAgdmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xuICB2YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xuICB2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuICB2YXIgJHR5cGVkID0gcmVxdWlyZSgnLi9fdHlwZWQnKTtcbiAgdmFyICRidWZmZXIgPSByZXF1aXJlKCcuL190eXBlZC1idWZmZXInKTtcbiAgdmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xuICB2YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJyk7XG4gIHZhciBwcm9wZXJ0eURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG4gIHZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xuICB2YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKTtcbiAgdmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbiAgdmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG4gIHZhciB0b0luZGV4ID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbiAgdmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG4gIHZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xuICB2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG4gIHZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xuICB2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbiAgdmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG4gIHZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbiAgdmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbiAgdmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuICB2YXIgZ09QTiA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZjtcbiAgdmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG4gIHZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbiAgdmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xuICB2YXIgY3JlYXRlQXJyYXlNZXRob2QgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJyk7XG4gIHZhciBjcmVhdGVBcnJheUluY2x1ZGVzID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKTtcbiAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbiAgdmFyIEFycmF5SXRlcmF0b3JzID0gcmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbiAgdmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xuICB2YXIgJGl0ZXJEZXRlY3QgPSByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpO1xuICB2YXIgc2V0U3BlY2llcyA9IHJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJyk7XG4gIHZhciBhcnJheUZpbGwgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJyk7XG4gIHZhciBhcnJheUNvcHlXaXRoaW4gPSByZXF1aXJlKCcuL19hcnJheS1jb3B5LXdpdGhpbicpO1xuICB2YXIgJERQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG4gIHZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG4gIHZhciBkUCA9ICREUC5mO1xuICB2YXIgZ09QRCA9ICRHT1BELmY7XG4gIHZhciBSYW5nZUVycm9yID0gZ2xvYmFsLlJhbmdlRXJyb3I7XG4gIHZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xuICB2YXIgVWludDhBcnJheSA9IGdsb2JhbC5VaW50OEFycmF5O1xuICB2YXIgQVJSQVlfQlVGRkVSID0gJ0FycmF5QnVmZmVyJztcbiAgdmFyIFNIQVJFRF9CVUZGRVIgPSAnU2hhcmVkJyArIEFSUkFZX0JVRkZFUjtcbiAgdmFyIEJZVEVTX1BFUl9FTEVNRU5UID0gJ0JZVEVTX1BFUl9FTEVNRU5UJztcbiAgdmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuICB2YXIgQXJyYXlQcm90byA9IEFycmF5W1BST1RPVFlQRV07XG4gIHZhciAkQXJyYXlCdWZmZXIgPSAkYnVmZmVyLkFycmF5QnVmZmVyO1xuICB2YXIgJERhdGFWaWV3ID0gJGJ1ZmZlci5EYXRhVmlldztcbiAgdmFyIGFycmF5Rm9yRWFjaCA9IGNyZWF0ZUFycmF5TWV0aG9kKDApO1xuICB2YXIgYXJyYXlGaWx0ZXIgPSBjcmVhdGVBcnJheU1ldGhvZCgyKTtcbiAgdmFyIGFycmF5U29tZSA9IGNyZWF0ZUFycmF5TWV0aG9kKDMpO1xuICB2YXIgYXJyYXlFdmVyeSA9IGNyZWF0ZUFycmF5TWV0aG9kKDQpO1xuICB2YXIgYXJyYXlGaW5kID0gY3JlYXRlQXJyYXlNZXRob2QoNSk7XG4gIHZhciBhcnJheUZpbmRJbmRleCA9IGNyZWF0ZUFycmF5TWV0aG9kKDYpO1xuICB2YXIgYXJyYXlJbmNsdWRlcyA9IGNyZWF0ZUFycmF5SW5jbHVkZXModHJ1ZSk7XG4gIHZhciBhcnJheUluZGV4T2YgPSBjcmVhdGVBcnJheUluY2x1ZGVzKGZhbHNlKTtcbiAgdmFyIGFycmF5VmFsdWVzID0gQXJyYXlJdGVyYXRvcnMudmFsdWVzO1xuICB2YXIgYXJyYXlLZXlzID0gQXJyYXlJdGVyYXRvcnMua2V5cztcbiAgdmFyIGFycmF5RW50cmllcyA9IEFycmF5SXRlcmF0b3JzLmVudHJpZXM7XG4gIHZhciBhcnJheUxhc3RJbmRleE9mID0gQXJyYXlQcm90by5sYXN0SW5kZXhPZjtcbiAgdmFyIGFycmF5UmVkdWNlID0gQXJyYXlQcm90by5yZWR1Y2U7XG4gIHZhciBhcnJheVJlZHVjZVJpZ2h0ID0gQXJyYXlQcm90by5yZWR1Y2VSaWdodDtcbiAgdmFyIGFycmF5Sm9pbiA9IEFycmF5UHJvdG8uam9pbjtcbiAgdmFyIGFycmF5U29ydCA9IEFycmF5UHJvdG8uc29ydDtcbiAgdmFyIGFycmF5U2xpY2UgPSBBcnJheVByb3RvLnNsaWNlO1xuICB2YXIgYXJyYXlUb1N0cmluZyA9IEFycmF5UHJvdG8udG9TdHJpbmc7XG4gIHZhciBhcnJheVRvTG9jYWxlU3RyaW5nID0gQXJyYXlQcm90by50b0xvY2FsZVN0cmluZztcbiAgdmFyIElURVJBVE9SID0gd2tzKCdpdGVyYXRvcicpO1xuICB2YXIgVEFHID0gd2tzKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgVFlQRURfQ09OU1RSVUNUT1IgPSB1aWQoJ3R5cGVkX2NvbnN0cnVjdG9yJyk7XG4gIHZhciBERUZfQ09OU1RSVUNUT1IgPSB1aWQoJ2RlZl9jb25zdHJ1Y3RvcicpO1xuICB2YXIgQUxMX0NPTlNUUlVDVE9SUyA9ICR0eXBlZC5DT05TVFI7XG4gIHZhciBUWVBFRF9BUlJBWSA9ICR0eXBlZC5UWVBFRDtcbiAgdmFyIFZJRVcgPSAkdHlwZWQuVklFVztcbiAgdmFyIFdST05HX0xFTkdUSCA9ICdXcm9uZyBsZW5ndGghJztcblxuICB2YXIgJG1hcCA9IGNyZWF0ZUFycmF5TWV0aG9kKDEsIGZ1bmN0aW9uIChPLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gYWxsb2NhdGUoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSksIGxlbmd0aCk7XG4gIH0pO1xuXG4gIHZhciBMSVRUTEVfRU5ESUFOID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdID09PSAxO1xuICB9KTtcblxuICB2YXIgRk9SQ0VEX1NFVCA9ICEhVWludDhBcnJheSAmJiAhIVVpbnQ4QXJyYXlbUFJPVE9UWVBFXS5zZXQgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIG5ldyBVaW50OEFycmF5KDEpLnNldCh7fSk7XG4gIH0pO1xuXG4gIHZhciB0b09mZnNldCA9IGZ1bmN0aW9uIChpdCwgQllURVMpIHtcbiAgICB2YXIgb2Zmc2V0ID0gdG9JbnRlZ2VyKGl0KTtcbiAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgJSBCWVRFUykgdGhyb3cgUmFuZ2VFcnJvcignV3Jvbmcgb2Zmc2V0IScpO1xuICAgIHJldHVybiBvZmZzZXQ7XG4gIH07XG5cbiAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGlzT2JqZWN0KGl0KSAmJiBUWVBFRF9BUlJBWSBpbiBpdCkgcmV0dXJuIGl0O1xuICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgdHlwZWQgYXJyYXkhJyk7XG4gIH07XG5cbiAgdmFyIGFsbG9jYXRlID0gZnVuY3Rpb24gKEMsIGxlbmd0aCkge1xuICAgIGlmICghKGlzT2JqZWN0KEMpICYmIFRZUEVEX0NPTlNUUlVDVE9SIGluIEMpKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0l0IGlzIG5vdCBhIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9yIScpO1xuICAgIH0gcmV0dXJuIG5ldyBDKGxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHNwZWNpZXNGcm9tTGlzdCA9IGZ1bmN0aW9uIChPLCBsaXN0KSB7XG4gICAgcmV0dXJuIGZyb21MaXN0KHNwZWNpZXNDb25zdHJ1Y3RvcihPLCBPW0RFRl9DT05TVFJVQ1RPUl0pLCBsaXN0KTtcbiAgfTtcblxuICB2YXIgZnJvbUxpc3QgPSBmdW5jdGlvbiAoQywgbGlzdCkge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICAgIHZhciByZXN1bHQgPSBhbGxvY2F0ZShDLCBsZW5ndGgpO1xuICAgIHdoaWxlIChsZW5ndGggPiBpbmRleCkgcmVzdWx0W2luZGV4XSA9IGxpc3RbaW5kZXgrK107XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgYWRkR2V0dGVyID0gZnVuY3Rpb24gKGl0LCBrZXksIGludGVybmFsKSB7XG4gICAgZFAoaXQsIGtleSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RbaW50ZXJuYWxdOyB9IH0pO1xuICB9O1xuXG4gIHZhciAkZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlIC8qICwgbWFwZm4sIHRoaXNBcmcgKi8pIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHNvdXJjZSk7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuICAgIHZhciBpLCBsZW5ndGgsIHZhbHVlcywgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhaXNBcnJheUl0ZXIoaXRlckZuKSkge1xuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCB2YWx1ZXMgPSBbXSwgaSA9IDA7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHN0ZXAudmFsdWUpO1xuICAgICAgfSBPID0gdmFsdWVzO1xuICAgIH1cbiAgICBpZiAobWFwcGluZyAmJiBhTGVuID4gMikgbWFwZm4gPSBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMik7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpLCByZXN1bHQgPSBhbGxvY2F0ZSh0aGlzLCBsZW5ndGgpOyBsZW5ndGggPiBpOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IG1hcHBpbmcgPyBtYXBmbihPW2ldLCBpKSA6IE9baV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyICRvZiA9IGZ1bmN0aW9uIG9mKC8qIC4uLml0ZW1zICovKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gYWxsb2NhdGUodGhpcywgbGVuZ3RoKTtcbiAgICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHJlc3VsdFtpbmRleF0gPSBhcmd1bWVudHNbaW5kZXgrK107XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBpT1MgU2FmYXJpIDYueCBmYWlscyBoZXJlXG4gIHZhciBUT19MT0NBTEVfQlVHID0gISFVaW50OEFycmF5ICYmIGZhaWxzKGZ1bmN0aW9uICgpIHsgYXJyYXlUb0xvY2FsZVN0cmluZy5jYWxsKG5ldyBVaW50OEFycmF5KDEpKTsgfSk7XG5cbiAgdmFyICR0b0xvY2FsZVN0cmluZyA9IGZ1bmN0aW9uIHRvTG9jYWxlU3RyaW5nKCkge1xuICAgIHJldHVybiBhcnJheVRvTG9jYWxlU3RyaW5nLmFwcGx5KFRPX0xPQ0FMRV9CVUcgPyBhcnJheVNsaWNlLmNhbGwodmFsaWRhdGUodGhpcykpIDogdmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIHByb3RvID0ge1xuICAgIGNvcHlXaXRoaW46IGZ1bmN0aW9uIGNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCAvKiAsIGVuZCAqLykge1xuICAgICAgcmV0dXJuIGFycmF5Q29weVdpdGhpbi5jYWxsKHZhbGlkYXRlKHRoaXMpLCB0YXJnZXQsIHN0YXJ0LCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBldmVyeTogZnVuY3Rpb24gZXZlcnkoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBhcnJheUV2ZXJ5KHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBmaWxsOiBmdW5jdGlvbiBmaWxsKHZhbHVlIC8qICwgc3RhcnQsIGVuZCAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gYXJyYXlGaWxsLmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlGaWx0ZXIodmFsaWRhdGUodGhpcyksIGNhbGxiYWNrZm4sXG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKSk7XG4gICAgfSxcbiAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBhcnJheUZpbmQodmFsaWRhdGUodGhpcyksIHByZWRpY2F0ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlIC8qICwgdGhpc0FyZyAqLykge1xuICAgICAgcmV0dXJuIGFycmF5RmluZEluZGV4KHZhbGlkYXRlKHRoaXMpLCBwcmVkaWNhdGUsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIGFycmF5Rm9yRWFjaCh2YWxpZGF0ZSh0aGlzKSwgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50IC8qICwgZnJvbUluZGV4ICovKSB7XG4gICAgICByZXR1cm4gYXJyYXlJbmRleE9mKHZhbGlkYXRlKHRoaXMpLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykge1xuICAgICAgcmV0dXJuIGFycmF5SW5jbHVkZXModmFsaWRhdGUodGhpcyksIHNlYXJjaEVsZW1lbnQsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheUpvaW4uYXBwbHkodmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBsYXN0SW5kZXhPZjogZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gYXJyYXlMYXN0SW5kZXhPZi5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIG1hcDogZnVuY3Rpb24gbWFwKG1hcGZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgICAgcmV0dXJuICRtYXAodmFsaWRhdGUodGhpcyksIG1hcGZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZShjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZS5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZVJpZ2h0LmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBsZW5ndGggPSB2YWxpZGF0ZSh0aGF0KS5sZW5ndGg7XG4gICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB3aGlsZSAoaW5kZXggPCBtaWRkbGUpIHtcbiAgICAgICAgdmFsdWUgPSB0aGF0W2luZGV4XTtcbiAgICAgICAgdGhhdFtpbmRleCsrXSA9IHRoYXRbLS1sZW5ndGhdO1xuICAgICAgICB0aGF0W2xlbmd0aF0gPSB2YWx1ZTtcbiAgICAgIH0gcmV0dXJuIHRoYXQ7XG4gICAgfSxcbiAgICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgICByZXR1cm4gYXJyYXlTb21lKHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmVmbikge1xuICAgICAgcmV0dXJuIGFycmF5U29ydC5jYWxsKHZhbGlkYXRlKHRoaXMpLCBjb21wYXJlZm4pO1xuICAgIH0sXG4gICAgc3ViYXJyYXk6IGZ1bmN0aW9uIHN1YmFycmF5KGJlZ2luLCBlbmQpIHtcbiAgICAgIHZhciBPID0gdmFsaWRhdGUodGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gTy5sZW5ndGg7XG4gICAgICB2YXIgJGJlZ2luID0gdG9BYnNvbHV0ZUluZGV4KGJlZ2luLCBsZW5ndGgpO1xuICAgICAgcmV0dXJuIG5ldyAoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSkpKFxuICAgICAgICBPLmJ1ZmZlcixcbiAgICAgICAgTy5ieXRlT2Zmc2V0ICsgJGJlZ2luICogTy5CWVRFU19QRVJfRUxFTUVOVCxcbiAgICAgICAgdG9MZW5ndGgoKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9BYnNvbHV0ZUluZGV4KGVuZCwgbGVuZ3RoKSkgLSAkYmVnaW4pXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgJHNsaWNlID0gZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpLCBzdGFydCwgZW5kKSk7XG4gIH07XG5cbiAgdmFyICRzZXQgPSBmdW5jdGlvbiBzZXQoYXJyYXlMaWtlIC8qICwgb2Zmc2V0ICovKSB7XG4gICAgdmFsaWRhdGUodGhpcyk7XG4gICAgdmFyIG9mZnNldCA9IHRvT2Zmc2V0KGFyZ3VtZW50c1sxXSwgMSk7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgIHZhciBzcmMgPSB0b09iamVjdChhcnJheUxpa2UpO1xuICAgIHZhciBsZW4gPSB0b0xlbmd0aChzcmMubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGlmIChsZW4gKyBvZmZzZXQgPiBsZW5ndGgpIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgICB3aGlsZSAoaW5kZXggPCBsZW4pIHRoaXNbb2Zmc2V0ICsgaW5kZXhdID0gc3JjW2luZGV4KytdO1xuICB9O1xuXG4gIHZhciAkaXRlcmF0b3JzID0ge1xuICAgIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gYXJyYXlFbnRyaWVzLmNhbGwodmFsaWRhdGUodGhpcykpO1xuICAgIH0sXG4gICAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgIHJldHVybiBhcnJheUtleXMuY2FsbCh2YWxpZGF0ZSh0aGlzKSk7XG4gICAgfSxcbiAgICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgIHJldHVybiBhcnJheVZhbHVlcy5jYWxsKHZhbGlkYXRlKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzVEFJbmRleCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHJldHVybiBpc09iamVjdCh0YXJnZXQpXG4gICAgICAmJiB0YXJnZXRbVFlQRURfQVJSQVldXG4gICAgICAmJiB0eXBlb2Yga2V5ICE9ICdzeW1ib2wnXG4gICAgICAmJiBrZXkgaW4gdGFyZ2V0XG4gICAgICAmJiBTdHJpbmcoK2tleSkgPT0gU3RyaW5nKGtleSk7XG4gIH07XG4gIHZhciAkZ2V0RGVzYyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkge1xuICAgIHJldHVybiBpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuICAgICAgPyBwcm9wZXJ0eURlc2MoMiwgdGFyZ2V0W2tleV0pXG4gICAgICA6IGdPUEQodGFyZ2V0LCBrZXkpO1xuICB9O1xuICB2YXIgJHNldERlc2MgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIGlmIChpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuICAgICAgJiYgaXNPYmplY3QoZGVzYylcbiAgICAgICYmIGhhcyhkZXNjLCAndmFsdWUnKVxuICAgICAgJiYgIWhhcyhkZXNjLCAnZ2V0JylcbiAgICAgICYmICFoYXMoZGVzYywgJ3NldCcpXG4gICAgICAvLyBUT0RPOiBhZGQgdmFsaWRhdGlvbiBkZXNjcmlwdG9yIHcvbyBjYWxsaW5nIGFjY2Vzc29yc1xuICAgICAgJiYgIWRlc2MuY29uZmlndXJhYmxlXG4gICAgICAmJiAoIWhhcyhkZXNjLCAnd3JpdGFibGUnKSB8fCBkZXNjLndyaXRhYmxlKVxuICAgICAgJiYgKCFoYXMoZGVzYywgJ2VudW1lcmFibGUnKSB8fCBkZXNjLmVudW1lcmFibGUpXG4gICAgKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gcmV0dXJuIGRQKHRhcmdldCwga2V5LCBkZXNjKTtcbiAgfTtcblxuICBpZiAoIUFMTF9DT05TVFJVQ1RPUlMpIHtcbiAgICAkR09QRC5mID0gJGdldERlc2M7XG4gICAgJERQLmYgPSAkc2V0RGVzYztcbiAgfVxuXG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIUFMTF9DT05TVFJVQ1RPUlMsICdPYmplY3QnLCB7XG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0RGVzYyxcbiAgICBkZWZpbmVQcm9wZXJ0eTogJHNldERlc2NcbiAgfSk7XG5cbiAgaWYgKGZhaWxzKGZ1bmN0aW9uICgpIHsgYXJyYXlUb1N0cmluZy5jYWxsKHt9KTsgfSkpIHtcbiAgICBhcnJheVRvU3RyaW5nID0gYXJyYXlUb0xvY2FsZVN0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIGFycmF5Sm9pbi5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgJFR5cGVkQXJyYXlQcm90b3R5cGUkID0gcmVkZWZpbmVBbGwoe30sIHByb3RvKTtcbiAgcmVkZWZpbmVBbGwoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAkaXRlcmF0b3JzKTtcbiAgaGlkZSgkVHlwZWRBcnJheVByb3RvdHlwZSQsIElURVJBVE9SLCAkaXRlcmF0b3JzLnZhbHVlcyk7XG4gIHJlZGVmaW5lQWxsKCRUeXBlZEFycmF5UHJvdG90eXBlJCwge1xuICAgIHNsaWNlOiAkc2xpY2UsXG4gICAgc2V0OiAkc2V0LFxuICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7IC8qIG5vb3AgKi8gfSxcbiAgICB0b1N0cmluZzogYXJyYXlUb1N0cmluZyxcbiAgICB0b0xvY2FsZVN0cmluZzogJHRvTG9jYWxlU3RyaW5nXG4gIH0pO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnVmZmVyJywgJ2InKTtcbiAgYWRkR2V0dGVyKCRUeXBlZEFycmF5UHJvdG90eXBlJCwgJ2J5dGVPZmZzZXQnLCAnbycpO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnl0ZUxlbmd0aCcsICdsJyk7XG4gIGFkZEdldHRlcigkVHlwZWRBcnJheVByb3RvdHlwZSQsICdsZW5ndGgnLCAnZScpO1xuICBkUCgkVHlwZWRBcnJheVByb3RvdHlwZSQsIFRBRywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tUWVBFRF9BUlJBWV07IH1cbiAgfSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgQllURVMsIHdyYXBwZXIsIENMQU1QRUQpIHtcbiAgICBDTEFNUEVEID0gISFDTEFNUEVEO1xuICAgIHZhciBOQU1FID0gS0VZICsgKENMQU1QRUQgPyAnQ2xhbXBlZCcgOiAnJykgKyAnQXJyYXknO1xuICAgIHZhciBHRVRURVIgPSAnZ2V0JyArIEtFWTtcbiAgICB2YXIgU0VUVEVSID0gJ3NldCcgKyBLRVk7XG4gICAgdmFyIFR5cGVkQXJyYXkgPSBnbG9iYWxbTkFNRV07XG4gICAgdmFyIEJhc2UgPSBUeXBlZEFycmF5IHx8IHt9O1xuICAgIHZhciBUQUMgPSBUeXBlZEFycmF5ICYmIGdldFByb3RvdHlwZU9mKFR5cGVkQXJyYXkpO1xuICAgIHZhciBGT1JDRUQgPSAhVHlwZWRBcnJheSB8fCAhJHR5cGVkLkFCVjtcbiAgICB2YXIgTyA9IHt9O1xuICAgIHZhciBUeXBlZEFycmF5UHJvdG90eXBlID0gVHlwZWRBcnJheSAmJiBUeXBlZEFycmF5W1BST1RPVFlQRV07XG4gICAgdmFyIGdldHRlciA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCkge1xuICAgICAgdmFyIGRhdGEgPSB0aGF0Ll9kO1xuICAgICAgcmV0dXJuIGRhdGEudltHRVRURVJdKGluZGV4ICogQllURVMgKyBkYXRhLm8sIExJVFRMRV9FTkRJQU4pO1xuICAgIH07XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhhdC5fZDtcbiAgICAgIGlmIChDTEFNUEVEKSB2YWx1ZSA9ICh2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpKSA8IDAgPyAwIDogdmFsdWUgPiAweGZmID8gMHhmZiA6IHZhbHVlICYgMHhmZjtcbiAgICAgIGRhdGEudltTRVRURVJdKGluZGV4ICogQllURVMgKyBkYXRhLm8sIHZhbHVlLCBMSVRUTEVfRU5ESUFOKTtcbiAgICB9O1xuICAgIHZhciBhZGRFbGVtZW50ID0gZnVuY3Rpb24gKHRoYXQsIGluZGV4KSB7XG4gICAgICBkUCh0aGF0LCBpbmRleCwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0dGVyKHRoaXMsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc2V0dGVyKHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkge1xuICAgICAgVHlwZWRBcnJheSA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGRhdGEsICRvZmZzZXQsICRsZW5ndGgpIHtcbiAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FLCAnX2QnKTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBidWZmZXIsIGJ5dGVMZW5ndGgsIGxlbmd0aCwga2xhc3M7XG4gICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICBsZW5ndGggPSB0b0luZGV4KGRhdGEpO1xuICAgICAgICAgIGJ5dGVMZW5ndGggPSBsZW5ndGggKiBCWVRFUztcbiAgICAgICAgICBidWZmZXIgPSBuZXcgJEFycmF5QnVmZmVyKGJ5dGVMZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiAkQXJyYXlCdWZmZXIgfHwgKGtsYXNzID0gY2xhc3NvZihkYXRhKSkgPT0gQVJSQVlfQlVGRkVSIHx8IGtsYXNzID09IFNIQVJFRF9CVUZGRVIpIHtcbiAgICAgICAgICBidWZmZXIgPSBkYXRhO1xuICAgICAgICAgIG9mZnNldCA9IHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKTtcbiAgICAgICAgICB2YXIgJGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBpZiAoJGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoJGxlbiAlIEJZVEVTKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0xFTkdUSCk7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gJGxlbiAtIG9mZnNldDtcbiAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoIDwgMCkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gdG9MZW5ndGgoJGxlbmd0aCkgKiBCWVRFUztcbiAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoICsgb2Zmc2V0ID4gJGxlbikgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZW5ndGggPSBieXRlTGVuZ3RoIC8gQllURVM7XG4gICAgICAgIH0gZWxzZSBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkge1xuICAgICAgICAgIHJldHVybiBmcm9tTGlzdChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBoaWRlKHRoYXQsICdfZCcsIHtcbiAgICAgICAgICBiOiBidWZmZXIsXG4gICAgICAgICAgbzogb2Zmc2V0LFxuICAgICAgICAgIGw6IGJ5dGVMZW5ndGgsXG4gICAgICAgICAgZTogbGVuZ3RoLFxuICAgICAgICAgIHY6IG5ldyAkRGF0YVZpZXcoYnVmZmVyKVxuICAgICAgICB9KTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSBhZGRFbGVtZW50KHRoYXQsIGluZGV4KyspO1xuICAgICAgfSk7XG4gICAgICBUeXBlZEFycmF5UHJvdG90eXBlID0gVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gY3JlYXRlKCRUeXBlZEFycmF5UHJvdG90eXBlJCk7XG4gICAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsICdjb25zdHJ1Y3RvcicsIFR5cGVkQXJyYXkpO1xuICAgIH0gZWxzZSBpZiAoIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIFR5cGVkQXJyYXkoMSk7XG4gICAgfSkgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIG5ldyBUeXBlZEFycmF5KC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9KSB8fCAhJGl0ZXJEZXRlY3QoZnVuY3Rpb24gKGl0ZXIpIHtcbiAgICAgIG5ldyBUeXBlZEFycmF5KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgICBuZXcgVHlwZWRBcnJheShudWxsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICAgIG5ldyBUeXBlZEFycmF5KDEuNSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgICBuZXcgVHlwZWRBcnJheShpdGVyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9LCB0cnVlKSkge1xuICAgICAgVHlwZWRBcnJheSA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGRhdGEsICRvZmZzZXQsICRsZW5ndGgpIHtcbiAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FKTtcbiAgICAgICAgdmFyIGtsYXNzO1xuICAgICAgICAvLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NVxuICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSByZXR1cm4gbmV3IEJhc2UodG9JbmRleChkYXRhKSk7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgJEFycmF5QnVmZmVyIHx8IChrbGFzcyA9IGNsYXNzb2YoZGF0YSkpID09IEFSUkFZX0JVRkZFUiB8fCBrbGFzcyA9PSBTSEFSRURfQlVGRkVSKSB7XG4gICAgICAgICAgcmV0dXJuICRsZW5ndGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBuZXcgQmFzZShkYXRhLCB0b09mZnNldCgkb2Zmc2V0LCBCWVRFUyksICRsZW5ndGgpXG4gICAgICAgICAgICA6ICRvZmZzZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IG5ldyBCYXNlKGRhdGEsIHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKSlcbiAgICAgICAgICAgICAgOiBuZXcgQmFzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkgcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgYXJyYXlGb3JFYWNoKFRBQyAhPT0gRnVuY3Rpb24ucHJvdG90eXBlID8gZ09QTihCYXNlKS5jb25jYXQoZ09QTihUQUMpKSA6IGdPUE4oQmFzZSksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIFR5cGVkQXJyYXkpKSBoaWRlKFR5cGVkQXJyYXksIGtleSwgQmFzZVtrZXldKTtcbiAgICAgIH0pO1xuICAgICAgVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gVHlwZWRBcnJheVByb3RvdHlwZTtcbiAgICAgIGlmICghTElCUkFSWSkgVHlwZWRBcnJheVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFR5cGVkQXJyYXk7XG4gICAgfVxuICAgIHZhciAkbmF0aXZlSXRlcmF0b3IgPSBUeXBlZEFycmF5UHJvdG90eXBlW0lURVJBVE9SXTtcbiAgICB2YXIgQ09SUkVDVF9JVEVSX05BTUUgPSAhISRuYXRpdmVJdGVyYXRvclxuICAgICAgJiYgKCRuYXRpdmVJdGVyYXRvci5uYW1lID09ICd2YWx1ZXMnIHx8ICRuYXRpdmVJdGVyYXRvci5uYW1lID09IHVuZGVmaW5lZCk7XG4gICAgdmFyICRpdGVyYXRvciA9ICRpdGVyYXRvcnMudmFsdWVzO1xuICAgIGhpZGUoVHlwZWRBcnJheSwgVFlQRURfQ09OU1RSVUNUT1IsIHRydWUpO1xuICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgVFlQRURfQVJSQVksIE5BTUUpO1xuICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgVklFVywgdHJ1ZSk7XG4gICAgaGlkZShUeXBlZEFycmF5UHJvdG90eXBlLCBERUZfQ09OU1RSVUNUT1IsIFR5cGVkQXJyYXkpO1xuXG4gICAgaWYgKENMQU1QRUQgPyBuZXcgVHlwZWRBcnJheSgxKVtUQUddICE9IE5BTUUgOiAhKFRBRyBpbiBUeXBlZEFycmF5UHJvdG90eXBlKSkge1xuICAgICAgZFAoVHlwZWRBcnJheVByb3RvdHlwZSwgVEFHLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTkFNRTsgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgT1tOQU1FXSA9IFR5cGVkQXJyYXk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqIChUeXBlZEFycmF5ICE9IEJhc2UpLCBPKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5TLCBOQU1FLCB7XG4gICAgICBCWVRFU19QRVJfRUxFTUVOVDogQllURVNcbiAgICB9KTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBCYXNlLm9mLmNhbGwoVHlwZWRBcnJheSwgMSk7IH0pLCBOQU1FLCB7XG4gICAgICBmcm9tOiAkZnJvbSxcbiAgICAgIG9mOiAkb2ZcbiAgICB9KTtcblxuICAgIGlmICghKEJZVEVTX1BFUl9FTEVNRU5UIGluIFR5cGVkQXJyYXlQcm90b3R5cGUpKSBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIEJZVEVTX1BFUl9FTEVNRU5ULCBCWVRFUyk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuUCwgTkFNRSwgcHJvdG8pO1xuXG4gICAgc2V0U3BlY2llcyhOQU1FKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogRk9SQ0VEX1NFVCwgTkFNRSwgeyBzZXQ6ICRzZXQgfSk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqICFDT1JSRUNUX0lURVJfTkFNRSwgTkFNRSwgJGl0ZXJhdG9ycyk7XG5cbiAgICBpZiAoIUxJQlJBUlkgJiYgVHlwZWRBcnJheVByb3RvdHlwZS50b1N0cmluZyAhPSBhcnJheVRvU3RyaW5nKSBUeXBlZEFycmF5UHJvdG90eXBlLnRvU3RyaW5nID0gYXJyYXlUb1N0cmluZztcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgbmV3IFR5cGVkQXJyYXkoMSkuc2xpY2UoKTtcbiAgICB9KSwgTkFNRSwgeyBzbGljZTogJHNsaWNlIH0pO1xuXG4gICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFsxLCAyXS50b0xvY2FsZVN0cmluZygpICE9IG5ldyBUeXBlZEFycmF5KFsxLCAyXSkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICB9KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgVHlwZWRBcnJheVByb3RvdHlwZS50b0xvY2FsZVN0cmluZy5jYWxsKFsxLCAyXSk7XG4gICAgfSkpLCBOQU1FLCB7IHRvTG9jYWxlU3RyaW5nOiAkdG9Mb2NhbGVTdHJpbmcgfSk7XG5cbiAgICBJdGVyYXRvcnNbTkFNRV0gPSBDT1JSRUNUX0lURVJfTkFNRSA/ICRuYXRpdmVJdGVyYXRvciA6ICRpdGVyYXRvcjtcbiAgICBpZiAoIUxJQlJBUlkgJiYgIUNPUlJFQ1RfSVRFUl9OQU1FKSBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIElURVJBVE9SLCAkaXRlcmF0b3IpO1xuICB9O1xufSBlbHNlIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICR0eXBlZCA9IHJlcXVpcmUoJy4vX3R5cGVkJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0luZGV4ID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBhcnJheUZpbGwgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7XG52YXIgREFUQV9WSUVXID0gJ0RhdGFWaWV3JztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBXUk9OR19MRU5HVEggPSAnV3JvbmcgbGVuZ3RoISc7XG52YXIgV1JPTkdfSU5ERVggPSAnV3JvbmcgaW5kZXghJztcbnZhciAkQXJyYXlCdWZmZXIgPSBnbG9iYWxbQVJSQVlfQlVGRkVSXTtcbnZhciAkRGF0YVZpZXcgPSBnbG9iYWxbREFUQV9WSUVXXTtcbnZhciBNYXRoID0gZ2xvYmFsLk1hdGg7XG52YXIgUmFuZ2VFcnJvciA9IGdsb2JhbC5SYW5nZUVycm9yO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdy1yZXN0cmljdGVkLW5hbWVzXG52YXIgSW5maW5pdHkgPSBnbG9iYWwuSW5maW5pdHk7XG52YXIgQmFzZUJ1ZmZlciA9ICRBcnJheUJ1ZmZlcjtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBwb3cgPSBNYXRoLnBvdztcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgbG9nID0gTWF0aC5sb2c7XG52YXIgTE4yID0gTWF0aC5MTjI7XG52YXIgQlVGRkVSID0gJ2J1ZmZlcic7XG52YXIgQllURV9MRU5HVEggPSAnYnl0ZUxlbmd0aCc7XG52YXIgQllURV9PRkZTRVQgPSAnYnl0ZU9mZnNldCc7XG52YXIgJEJVRkZFUiA9IERFU0NSSVBUT1JTID8gJ19iJyA6IEJVRkZFUjtcbnZhciAkTEVOR1RIID0gREVTQ1JJUFRPUlMgPyAnX2wnIDogQllURV9MRU5HVEg7XG52YXIgJE9GRlNFVCA9IERFU0NSSVBUT1JTID8gJ19vJyA6IEJZVEVfT0ZGU0VUO1xuXG4vLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NFxuZnVuY3Rpb24gcGFja0lFRUU3NTQodmFsdWUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KG5CeXRlcyk7XG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxO1xuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMTtcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxO1xuICB2YXIgcnQgPSBtTGVuID09PSAyMyA/IHBvdygyLCAtMjQpIC0gcG93KDIsIC03NykgOiAwO1xuICB2YXIgaSA9IDA7XG4gIHZhciBzID0gdmFsdWUgPCAwIHx8IHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDAgPyAxIDogMDtcbiAgdmFyIGUsIG0sIGM7XG4gIHZhbHVlID0gYWJzKHZhbHVlKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICBpZiAodmFsdWUgIT0gdmFsdWUgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIG0gPSB2YWx1ZSAhPSB2YWx1ZSA/IDEgOiAwO1xuICAgIGUgPSBlTWF4O1xuICB9IGVsc2Uge1xuICAgIGUgPSBmbG9vcihsb2codmFsdWUpIC8gTE4yKTtcbiAgICBpZiAodmFsdWUgKiAoYyA9IHBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tO1xuICAgICAgYyAqPSAyO1xuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gYztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBwb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKys7XG4gICAgICBjIC89IDI7XG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDA7XG4gICAgICBlID0gZU1heDtcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogcG93KDIsIG1MZW4pO1xuICAgICAgZSA9IGUgKyBlQmlhcztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogcG93KDIsIGVCaWFzIC0gMSkgKiBwb3coMiwgbUxlbik7XG4gICAgICBlID0gMDtcbiAgICB9XG4gIH1cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW2krK10gPSBtICYgMjU1LCBtIC89IDI1NiwgbUxlbiAtPSA4KTtcbiAgZSA9IGUgPDwgbUxlbiB8IG07XG4gIGVMZW4gKz0gbUxlbjtcbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbaSsrXSA9IGUgJiAyNTUsIGUgLz0gMjU2LCBlTGVuIC09IDgpO1xuICBidWZmZXJbLS1pXSB8PSBzICogMTI4O1xuICByZXR1cm4gYnVmZmVyO1xufVxuZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChidWZmZXIsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMTtcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7XG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMTtcbiAgdmFyIG5CaXRzID0gZUxlbiAtIDc7XG4gIHZhciBpID0gbkJ5dGVzIC0gMTtcbiAgdmFyIHMgPSBidWZmZXJbaS0tXTtcbiAgdmFyIGUgPSBzICYgMTI3O1xuICB2YXIgbTtcbiAgcyA+Pj0gNztcbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG4gIG0gPSBlICYgKDEgPDwgLW5CaXRzKSAtIDE7XG4gIGUgPj49IC1uQml0cztcbiAgbkJpdHMgKz0gbUxlbjtcbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhcztcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiBzID8gLUluZmluaXR5IDogSW5maW5pdHk7XG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBwb3coMiwgbUxlbik7XG4gICAgZSA9IGUgLSBlQmlhcztcbiAgfSByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIHBvdygyLCBlIC0gbUxlbik7XG59XG5cbmZ1bmN0aW9uIHVucGFja0kzMihieXRlcykge1xuICByZXR1cm4gYnl0ZXNbM10gPDwgMjQgfCBieXRlc1syXSA8PCAxNiB8IGJ5dGVzWzFdIDw8IDggfCBieXRlc1swXTtcbn1cbmZ1bmN0aW9uIHBhY2tJOChpdCkge1xuICByZXR1cm4gW2l0ICYgMHhmZl07XG59XG5mdW5jdGlvbiBwYWNrSTE2KGl0KSB7XG4gIHJldHVybiBbaXQgJiAweGZmLCBpdCA+PiA4ICYgMHhmZl07XG59XG5mdW5jdGlvbiBwYWNrSTMyKGl0KSB7XG4gIHJldHVybiBbaXQgJiAweGZmLCBpdCA+PiA4ICYgMHhmZiwgaXQgPj4gMTYgJiAweGZmLCBpdCA+PiAyNCAmIDB4ZmZdO1xufVxuZnVuY3Rpb24gcGFja0Y2NChpdCkge1xuICByZXR1cm4gcGFja0lFRUU3NTQoaXQsIDUyLCA4KTtcbn1cbmZ1bmN0aW9uIHBhY2tGMzIoaXQpIHtcbiAgcmV0dXJuIHBhY2tJRUVFNzU0KGl0LCAyMywgNCk7XG59XG5cbmZ1bmN0aW9uIGFkZEdldHRlcihDLCBrZXksIGludGVybmFsKSB7XG4gIGRQKENbUFJPVE9UWVBFXSwga2V5LCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tpbnRlcm5hbF07IH0gfSk7XG59XG5cbmZ1bmN0aW9uIGdldCh2aWV3LCBieXRlcywgaW5kZXgsIGlzTGl0dGxlRW5kaWFuKSB7XG4gIHZhciBudW1JbmRleCA9ICtpbmRleDtcbiAgdmFyIGludEluZGV4ID0gdG9JbmRleChudW1JbmRleCk7XG4gIGlmIChpbnRJbmRleCArIGJ5dGVzID4gdmlld1skTEVOR1RIXSkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19JTkRFWCk7XG4gIHZhciBzdG9yZSA9IHZpZXdbJEJVRkZFUl0uX2I7XG4gIHZhciBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXTtcbiAgdmFyIHBhY2sgPSBzdG9yZS5zbGljZShzdGFydCwgc3RhcnQgKyBieXRlcyk7XG4gIHJldHVybiBpc0xpdHRsZUVuZGlhbiA/IHBhY2sgOiBwYWNrLnJldmVyc2UoKTtcbn1cbmZ1bmN0aW9uIHNldCh2aWV3LCBieXRlcywgaW5kZXgsIGNvbnZlcnNpb24sIHZhbHVlLCBpc0xpdHRsZUVuZGlhbikge1xuICB2YXIgbnVtSW5kZXggPSAraW5kZXg7XG4gIHZhciBpbnRJbmRleCA9IHRvSW5kZXgobnVtSW5kZXgpO1xuICBpZiAoaW50SW5kZXggKyBieXRlcyA+IHZpZXdbJExFTkdUSF0pIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfSU5ERVgpO1xuICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iO1xuICB2YXIgc3RhcnQgPSBpbnRJbmRleCArIHZpZXdbJE9GRlNFVF07XG4gIHZhciBwYWNrID0gY29udmVyc2lvbigrdmFsdWUpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzOyBpKyspIHN0b3JlW3N0YXJ0ICsgaV0gPSBwYWNrW2lzTGl0dGxlRW5kaWFuID8gaSA6IGJ5dGVzIC0gaSAtIDFdO1xufVxuXG5pZiAoISR0eXBlZC5BQlYpIHtcbiAgJEFycmF5QnVmZmVyID0gZnVuY3Rpb24gQXJyYXlCdWZmZXIobGVuZ3RoKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG4gICAgdmFyIGJ5dGVMZW5ndGggPSB0b0luZGV4KGxlbmd0aCk7XG4gICAgdGhpcy5fYiA9IGFycmF5RmlsbC5jYWxsKG5ldyBBcnJheShieXRlTGVuZ3RoKSwgMCk7XG4gICAgdGhpc1skTEVOR1RIXSA9IGJ5dGVMZW5ndGg7XG4gIH07XG5cbiAgJERhdGFWaWV3ID0gZnVuY3Rpb24gRGF0YVZpZXcoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkRGF0YVZpZXcsIERBVEFfVklFVyk7XG4gICAgYW5JbnN0YW5jZShidWZmZXIsICRBcnJheUJ1ZmZlciwgREFUQV9WSUVXKTtcbiAgICB2YXIgYnVmZmVyTGVuZ3RoID0gYnVmZmVyWyRMRU5HVEhdO1xuICAgIHZhciBvZmZzZXQgPSB0b0ludGVnZXIoYnl0ZU9mZnNldCk7XG4gICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKCdXcm9uZyBvZmZzZXQhJyk7XG4gICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPT09IHVuZGVmaW5lZCA/IGJ1ZmZlckxlbmd0aCAtIG9mZnNldCA6IHRvTGVuZ3RoKGJ5dGVMZW5ndGgpO1xuICAgIGlmIChvZmZzZXQgKyBieXRlTGVuZ3RoID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0xFTkdUSCk7XG4gICAgdGhpc1skQlVGRkVSXSA9IGJ1ZmZlcjtcbiAgICB0aGlzWyRPRkZTRVRdID0gb2Zmc2V0O1xuICAgIHRoaXNbJExFTkdUSF0gPSBieXRlTGVuZ3RoO1xuICB9O1xuXG4gIGlmIChERVNDUklQVE9SUykge1xuICAgIGFkZEdldHRlcigkQXJyYXlCdWZmZXIsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCVUZGRVIsICdfYicpO1xuICAgIGFkZEdldHRlcigkRGF0YVZpZXcsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCWVRFX09GRlNFVCwgJ19vJyk7XG4gIH1cblxuICByZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwge1xuICAgIGdldEludDg6IGZ1bmN0aW9uIGdldEludDgoYnl0ZU9mZnNldCkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCAxLCBieXRlT2Zmc2V0KVswXSA8PCAyNCA+PiAyNDtcbiAgICB9LFxuICAgIGdldFVpbnQ4OiBmdW5jdGlvbiBnZXRVaW50OChieXRlT2Zmc2V0KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQpWzBdO1xuICAgIH0sXG4gICAgZ2V0SW50MTY6IGZ1bmN0aW9uIGdldEludDE2KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHZhciBieXRlcyA9IGdldCh0aGlzLCAyLCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pO1xuICAgICAgcmV0dXJuIChieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF0pIDw8IDE2ID4+IDE2O1xuICAgIH0sXG4gICAgZ2V0VWludDE2OiBmdW5jdGlvbiBnZXRVaW50MTYoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7XG4gICAgICByZXR1cm4gYnl0ZXNbMV0gPDwgOCB8IGJ5dGVzWzBdO1xuICAgIH0sXG4gICAgZ2V0SW50MzI6IGZ1bmN0aW9uIGdldEludDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJMzIoZ2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSkpO1xuICAgIH0sXG4gICAgZ2V0VWludDMyOiBmdW5jdGlvbiBnZXRVaW50MzIoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgcmV0dXJuIHVucGFja0kzMihnZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKSkgPj4+IDA7XG4gICAgfSxcbiAgICBnZXRGbG9hdDMyOiBmdW5jdGlvbiBnZXRGbG9hdDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJRUVFNzU0KGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pLCAyMywgNCk7XG4gICAgfSxcbiAgICBnZXRGbG9hdDY0OiBmdW5jdGlvbiBnZXRGbG9hdDY0KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJRUVFNzU0KGdldCh0aGlzLCA4LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pLCA1MiwgOCk7XG4gICAgfSxcbiAgICBzZXRJbnQ4OiBmdW5jdGlvbiBzZXRJbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7XG4gICAgICBzZXQodGhpcywgMSwgYnl0ZU9mZnNldCwgcGFja0k4LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcbiAgICAgIHNldCh0aGlzLCAxLCBieXRlT2Zmc2V0LCBwYWNrSTgsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNldEludDE2OiBmdW5jdGlvbiBzZXRJbnQxNihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgc2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIHBhY2tJMTYsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH0sXG4gICAgc2V0VWludDE2OiBmdW5jdGlvbiBzZXRVaW50MTYoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCAyLCBieXRlT2Zmc2V0LCBwYWNrSTE2LCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEludDMyOiBmdW5jdGlvbiBzZXRJbnQzMihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tJMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH0sXG4gICAgc2V0VWludDMyOiBmdW5jdGlvbiBzZXRVaW50MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBwYWNrSTMyLCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEZsb2F0MzI6IGZ1bmN0aW9uIHNldEZsb2F0MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBwYWNrRjMyLCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEZsb2F0NjQ6IGZ1bmN0aW9uIHNldEZsb2F0NjQoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA4LCBieXRlT2Zmc2V0LCBwYWNrRjY0LCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgaWYgKCFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgJEFycmF5QnVmZmVyKDEpO1xuICB9KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIG5ldyAkQXJyYXlCdWZmZXIoLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICB9KSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgbmV3ICRBcnJheUJ1ZmZlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5ldyAkQXJyYXlCdWZmZXIoMS41KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBuZXcgJEFycmF5QnVmZmVyKE5hTik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgcmV0dXJuICRBcnJheUJ1ZmZlci5uYW1lICE9IEFSUkFZX0JVRkZFUjtcbiAgfSkpIHtcbiAgICAkQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHtcbiAgICAgIGFuSW5zdGFuY2UodGhpcywgJEFycmF5QnVmZmVyKTtcbiAgICAgIHJldHVybiBuZXcgQmFzZUJ1ZmZlcih0b0luZGV4KGxlbmd0aCkpO1xuICAgIH07XG4gICAgdmFyIEFycmF5QnVmZmVyUHJvdG8gPSAkQXJyYXlCdWZmZXJbUFJPVE9UWVBFXSA9IEJhc2VCdWZmZXJbUFJPVE9UWVBFXTtcbiAgICBmb3IgKHZhciBrZXlzID0gZ09QTihCYXNlQnVmZmVyKSwgaiA9IDAsIGtleTsga2V5cy5sZW5ndGggPiBqOykge1xuICAgICAgaWYgKCEoKGtleSA9IGtleXNbaisrXSkgaW4gJEFycmF5QnVmZmVyKSkgaGlkZSgkQXJyYXlCdWZmZXIsIGtleSwgQmFzZUJ1ZmZlcltrZXldKTtcbiAgICB9XG4gICAgaWYgKCFMSUJSQVJZKSBBcnJheUJ1ZmZlclByb3RvLmNvbnN0cnVjdG9yID0gJEFycmF5QnVmZmVyO1xuICB9XG4gIC8vIGlPUyBTYWZhcmkgNy54IGJ1Z1xuICB2YXIgdmlldyA9IG5ldyAkRGF0YVZpZXcobmV3ICRBcnJheUJ1ZmZlcigyKSk7XG4gIHZhciAkc2V0SW50OCA9ICREYXRhVmlld1tQUk9UT1RZUEVdLnNldEludDg7XG4gIHZpZXcuc2V0SW50OCgwLCAyMTQ3NDgzNjQ4KTtcbiAgdmlldy5zZXRJbnQ4KDEsIDIxNDc0ODM2NDkpO1xuICBpZiAodmlldy5nZXRJbnQ4KDApIHx8ICF2aWV3LmdldEludDgoMSkpIHJlZGVmaW5lQWxsKCREYXRhVmlld1tQUk9UT1RZUEVdLCB7XG4gICAgc2V0SW50ODogZnVuY3Rpb24gc2V0SW50OChieXRlT2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgJHNldEludDguY2FsbCh0aGlzLCBieXRlT2Zmc2V0LCB2YWx1ZSA8PCAyNCA+PiAyNCk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcbiAgICAgICRzZXRJbnQ4LmNhbGwodGhpcywgYnl0ZU9mZnNldCwgdmFsdWUgPDwgMjQgPj4gMjQpO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG59XG5zZXRUb1N0cmluZ1RhZygkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG5zZXRUb1N0cmluZ1RhZygkRGF0YVZpZXcsIERBVEFfVklFVyk7XG5oaWRlKCREYXRhVmlld1tQUk9UT1RZUEVdLCAkdHlwZWQuVklFVywgdHJ1ZSk7XG5leHBvcnRzW0FSUkFZX0JVRkZFUl0gPSAkQXJyYXlCdWZmZXI7XG5leHBvcnRzW0RBVEFfVklFV10gPSAkRGF0YVZpZXc7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBUWVBFRCA9IHVpZCgndHlwZWRfYXJyYXknKTtcbnZhciBWSUVXID0gdWlkKCd2aWV3Jyk7XG52YXIgQUJWID0gISEoZ2xvYmFsLkFycmF5QnVmZmVyICYmIGdsb2JhbC5EYXRhVmlldyk7XG52YXIgQ09OU1RSID0gQUJWO1xudmFyIGkgPSAwO1xudmFyIGwgPSA5O1xudmFyIFR5cGVkO1xuXG52YXIgVHlwZWRBcnJheUNvbnN0cnVjdG9ycyA9IChcbiAgJ0ludDhBcnJheSxVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5J1xuKS5zcGxpdCgnLCcpO1xuXG53aGlsZSAoaSA8IGwpIHtcbiAgaWYgKFR5cGVkID0gZ2xvYmFsW1R5cGVkQXJyYXlDb25zdHJ1Y3RvcnNbaSsrXV0pIHtcbiAgICBoaWRlKFR5cGVkLnByb3RvdHlwZSwgVFlQRUQsIHRydWUpO1xuICAgIGhpZGUoVHlwZWQucHJvdG90eXBlLCBWSUVXLCB0cnVlKTtcbiAgfSBlbHNlIENPTlNUUiA9IGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQUJWOiBBQlYsXG4gIENPTlNUUjogQ09OU1RSLFxuICBUWVBFRDogVFlQRUQsXG4gIFZJRVc6IFZJRVdcbn07XG4iLCJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBuYXZpZ2F0b3IgPSBnbG9iYWwubmF2aWdhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgVFlQRSkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSB8fCBpdC5fdCAhPT0gVFlQRSkgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYgKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpIGRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHsgdmFsdWU6IHdrc0V4dC5mKG5hbWUpIH0pO1xufTtcbiIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuIiwidmFyIHN0b3JlID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbDtcbnZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCAhPSB1bmRlZmluZWQpIHJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCIvLyAyMi4xLjMuMyBBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbih0YXJnZXQsIHN0YXJ0LCBlbmQgPSB0aGlzLmxlbmd0aClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnQXJyYXknLCB7IGNvcHlXaXRoaW46IHJlcXVpcmUoJy4vX2FycmF5LWNvcHktd2l0aGluJykgfSk7XG5cbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKCdjb3B5V2l0aGluJyk7XG4iLCIvLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnQXJyYXknLCB7IGZpbGw6IHJlcXVpcmUoJy4vX2FycmF5LWZpbGwnKSB9KTtcblxucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoJ2ZpbGwnKTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDIyLjEuMy45IEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgocHJlZGljYXRlLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkZmluZCA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSg2KTtcbnZhciBLRVkgPSAnZmluZEluZGV4JztcbnZhciBmb3JjZWQgPSB0cnVlO1xuLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbmlmIChLRVkgaW4gW10pIEFycmF5KDEpW0tFWV0oZnVuY3Rpb24gKCkgeyBmb3JjZWQgPSBmYWxzZTsgfSk7XG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuICBmaW5kSW5kZXg6IGZ1bmN0aW9uIGZpbmRJbmRleChjYWxsYmFja2ZuIC8qICwgdGhhdCA9IHVuZGVmaW5lZCAqLykge1xuICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoS0VZKTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDIyLjEuMy44IEFycmF5LnByb3RvdHlwZS5maW5kKHByZWRpY2F0ZSwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGZpbmQgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoNSk7XG52YXIgS0VZID0gJ2ZpbmQnO1xudmFyIGZvcmNlZCA9IHRydWU7XG4vLyBTaG91bGRuJ3Qgc2tpcCBob2xlc1xuaWYgKEtFWSBpbiBbXSkgQXJyYXkoMSlbS0VZXShmdW5jdGlvbiAoKSB7IGZvcmNlZCA9IGZhbHNlOyB9KTtcbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogZm9yY2VkLCAnQXJyYXknLCB7XG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcbiAgICByZXR1cm4gJGZpbmQodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKEtFWSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UgLyogLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCAqLykge1xuICAgIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXk7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oTyk7XG4gICAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZiAobWFwcGluZykgbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpIHtcbiAgICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEMoKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yIChyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKTtcblxuLy8gV2ViS2l0IEFycmF5Lm9mIGlzbid0IGdlbmVyaWNcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuICEoQXJyYXkub2YuY2FsbChGKSBpbnN0YW5jZW9mIEYpO1xufSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjMgQXJyYXkub2YoIC4uLml0ZW1zKVxuICBvZjogZnVuY3Rpb24gb2YoLyogLi4uYXJncyAqLykge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciByZXN1bHQgPSBuZXcgKHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXkpKGFMZW4pO1xuICAgIHdoaWxlIChhTGVuID4gaW5kZXgpIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGFMZW47XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIEZQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBuYW1lUkUgPSAvXlxccypmdW5jdGlvbiAoW14gKF0qKS87XG52YXIgTkFNRSA9ICduYW1lJztcblxuLy8gMTkuMi40LjIgbmFtZVxuTkFNRSBpbiBGUHJvdG8gfHwgcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiBkUChGUHJvdG8sIE5BTUUsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICgnJyArIHRoaXMpLm1hdGNoKG5hbWVSRSlbMV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgc3Ryb25nID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbi1zdHJvbmcnKTtcbnZhciB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vX3ZhbGlkYXRlLWNvbGxlY3Rpb24nKTtcbnZhciBNQVAgPSAnTWFwJztcblxuLy8gMjMuMSBNYXAgT2JqZWN0c1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb2xsZWN0aW9uJykoTUFQLCBmdW5jdGlvbiAoZ2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBNYXAoKSB7IHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpOyB9O1xufSwge1xuICAvLyAyMy4xLjMuNiBNYXAucHJvdG90eXBlLmdldChrZXkpXG4gIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIHZhciBlbnRyeSA9IHN0cm9uZy5nZXRFbnRyeSh2YWxpZGF0ZSh0aGlzLCBNQVApLCBrZXkpO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52O1xuICB9LFxuICAvLyAyMy4xLjMuOSBNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKVxuICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cm9uZy5kZWYodmFsaWRhdGUodGhpcywgTUFQKSwga2V5ID09PSAwID8gMCA6IGtleSwgdmFsdWUpO1xuICB9XG59LCBzdHJvbmcsIHRydWUpO1xuIiwiLy8gMjAuMi4yLjMgTWF0aC5hY29zaCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBsb2cxcCA9IHJlcXVpcmUoJy4vX21hdGgtbG9nMXAnKTtcbnZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xudmFyICRhY29zaCA9IE1hdGguYWNvc2g7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogISgkYWNvc2hcbiAgLy8gVjggYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzUwOVxuICAmJiBNYXRoLmZsb29yKCRhY29zaChOdW1iZXIuTUFYX1ZBTFVFKSkgPT0gNzEwXG4gIC8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hY29zaChJbmZpbml0eSkgLT4gTmFOXG4gICYmICRhY29zaChJbmZpbml0eSkgPT0gSW5maW5pdHlcbiksICdNYXRoJywge1xuICBhY29zaDogZnVuY3Rpb24gYWNvc2goeCkge1xuICAgIHJldHVybiAoeCA9ICt4KSA8IDEgPyBOYU4gOiB4ID4gOTQ5MDYyNjUuNjI0MjUxNTZcbiAgICAgID8gTWF0aC5sb2coeCkgKyBNYXRoLkxOMlxuICAgICAgOiBsb2cxcCh4IC0gMSArIHNxcnQoeCAtIDEpICogc3FydCh4ICsgMSkpO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi41IE1hdGguYXNpbmgoeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGFzaW5oID0gTWF0aC5hc2luaDtcblxuZnVuY3Rpb24gYXNpbmgoeCkge1xuICByZXR1cm4gIWlzRmluaXRlKHggPSAreCkgfHwgeCA9PSAwID8geCA6IHggPCAwID8gLWFzaW5oKC14KSA6IE1hdGgubG9nKHggKyBNYXRoLnNxcnQoeCAqIHggKyAxKSk7XG59XG5cbi8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hc2luaCgwKSAtPiAtMFxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKCRhc2luaCAmJiAxIC8gJGFzaW5oKDApID4gMCksICdNYXRoJywgeyBhc2luaDogYXNpbmggfSk7XG4iLCIvLyAyMC4yLjIuNyBNYXRoLmF0YW5oKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRhdGFuaCA9IE1hdGguYXRhbmg7XG5cbi8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hdGFuaCgtMCkgLT4gMFxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKCRhdGFuaCAmJiAxIC8gJGF0YW5oKC0wKSA8IDApLCAnTWF0aCcsIHtcbiAgYXRhbmg6IGZ1bmN0aW9uIGF0YW5oKHgpIHtcbiAgICByZXR1cm4gKHggPSAreCkgPT0gMCA/IHggOiBNYXRoLmxvZygoMSArIHgpIC8gKDEgLSB4KSkgLyAyO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi45IE1hdGguY2JydCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBzaWduID0gcmVxdWlyZSgnLi9fbWF0aC1zaWduJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgY2JydDogZnVuY3Rpb24gY2JydCh4KSB7XG4gICAgcmV0dXJuIHNpZ24oeCA9ICt4KSAqIE1hdGgucG93KE1hdGguYWJzKHgpLCAxIC8gMyk7XG4gIH1cbn0pO1xuIiwiLy8gMjAuMi4yLjExIE1hdGguY2x6MzIoeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgY2x6MzI6IGZ1bmN0aW9uIGNsejMyKHgpIHtcbiAgICByZXR1cm4gKHggPj4+PSAwKSA/IDMxIC0gTWF0aC5mbG9vcihNYXRoLmxvZyh4ICsgMC41KSAqIE1hdGguTE9HMkUpIDogMzI7XG4gIH1cbn0pO1xuIiwiLy8gMjAuMi4yLjEyIE1hdGguY29zaCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBleHAgPSBNYXRoLmV4cDtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICBjb3NoOiBmdW5jdGlvbiBjb3NoKHgpIHtcbiAgICByZXR1cm4gKGV4cCh4ID0gK3gpICsgZXhwKC14KSkgLyAyO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRleHBtMSA9IHJlcXVpcmUoJy4vX21hdGgtZXhwbTEnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoJGV4cG0xICE9IE1hdGguZXhwbTEpLCAnTWF0aCcsIHsgZXhwbTE6ICRleHBtMSB9KTtcbiIsIi8vIDIwLjIuMi4xNiBNYXRoLmZyb3VuZCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywgeyBmcm91bmQ6IHJlcXVpcmUoJy4vX21hdGgtZnJvdW5kJykgfSk7XG4iLCIvLyAyMC4yLjIuMTcgTWF0aC5oeXBvdChbdmFsdWUxWywgdmFsdWUyWywg4oCmIF1dXSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgYWJzID0gTWF0aC5hYnM7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgaHlwb3Q6IGZ1bmN0aW9uIGh5cG90KHZhbHVlMSwgdmFsdWUyKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB2YXIgc3VtID0gMDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBsYXJnID0gMDtcbiAgICB2YXIgYXJnLCBkaXY7XG4gICAgd2hpbGUgKGkgPCBhTGVuKSB7XG4gICAgICBhcmcgPSBhYnMoYXJndW1lbnRzW2krK10pO1xuICAgICAgaWYgKGxhcmcgPCBhcmcpIHtcbiAgICAgICAgZGl2ID0gbGFyZyAvIGFyZztcbiAgICAgICAgc3VtID0gc3VtICogZGl2ICogZGl2ICsgMTtcbiAgICAgICAgbGFyZyA9IGFyZztcbiAgICAgIH0gZWxzZSBpZiAoYXJnID4gMCkge1xuICAgICAgICBkaXYgPSBhcmcgLyBsYXJnO1xuICAgICAgICBzdW0gKz0gZGl2ICogZGl2O1xuICAgICAgfSBlbHNlIHN1bSArPSBhcmc7XG4gICAgfVxuICAgIHJldHVybiBsYXJnID09PSBJbmZpbml0eSA/IEluZmluaXR5IDogbGFyZyAqIE1hdGguc3FydChzdW0pO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi4xOCBNYXRoLmltdWwoeCwgeSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGltdWwgPSBNYXRoLmltdWw7XG5cbi8vIHNvbWUgV2ViS2l0IHZlcnNpb25zIGZhaWxzIHdpdGggYmlnIG51bWJlcnMsIHNvbWUgaGFzIHdyb25nIGFyaXR5XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJGltdWwoMHhmZmZmZmZmZiwgNSkgIT0gLTUgfHwgJGltdWwubGVuZ3RoICE9IDI7XG59KSwgJ01hdGgnLCB7XG4gIGltdWw6IGZ1bmN0aW9uIGltdWwoeCwgeSkge1xuICAgIHZhciBVSU5UMTYgPSAweGZmZmY7XG4gICAgdmFyIHhuID0gK3g7XG4gICAgdmFyIHluID0gK3k7XG4gICAgdmFyIHhsID0gVUlOVDE2ICYgeG47XG4gICAgdmFyIHlsID0gVUlOVDE2ICYgeW47XG4gICAgcmV0dXJuIDAgfCB4bCAqIHlsICsgKChVSU5UMTYgJiB4biA+Pj4gMTYpICogeWwgKyB4bCAqIChVSU5UMTYgJiB5biA+Pj4gMTYpIDw8IDE2ID4+PiAwKTtcbiAgfVxufSk7XG4iLCIvLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICBsb2cxMDogZnVuY3Rpb24gbG9nMTAoeCkge1xuICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMTBFO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi4yMCBNYXRoLmxvZzFwKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7IGxvZzFwOiByZXF1aXJlKCcuL19tYXRoLWxvZzFwJykgfSk7XG4iLCIvLyAyMC4yLjIuMjIgTWF0aC5sb2cyKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIGxvZzI6IGZ1bmN0aW9uIGxvZzIoeCkge1xuICAgIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4yO1xuICB9XG59KTtcbiIsIi8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHsgc2lnbjogcmVxdWlyZSgnLi9fbWF0aC1zaWduJykgfSk7XG4iLCIvLyAyMC4yLjIuMzAgTWF0aC5zaW5oKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGV4cG0xID0gcmVxdWlyZSgnLi9fbWF0aC1leHBtMScpO1xudmFyIGV4cCA9IE1hdGguZXhwO1xuXG4vLyBWOCBuZWFyIENocm9taXVtIDM4IGhhcyBhIHByb2JsZW0gd2l0aCB2ZXJ5IHNtYWxsIG51bWJlcnNcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhTWF0aC5zaW5oKC0yZS0xNykgIT0gLTJlLTE3O1xufSksICdNYXRoJywge1xuICBzaW5oOiBmdW5jdGlvbiBzaW5oKHgpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoeCA9ICt4KSA8IDFcbiAgICAgID8gKGV4cG0xKHgpIC0gZXhwbTEoLXgpKSAvIDJcbiAgICAgIDogKGV4cCh4IC0gMSkgLSBleHAoLXggLSAxKSkgKiAoTWF0aC5FIC8gMik7XG4gIH1cbn0pO1xuIiwiLy8gMjAuMi4yLjMzIE1hdGgudGFuaCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBleHBtMSA9IHJlcXVpcmUoJy4vX21hdGgtZXhwbTEnKTtcbnZhciBleHAgPSBNYXRoLmV4cDtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICB0YW5oOiBmdW5jdGlvbiB0YW5oKHgpIHtcbiAgICB2YXIgYSA9IGV4cG0xKHggPSAreCk7XG4gICAgdmFyIGIgPSBleHBtMSgteCk7XG4gICAgcmV0dXJuIGEgPT0gSW5maW5pdHkgPyAxIDogYiA9PSBJbmZpbml0eSA/IC0xIDogKGEgLSBiKSAvIChleHAoeCkgKyBleHAoLXgpKTtcbiAgfVxufSk7XG4iLCIvLyAyMC4yLjIuMzQgTWF0aC50cnVuYyh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICB0cnVuYzogZnVuY3Rpb24gdHJ1bmMoaXQpIHtcbiAgICByZXR1cm4gKGl0ID4gMCA/IE1hdGguZmxvb3IgOiBNYXRoLmNlaWwpKGl0KTtcbiAgfVxufSk7XG4iLCIvLyAyMC4xLjIuMSBOdW1iZXIuRVBTSUxPTlxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdOdW1iZXInLCB7IEVQU0lMT046IE1hdGgucG93KDIsIC01MikgfSk7XG4iLCIvLyAyMC4xLjIuMiBOdW1iZXIuaXNGaW5pdGUobnVtYmVyKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBfaXNGaW5pdGUgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5pc0Zpbml0ZTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdOdW1iZXInLCB7XG4gIGlzRmluaXRlOiBmdW5jdGlvbiBpc0Zpbml0ZShpdCkge1xuICAgIHJldHVybiB0eXBlb2YgaXQgPT0gJ251bWJlcicgJiYgX2lzRmluaXRlKGl0KTtcbiAgfVxufSk7XG4iLCIvLyAyMC4xLjIuMyBOdW1iZXIuaXNJbnRlZ2VyKG51bWJlcilcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTnVtYmVyJywgeyBpc0ludGVnZXI6IHJlcXVpcmUoJy4vX2lzLWludGVnZXInKSB9KTtcbiIsIi8vIDIwLjEuMi40IE51bWJlci5pc05hTihudW1iZXIpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ051bWJlcicsIHtcbiAgaXNOYU46IGZ1bmN0aW9uIGlzTmFOKG51bWJlcikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICByZXR1cm4gbnVtYmVyICE9IG51bWJlcjtcbiAgfVxufSk7XG4iLCIvLyAyMC4xLjIuNSBOdW1iZXIuaXNTYWZlSW50ZWdlcihudW1iZXIpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGlzSW50ZWdlciA9IHJlcXVpcmUoJy4vX2lzLWludGVnZXInKTtcbnZhciBhYnMgPSBNYXRoLmFicztcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdOdW1iZXInLCB7XG4gIGlzU2FmZUludGVnZXI6IGZ1bmN0aW9uIGlzU2FmZUludGVnZXIobnVtYmVyKSB7XG4gICAgcmV0dXJuIGlzSW50ZWdlcihudW1iZXIpICYmIGFicyhudW1iZXIpIDw9IDB4MWZmZmZmZmZmZmZmZmY7XG4gIH1cbn0pO1xuIiwiLy8gMjAuMS4yLjYgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTnVtYmVyJywgeyBNQVhfU0FGRV9JTlRFR0VSOiAweDFmZmZmZmZmZmZmZmZmIH0pO1xuIiwiLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ051bWJlcicsIHsgTUlOX1NBRkVfSU5URUdFUjogLTB4MWZmZmZmZmZmZmZmZmYgfSk7XG4iLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7IGFzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpIH0pO1xuIiwiLy8gMTkuMS4yLjUgT2JqZWN0LmZyZWV6ZShPKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgbWV0YSA9IHJlcXVpcmUoJy4vX21ldGEnKS5vbkZyZWV6ZTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdmcmVlemUnLCBmdW5jdGlvbiAoJGZyZWV6ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gZnJlZXplKGl0KSB7XG4gICAgcmV0dXJuICRmcmVlemUgJiYgaXNPYmplY3QoaXQpID8gJGZyZWV6ZShtZXRhKGl0KSkgOiBpdDtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlOYW1lcycsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpLmY7XG59KTtcbiIsIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcbiIsIi8vIDE5LjEuMi4xMSBPYmplY3QuaXNFeHRlbnNpYmxlKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdpc0V4dGVuc2libGUnLCBmdW5jdGlvbiAoJGlzRXh0ZW5zaWJsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gaXNFeHRlbnNpYmxlKGl0KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/ICRpc0V4dGVuc2libGUgPyAkaXNFeHRlbnNpYmxlKGl0KSA6IHRydWUgOiBmYWxzZTtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnaXNGcm96ZW4nLCBmdW5jdGlvbiAoJGlzRnJvemVuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpc0Zyb3plbihpdCkge1xuICAgIHJldHVybiBpc09iamVjdChpdCkgPyAkaXNGcm96ZW4gPyAkaXNGcm96ZW4oaXQpIDogZmFsc2UgOiB0cnVlO1xuICB9O1xufSk7XG4iLCIvLyAxOS4xLjIuMTMgT2JqZWN0LmlzU2VhbGVkKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdpc1NlYWxlZCcsIGZ1bmN0aW9uICgkaXNTZWFsZWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGlzU2VhbGVkKGl0KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/ICRpc1NlYWxlZCA/ICRpc1NlYWxlZChpdCkgOiBmYWxzZSA6IHRydWU7XG4gIH07XG59KTtcbiIsIi8vIDE5LjEuMy4xMCBPYmplY3QuaXModmFsdWUxLCB2YWx1ZTIpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IGlzOiByZXF1aXJlKCcuL19zYW1lLXZhbHVlJykgfSk7XG4iLCIvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdrZXlzJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24ga2V5cyhpdCkge1xuICAgIHJldHVybiAka2V5cyh0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG4iLCIvLyAxOS4xLjIuMTUgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBtZXRhID0gcmVxdWlyZSgnLi9fbWV0YScpLm9uRnJlZXplO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ3ByZXZlbnRFeHRlbnNpb25zJywgZnVuY3Rpb24gKCRwcmV2ZW50RXh0ZW5zaW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoaXQpIHtcbiAgICByZXR1cm4gJHByZXZlbnRFeHRlbnNpb25zICYmIGlzT2JqZWN0KGl0KSA/ICRwcmV2ZW50RXh0ZW5zaW9ucyhtZXRhKGl0KSkgOiBpdDtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4yLjE3IE9iamVjdC5zZWFsKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBtZXRhID0gcmVxdWlyZSgnLi9fbWV0YScpLm9uRnJlZXplO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ3NlYWwnLCBmdW5jdGlvbiAoJHNlYWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHNlYWwoaXQpIHtcbiAgICByZXR1cm4gJHNlYWwgJiYgaXNPYmplY3QoaXQpID8gJHNlYWwobWV0YShpdCkpIDogaXQ7XG4gIH07XG59KTtcbiIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IHNldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXQgfSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciB0YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG52YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi9fdXNlci1hZ2VudCcpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG52YXIgUFJPTUlTRSA9ICdQcm9taXNlJztcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucztcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4IHx8ICcnO1xudmFyICRQcm9taXNlID0gZ2xvYmFsW1BST01JU0VdO1xudmFyIGlzTm9kZSA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xudmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIEludGVybmFsLCBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIE93blByb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSA9ICRQcm9taXNlLnJlc29sdmUoMSk7XG4gICAgdmFyIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbiAoZXhlYykge1xuICAgICAgZXhlYyhlbXB0eSwgZW1wdHkpO1xuICAgIH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZVxuICAgICAgLy8gdjggNi42IChOb2RlIDEwIGFuZCBDaHJvbWUgNjYpIGhhdmUgYSBidWcgd2l0aCByZXNvbHZpbmcgY3VzdG9tIHRoZW5hYmxlc1xuICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG4gICAgICAvLyB3ZSBjYW4ndCBkZXRlY3QgaXQgc3luY2hyb25vdXNseSwgc28ganVzdCBjaGVjayB2ZXJzaW9uc1xuICAgICAgJiYgdjguaW5kZXhPZignNi42JykgIT09IDBcbiAgICAgICYmIHVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUvNjYnKSA9PT0gLTE7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAocHJvbWlzZSwgaXNSZWplY3QpIHtcbiAgaWYgKHByb21pc2UuX24pIHJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgb2sgPSBwcm9taXNlLl9zID09IDE7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbiAocmVhY3Rpb24pIHtcbiAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7XG4gICAgICB2YXIgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmU7XG4gICAgICB2YXIgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0O1xuICAgICAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjtcbiAgICAgIHZhciByZXN1bHQsIHRoZW4sIGV4aXRlZDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgaWYgKHByb21pc2UuX2ggPT0gMikgb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHRydWUpIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTsgLy8gbWF5IHRocm93XG4gICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICAgIGV4aXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2UpIHtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZG9tYWluICYmICFleGl0ZWQpIGRvbWFpbi5leGl0KCk7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKSBydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpIG9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgdW5oYW5kbGVkID0gaXNVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgdmFyIHJlc3VsdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZiAodW5oYW5kbGVkKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pIHtcbiAgICAgICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmICh1bmhhbmRsZWQgJiYgcmVzdWx0LmUpIHRocm93IHJlc3VsdC52O1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICByZXR1cm4gcHJvbWlzZS5faCAhPT0gMSAmJiAocHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jKS5sZW5ndGggPT09IDA7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpIHtcbiAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3YgfSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYgKCFwcm9taXNlLl9hKSBwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgdmFyIHRoZW47XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgJHJlamVjdC5jYWxsKHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpKCRQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9hKSB0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX3MpIG5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBPd25Qcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCA9IGN0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcbiAgfTtcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gJFByb21pc2UgfHwgQyA9PT0gV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFByb21pc2U6ICRQcm9taXNlIH0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKTtcbiAgICB2YXIgJCRyZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoTElCUkFSWSAmJiB0aGlzID09PSBXcmFwcGVyID8gJFByb21pc2UgOiB0aGlzLCB4KTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7XG4gICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyICRpbmRleCA9IGluZGV4Kys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiIsIi8vIDI2LjEuMSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciByQXBwbHkgPSAocmVxdWlyZSgnLi9fZ2xvYmFsJykuUmVmbGVjdCB8fCB7fSkuYXBwbHk7XG52YXIgZkFwcGx5ID0gRnVuY3Rpb24uYXBwbHk7XG4vLyBNUyBFZGdlIGFyZ3VtZW50c0xpc3QgYXJndW1lbnQgaXMgb3B0aW9uYWxcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByQXBwbHkoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pLCAnUmVmbGVjdCcsIHtcbiAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KSB7XG4gICAgdmFyIFQgPSBhRnVuY3Rpb24odGFyZ2V0KTtcbiAgICB2YXIgTCA9IGFuT2JqZWN0KGFyZ3VtZW50c0xpc3QpO1xuICAgIHJldHVybiByQXBwbHkgPyByQXBwbHkoVCwgdGhpc0FyZ3VtZW50LCBMKSA6IGZBcHBseS5jYWxsKFQsIHRoaXNBcmd1bWVudCwgTCk7XG4gIH1cbn0pO1xuIiwiLy8gMjYuMS4yIFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCwgYXJndW1lbnRzTGlzdCBbLCBuZXdUYXJnZXRdKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vX2JpbmQnKTtcbnZhciByQ29uc3RydWN0ID0gKHJlcXVpcmUoJy4vX2dsb2JhbCcpLlJlZmxlY3QgfHwge30pLmNvbnN0cnVjdDtcblxuLy8gTVMgRWRnZSBzdXBwb3J0cyBvbmx5IDIgYXJndW1lbnRzIGFuZCBhcmd1bWVudHNMaXN0IGFyZ3VtZW50IGlzIG9wdGlvbmFsXG4vLyBGRiBOaWdodGx5IHNldHMgdGhpcmQgYXJndW1lbnQgYXMgYG5ldy50YXJnZXRgLCBidXQgZG9lcyBub3QgY3JlYXRlIGB0aGlzYCBmcm9tIGl0XG52YXIgTkVXX1RBUkdFVF9CVUcgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuICEockNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sIFtdLCBGKSBpbnN0YW5jZW9mIEYpO1xufSk7XG52YXIgQVJHU19CVUcgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICByQ29uc3RydWN0KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTkVXX1RBUkdFVF9CVUcgfHwgQVJHU19CVUcpLCAnUmVmbGVjdCcsIHtcbiAgY29uc3RydWN0OiBmdW5jdGlvbiBjb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzIC8qICwgbmV3VGFyZ2V0ICovKSB7XG4gICAgYUZ1bmN0aW9uKFRhcmdldCk7XG4gICAgYW5PYmplY3QoYXJncyk7XG4gICAgdmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gVGFyZ2V0IDogYUZ1bmN0aW9uKGFyZ3VtZW50c1syXSk7XG4gICAgaWYgKEFSR1NfQlVHICYmICFORVdfVEFSR0VUX0JVRykgcmV0dXJuIHJDb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpO1xuICAgIGlmIChUYXJnZXQgPT0gbmV3VGFyZ2V0KSB7XG4gICAgICAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIG9wdGltaXphdGlvbiBmb3IgMC00IGFyZ3VtZW50c1xuICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgVGFyZ2V0KCk7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICB9XG4gICAgICAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIGxvdCBvZiBhcmd1bWVudHMgY2FzZVxuICAgICAgdmFyICRhcmdzID0gW251bGxdO1xuICAgICAgJGFyZ3MucHVzaC5hcHBseSgkYXJncywgYXJncyk7XG4gICAgICByZXR1cm4gbmV3IChiaW5kLmFwcGx5KFRhcmdldCwgJGFyZ3MpKSgpO1xuICAgIH1cbiAgICAvLyB3aXRoIGFsdGVyZWQgbmV3VGFyZ2V0LCBub3Qgc3VwcG9ydCBidWlsdC1pbiBjb25zdHJ1Y3RvcnNcbiAgICB2YXIgcHJvdG8gPSBuZXdUYXJnZXQucHJvdG90eXBlO1xuICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZShpc09iamVjdChwcm90bykgPyBwcm90byA6IE9iamVjdC5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBGdW5jdGlvbi5hcHBseS5jYWxsKFRhcmdldCwgaW5zdGFuY2UsIGFyZ3MpO1xuICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogaW5zdGFuY2U7XG4gIH1cbn0pO1xuIiwiLy8gMjYuMS4zIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcylcbnZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG5cbi8vIE1TIEVkZ2UgaGFzIGJyb2tlbiBSZWZsZWN0LmRlZmluZVByb3BlcnR5IC0gdGhyb3dpbmcgaW5zdGVhZCBvZiByZXR1cm5pbmcgZmFsc2VcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGRQLmYoe30sIDEsIHsgdmFsdWU6IDEgfSksIDEsIHsgdmFsdWU6IDIgfSk7XG59KSwgJ1JlZmxlY3QnLCB7XG4gIGRlZmluZVByb3BlcnR5OiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgYW5PYmplY3QodGFyZ2V0KTtcbiAgICBwcm9wZXJ0eUtleSA9IHRvUHJpbWl0aXZlKHByb3BlcnR5S2V5LCB0cnVlKTtcbiAgICBhbk9iamVjdChhdHRyaWJ1dGVzKTtcbiAgICB0cnkge1xuICAgICAgZFAuZih0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiLy8gMjYuMS40IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgZ09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbiBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgdmFyIGRlc2MgPSBnT1BEKGFuT2JqZWN0KHRhcmdldCksIHByb3BlcnR5S2V5KTtcbiAgICByZXR1cm4gZGVzYyAmJiAhZGVzYy5jb25maWd1cmFibGUgPyBmYWxzZSA6IGRlbGV0ZSB0YXJnZXRbcHJvcGVydHlLZXldO1xuICB9XG59KTtcbiIsIi8vIDI2LjEuNyBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5S2V5KVxudmFyIGdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gZ09QRC5mKGFuT2JqZWN0KHRhcmdldCksIHByb3BlcnR5S2V5KTtcbiAgfVxufSk7XG4iLCIvLyAyNi4xLjggUmVmbGVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGdldFByb3RvID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVmbGVjdCcsIHtcbiAgZ2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKHRhcmdldCkge1xuICAgIHJldHVybiBnZXRQcm90byhhbk9iamVjdCh0YXJnZXQpKTtcbiAgfVxufSk7XG4iLCIvLyAyNi4xLjYgUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSBbLCByZWNlaXZlcl0pXG52YXIgZ09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcblxuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcHJvcGVydHlLZXkgLyogLCByZWNlaXZlciAqLykge1xuICB2YXIgcmVjZWl2ZXIgPSBhcmd1bWVudHMubGVuZ3RoIDwgMyA/IHRhcmdldCA6IGFyZ3VtZW50c1syXTtcbiAgdmFyIGRlc2MsIHByb3RvO1xuICBpZiAoYW5PYmplY3QodGFyZ2V0KSA9PT0gcmVjZWl2ZXIpIHJldHVybiB0YXJnZXRbcHJvcGVydHlLZXldO1xuICBpZiAoZGVzYyA9IGdPUEQuZih0YXJnZXQsIHByb3BlcnR5S2V5KSkgcmV0dXJuIGhhcyhkZXNjLCAndmFsdWUnKVxuICAgID8gZGVzYy52YWx1ZVxuICAgIDogZGVzYy5nZXQgIT09IHVuZGVmaW5lZFxuICAgICAgPyBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIGlmIChpc09iamVjdChwcm90byA9IGdldFByb3RvdHlwZU9mKHRhcmdldCkpKSByZXR1cm4gZ2V0KHByb3RvLCBwcm9wZXJ0eUtleSwgcmVjZWl2ZXIpO1xufVxuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7IGdldDogZ2V0IH0pO1xuIiwiLy8gMjYuMS45IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcGVydHlLZXkpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGhhczogZnVuY3Rpb24gaGFzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gcHJvcGVydHlLZXkgaW4gdGFyZ2V0O1xuICB9XG59KTtcbiIsIi8vIDI2LjEuMTAgUmVmbGVjdC5pc0V4dGVuc2libGUodGFyZ2V0KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyICRpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGlzRXh0ZW5zaWJsZTogZnVuY3Rpb24gaXNFeHRlbnNpYmxlKHRhcmdldCkge1xuICAgIGFuT2JqZWN0KHRhcmdldCk7XG4gICAgcmV0dXJuICRpc0V4dGVuc2libGUgPyAkaXNFeHRlbnNpYmxlKHRhcmdldCkgOiB0cnVlO1xuICB9XG59KTtcbiIsIi8vIDI2LjEuMTEgUmVmbGVjdC5vd25LZXlzKHRhcmdldClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVmbGVjdCcsIHsgb3duS2V5czogcmVxdWlyZSgnLi9fb3duLWtleXMnKSB9KTtcbiIsIi8vIDI2LjEuMTIgUmVmbGVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgJHByZXZlbnRFeHRlbnNpb25zID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpIHtcbiAgICBhbk9iamVjdCh0YXJnZXQpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoJHByZXZlbnRFeHRlbnNpb25zKSAkcHJldmVudEV4dGVuc2lvbnModGFyZ2V0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiLy8gMjYuMS4xNCBSZWZsZWN0LnNldFByb3RvdHlwZU9mKHRhcmdldCwgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHNldFByb3RvID0gcmVxdWlyZSgnLi9fc2V0LXByb3RvJyk7XG5cbmlmIChzZXRQcm90bykgJGV4cG9ydCgkZXhwb3J0LlMsICdSZWZsZWN0Jywge1xuICBzZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90bykge1xuICAgIHNldFByb3RvLmNoZWNrKHRhcmdldCwgcHJvdG8pO1xuICAgIHRyeSB7XG4gICAgICBzZXRQcm90by5zZXQodGFyZ2V0LCBwcm90byk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTtcbiIsIi8vIDI2LjEuMTMgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSwgViBbLCByZWNlaXZlcl0pXG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5cbmZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5S2V5LCBWIC8qICwgcmVjZWl2ZXIgKi8pIHtcbiAgdmFyIHJlY2VpdmVyID0gYXJndW1lbnRzLmxlbmd0aCA8IDQgPyB0YXJnZXQgOiBhcmd1bWVudHNbM107XG4gIHZhciBvd25EZXNjID0gZ09QRC5mKGFuT2JqZWN0KHRhcmdldCksIHByb3BlcnR5S2V5KTtcbiAgdmFyIGV4aXN0aW5nRGVzY3JpcHRvciwgcHJvdG87XG4gIGlmICghb3duRGVzYykge1xuICAgIGlmIChpc09iamVjdChwcm90byA9IGdldFByb3RvdHlwZU9mKHRhcmdldCkpKSB7XG4gICAgICByZXR1cm4gc2V0KHByb3RvLCBwcm9wZXJ0eUtleSwgViwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBvd25EZXNjID0gY3JlYXRlRGVzYygwKTtcbiAgfVxuICBpZiAoaGFzKG93bkRlc2MsICd2YWx1ZScpKSB7XG4gICAgaWYgKG93bkRlc2Mud3JpdGFibGUgPT09IGZhbHNlIHx8ICFpc09iamVjdChyZWNlaXZlcikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoZXhpc3RpbmdEZXNjcmlwdG9yID0gZ09QRC5mKHJlY2VpdmVyLCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgIGlmIChleGlzdGluZ0Rlc2NyaXB0b3IuZ2V0IHx8IGV4aXN0aW5nRGVzY3JpcHRvci5zZXQgfHwgZXhpc3RpbmdEZXNjcmlwdG9yLndyaXRhYmxlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgZXhpc3RpbmdEZXNjcmlwdG9yLnZhbHVlID0gVjtcbiAgICAgIGRQLmYocmVjZWl2ZXIsIHByb3BlcnR5S2V5LCBleGlzdGluZ0Rlc2NyaXB0b3IpO1xuICAgIH0gZWxzZSBkUC5mKHJlY2VpdmVyLCBwcm9wZXJ0eUtleSwgY3JlYXRlRGVzYygwLCBWKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG93bkRlc2Muc2V0ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IChvd25EZXNjLnNldC5jYWxsKHJlY2VpdmVyLCBWKSwgdHJ1ZSk7XG59XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVmbGVjdCcsIHsgc2V0OiBzZXQgfSk7XG4iLCIvLyAyMS4yLjUuMyBnZXQgUmVnRXhwLnByb3RvdHlwZS5mbGFncygpXG5pZiAocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAvLi9nLmZsYWdzICE9ICdnJykgcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZihSZWdFeHAucHJvdG90eXBlLCAnZmxhZ3MnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZ2V0OiByZXF1aXJlKCcuL19mbGFncycpXG59KTtcbiIsIi8vIEBAbWF0Y2ggbG9naWNcbnJlcXVpcmUoJy4vX2ZpeC1yZS13a3MnKSgnbWF0Y2gnLCAxLCBmdW5jdGlvbiAoZGVmaW5lZCwgTUFUQ0gsICRtYXRjaCkge1xuICAvLyAyMS4xLjMuMTEgU3RyaW5nLnByb3RvdHlwZS5tYXRjaChyZWdleHApXG4gIHJldHVybiBbZnVuY3Rpb24gbWF0Y2gocmVnZXhwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICB2YXIgZm4gPSByZWdleHAgPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogcmVnZXhwW01BVENIXTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IGZuLmNhbGwocmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtNQVRDSF0oU3RyaW5nKE8pKTtcbiAgfSwgJG1hdGNoXTtcbn0pO1xuIiwiLy8gQEByZXBsYWNlIGxvZ2ljXG5yZXF1aXJlKCcuL19maXgtcmUtd2tzJykoJ3JlcGxhY2UnLCAyLCBmdW5jdGlvbiAoZGVmaW5lZCwgUkVQTEFDRSwgJHJlcGxhY2UpIHtcbiAgLy8gMjEuMS4zLjE0IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKVxuICByZXR1cm4gW2Z1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTyA9IGRlZmluZWQodGhpcyk7XG4gICAgdmFyIGZuID0gc2VhcmNoVmFsdWUgPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogc2VhcmNoVmFsdWVbUkVQTEFDRV07XG4gICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWRcbiAgICAgID8gZm4uY2FsbChzZWFyY2hWYWx1ZSwgTywgcmVwbGFjZVZhbHVlKVxuICAgICAgOiAkcmVwbGFjZS5jYWxsKFN0cmluZyhPKSwgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gIH0sICRyZXBsYWNlXTtcbn0pO1xuIiwiLy8gQEBzZWFyY2ggbG9naWNcbnJlcXVpcmUoJy4vX2ZpeC1yZS13a3MnKSgnc2VhcmNoJywgMSwgZnVuY3Rpb24gKGRlZmluZWQsIFNFQVJDSCwgJHNlYXJjaCkge1xuICAvLyAyMS4xLjMuMTUgU3RyaW5nLnByb3RvdHlwZS5zZWFyY2gocmVnZXhwKVxuICByZXR1cm4gW2Z1bmN0aW9uIHNlYXJjaChyZWdleHApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgIHZhciBmbiA9IHJlZ2V4cCA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZWdleHBbU0VBUkNIXTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IGZuLmNhbGwocmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtTRUFSQ0hdKFN0cmluZyhPKSk7XG4gIH0sICRzZWFyY2hdO1xufSk7XG4iLCIvLyBAQHNwbGl0IGxvZ2ljXG5yZXF1aXJlKCcuL19maXgtcmUtd2tzJykoJ3NwbGl0JywgMiwgZnVuY3Rpb24gKGRlZmluZWQsIFNQTElULCAkc3BsaXQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaXNSZWdFeHAgPSByZXF1aXJlKCcuL19pcy1yZWdleHAnKTtcbiAgdmFyIF9zcGxpdCA9ICRzcGxpdDtcbiAgdmFyICRwdXNoID0gW10ucHVzaDtcbiAgdmFyICRTUExJVCA9ICdzcGxpdCc7XG4gIHZhciBMRU5HVEggPSAnbGVuZ3RoJztcbiAgdmFyIExBU1RfSU5ERVggPSAnbGFzdEluZGV4JztcbiAgaWYgKFxuICAgICdhYmJjJ1skU1BMSVRdKC8oYikqLylbMV0gPT0gJ2MnIHx8XG4gICAgJ3Rlc3QnWyRTUExJVF0oLyg/OikvLCAtMSlbTEVOR1RIXSAhPSA0IHx8XG4gICAgJ2FiJ1skU1BMSVRdKC8oPzphYikqLylbTEVOR1RIXSAhPSAyIHx8XG4gICAgJy4nWyRTUExJVF0oLyguPykoLj8pLylbTEVOR1RIXSAhPSA0IHx8XG4gICAgJy4nWyRTUExJVF0oLygpKCkvKVtMRU5HVEhdID4gMSB8fFxuICAgICcnWyRTUExJVF0oLy4/LylbTEVOR1RIXVxuICApIHtcbiAgICB2YXIgTlBDRyA9IC8oKT8/Ly5leGVjKCcnKVsxXSA9PT0gdW5kZWZpbmVkOyAvLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cFxuICAgIC8vIGJhc2VkIG9uIGVzNS1zaGltIGltcGxlbWVudGF0aW9uLCBuZWVkIHRvIHJld29yayBpdFxuICAgICRzcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkICYmIGxpbWl0ID09PSAwKSByZXR1cm4gW107XG4gICAgICAvLyBJZiBgc2VwYXJhdG9yYCBpcyBub3QgYSByZWdleCwgdXNlIG5hdGl2ZSBzcGxpdFxuICAgICAgaWYgKCFpc1JlZ0V4cChzZXBhcmF0b3IpKSByZXR1cm4gX3NwbGl0LmNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgIHZhciBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLm11bHRpbGluZSA/ICdtJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgPyAneScgOiAnJyk7XG4gICAgICB2YXIgbGFzdExhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgc3BsaXRMaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyA0Mjk0OTY3Mjk1IDogbGltaXQgPj4+IDA7XG4gICAgICAvLyBNYWtlIGBnbG9iYWxgIGFuZCBhdm9pZCBgbGFzdEluZGV4YCBpc3N1ZXMgYnkgd29ya2luZyB3aXRoIGEgY29weVxuICAgICAgdmFyIHNlcGFyYXRvckNvcHkgPSBuZXcgUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIGZsYWdzICsgJ2cnKTtcbiAgICAgIHZhciBzZXBhcmF0b3IyLCBtYXRjaCwgbGFzdEluZGV4LCBsYXN0TGVuZ3RoLCBpO1xuICAgICAgLy8gRG9lc24ndCBuZWVkIGZsYWdzIGd5LCBidXQgdGhleSBkb24ndCBodXJ0XG4gICAgICBpZiAoIU5QQ0cpIHNlcGFyYXRvcjIgPSBuZXcgUmVnRXhwKCdeJyArIHNlcGFyYXRvckNvcHkuc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgICB3aGlsZSAobWF0Y2ggPSBzZXBhcmF0b3JDb3B5LmV4ZWMoc3RyaW5nKSkge1xuICAgICAgICAvLyBgc2VwYXJhdG9yQ29weS5sYXN0SW5kZXhgIGlzIG5vdCByZWxpYWJsZSBjcm9zcy1icm93c2VyXG4gICAgICAgIGxhc3RJbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF1bTEVOR1RIXTtcbiAgICAgICAgaWYgKGxhc3RJbmRleCA+IGxhc3RMYXN0SW5kZXgpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICAvLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYCBmb3IgTlBDR1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb29wLWZ1bmNcbiAgICAgICAgICBpZiAoIU5QQ0cgJiYgbWF0Y2hbTEVOR1RIXSA+IDEpIG1hdGNoWzBdLnJlcGxhY2Uoc2VwYXJhdG9yMiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50c1tMRU5HVEhdIC0gMjsgaSsrKSBpZiAoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChtYXRjaFtMRU5HVEhdID4gMSAmJiBtYXRjaC5pbmRleCA8IHN0cmluZ1tMRU5HVEhdKSAkcHVzaC5hcHBseShvdXRwdXQsIG1hdGNoLnNsaWNlKDEpKTtcbiAgICAgICAgICBsYXN0TGVuZ3RoID0gbWF0Y2hbMF1bTEVOR1RIXTtcbiAgICAgICAgICBsYXN0TGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgIGlmIChvdXRwdXRbTEVOR1RIXSA+PSBzcGxpdExpbWl0KSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXSA9PT0gbWF0Y2guaW5kZXgpIHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWF0rKzsgLy8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgfVxuICAgICAgaWYgKGxhc3RMYXN0SW5kZXggPT09IHN0cmluZ1tMRU5HVEhdKSB7XG4gICAgICAgIGlmIChsYXN0TGVuZ3RoIHx8ICFzZXBhcmF0b3JDb3B5LnRlc3QoJycpKSBvdXRwdXQucHVzaCgnJyk7XG4gICAgICB9IGVsc2Ugb3V0cHV0LnB1c2goc3RyaW5nLnNsaWNlKGxhc3RMYXN0SW5kZXgpKTtcbiAgICAgIHJldHVybiBvdXRwdXRbTEVOR1RIXSA+IHNwbGl0TGltaXQgPyBvdXRwdXQuc2xpY2UoMCwgc3BsaXRMaW1pdCkgOiBvdXRwdXQ7XG4gICAgfTtcbiAgLy8gQ2hha3JhLCBWOFxuICB9IGVsc2UgaWYgKCcwJ1skU1BMSVRdKHVuZGVmaW5lZCwgMClbTEVOR1RIXSkge1xuICAgICRzcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICByZXR1cm4gc2VwYXJhdG9yID09PSB1bmRlZmluZWQgJiYgbGltaXQgPT09IDAgPyBbXSA6IF9zcGxpdC5jYWxsKHRoaXMsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH07XG4gIH1cbiAgLy8gMjEuMS4zLjE3IFN0cmluZy5wcm90b3R5cGUuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdClcbiAgcmV0dXJuIFtmdW5jdGlvbiBzcGxpdChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgIHZhciBmbiA9IHNlcGFyYXRvciA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZXBhcmF0b3JbU1BMSVRdO1xuICAgIHJldHVybiBmbiAhPT0gdW5kZWZpbmVkID8gZm4uY2FsbChzZXBhcmF0b3IsIE8sIGxpbWl0KSA6ICRzcGxpdC5jYWxsKFN0cmluZyhPKSwgc2VwYXJhdG9yLCBsaW1pdCk7XG4gIH0sICRzcGxpdF07XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBzdHJvbmcgPSByZXF1aXJlKCcuL19jb2xsZWN0aW9uLXN0cm9uZycpO1xudmFyIHZhbGlkYXRlID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIFNFVCA9ICdTZXQnO1xuXG4vLyAyMy4yIFNldCBPYmplY3RzXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24nKShTRVQsIGZ1bmN0aW9uIChnZXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFNldCgpIHsgcmV0dXJuIGdldCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7IH07XG59LCB7XG4gIC8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKVxuICBhZGQ6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgIHJldHVybiBzdHJvbmcuZGVmKHZhbGlkYXRlKHRoaXMsIFNFVCksIHZhbHVlID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWUsIHZhbHVlKTtcbiAgfVxufSwgc3Ryb25nKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGF0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykoZmFsc2UpO1xuJGV4cG9ydCgkZXhwb3J0LlAsICdTdHJpbmcnLCB7XG4gIC8vIDIxLjEuMy4zIFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQocG9zKVxuICBjb2RlUG9pbnRBdDogZnVuY3Rpb24gY29kZVBvaW50QXQocG9zKSB7XG4gICAgcmV0dXJuICRhdCh0aGlzLCBwb3MpO1xuICB9XG59KTtcbiIsIi8vIDIxLjEuMy42IFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGgoc2VhcmNoU3RyaW5nIFssIGVuZFBvc2l0aW9uXSlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjb250ZXh0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWNvbnRleHQnKTtcbnZhciBFTkRTX1dJVEggPSAnZW5kc1dpdGgnO1xudmFyICRlbmRzV2l0aCA9ICcnW0VORFNfV0lUSF07XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMtaXMtcmVnZXhwJykoRU5EU19XSVRIKSwgJ1N0cmluZycsIHtcbiAgZW5kc1dpdGg6IGZ1bmN0aW9uIGVuZHNXaXRoKHNlYXJjaFN0cmluZyAvKiAsIGVuZFBvc2l0aW9uID0gQGxlbmd0aCAqLykge1xuICAgIHZhciB0aGF0ID0gY29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIEVORFNfV0lUSCk7XG4gICAgdmFyIGVuZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxlbiA9IHRvTGVuZ3RoKHRoYXQubGVuZ3RoKTtcbiAgICB2YXIgZW5kID0gZW5kUG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IGxlbiA6IE1hdGgubWluKHRvTGVuZ3RoKGVuZFBvc2l0aW9uKSwgbGVuKTtcbiAgICB2YXIgc2VhcmNoID0gU3RyaW5nKHNlYXJjaFN0cmluZyk7XG4gICAgcmV0dXJuICRlbmRzV2l0aFxuICAgICAgPyAkZW5kc1dpdGguY2FsbCh0aGF0LCBzZWFyY2gsIGVuZClcbiAgICAgIDogdGhhdC5zbGljZShlbmQgLSBzZWFyY2gubGVuZ3RoLCBlbmQpID09PSBzZWFyY2g7XG4gIH1cbn0pO1xuIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG52YXIgJGZyb21Db2RlUG9pbnQgPSBTdHJpbmcuZnJvbUNvZGVQb2ludDtcblxuLy8gbGVuZ3RoIHNob3VsZCBiZSAxLCBvbGQgRkYgcHJvYmxlbVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoISEkZnJvbUNvZGVQb2ludCAmJiAkZnJvbUNvZGVQb2ludC5sZW5ndGggIT0gMSksICdTdHJpbmcnLCB7XG4gIC8vIDIxLjEuMi4yIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpXG4gIGZyb21Db2RlUG9pbnQ6IGZ1bmN0aW9uIGZyb21Db2RlUG9pbnQoeCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGNvZGU7XG4gICAgd2hpbGUgKGFMZW4gPiBpKSB7XG4gICAgICBjb2RlID0gK2FyZ3VtZW50c1tpKytdO1xuICAgICAgaWYgKHRvQWJzb2x1dGVJbmRleChjb2RlLCAweDEwZmZmZikgIT09IGNvZGUpIHRocm93IFJhbmdlRXJyb3IoY29kZSArICcgaXMgbm90IGEgdmFsaWQgY29kZSBwb2ludCcpO1xuICAgICAgcmVzLnB1c2goY29kZSA8IDB4MTAwMDBcbiAgICAgICAgPyBmcm9tQ2hhckNvZGUoY29kZSlcbiAgICAgICAgOiBmcm9tQ2hhckNvZGUoKChjb2RlIC09IDB4MTAwMDApID4+IDEwKSArIDB4ZDgwMCwgY29kZSAlIDB4NDAwICsgMHhkYzAwKVxuICAgICAgKTtcbiAgICB9IHJldHVybiByZXMuam9pbignJyk7XG4gIH1cbn0pO1xuIiwiLy8gMjEuMS4zLjcgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcsIHBvc2l0aW9uID0gMClcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29udGV4dCA9IHJlcXVpcmUoJy4vX3N0cmluZy1jb250ZXh0Jyk7XG52YXIgSU5DTFVERVMgPSAnaW5jbHVkZXMnO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzLWlzLXJlZ2V4cCcpKElOQ0xVREVTKSwgJ1N0cmluZycsIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiAsIHBvc2l0aW9uID0gMCAqLykge1xuICAgIHJldHVybiAhIX5jb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgSU5DTFVERVMpXG4gICAgICAuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4yLjQgU3RyaW5nLnJhdyhjYWxsU2l0ZSwgLi4uc3Vic3RpdHV0aW9ucylcbiAgcmF3OiBmdW5jdGlvbiByYXcoY2FsbFNpdGUpIHtcbiAgICB2YXIgdHBsID0gdG9JT2JqZWN0KGNhbGxTaXRlLnJhdyk7XG4gICAgdmFyIGxlbiA9IHRvTGVuZ3RoKHRwbC5sZW5ndGgpO1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChsZW4gPiBpKSB7XG4gICAgICByZXMucHVzaChTdHJpbmcodHBsW2krK10pKTtcbiAgICAgIGlmIChpIDwgYUxlbikgcmVzLnB1c2goU3RyaW5nKGFyZ3VtZW50c1tpXSkpO1xuICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcbiAgfVxufSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KVxuICByZXBlYXQ6IHJlcXVpcmUoJy4vX3N0cmluZy1yZXBlYXQnKVxufSk7XG4iLCIvLyAyMS4xLjMuMTggU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdKVxuJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGNvbnRleHQgPSByZXF1aXJlKCcuL19zdHJpbmctY29udGV4dCcpO1xudmFyIFNUQVJUU19XSVRIID0gJ3N0YXJ0c1dpdGgnO1xudmFyICRzdGFydHNXaXRoID0gJydbU1RBUlRTX1dJVEhdO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzLWlzLXJlZ2V4cCcpKFNUQVJUU19XSVRIKSwgJ1N0cmluZycsIHtcbiAgc3RhcnRzV2l0aDogZnVuY3Rpb24gc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcgLyogLCBwb3NpdGlvbiA9IDAgKi8pIHtcbiAgICB2YXIgdGhhdCA9IGNvbnRleHQodGhpcywgc2VhcmNoU3RyaW5nLCBTVEFSVFNfV0lUSCk7XG4gICAgdmFyIGluZGV4ID0gdG9MZW5ndGgoTWF0aC5taW4oYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQsIHRoYXQubGVuZ3RoKSk7XG4gICAgdmFyIHNlYXJjaCA9IFN0cmluZyhzZWFyY2hTdHJpbmcpO1xuICAgIHJldHVybiAkc3RhcnRzV2l0aFxuICAgICAgPyAkc3RhcnRzV2l0aC5jYWxsKHRoYXQsIHNlYXJjaCwgaW5kZXgpXG4gICAgICA6IHRoYXQuc2xpY2UoaW5kZXgsIGluZGV4ICsgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgTUVUQSA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVk7XG52YXIgJGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIHdrc0RlZmluZSA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKTtcbnZhciBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIF9jcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZ09QTkV4dCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpO1xudmFyICRHT1BEID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKTtcbnZhciAkRFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QRCA9ICRHT1BELmY7XG52YXIgZFAgPSAkRFAuZjtcbnZhciBnT1BOID0gZ09QTkV4dC5mO1xudmFyICRTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyICRKU09OID0gZ2xvYmFsLkpTT047XG52YXIgX3N0cmluZ2lmeSA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBISURERU4gPSB3a3MoJ19oaWRkZW4nKTtcbnZhciBUT19QUklNSVRJVkUgPSB3a3MoJ3RvUHJpbWl0aXZlJyk7XG52YXIgaXNFbnVtID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpO1xudmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQoJ3N5bWJvbHMnKTtcbnZhciBPUFN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdFtQUk9UT1RZUEVdO1xudmFyIFVTRV9OQVRJVkUgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmIChERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKSB7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBTeW1ib2w6ICRTeW1ib2wgfSk7XG5cbmZvciAodmFyIGVzNlN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaiA9IDA7IGVzNlN5bWJvbHMubGVuZ3RoID4gajspd2tzKGVzNlN5bWJvbHNbaisrXSk7XG5cbmZvciAodmFyIHdlbGxLbm93blN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBrID0gMDsgd2VsbEtub3duU3ltYm9scy5sZW5ndGggPiBrOykgd2tzRGVmaW5lKHdlbGxLbm93blN5bWJvbHNbaysrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3Ioc3ltICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gICAgZm9yICh2YXIga2V5IGluIFN5bWJvbFJlZ2lzdHJ5KSBpZiAoU3ltYm9sUmVnaXN0cnlba2V5XSA9PT0gc3ltKSByZXR1cm4ga2V5O1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkdHlwZWQgPSByZXF1aXJlKCcuL190eXBlZCcpO1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJy4vX3R5cGVkLWJ1ZmZlcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgQXJyYXlCdWZmZXIgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5BcnJheUJ1ZmZlcjtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgJEFycmF5QnVmZmVyID0gYnVmZmVyLkFycmF5QnVmZmVyO1xudmFyICREYXRhVmlldyA9IGJ1ZmZlci5EYXRhVmlldztcbnZhciAkaXNWaWV3ID0gJHR5cGVkLkFCViAmJiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG52YXIgJHNsaWNlID0gJEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZTtcbnZhciBWSUVXID0gJHR5cGVkLlZJRVc7XG52YXIgQVJSQVlfQlVGRkVSID0gJ0FycmF5QnVmZmVyJztcblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAoQXJyYXlCdWZmZXIgIT09ICRBcnJheUJ1ZmZlciksIHsgQXJyYXlCdWZmZXI6ICRBcnJheUJ1ZmZlciB9KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhJHR5cGVkLkNPTlNUUiwgQVJSQVlfQlVGRkVSLCB7XG4gIC8vIDI0LjEuMy4xIEFycmF5QnVmZmVyLmlzVmlldyhhcmcpXG4gIGlzVmlldzogZnVuY3Rpb24gaXNWaWV3KGl0KSB7XG4gICAgcmV0dXJuICRpc1ZpZXcgJiYgJGlzVmlldyhpdCkgfHwgaXNPYmplY3QoaXQpICYmIFZJRVcgaW4gaXQ7XG4gIH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuVSArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gIW5ldyAkQXJyYXlCdWZmZXIoMikuc2xpY2UoMSwgdW5kZWZpbmVkKS5ieXRlTGVuZ3RoO1xufSksIEFSUkFZX0JVRkZFUiwge1xuICAvLyAyNC4xLjQuMyBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2Uoc3RhcnQsIGVuZClcbiAgc2xpY2U6IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoJHNsaWNlICE9PSB1bmRlZmluZWQgJiYgZW5kID09PSB1bmRlZmluZWQpIHJldHVybiAkc2xpY2UuY2FsbChhbk9iamVjdCh0aGlzKSwgc3RhcnQpOyAvLyBGRiBmaXhcbiAgICB2YXIgbGVuID0gYW5PYmplY3QodGhpcykuYnl0ZUxlbmd0aDtcbiAgICB2YXIgZmlyc3QgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbik7XG4gICAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleChlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IGVuZCwgbGVuKTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IChzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgJEFycmF5QnVmZmVyKSkodG9MZW5ndGgoZmluIC0gZmlyc3QpKTtcbiAgICB2YXIgdmlld1MgPSBuZXcgJERhdGFWaWV3KHRoaXMpO1xuICAgIHZhciB2aWV3VCA9IG5ldyAkRGF0YVZpZXcocmVzdWx0KTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHdoaWxlIChmaXJzdCA8IGZpbikge1xuICAgICAgdmlld1Quc2V0VWludDgoaW5kZXgrKywgdmlld1MuZ2V0VWludDgoZmlyc3QrKykpO1xuICAgIH0gcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG5cbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoQVJSQVlfQlVGRkVSKTtcbiIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ0Zsb2F0MzInLCA0LCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gRmxvYXQzMkFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTtcbiIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ0Zsb2F0NjQnLCA4LCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gRmxvYXQ2NEFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTtcbiIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ0ludDE2JywgMiwgZnVuY3Rpb24gKGluaXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIEludDE2QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi9fdHlwZWQtYXJyYXknKSgnSW50MzInLCA0LCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gSW50MzJBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICB9O1xufSk7XG4iLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdJbnQ4JywgMSwgZnVuY3Rpb24gKGluaXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIEludDhBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICB9O1xufSk7XG4iLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdVaW50MTYnLCAyLCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gVWludDE2QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi9fdHlwZWQtYXJyYXknKSgnVWludDMyJywgNCwgZnVuY3Rpb24gKGluaXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFVpbnQzMkFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTtcbiIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ1VpbnQ4JywgMSwgZnVuY3Rpb24gKGluaXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFVpbnQ4QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi9fdHlwZWQtYXJyYXknKSgnVWludDgnLCAxLCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gVWludDhDbGFtcGVkQXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0sIHRydWUpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGVhY2ggPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMCk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIG1ldGEgPSByZXF1aXJlKCcuL19tZXRhJyk7XG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpO1xudmFyIHdlYWsgPSByZXF1aXJlKCcuL19jb2xsZWN0aW9uLXdlYWsnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vX3ZhbGlkYXRlLWNvbGxlY3Rpb24nKTtcbnZhciBXRUFLX01BUCA9ICdXZWFrTWFwJztcbnZhciBnZXRXZWFrID0gbWV0YS5nZXRXZWFrO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IHdlYWsudWZzdG9yZTtcbnZhciB0bXAgPSB7fTtcbnZhciBJbnRlcm5hbE1hcDtcblxudmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoZ2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgIHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICB9O1xufTtcblxudmFyIG1ldGhvZHMgPSB7XG4gIC8vIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG4gIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgIGlmIChkYXRhID09PSB0cnVlKSByZXR1cm4gdW5jYXVnaHRGcm96ZW5TdG9yZSh2YWxpZGF0ZSh0aGlzLCBXRUFLX01BUCkpLmdldChrZXkpO1xuICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhW3RoaXMuX2ldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gd2Vhay5kZWYodmFsaWRhdGUodGhpcywgV0VBS19NQVApLCBrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuLy8gMjMuMyBXZWFrTWFwIE9iamVjdHNcbnZhciAkV2Vha01hcCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKFdFQUtfTUFQLCB3cmFwcGVyLCBtZXRob2RzLCB3ZWFrLCB0cnVlLCB0cnVlKTtcblxuLy8gSUUxMSBXZWFrTWFwIGZyb3plbiBrZXlzIGZpeFxuaWYgKGZhaWxzKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyAkV2Vha01hcCgpLnNldCgoT2JqZWN0LmZyZWV6ZSB8fCBPYmplY3QpKHRtcCksIDcpLmdldCh0bXApICE9IDc7IH0pKSB7XG4gIEludGVybmFsTWFwID0gd2Vhay5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCBXRUFLX01BUCk7XG4gIGFzc2lnbihJbnRlcm5hbE1hcC5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICBtZXRhLk5FRUQgPSB0cnVlO1xuICBlYWNoKFsnZGVsZXRlJywgJ2hhcycsICdnZXQnLCAnc2V0J10sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcHJvdG8gPSAkV2Vha01hcC5wcm90b3R5cGU7XG4gICAgdmFyIG1ldGhvZCA9IHByb3RvW2tleV07XG4gICAgcmVkZWZpbmUocHJvdG8sIGtleSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIC8vIHN0b3JlIGZyb3plbiBvYmplY3RzIG9uIGludGVybmFsIHdlYWttYXAgc2hpbVxuICAgICAgaWYgKGlzT2JqZWN0KGEpICYmICFpc0V4dGVuc2libGUoYSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mKSB0aGlzLl9mID0gbmV3IEludGVybmFsTWFwKCk7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9mW2tleV0oYSwgYik7XG4gICAgICAgIHJldHVybiBrZXkgPT0gJ3NldCcgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgLy8gc3RvcmUgYWxsIHRoZSByZXN0IG9uIG5hdGl2ZSB3ZWFrbWFwXG4gICAgICB9IHJldHVybiBtZXRob2QuY2FsbCh0aGlzLCBhLCBiKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgd2VhayA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24td2VhaycpO1xudmFyIHZhbGlkYXRlID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIFdFQUtfU0VUID0gJ1dlYWtTZXQnO1xuXG4vLyAyMy40IFdlYWtTZXQgT2JqZWN0c1xucmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKFdFQUtfU0VULCBmdW5jdGlvbiAoZ2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBXZWFrU2V0KCkgeyByZXR1cm4gZ2V0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcbn0sIHtcbiAgLy8gMjMuNC4zLjEgV2Vha1NldC5wcm90b3R5cGUuYWRkKHZhbHVlKVxuICBhZGQ6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgIHJldHVybiB3ZWFrLmRlZih2YWxpZGF0ZSh0aGlzLCBXRUFLX1NFVCksIHZhbHVlLCB0cnVlKTtcbiAgfVxufSwgd2VhaywgZmFsc2UsIHRydWUpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRpbmNsdWRlcyA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykodHJ1ZSk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnQXJyYXknLCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhlbCAvKiAsIGZyb21JbmRleCA9IDAgKi8pIHtcbiAgICByZXR1cm4gJGluY2x1ZGVzKHRoaXMsIGVsLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5yZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKSgnaW5jbHVkZXMnKTtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkZW50cmllcyA9IHJlcXVpcmUoJy4vX29iamVjdC10by1hcnJheScpKHRydWUpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtcbiAgZW50cmllczogZnVuY3Rpb24gZW50cmllcyhpdCkge1xuICAgIHJldHVybiAkZW50cmllcyhpdCk7XG4gIH1cbn0pO1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgb3duS2V5cyA9IHJlcXVpcmUoJy4vX293bi1rZXlzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iamVjdCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gICAgdmFyIGdldERlc2MgPSBnT1BELmY7XG4gICAgdmFyIGtleXMgPSBvd25LZXlzKE8pO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleSwgZGVzYztcbiAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiBpKSB7XG4gICAgICBkZXNjID0gZ2V0RGVzYyhPLCBrZXkgPSBrZXlzW2krK10pO1xuICAgICAgaWYgKGRlc2MgIT09IHVuZGVmaW5lZCkgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBrZXksIGRlc2MpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkdmFsdWVzID0gcmVxdWlyZSgnLi9fb2JqZWN0LXRvLWFycmF5JykoZmFsc2UpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtcbiAgdmFsdWVzOiBmdW5jdGlvbiB2YWx1ZXMoaXQpIHtcbiAgICByZXR1cm4gJHZhbHVlcyhpdCk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmRcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJHBhZCA9IHJlcXVpcmUoJy4vX3N0cmluZy1wYWQnKTtcbnZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuL191c2VyLWFnZW50Jyk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8yODBcbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogL1ZlcnNpb25cXC8xMFxcLlxcZCsoXFwuXFxkKyk/IFNhZmFyaVxcLy8udGVzdCh1c2VyQWdlbnQpLCAnU3RyaW5nJywge1xuICBwYWRFbmQ6IGZ1bmN0aW9uIHBhZEVuZChtYXhMZW5ndGggLyogLCBmaWxsU3RyaW5nID0gJyAnICovKSB7XG4gICAgcmV0dXJuICRwYWQodGhpcywgbWF4TGVuZ3RoLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgZmFsc2UpO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRwYWQgPSByZXF1aXJlKCcuL19zdHJpbmctcGFkJyk7XG52YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi9fdXNlci1hZ2VudCcpO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIC9WZXJzaW9uXFwvMTBcXC5cXGQrKFxcLlxcZCspPyBTYWZhcmlcXC8vLnRlc3QodXNlckFnZW50KSwgJ1N0cmluZycsIHtcbiAgcGFkU3RhcnQ6IGZ1bmN0aW9uIHBhZFN0YXJ0KG1heExlbmd0aCAvKiAsIGZpbGxTdHJpbmcgPSAnICcgKi8pIHtcbiAgICByZXR1cm4gJHBhZCh0aGlzLCBtYXhMZW5ndGgsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxufSk7XG4iLCJ2YXIgJGl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgSVRFUkFUT1IgPSB3a3MoJ2l0ZXJhdG9yJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHdrcygndG9TdHJpbmdUYWcnKTtcbnZhciBBcnJheVZhbHVlcyA9IEl0ZXJhdG9ycy5BcnJheTtcblxudmFyIERPTUl0ZXJhYmxlcyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBDU1NTdHlsZURlY2xhcmF0aW9uOiBmYWxzZSxcbiAgQ1NTVmFsdWVMaXN0OiBmYWxzZSxcbiAgQ2xpZW50UmVjdExpc3Q6IGZhbHNlLFxuICBET01SZWN0TGlzdDogZmFsc2UsXG4gIERPTVN0cmluZ0xpc3Q6IGZhbHNlLFxuICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiBmYWxzZSxcbiAgRmlsZUxpc3Q6IGZhbHNlLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogZmFsc2UsXG4gIEhUTUxDb2xsZWN0aW9uOiBmYWxzZSxcbiAgSFRNTEZvcm1FbGVtZW50OiBmYWxzZSxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IGZhbHNlLFxuICBNZWRpYUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBNaW1lVHlwZUFycmF5OiBmYWxzZSxcbiAgTmFtZWROb2RlTWFwOiBmYWxzZSxcbiAgTm9kZUxpc3Q6IHRydWUsXG4gIFBhaW50UmVxdWVzdExpc3Q6IGZhbHNlLFxuICBQbHVnaW46IGZhbHNlLFxuICBQbHVnaW5BcnJheTogZmFsc2UsXG4gIFNWR0xlbmd0aExpc3Q6IGZhbHNlLFxuICBTVkdOdW1iZXJMaXN0OiBmYWxzZSxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IGZhbHNlLFxuICBTVkdQb2ludExpc3Q6IGZhbHNlLFxuICBTVkdTdHJpbmdMaXN0OiBmYWxzZSxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogZmFsc2UsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IGZhbHNlLFxuICBTdHlsZVNoZWV0TGlzdDogdHJ1ZSwgLy8gVE9ETzogTm90IHNwZWMgY29tcGxpYW50LCBzaG91bGQgYmUgZmFsc2UuXG4gIFRleHRUcmFja0N1ZUxpc3Q6IGZhbHNlLFxuICBUZXh0VHJhY2tMaXN0OiBmYWxzZSxcbiAgVG91Y2hMaXN0OiBmYWxzZVxufTtcblxuZm9yICh2YXIgY29sbGVjdGlvbnMgPSBnZXRLZXlzKERPTUl0ZXJhYmxlcyksIGkgPSAwOyBpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBjb2xsZWN0aW9uc1tpXTtcbiAgdmFyIGV4cGxpY2l0ID0gRE9NSXRlcmFibGVzW05BTUVdO1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXTtcbiAgdmFyIHByb3RvID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIGtleTtcbiAgaWYgKHByb3RvKSB7XG4gICAgaWYgKCFwcm90b1tJVEVSQVRPUl0pIGhpZGUocHJvdG8sIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG4gICAgaWYgKCFwcm90b1tUT19TVFJJTkdfVEFHXSkgaGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gICAgSXRlcmF0b3JzW05BTUVdID0gQXJyYXlWYWx1ZXM7XG4gICAgaWYgKGV4cGxpY2l0KSBmb3IgKGtleSBpbiAkaXRlcmF0b3JzKSBpZiAoIXByb3RvW2tleV0pIHJlZGVmaW5lKHByb3RvLCBrZXksICRpdGVyYXRvcnNba2V5XSwgdHJ1ZSk7XG4gIH1cbn1cbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJHRhc2sgPSByZXF1aXJlKCcuL190YXNrJyk7XG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuQiwge1xuICBzZXRJbW1lZGlhdGU6ICR0YXNrLnNldCxcbiAgY2xlYXJJbW1lZGlhdGU6ICR0YXNrLmNsZWFyXG59KTtcbiIsIi8vIGllOS0gc2V0VGltZW91dCAmIHNldEludGVydmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi9fdXNlci1hZ2VudCcpO1xudmFyIHNsaWNlID0gW10uc2xpY2U7XG52YXIgTVNJRSA9IC9NU0lFIC5cXC4vLnRlc3QodXNlckFnZW50KTsgLy8gPC0gZGlydHkgaWU5LSBjaGVja1xudmFyIHdyYXAgPSBmdW5jdGlvbiAoc2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZm4sIHRpbWUgLyogLCAuLi5hcmdzICovKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIHZhciBhcmdzID0gYm91bmRBcmdzID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogZmFsc2U7XG4gICAgcmV0dXJuIHNldChib3VuZEFyZ3MgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgICh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IDogZm4sIHRpbWUpO1xuICB9O1xufTtcbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5CICsgJGV4cG9ydC5GICogTVNJRSwge1xuICBzZXRUaW1lb3V0OiB3cmFwKGdsb2JhbC5zZXRUaW1lb3V0KSxcbiAgc2V0SW50ZXJ2YWw6IHdyYXAoZ2xvYmFsLnNldEludGVydmFsKVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzID0gcmVxdWlyZSgnb2JqZWN0LWtleXMnKTtcbnZhciBmb3JlYWNoID0gcmVxdWlyZSgnZm9yZWFjaCcpO1xudmFyIGhhc1N5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2woKSA9PT0gJ3N5bWJvbCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKGZuKSB7XG5cdHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgdG9TdHIuY2FsbChmbikgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG52YXIgYXJlUHJvcGVydHlEZXNjcmlwdG9yc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIG9iaiA9IHt9O1xuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICd4JywgeyBlbnVtZXJhYmxlOiBmYWxzZSwgdmFsdWU6IG9iaiB9KTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMsIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG4gICAgICAgIGZvciAodmFyIF8gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzLCBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXHRcdHJldHVybiBvYmoueCA9PT0gb2JqO1xuXHR9IGNhdGNoIChlKSB7IC8qIHRoaXMgaXMgSUUgOC4gKi9cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG52YXIgc3VwcG9ydHNEZXNjcmlwdG9ycyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBhcmVQcm9wZXJ0eURlc2NyaXB0b3JzU3VwcG9ydGVkKCk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlLCBwcmVkaWNhdGUpIHtcblx0aWYgKG5hbWUgaW4gb2JqZWN0ICYmICghaXNGdW5jdGlvbihwcmVkaWNhdGUpIHx8ICFwcmVkaWNhdGUoKSkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYgKHN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0b2JqZWN0W25hbWVdID0gdmFsdWU7XG5cdH1cbn07XG5cbnZhciBkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iamVjdCwgbWFwKSB7XG5cdHZhciBwcmVkaWNhdGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB7fTtcblx0dmFyIHByb3BzID0ga2V5cyhtYXApO1xuXHRpZiAoaGFzU3ltYm9scykge1xuXHRcdHByb3BzID0gcHJvcHMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWFwKSk7XG5cdH1cblx0Zm9yZWFjaChwcm9wcywgZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIG1hcFtuYW1lXSwgcHJlZGljYXRlc1tuYW1lXSk7XG5cdH0pO1xufTtcblxuZGVmaW5lUHJvcGVydGllcy5zdXBwb3J0c0Rlc2NyaXB0b3JzID0gISFzdXBwb3J0c0Rlc2NyaXB0b3JzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnRpZXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpO1xudmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoeyB0b1N0cmluZzogbnVsbCB9LCAndG9TdHJpbmcnKTtcbnZhciBoYXNQcm90b0VudW1CdWcgPSBpc0VudW1lcmFibGUuY2FsbChmdW5jdGlvbiAoKSB7fSwgJ3Byb3RvdHlwZScpO1xudmFyIGRvbnRFbnVtcyA9IFtcblx0J3RvU3RyaW5nJyxcblx0J3RvTG9jYWxlU3RyaW5nJyxcblx0J3ZhbHVlT2YnLFxuXHQnaGFzT3duUHJvcGVydHknLFxuXHQnaXNQcm90b3R5cGVPZicsXG5cdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdCdjb25zdHJ1Y3Rvcidcbl07XG52YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAobykge1xuXHR2YXIgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cdHJldHVybiBjdG9yICYmIGN0b3IucHJvdG90eXBlID09PSBvO1xufTtcbnZhciBleGNsdWRlZEtleXMgPSB7XG5cdCRhcHBsaWNhdGlvbkNhY2hlOiB0cnVlLFxuXHQkY29uc29sZTogdHJ1ZSxcblx0JGV4dGVybmFsOiB0cnVlLFxuXHQkZnJhbWU6IHRydWUsXG5cdCRmcmFtZUVsZW1lbnQ6IHRydWUsXG5cdCRmcmFtZXM6IHRydWUsXG5cdCRpbm5lckhlaWdodDogdHJ1ZSxcblx0JGlubmVyV2lkdGg6IHRydWUsXG5cdCRvdXRlckhlaWdodDogdHJ1ZSxcblx0JG91dGVyV2lkdGg6IHRydWUsXG5cdCRwYWdlWE9mZnNldDogdHJ1ZSxcblx0JHBhZ2VZT2Zmc2V0OiB0cnVlLFxuXHQkcGFyZW50OiB0cnVlLFxuXHQkc2Nyb2xsTGVmdDogdHJ1ZSxcblx0JHNjcm9sbFRvcDogdHJ1ZSxcblx0JHNjcm9sbFg6IHRydWUsXG5cdCRzY3JvbGxZOiB0cnVlLFxuXHQkc2VsZjogdHJ1ZSxcblx0JHdlYmtpdEluZGV4ZWREQjogdHJ1ZSxcblx0JHdlYmtpdFN0b3JhZ2VJbmZvOiB0cnVlLFxuXHQkd2luZG93OiB0cnVlXG59O1xudmFyIGhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1ZyA9IChmdW5jdGlvbiAoKSB7XG5cdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRmb3IgKHZhciBrIGluIHdpbmRvdykge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIWV4Y2x1ZGVkS2V5c1snJCcgKyBrXSAmJiBoYXMuY2FsbCh3aW5kb3csIGspICYmIHdpbmRvd1trXSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93W2tdID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59KCkpO1xudmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneSA9IGZ1bmN0aW9uIChvKSB7XG5cdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcpIHtcblx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdH1cblx0dHJ5IHtcblx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG5cbnZhciBrZXlzU2hpbSA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdHZhciBpc09iamVjdCA9IG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jztcblx0dmFyIGlzRnVuY3Rpb24gPSB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdHZhciBpc0FyZ3VtZW50cyA9IGlzQXJncyhvYmplY3QpO1xuXHR2YXIgaXNTdHJpbmcgPSBpc09iamVjdCAmJiB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHR2YXIgdGhlS2V5cyA9IFtdO1xuXG5cdGlmICghaXNPYmplY3QgJiYgIWlzRnVuY3Rpb24gJiYgIWlzQXJndW1lbnRzKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCcpO1xuXHR9XG5cblx0dmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uO1xuXHRpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGlzQXJndW1lbnRzICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBvYmplY3QubGVuZ3RoOyArK2opIHtcblx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaikpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuXHRcdFx0aWYgKCEoc2tpcFByb3RvICYmIG5hbWUgPT09ICdwcm90b3R5cGUnKSAmJiBoYXMuY2FsbChvYmplY3QsIG5hbWUpKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChoYXNEb250RW51bUJ1Zykge1xuXHRcdHZhciBza2lwQ29uc3RydWN0b3IgPSBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kob2JqZWN0KTtcblxuXHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7XG5cdFx0XHRpZiAoIShza2lwQ29uc3RydWN0b3IgJiYgZG9udEVudW1zW2tdID09PSAnY29uc3RydWN0b3InKSAmJiBoYXMuY2FsbChvYmplY3QsIGRvbnRFbnVtc1trXSkpIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGVLZXlzO1xufTtcblxua2V5c1NoaW0uc2hpbSA9IGZ1bmN0aW9uIHNoaW1PYmplY3RLZXlzKCkge1xuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0XHR2YXIga2V5c1dvcmtzV2l0aEFyZ3VtZW50cyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTYWZhcmkgNS4wIGJ1Z1xuXHRcdFx0cmV0dXJuIChPYmplY3Qua2V5cyhhcmd1bWVudHMpIHx8ICcnKS5sZW5ndGggPT09IDI7XG5cdFx0fSgxLCAyKSk7XG5cdFx0aWYgKCFrZXlzV29ya3NXaXRoQXJndW1lbnRzKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWxLZXlzID0gT2JqZWN0LmtleXM7XG5cdFx0XHRPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG5cdFx0XHRcdGlmIChpc0FyZ3Mob2JqZWN0KSkge1xuXHRcdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMoc2xpY2UuY2FsbChvYmplY3QpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKG9iamVjdCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdE9iamVjdC5rZXlzID0ga2V5c1NoaW07XG5cdH1cblx0cmV0dXJuIE9iamVjdC5rZXlzIHx8IGtleXNTaGltO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuXHR2YXIgc3RyID0gdG9TdHIuY2FsbCh2YWx1ZSk7XG5cdHZhciBpc0FyZ3MgPSBzdHIgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHRpZiAoIWlzQXJncykge1xuXHRcdGlzQXJncyA9IHN0ciAhPT0gJ1tvYmplY3QgQXJyYXldJyAmJlxuXHRcdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInICYmXG5cdFx0XHR2YWx1ZS5sZW5ndGggPj0gMCAmJlxuXHRcdFx0dG9TdHIuY2FsbCh2YWx1ZS5jYWxsZWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdHJldHVybiBpc0FyZ3M7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWxzXG5cdFNldCxcblx0TWFwLFxuXHRXZWFrU2V0LFxuXHRXZWFrTWFwLFxuXG5cdFByb21pc2UsXG5cblx0U3ltYm9sLFxuXHRQcm94eSxcblxuXHRBdG9taWNzLFxuXHRTaGFyZWRBcnJheUJ1ZmZlcixcblxuXHRBcnJheUJ1ZmZlcixcblx0RGF0YVZpZXcsXG5cdFVpbnQ4QXJyYXksXG5cdEZsb2F0MzJBcnJheSxcblx0RmxvYXQ2NEFycmF5LFxuXHRJbnQ4QXJyYXksXG5cdEludDE2QXJyYXksXG5cdEludDMyQXJyYXksXG5cdFVpbnQ4Q2xhbXBlZEFycmF5LFxuXHRVaW50MTZBcnJheSxcblx0VWludDMyQXJyYXksXG4qL1xuXG52YXIgdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNoYWRvdy1yZXN0cmljdGVkLW5hbWVzXG5cbnZhciBUaHJvd1R5cGVFcnJvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcblx0PyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7IH0oKSlcblx0OiBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoKTsgfTtcblxudmFyIGhhc1N5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnO1xuXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguX19wcm90b19fOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG5cbnZhciBnZW5lcmF0b3I7IC8vID0gZnVuY3Rpb24gKiAoKSB7fTtcbnZhciBnZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvciA/IGdldFByb3RvKGdlbmVyYXRvcikgOiB1bmRlZmluZWQ7XG52YXIgYXN5bmNGbjsgLy8gYXN5bmMgZnVuY3Rpb24oKSB7fTtcbnZhciBhc3luY0Z1bmN0aW9uID0gYXN5bmNGbiA/IGFzeW5jRm4uY29uc3RydWN0b3IgOiB1bmRlZmluZWQ7XG52YXIgYXN5bmNHZW47IC8vIGFzeW5jIGZ1bmN0aW9uICogKCkge307XG52YXIgYXN5bmNHZW5GdW5jdGlvbiA9IGFzeW5jR2VuID8gZ2V0UHJvdG8oYXN5bmNHZW4pIDogdW5kZWZpbmVkO1xudmFyIGFzeW5jR2VuSXRlcmF0b3IgPSBhc3luY0dlbiA/IGFzeW5jR2VuKCkgOiB1bmRlZmluZWQ7XG5cbnZhciBUeXBlZEFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8oVWludDhBcnJheSk7XG5cbnZhciBJTlRSSU5TSUNTID0ge1xuXHQnJCAlQXJyYXklJzogQXJyYXksXG5cdCckICVBcnJheUJ1ZmZlciUnOiB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXJyYXlCdWZmZXIsXG5cdCckICVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXJyYXlCdWZmZXIucHJvdG90eXBlLFxuXHQnJCAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHVuZGVmaW5lZCxcblx0JyQgJUFycmF5UHJvdG90eXBlJSc6IEFycmF5LnByb3RvdHlwZSxcblx0JyQgJUFycmF5UHJvdG9fZW50cmllcyUnOiBBcnJheS5wcm90b3R5cGUuZW50cmllcyxcblx0JyQgJUFycmF5UHJvdG9fZm9yRWFjaCUnOiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCxcblx0JyQgJUFycmF5UHJvdG9fa2V5cyUnOiBBcnJheS5wcm90b3R5cGUua2V5cyxcblx0JyQgJUFycmF5UHJvdG9fdmFsdWVzJSc6IEFycmF5LnByb3RvdHlwZS52YWx1ZXMsXG5cdCckICVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlJzogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNGdW5jdGlvbiUnOiBhc3luY0Z1bmN0aW9uLFxuXHQnJCAlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBhc3luY0Z1bmN0aW9uID8gYXN5bmNGdW5jdGlvbi5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG5cdCckICVBc3luY0dlbmVyYXRvciUnOiBhc3luY0dlbiA/IGdldFByb3RvKGFzeW5jR2VuSXRlcmF0b3IpIDogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBhc3luY0dlbkZ1bmN0aW9uLFxuXHQnJCAlQXN5bmNHZW5lcmF0b3JQcm90b3R5cGUlJzogYXN5bmNHZW5GdW5jdGlvbiA/IGFzeW5jR2VuRnVuY3Rpb24ucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBhc3luY0dlbkl0ZXJhdG9yICYmIGhhc1N5bWJvbHMgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgPyBhc3luY0dlbkl0ZXJhdG9yW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIDogdW5kZWZpbmVkLFxuXHQnJCAlQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJCAlQm9vbGVhbiUnOiBCb29sZWFuLFxuXHQnJCAlQm9vbGVhblByb3RvdHlwZSUnOiBCb29sZWFuLnByb3RvdHlwZSxcblx0JyQgJURhdGFWaWV3JSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldyxcblx0JyQgJURhdGFWaWV3UHJvdG90eXBlJSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldy5wcm90b3R5cGUsXG5cdCckICVEYXRlJSc6IERhdGUsXG5cdCckICVEYXRlUHJvdG90eXBlJSc6IERhdGUucHJvdG90eXBlLFxuXHQnJCAlZGVjb2RlVVJJJSc6IGRlY29kZVVSSSxcblx0JyQgJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCckICVlbmNvZGVVUkklJzogZW5jb2RlVVJJLFxuXHQnJCAlZW5jb2RlVVJJQ29tcG9uZW50JSc6IGVuY29kZVVSSUNvbXBvbmVudCxcblx0JyQgJUVycm9yJSc6IEVycm9yLFxuXHQnJCAlRXJyb3JQcm90b3R5cGUlJzogRXJyb3IucHJvdG90eXBlLFxuXHQnJCAlZXZhbCUnOiBldmFsLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcblx0JyQgJUV2YWxFcnJvciUnOiBFdmFsRXJyb3IsXG5cdCckICVFdmFsRXJyb3JQcm90b3R5cGUlJzogRXZhbEVycm9yLnByb3RvdHlwZSxcblx0JyQgJUZsb2F0MzJBcnJheSUnOiB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MzJBcnJheSxcblx0JyQgJUZsb2F0MzJBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MzJBcnJheS5wcm90b3R5cGUsXG5cdCckICVGbG9hdDY0QXJyYXklJzogdHlwZW9mIEZsb2F0NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDY0QXJyYXksXG5cdCckICVGbG9hdDY0QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIEZsb2F0NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDY0QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlRnVuY3Rpb24lJzogRnVuY3Rpb24sXG5cdCckICVGdW5jdGlvblByb3RvdHlwZSUnOiBGdW5jdGlvbi5wcm90b3R5cGUsXG5cdCckICVHZW5lcmF0b3IlJzogZ2VuZXJhdG9yID8gZ2V0UHJvdG8oZ2VuZXJhdG9yKCkpIDogdW5kZWZpbmVkLFxuXHQnJCAlR2VuZXJhdG9yRnVuY3Rpb24lJzogZ2VuZXJhdG9yRnVuY3Rpb24sXG5cdCckICVHZW5lcmF0b3JQcm90b3R5cGUlJzogZ2VuZXJhdG9yRnVuY3Rpb24gPyBnZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG5cdCckICVJbnQ4QXJyYXklJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXksXG5cdCckICVJbnQ4QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlSW50MTZBcnJheSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQxNkFycmF5LFxuXHQnJCAlSW50MTZBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJCAlSW50MzJBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LnByb3RvdHlwZSxcblx0JyQgJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJCAlaXNOYU4lJzogaXNOYU4sXG5cdCckICVJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gZ2V0UHJvdG8oZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkgOiB1bmRlZmluZWQsXG5cdCckICVKU09OJSc6IEpTT04sXG5cdCckICVKU09OUGFyc2UlJzogSlNPTi5wYXJzZSxcblx0JyQgJU1hcCUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE1hcCxcblx0JyQgJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCckICVNYXBQcm90b3R5cGUlJzogdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBNYXAucHJvdG90eXBlLFxuXHQnJCAlTWF0aCUnOiBNYXRoLFxuXHQnJCAlTnVtYmVyJSc6IE51bWJlcixcblx0JyQgJU51bWJlclByb3RvdHlwZSUnOiBOdW1iZXIucHJvdG90eXBlLFxuXHQnJCAlT2JqZWN0JSc6IE9iamVjdCxcblx0JyQgJU9iamVjdFByb3RvdHlwZSUnOiBPYmplY3QucHJvdG90eXBlLFxuXHQnJCAlT2JqUHJvdG9fdG9TdHJpbmclJzogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcblx0JyQgJU9ialByb3RvX3ZhbHVlT2YlJzogT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLFxuXHQnJCAlcGFyc2VGbG9hdCUnOiBwYXJzZUZsb2F0LFxuXHQnJCAlcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCckICVQcm9taXNlJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UsXG5cdCckICVQcm9taXNlUHJvdG90eXBlJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UucHJvdG90eXBlLFxuXHQnJCAlUHJvbWlzZVByb3RvX3RoZW4lJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5wcm90b3R5cGUudGhlbixcblx0JyQgJVByb21pc2VfYWxsJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UuYWxsLFxuXHQnJCAlUHJvbWlzZV9yZWplY3QlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5yZWplY3QsXG5cdCckICVQcm9taXNlX3Jlc29sdmUlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5yZXNvbHZlLFxuXHQnJCAlUHJveHklJzogdHlwZW9mIFByb3h5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb3h5LFxuXHQnJCAlUmFuZ2VFcnJvciUnOiBSYW5nZUVycm9yLFxuXHQnJCAlUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBSYW5nZUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVJlZmVyZW5jZUVycm9yJSc6IFJlZmVyZW5jZUVycm9yLFxuXHQnJCAlUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogUmVmZXJlbmNlRXJyb3IucHJvdG90eXBlLFxuXHQnJCAlUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJCAlUmVnRXhwJSc6IFJlZ0V4cCxcblx0JyQgJVJlZ0V4cFByb3RvdHlwZSUnOiBSZWdFeHAucHJvdG90eXBlLFxuXHQnJCAlU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJCAlU2V0SXRlcmF0b3JQcm90b3R5cGUlJzogdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc1N5bWJvbHMgPyB1bmRlZmluZWQgOiBnZXRQcm90byhuZXcgU2V0KClbU3ltYm9sLml0ZXJhdG9yXSgpKSxcblx0JyQgJVNldFByb3RvdHlwZSUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNldC5wcm90b3R5cGUsXG5cdCckICVTaGFyZWRBcnJheUJ1ZmZlciUnOiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2hhcmVkQXJyYXlCdWZmZXIsXG5cdCckICVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2hhcmVkQXJyYXlCdWZmZXIucHJvdG90eXBlLFxuXHQnJCAlU3RyaW5nJSc6IFN0cmluZyxcblx0JyQgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJCAlU3RyaW5nUHJvdG90eXBlJSc6IFN0cmluZy5wcm90b3R5cGUsXG5cdCckICVTeW1ib2wlJzogaGFzU3ltYm9scyA/IFN5bWJvbCA6IHVuZGVmaW5lZCxcblx0JyQgJVN5bWJvbFByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcblx0JyQgJVN5bnRheEVycm9yJSc6IFN5bnRheEVycm9yLFxuXHQnJCAlU3ludGF4RXJyb3JQcm90b3R5cGUlJzogU3ludGF4RXJyb3IucHJvdG90eXBlLFxuXHQnJCAlVGhyb3dUeXBlRXJyb3IlJzogVGhyb3dUeXBlRXJyb3IsXG5cdCckICVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCckICVUeXBlZEFycmF5UHJvdG90eXBlJSc6IFR5cGVkQXJyYXkgPyBUeXBlZEFycmF5LnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcblx0JyQgJVR5cGVFcnJvciUnOiBUeXBlRXJyb3IsXG5cdCckICVUeXBlRXJyb3JQcm90b3R5cGUlJzogVHlwZUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVVpbnQ4QXJyYXklJzogdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhBcnJheSxcblx0JyQgJVVpbnQ4QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhBcnJheS5wcm90b3R5cGUsXG5cdCckICVVaW50OENsYW1wZWRBcnJheSUnOiB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhDbGFtcGVkQXJyYXksXG5cdCckICVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhDbGFtcGVkQXJyYXkucHJvdG90eXBlLFxuXHQnJCAlVWludDE2QXJyYXklJzogdHlwZW9mIFVpbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQxNkFycmF5LFxuXHQnJCAlVWludDE2QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIFVpbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQxNkFycmF5LnByb3RvdHlwZSxcblx0JyQgJVVpbnQzMkFycmF5JSc6IHR5cGVvZiBVaW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MzJBcnJheSxcblx0JyQgJVVpbnQzMkFycmF5UHJvdG90eXBlJSc6IHR5cGVvZiBVaW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MzJBcnJheS5wcm90b3R5cGUsXG5cdCckICVVUklFcnJvciUnOiBVUklFcnJvcixcblx0JyQgJVVSSUVycm9yUHJvdG90eXBlJSc6IFVSSUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVdlYWtNYXAlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcCxcblx0JyQgJVdlYWtNYXBQcm90b3R5cGUlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcC5wcm90b3R5cGUsXG5cdCckICVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXQsXG5cdCckICVXZWFrU2V0UHJvdG90eXBlJSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXQucHJvdG90eXBlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhbGxvd01pc3NpbmcgIT09ICdib29sZWFuJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYWxsb3dNaXNzaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtcblx0fVxuXG5cdHZhciBrZXkgPSAnJCAnICsgbmFtZTtcblx0aWYgKCEoa2V5IGluIElOVFJJTlNJQ1MpKSB7XG5cdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0IScpO1xuXHR9XG5cblx0Ly8gaXN0YW5idWwgaWdub3JlIGlmIC8vIGhvcGVmdWxseSB0aGlzIGlzIGltcG9zc2libGUgdG8gdGVzdCA6LSlcblx0aWYgKHR5cGVvZiBJTlRSSU5TSUNTW2tleV0gPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHR9XG5cdHJldHVybiBJTlRSSU5TSUNTW2tleV07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgR2V0SW50cmluc2ljID0gcmVxdWlyZSgnLi9HZXRJbnRyaW5zaWMnKTtcblxudmFyICRPYmplY3QgPSBHZXRJbnRyaW5zaWMoJyVPYmplY3QlJyk7XG52YXIgJFR5cGVFcnJvciA9IEdldEludHJpbnNpYygnJVR5cGVFcnJvciUnKTtcbnZhciAkU3RyaW5nID0gR2V0SW50cmluc2ljKCclU3RyaW5nJScpO1xuXG52YXIgJGlzTmFOID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzTmFOJyk7XG52YXIgJGlzRmluaXRlID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzRmluaXRlJyk7XG5cbnZhciBzaWduID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NpZ24nKTtcbnZhciBtb2QgPSByZXF1aXJlKCcuL2hlbHBlcnMvbW9kJyk7XG5cbnZhciBJc0NhbGxhYmxlID0gcmVxdWlyZSgnaXMtY2FsbGFibGUnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJ2VzLXRvLXByaW1pdGl2ZS9lczUnKTtcblxudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xuXG4vLyBodHRwczovL2VzNS5naXRodWIuaW8vI3g5XG52YXIgRVM1ID0ge1xuXHRUb1ByaW1pdGl2ZTogdG9QcmltaXRpdmUsXG5cblx0VG9Cb29sZWFuOiBmdW5jdGlvbiBUb0Jvb2xlYW4odmFsdWUpIHtcblx0XHRyZXR1cm4gISF2YWx1ZTtcblx0fSxcblx0VG9OdW1iZXI6IGZ1bmN0aW9uIFRvTnVtYmVyKHZhbHVlKSB7XG5cdFx0cmV0dXJuICt2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvblxuXHR9LFxuXHRUb0ludGVnZXI6IGZ1bmN0aW9uIFRvSW50ZWdlcih2YWx1ZSkge1xuXHRcdHZhciBudW1iZXIgPSB0aGlzLlRvTnVtYmVyKHZhbHVlKTtcblx0XHRpZiAoJGlzTmFOKG51bWJlcikpIHsgcmV0dXJuIDA7IH1cblx0XHRpZiAobnVtYmVyID09PSAwIHx8ICEkaXNGaW5pdGUobnVtYmVyKSkgeyByZXR1cm4gbnVtYmVyOyB9XG5cdFx0cmV0dXJuIHNpZ24obnVtYmVyKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSk7XG5cdH0sXG5cdFRvSW50MzI6IGZ1bmN0aW9uIFRvSW50MzIoeCkge1xuXHRcdHJldHVybiB0aGlzLlRvTnVtYmVyKHgpID4+IDA7XG5cdH0sXG5cdFRvVWludDMyOiBmdW5jdGlvbiBUb1VpbnQzMih4KSB7XG5cdFx0cmV0dXJuIHRoaXMuVG9OdW1iZXIoeCkgPj4+IDA7XG5cdH0sXG5cdFRvVWludDE2OiBmdW5jdGlvbiBUb1VpbnQxNih2YWx1ZSkge1xuXHRcdHZhciBudW1iZXIgPSB0aGlzLlRvTnVtYmVyKHZhbHVlKTtcblx0XHRpZiAoJGlzTmFOKG51bWJlcikgfHwgbnVtYmVyID09PSAwIHx8ICEkaXNGaW5pdGUobnVtYmVyKSkgeyByZXR1cm4gMDsgfVxuXHRcdHZhciBwb3NJbnQgPSBzaWduKG51bWJlcikgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpO1xuXHRcdHJldHVybiBtb2QocG9zSW50LCAweDEwMDAwKTtcblx0fSxcblx0VG9TdHJpbmc6IGZ1bmN0aW9uIFRvU3RyaW5nKHZhbHVlKSB7XG5cdFx0cmV0dXJuICRTdHJpbmcodmFsdWUpO1xuXHR9LFxuXHRUb09iamVjdDogZnVuY3Rpb24gVG9PYmplY3QodmFsdWUpIHtcblx0XHR0aGlzLkNoZWNrT2JqZWN0Q29lcmNpYmxlKHZhbHVlKTtcblx0XHRyZXR1cm4gJE9iamVjdCh2YWx1ZSk7XG5cdH0sXG5cdENoZWNrT2JqZWN0Q29lcmNpYmxlOiBmdW5jdGlvbiBDaGVja09iamVjdENvZXJjaWJsZSh2YWx1ZSwgb3B0TWVzc2FnZSkge1xuXHRcdC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXHRcdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcihvcHRNZXNzYWdlIHx8ICdDYW5ub3QgY2FsbCBtZXRob2Qgb24gJyArIHZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRJc0NhbGxhYmxlOiBJc0NhbGxhYmxlLFxuXHRTYW1lVmFsdWU6IGZ1bmN0aW9uIFNhbWVWYWx1ZSh4LCB5KSB7XG5cdFx0aWYgKHggPT09IHkpIHsgLy8gMCA9PT0gLTAsIGJ1dCB0aGV5IGFyZSBub3QgaWRlbnRpY2FsLlxuXHRcdFx0aWYgKHggPT09IDApIHsgcmV0dXJuIDEgLyB4ID09PSAxIC8geTsgfVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAkaXNOYU4oeCkgJiYgJGlzTmFOKHkpO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtOFxuXHRUeXBlOiBmdW5jdGlvbiBUeXBlKHgpIHtcblx0XHRpZiAoeCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuICdOdWxsJztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuICdVbmRlZmluZWQnO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gJ09iamVjdCc7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcblx0XHRcdHJldHVybiAnTnVtYmVyJztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB4ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdHJldHVybiAnQm9vbGVhbic7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiAnU3RyaW5nJztcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXByb3BlcnR5LWRlc2NyaXB0b3Itc3BlY2lmaWNhdGlvbi10eXBlXG5cdElzUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiBJc1Byb3BlcnR5RGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHRoaXMuVHlwZShEZXNjKSAhPT0gJ09iamVjdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dmFyIGFsbG93ZWQgPSB7XG5cdFx0XHQnW1tDb25maWd1cmFibGVdXSc6IHRydWUsXG5cdFx0XHQnW1tFbnVtZXJhYmxlXV0nOiB0cnVlLFxuXHRcdFx0J1tbR2V0XV0nOiB0cnVlLFxuXHRcdFx0J1tbU2V0XV0nOiB0cnVlLFxuXHRcdFx0J1tbVmFsdWVdXSc6IHRydWUsXG5cdFx0XHQnW1tXcml0YWJsZV1dJzogdHJ1ZVxuXHRcdH07XG5cdFx0Ly8ganNjczpkaXNhYmxlXG5cdFx0Zm9yICh2YXIga2V5IGluIERlc2MpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdFx0aWYgKGhhcyhEZXNjLCBrZXkpICYmICFhbGxvd2VkW2tleV0pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBqc2NzOmVuYWJsZVxuXHRcdHZhciBpc0RhdGEgPSBoYXMoRGVzYywgJ1tbVmFsdWVdXScpO1xuXHRcdHZhciBJc0FjY2Vzc29yID0gaGFzKERlc2MsICdbW0dldF1dJykgfHwgaGFzKERlc2MsICdbW1NldF1dJyk7XG5cdFx0aWYgKGlzRGF0YSAmJiBJc0FjY2Vzc29yKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignUHJvcGVydHkgRGVzY3JpcHRvcnMgbWF5IG5vdCBiZSBib3RoIGFjY2Vzc29yIGFuZCBkYXRhIGRlc2NyaXB0b3JzJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjFcblx0SXNBY2Nlc3NvckRlc2NyaXB0b3I6IGZ1bmN0aW9uIElzQWNjZXNzb3JEZXNjcmlwdG9yKERlc2MpIHtcblx0XHRpZiAodHlwZW9mIERlc2MgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICghaGFzKERlc2MsICdbW0dldF1dJykgJiYgIWhhcyhEZXNjLCAnW1tTZXRdXScpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTguMTAuMlxuXHRJc0RhdGFEZXNjcmlwdG9yOiBmdW5jdGlvbiBJc0RhdGFEZXNjcmlwdG9yKERlc2MpIHtcblx0XHRpZiAodHlwZW9mIERlc2MgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICghaGFzKERlc2MsICdbW1ZhbHVlXV0nKSAmJiAhaGFzKERlc2MsICdbW1dyaXRhYmxlXV0nKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjNcblx0SXNHZW5lcmljRGVzY3JpcHRvcjogZnVuY3Rpb24gSXNHZW5lcmljRGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHR5cGVvZiBEZXNjID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5Jc1Byb3BlcnR5RGVzY3JpcHRvcihEZXNjKSkge1xuXHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0Rlc2MgbXVzdCBiZSBhIFByb3BlcnR5IERlc2NyaXB0b3InKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuSXNBY2Nlc3NvckRlc2NyaXB0b3IoRGVzYykgJiYgIXRoaXMuSXNEYXRhRGVzY3JpcHRvcihEZXNjKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjRcblx0RnJvbVByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gRnJvbVByb3BlcnR5RGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHR5cGVvZiBEZXNjID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIERlc2M7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLklzRGF0YURlc2NyaXB0b3IoRGVzYykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHZhbHVlOiBEZXNjWydbW1ZhbHVlXV0nXSxcblx0XHRcdFx0d3JpdGFibGU6ICEhRGVzY1snW1tXcml0YWJsZV1dJ10sXG5cdFx0XHRcdGVudW1lcmFibGU6ICEhRGVzY1snW1tFbnVtZXJhYmxlXV0nXSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiAhIURlc2NbJ1tbQ29uZmlndXJhYmxlXV0nXVxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuSXNBY2Nlc3NvckRlc2NyaXB0b3IoRGVzYykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGdldDogRGVzY1snW1tHZXRdXSddLFxuXHRcdFx0XHRzZXQ6IERlc2NbJ1tbU2V0XV0nXSxcblx0XHRcdFx0ZW51bWVyYWJsZTogISFEZXNjWydbW0VudW1lcmFibGVdXSddLFxuXHRcdFx0XHRjb25maWd1cmFibGU6ICEhRGVzY1snW1tDb25maWd1cmFibGVdXSddXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRnJvbVByb3BlcnR5RGVzY3JpcHRvciBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVsbHkgcG9wdWxhdGVkIFByb3BlcnR5IERlc2NyaXB0b3InKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTguMTAuNVxuXHRUb1Byb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gVG9Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqKSB7XG5cdFx0aWYgKHRoaXMuVHlwZShPYmopICE9PSAnT2JqZWN0Jykge1xuXHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1RvUHJvcGVydHlEZXNjcmlwdG9yIHJlcXVpcmVzIGFuIG9iamVjdCcpO1xuXHRcdH1cblxuXHRcdHZhciBkZXNjID0ge307XG5cdFx0aWYgKGhhcyhPYmosICdlbnVtZXJhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbRW51bWVyYWJsZV1dJ10gPSB0aGlzLlRvQm9vbGVhbihPYmouZW51bWVyYWJsZSk7XG5cdFx0fVxuXHRcdGlmIChoYXMoT2JqLCAnY29uZmlndXJhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbQ29uZmlndXJhYmxlXV0nXSA9IHRoaXMuVG9Cb29sZWFuKE9iai5jb25maWd1cmFibGUpO1xuXHRcdH1cblx0XHRpZiAoaGFzKE9iaiwgJ3ZhbHVlJykpIHtcblx0XHRcdGRlc2NbJ1tbVmFsdWVdXSddID0gT2JqLnZhbHVlO1xuXHRcdH1cblx0XHRpZiAoaGFzKE9iaiwgJ3dyaXRhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbV3JpdGFibGVdXSddID0gdGhpcy5Ub0Jvb2xlYW4oT2JqLndyaXRhYmxlKTtcblx0XHR9XG5cdFx0aWYgKGhhcyhPYmosICdnZXQnKSkge1xuXHRcdFx0dmFyIGdldHRlciA9IE9iai5nZXQ7XG5cdFx0XHRpZiAodHlwZW9mIGdldHRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuSXNDYWxsYWJsZShnZXR0ZXIpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2dldHRlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHRcdGRlc2NbJ1tbR2V0XV0nXSA9IGdldHRlcjtcblx0XHR9XG5cdFx0aWYgKGhhcyhPYmosICdzZXQnKSkge1xuXHRcdFx0dmFyIHNldHRlciA9IE9iai5zZXQ7XG5cdFx0XHRpZiAodHlwZW9mIHNldHRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuSXNDYWxsYWJsZShzZXR0ZXIpKSB7XG5cdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdzZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFx0XHR9XG5cdFx0XHRkZXNjWydbW1NldF1dJ10gPSBzZXR0ZXI7XG5cdFx0fVxuXG5cdFx0aWYgKChoYXMoZGVzYywgJ1tbR2V0XV0nKSB8fCBoYXMoZGVzYywgJ1tbU2V0XV0nKSkgJiYgKGhhcyhkZXNjLCAnW1tWYWx1ZV1dJykgfHwgaGFzKGRlc2MsICdbW1dyaXRhYmxlXV0nKSkpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdJbnZhbGlkIHByb3BlcnR5IGRlc2NyaXB0b3IuIENhbm5vdCBib3RoIHNwZWNpZnkgYWNjZXNzb3JzIGFuZCBhIHZhbHVlIG9yIHdyaXRhYmxlIGF0dHJpYnV0ZScpO1xuXHRcdH1cblx0XHRyZXR1cm4gZGVzYztcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFUzU7XG4iLCJ2YXIgJGlzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhICE9PSBhOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE51bWJlci5pc0Zpbml0ZSB8fCBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInICYmICEkaXNOYU4oeCkgJiYgeCAhPT0gSW5maW5pdHkgJiYgeCAhPT0gLUluZmluaXR5OyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gaXNOYU4oYSkge1xuXHRyZXR1cm4gYSAhPT0gYTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1vZChudW1iZXIsIG1vZHVsbykge1xuXHR2YXIgcmVtYWluID0gbnVtYmVyICUgbW9kdWxvO1xuXHRyZXR1cm4gTWF0aC5mbG9vcihyZW1haW4gPj0gMCA/IHJlbWFpbiA6IHJlbWFpbiArIG1vZHVsbyk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaWduKG51bWJlcikge1xuXHRyZXR1cm4gbnVtYmVyID49IDAgPyAxIDogLTE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgaXNQcmltaXRpdmUgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNQcmltaXRpdmUnKTtcblxudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCdpcy1jYWxsYWJsZScpO1xuXG4vLyBodHRwczovL2VzNS5naXRodWIuaW8vI3g4LjEyXG52YXIgRVM1aW50ZXJuYWxTbG90cyA9IHtcblx0J1tbRGVmYXVsdFZhbHVlXV0nOiBmdW5jdGlvbiAoTywgaGludCkge1xuXHRcdHZhciBhY3R1YWxIaW50ID0gaGludCB8fCAodG9TdHIuY2FsbChPKSA9PT0gJ1tvYmplY3QgRGF0ZV0nID8gU3RyaW5nIDogTnVtYmVyKTtcblxuXHRcdGlmIChhY3R1YWxIaW50ID09PSBTdHJpbmcgfHwgYWN0dWFsSGludCA9PT0gTnVtYmVyKSB7XG5cdFx0XHR2YXIgbWV0aG9kcyA9IGFjdHVhbEhpbnQgPT09IFN0cmluZyA/IFsndG9TdHJpbmcnLCAndmFsdWVPZiddIDogWyd2YWx1ZU9mJywgJ3RvU3RyaW5nJ107XG5cdFx0XHR2YXIgdmFsdWUsIGk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZiAoaXNDYWxsYWJsZShPW21ldGhvZHNbaV1dKSkge1xuXHRcdFx0XHRcdHZhbHVlID0gT1ttZXRob2RzW2ldXSgpO1xuXHRcdFx0XHRcdGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGRlZmF1bHQgdmFsdWUnKTtcblx0XHR9XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBbW0RlZmF1bHRWYWx1ZV1dIGhpbnQgc3VwcGxpZWQnKTtcblx0fVxufTtcblxuLy8gaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuXHRpZiAoaXNQcmltaXRpdmUoaW5wdXQpKSB7XG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG5cdHJldHVybiBFUzVpbnRlcm5hbFNsb3RzWydbW0RlZmF1bHRWYWx1ZV1dJ10oaW5wdXQsIFByZWZlcnJlZFR5cGUpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jyk7XG59O1xuIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMS4wXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNvcHkgb3ZlciB0byBhdm9pZCBpbnRlcmZlcmVuY2UgaWYgLm9mZigpIGluIGxpc3RlbmVyXG4gIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgwKTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIGZvciAoIHZhciBpPTA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldXG4gICAgdmFyIGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmFsbE9mZiA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICBkZWxldGUgdGhpcy5fb25jZUV2ZW50cztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCdpcy1jYWxsYWJsZScpO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZvckVhY2hBcnJheSA9IGZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGZvckVhY2hTdHJpbmcgPSBmdW5jdGlvbiBmb3JFYWNoU3RyaW5nKHN0cmluZywgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHN0cmluZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBubyBzdWNoIHRoaW5nIGFzIGEgc3BhcnNlIHN0cmluZy5cbiAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHN0cmluZy5jaGFyQXQoaSksIGksIHN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBzdHJpbmcuY2hhckF0KGkpLCBpLCBzdHJpbmcpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGZvckVhY2hPYmplY3QgPSBmdW5jdGlvbiBmb3JFYWNoT2JqZWN0KG9iamVjdCwgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgayBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihvYmplY3Rba10sIGssIG9iamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwocmVjZWl2ZXIsIG9iamVjdFtrXSwgaywgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgdGhpc0FyZykge1xuICAgIGlmICghaXNDYWxsYWJsZShpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlY2VpdmVyO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgcmVjZWl2ZXIgPSB0aGlzQXJnO1xuICAgIH1cblxuICAgIGlmICh0b1N0ci5jYWxsKGxpc3QpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgcmVjZWl2ZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIHJlY2VpdmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCByZWNlaXZlcik7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoO1xuIiwiXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZm9yRWFjaCAob2JqLCBmbiwgY3R4KSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwoZm4pICE9PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2l0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgbCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGwgPT09ICtsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjdHgsIG9ialtrXSwgaywgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50IG5vLWludmFsaWQtdGhpczogMSAqL1xuXG52YXIgRVJST1JfTUVTU0FHRSA9ICdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmNUeXBlID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKHRoYXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5jYWxsKHRhcmdldCkgIT09IGZ1bmNUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJST1JfTUVTU0FHRSArIHRhcmdldCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgdmFyIGJvdW5kO1xuICAgIHZhciBiaW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYm91bmRMZW5ndGggPSBNYXRoLm1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xuICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm91bmRBcmdzLnB1c2goJyQnICsgaSk7XG4gICAgfVxuXG4gICAgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0nKShiaW5kZXIpO1xuXG4gICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgdmFyIEVtcHR5ID0gZnVuY3Rpb24gRW1wdHkoKSB7fTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XG4gICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4iLCIvKiFcbiAqIGltYWdlc0xvYWRlZCB2NC4xLjRcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHsgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblxuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlLCByZXF1aXJlOiBmYWxzZSAqL1xuXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXJcbiAgICApO1xuICB9XG5cbn0pKCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBmYWN0b3J5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZXh0ZW5kIG9iamVjdHNcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbnZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBpc0FycmF5TGlrZSA9IHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcic7XG4gIGlmICggaXNBcnJheUxpa2UgKSB7XG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxuICAgIHJldHVybiBhcnJheVNsaWNlLmNhbGwoIG9iaiApO1xuICB9XG5cbiAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gIHJldHVybiBbIG9iaiBdO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nfSBlbGVtXG4gKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcbiAgaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgSW1hZ2VzTG9hZGVkICkgKSB7XG4gICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICk7XG4gIH1cbiAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXG4gIHZhciBxdWVyeUVsZW0gPSBlbGVtO1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgIHF1ZXJ5RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcbiAgfVxuICAvLyBiYWlsIGlmIGJhZCBlbGVtZW50XG4gIGlmICggIXF1ZXJ5RWxlbSApIHtcbiAgICBjb25zb2xlLmVycm9yKCAnQmFkIGVsZW1lbnQgZm9yIGltYWdlc0xvYWRlZCAnICsgKCBxdWVyeUVsZW0gfHwgZWxlbSApICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50cyA9IG1ha2VBcnJheSggcXVlcnlFbGVtICk7XG4gIHRoaXMub3B0aW9ucyA9IGV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuICAvLyBzaGlmdCBhcmd1bWVudHMgaWYgbm8gb3B0aW9ucyBzZXRcbiAgaWYgKCB0eXBlb2Ygb3B0aW9ucyA9PSAnZnVuY3Rpb24nICkge1xuICAgIG9uQWx3YXlzID0gb3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQoIHRoaXMub3B0aW9ucywgb3B0aW9ucyApO1xuICB9XG5cbiAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICB0aGlzLm9uKCAnYWx3YXlzJywgb25BbHdheXMgKTtcbiAgfVxuXG4gIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgaWYgKCAkICkge1xuICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgfVxuXG4gIC8vIEhBQ0sgY2hlY2sgYXN5bmMgdG8gYWxsb3cgdGltZSB0byBiaW5kIGxpc3RlbmVyc1xuICBzZXRUaW1lb3V0KCB0aGlzLmNoZWNrLmJpbmQoIHRoaXMgKSApO1xufVxuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLm9wdGlvbnMgPSB7fTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZXMgPSBbXTtcblxuICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICB0aGlzLmVsZW1lbnRzLmZvckVhY2goIHRoaXMuYWRkRWxlbWVudEltYWdlcywgdGhpcyApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGZpbHRlciBzaWJsaW5nc1xuICBpZiAoIGVsZW0ubm9kZU5hbWUgPT0gJ0lNRycgKSB7XG4gICAgdGhpcy5hZGRJbWFnZSggZWxlbSApO1xuICB9XG4gIC8vIGdldCBiYWNrZ3JvdW5kIGltYWdlIG9uIGVsZW1lbnRcbiAgaWYgKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PT0gdHJ1ZSApIHtcbiAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBlbGVtICk7XG4gIH1cblxuICAvLyBmaW5kIGNoaWxkcmVuXG4gIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXG4gIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gIGlmICggIW5vZGVUeXBlIHx8ICFlbGVtZW50Tm9kZVR5cGVzWyBub2RlVHlwZSBdICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2hpbGRJbWdzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcbiAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkSW1ncy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaW1nID0gY2hpbGRJbWdzW2ldO1xuICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICB9XG5cbiAgLy8gZ2V0IGNoaWxkIGJhY2tncm91bmQgaW1hZ2VzXG4gIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09ICdzdHJpbmcnICkge1xuICAgIHZhciBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcbiAgICBmb3IgKCBpPTA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBlbGVtZW50Tm9kZVR5cGVzID0ge1xuICAxOiB0cnVlLFxuICA5OiB0cnVlLFxuICAxMTogdHJ1ZVxufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG4gIGlmICggIXN0eWxlICkge1xuICAgIC8vIEZpcmVmb3ggcmV0dXJucyBudWxsIGlmIGluIGEgaGlkZGVuIGlmcmFtZSBodHRwczovL2J1Z3ppbC5sYS81NDgzOTdcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IHVybCBpbnNpZGUgdXJsKFwiLi4uXCIpXG4gIHZhciByZVVSTCA9IC91cmxcXCgoWydcIl0pPyguKj8pXFwxXFwpL2dpO1xuICB2YXIgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICB3aGlsZSAoIG1hdGNoZXMgIT09IG51bGwgKSB7XG4gICAgdmFyIHVybCA9IG1hdGNoZXMgJiYgbWF0Y2hlc1syXTtcbiAgICBpZiAoIHVybCApIHtcbiAgICAgIHRoaXMuYWRkQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XG4gICAgfVxuICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEJhY2tncm91bmQgPSBmdW5jdGlvbiggdXJsLCBlbGVtICkge1xuICB2YXIgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggYmFja2dyb3VuZCApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XG4gIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xuICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICAgIC8vIEhBQ0sgLSBDaHJvbWUgdHJpZ2dlcnMgZXZlbnQgYmVmb3JlIG9iamVjdCBwcm9wZXJ0aWVzIGhhdmUgY2hhbmdlZC4gIzgzXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuaW1hZ2VzLmZvckVhY2goIGZ1bmN0aW9uKCBsb2FkaW5nSW1hZ2UgKSB7XG4gICAgbG9hZGluZ0ltYWdlLm9uY2UoICdwcm9ncmVzcycsIG9uUHJvZ3Jlc3MgKTtcbiAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgfSk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xuICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgLy8gcHJvZ3Jlc3MgZXZlbnRcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgaW1hZ2UsIGVsZW0gXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCAmJiB0aGlzLmpxRGVmZXJyZWQubm90aWZ5ICkge1xuICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XG4gIH1cbiAgLy8gY2hlY2sgaWYgY29tcGxldGVkXG4gIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuXG4gIGlmICggdGhpcy5vcHRpb25zLmRlYnVnICYmIGNvbnNvbGUgKSB7XG4gICAgY29uc29sZS5sb2coICdwcm9ncmVzczogJyArIG1lc3NhZ2UsIGltYWdlLCBlbGVtICk7XG4gIH1cbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV2ZW50TmFtZSA9IHRoaXMuaGFzQW55QnJva2VuID8gJ2ZhaWwnIDogJ2RvbmUnO1xuICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICB0aGlzLmVtaXRFdmVudCggZXZlbnROYW1lLCBbIHRoaXMgXSApO1xuICB0aGlzLmVtaXRFdmVudCggJ2Fsd2F5cycsIFsgdGhpcyBdICk7XG4gIGlmICggdGhpcy5qcURlZmVycmVkICkge1xuICAgIHZhciBqcU1ldGhvZCA9IHRoaXMuaGFzQW55QnJva2VuID8gJ3JlamVjdCcgOiAncmVzb2x2ZSc7XG4gICAgdGhpcy5qcURlZmVycmVkWyBqcU1ldGhvZCBdKCB0aGlzICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBMb2FkaW5nSW1hZ2UoIGltZyApIHtcbiAgdGhpcy5pbWcgPSBpbWc7XG59XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgLy8gSWYgY29tcGxldGUgaXMgdHJ1ZSBhbmQgYnJvd3NlciBzdXBwb3J0cyBuYXR1cmFsIHNpemVzLFxuICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxuICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gIHRoaXMucHJveHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIC8vIGJpbmQgdG8gaW1hZ2UgYXMgd2VsbCBmb3IgRmlyZWZveC4gIzE5MVxuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2Uuc3JjID0gdGhpcy5pbWcuc3JjO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgZm9yIG5vbi16ZXJvLCBub24tdW5kZWZpbmVkIG5hdHVyYWxXaWR0aFxuICAvLyBmaXhlcyBTYWZhcmkrSW5maW5pdGVTY3JvbGwrTWFzb25yeSBidWcgaW5maW5pdGUtc2Nyb2xsIzY3MVxuICByZXR1cm4gdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuaW1nLCBtZXNzYWdlIF0gKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29uZmlybSggdHJ1ZSwgJ29ubG9hZCcgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbmZpcm0oIGZhbHNlLCAnb25lcnJvcicgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJveHlJbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5wcm94eUltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJhY2tncm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gQmFja2dyb3VuZCggdXJsLCBlbGVtZW50ICkge1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbn1cblxuLy8gaW5oZXJpdCBMb2FkaW5nSW1hZ2UgcHJvdG90eXBlXG5CYWNrZ3JvdW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgKTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcuc3JjID0gdGhpcy51cmw7XG4gIC8vIGNoZWNrIGlmIGltYWdlIGlzIGFscmVhZHkgY29tcGxldGVcbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgfVxufTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG59O1xuXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuZWxlbWVudCwgbWVzc2FnZSBdICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4gPSBmdW5jdGlvbiggalF1ZXJ5ICkge1xuICBqUXVlcnkgPSBqUXVlcnkgfHwgd2luZG93LmpRdWVyeTtcbiAgaWYgKCAhalF1ZXJ5ICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZXQgbG9jYWwgdmFyaWFibGVcbiAgJCA9IGpRdWVyeTtcbiAgLy8gJCgpLmltYWdlc0xvYWRlZCgpXG4gICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xuICB9O1xufTtcbi8vIHRyeSBtYWtpbmcgcGx1Z2luXG5JbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbigpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucmV0dXJuIEltYWdlc0xvYWRlZDtcblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBmblRvU3RyID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgY29uc3RydWN0b3JSZWdleCA9IC9eXFxzKmNsYXNzIC87XG52YXIgaXNFUzZDbGFzc0ZuID0gZnVuY3Rpb24gaXNFUzZDbGFzc0ZuKHZhbHVlKSB7XG5cdHRyeSB7XG5cdFx0dmFyIGZuU3RyID0gZm5Ub1N0ci5jYWxsKHZhbHVlKTtcblx0XHR2YXIgc2luZ2xlU3RyaXBwZWQgPSBmblN0ci5yZXBsYWNlKC9cXC9cXC8uKlxcbi9nLCAnJyk7XG5cdFx0dmFyIG11bHRpU3RyaXBwZWQgPSBzaW5nbGVTdHJpcHBlZC5yZXBsYWNlKC9cXC9cXCpbLlxcc1xcU10qXFwqXFwvL2csICcnKTtcblx0XHR2YXIgc3BhY2VTdHJpcHBlZCA9IG11bHRpU3RyaXBwZWQucmVwbGFjZSgvXFxuL21nLCAnICcpLnJlcGxhY2UoLyB7Mn0vZywgJyAnKTtcblx0XHRyZXR1cm4gY29uc3RydWN0b3JSZWdleC50ZXN0KHNwYWNlU3RyaXBwZWQpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlOyAvLyBub3QgYSBmdW5jdGlvblxuXHR9XG59O1xuXG52YXIgdHJ5RnVuY3Rpb25PYmplY3QgPSBmdW5jdGlvbiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSkge1xuXHR0cnkge1xuXHRcdGlmIChpc0VTNkNsYXNzRm4odmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdGZuVG9TdHIuY2FsbCh2YWx1ZSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZuQ2xhc3MgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xudmFyIGdlbkNsYXNzID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcbnZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYWxsYWJsZSh2YWx1ZSkge1xuXHRpZiAoIXZhbHVlKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChoYXNUb1N0cmluZ1RhZykgeyByZXR1cm4gdHJ5RnVuY3Rpb25PYmplY3QodmFsdWUpOyB9XG5cdGlmIChpc0VTNkNsYXNzRm4odmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXHR2YXIgc3RyQ2xhc3MgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0cmV0dXJuIHN0ckNsYXNzID09PSBmbkNsYXNzIHx8IHN0ckNsYXNzID09PSBnZW5DbGFzcztcbn07XG4iLCIvKiFcbiAqIGpRdWVyeSBGb3JtIFBsdWdpblxuICogdmVyc2lvbjogNC4yLjJcbiAqIFJlcXVpcmVzIGpRdWVyeSB2MS43LjIgb3IgbGF0ZXJcbiAqIFByb2plY3QgcmVwb3NpdG9yeTogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS1mb3JtL2Zvcm1cblxuICogQ29weXJpZ2h0IDIwMTcgS2V2aW4gTW9ycmlzXG4gKiBDb3B5cmlnaHQgMjAwNiBNLiBBbHN1cFxuXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBMR1BMLTIuMSsgb3IgTUlUIGxpY2Vuc2VzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5LWZvcm0vZm9ybSNsaWNlbnNlXG5cbiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3JcbiAqIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWNcbiAqIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlclxuICogdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVVxuICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuIWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXImJihyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ2pRdWVyeSddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnalF1ZXJ5J10gOiBudWxsKToodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snalF1ZXJ5J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydqUXVlcnknXSA6IG51bGwpKHQpKSxlKHIpLHJ9OmUoalF1ZXJ5KX0oZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt2YXIgcj10LmRhdGE7dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQucHJldmVudERlZmF1bHQoKSxlKHQudGFyZ2V0KS5jbG9zZXN0KFwiZm9ybVwiKS5hamF4U3VibWl0KHIpKX1mdW5jdGlvbiByKHQpe3ZhciByPXQudGFyZ2V0LGE9ZShyKTtpZighYS5pcyhcIlt0eXBlPXN1Ym1pdF0sW3R5cGU9aW1hZ2VdXCIpKXt2YXIgbj1hLmNsb3Nlc3QoXCJbdHlwZT1zdWJtaXRdXCIpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm47cj1uWzBdfXZhciBpPXIuZm9ybTtpZihpLmNsaz1yLFwiaW1hZ2VcIj09PXIudHlwZSlpZih2b2lkIDAhPT10Lm9mZnNldFgpaS5jbGtfeD10Lm9mZnNldFgsaS5jbGtfeT10Lm9mZnNldFk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZuLm9mZnNldCl7dmFyIG89YS5vZmZzZXQoKTtpLmNsa194PXQucGFnZVgtby5sZWZ0LGkuY2xrX3k9dC5wYWdlWS1vLnRvcH1lbHNlIGkuY2xrX3g9dC5wYWdlWC1yLm9mZnNldExlZnQsaS5jbGtfeT10LnBhZ2VZLXIub2Zmc2V0VG9wO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmNsaz1pLmNsa194PWkuY2xrX3k9bnVsbH0sMTAwKX1mdW5jdGlvbiBhKCl7aWYoZS5mbi5hamF4U3VibWl0LmRlYnVnKXt2YXIgdD1cIltqcXVlcnkuZm9ybV0gXCIrQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsXCJcIik7d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZz93aW5kb3cuY29uc29sZS5sb2codCk6d2luZG93Lm9wZXJhJiZ3aW5kb3cub3BlcmEucG9zdEVycm9yJiZ3aW5kb3cub3BlcmEucG9zdEVycm9yKHQpfX12YXIgbj0vXFxyP1xcbi9nLGk9e307aS5maWxlYXBpPXZvaWQgMCE9PWUoJzxpbnB1dCB0eXBlPVwiZmlsZVwiPicpLmdldCgwKS5maWxlcyxpLmZvcm1kYXRhPXZvaWQgMCE9PXdpbmRvdy5Gb3JtRGF0YTt2YXIgbz0hIWUuZm4ucHJvcDtlLmZuLmF0dHIyPWZ1bmN0aW9uKCl7aWYoIW8pcmV0dXJuIHRoaXMuYXR0ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5wcm9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZSYmZS5qcXVlcnl8fFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6dGhpcy5hdHRyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5mbi5hamF4U3VibWl0PWZ1bmN0aW9uKHQscixuLHMpe2Z1bmN0aW9uIHUocil7dmFyIGEsbixpPWUucGFyYW0ocix0LnRyYWRpdGlvbmFsKS5zcGxpdChcIiZcIiksbz1pLmxlbmd0aCxzPVtdO2ZvcihhPTA7YTxvO2ErKylpW2FdPWlbYV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpLG49aVthXS5zcGxpdChcIj1cIikscy5wdXNoKFtkZWNvZGVVUklDb21wb25lbnQoblswXSksZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0pXSk7cmV0dXJuIHN9ZnVuY3Rpb24gYyhyKXtmdW5jdGlvbiBuKGUpe3ZhciB0PW51bGw7dHJ5e2UuY29udGVudFdpbmRvdyYmKHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50KX1jYXRjaChlKXthKFwiY2Fubm90IGdldCBpZnJhbWUuY29udGVudFdpbmRvdyBkb2N1bWVudDogXCIrZSl9aWYodClyZXR1cm4gdDt0cnl7dD1lLmNvbnRlbnREb2N1bWVudD9lLmNvbnRlbnREb2N1bWVudDplLmRvY3VtZW50fWNhdGNoKHIpe2EoXCJjYW5ub3QgZ2V0IGlmcmFtZS5jb250ZW50RG9jdW1lbnQ6IFwiK3IpLHQ9ZS5kb2N1bWVudH1yZXR1cm4gdH1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gdCgpe3RyeXt2YXIgZT1uKHYpLnJlYWR5U3RhdGU7YShcInN0YXRlID0gXCIrZSksZSYmXCJ1bmluaXRpYWxpemVkXCI9PT1lLnRvTG93ZXJDYXNlKCkmJnNldFRpbWVvdXQodCw1MCl9Y2F0Y2goZSl7YShcIlNlcnZlciBhYm9ydDogXCIsZSxcIiAoXCIsZS5uYW1lLFwiKVwiKSxzKEwpLGomJmNsZWFyVGltZW91dChqKSxqPXZvaWQgMH19dmFyIHI9cC5hdHRyMihcInRhcmdldFwiKSxpPXAuYXR0cjIoXCJhY3Rpb25cIiksbz1wLmF0dHIoXCJlbmN0eXBlXCIpfHxwLmF0dHIoXCJlbmNvZGluZ1wiKXx8XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI7dy5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixtKSxsJiYhL3Bvc3QvaS50ZXN0KGwpfHx3LnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLFwiUE9TVFwiKSxpIT09Zi51cmwmJncuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsZi51cmwpLGYuc2tpcEVuY29kaW5nT3ZlcnJpZGV8fGwmJiEvcG9zdC9pLnRlc3QobCl8fHAuYXR0cih7ZW5jb2Rpbmc6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsZW5jdHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGFcIn0pLGYudGltZW91dCYmKGo9c2V0VGltZW91dChmdW5jdGlvbigpe1Q9ITAscyhBKX0sZi50aW1lb3V0KSk7dmFyIHU9W107dHJ5e2lmKGYuZXh0cmFEYXRhKWZvcih2YXIgYyBpbiBmLmV4dHJhRGF0YSlmLmV4dHJhRGF0YS5oYXNPd25Qcm9wZXJ0eShjKSYmKGUuaXNQbGFpbk9iamVjdChmLmV4dHJhRGF0YVtjXSkmJmYuZXh0cmFEYXRhW2NdLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmZi5leHRyYURhdGFbY10uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT91LnB1c2goZSgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJytmLmV4dHJhRGF0YVtjXS5uYW1lKydcIj4nLGspLnZhbChmLmV4dHJhRGF0YVtjXS52YWx1ZSkuYXBwZW5kVG8odylbMF0pOnUucHVzaChlKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCInK2MrJ1wiPicsaykudmFsKGYuZXh0cmFEYXRhW2NdKS5hcHBlbmRUbyh3KVswXSkpO2YuaWZyYW1lVGFyZ2V0fHxoLmFwcGVuZFRvKEQpLHYuYXR0YWNoRXZlbnQ/di5hdHRhY2hFdmVudChcIm9ubG9hZFwiLHMpOnYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSxzZXRUaW1lb3V0KHQsMTUpO3RyeXt3LnN1Ym1pdCgpfWNhdGNoKGUpe2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpLnN1Ym1pdC5hcHBseSh3KX19ZmluYWxseXt3LnNldEF0dHJpYnV0ZShcImFjdGlvblwiLGkpLHcuc2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiLG8pLHI/dy5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixyKTpwLnJlbW92ZUF0dHIoXCJ0YXJnZXRcIiksZSh1KS5yZW1vdmUoKX19ZnVuY3Rpb24gcyh0KXtpZigheC5hYm9ydGVkJiYhWCl7aWYoKE89bih2KSl8fChhKFwiY2Fubm90IGFjY2VzcyByZXNwb25zZSBkb2N1bWVudFwiKSx0PUwpLHQ9PT1BJiZ4KXJldHVybiB4LmFib3J0KFwidGltZW91dFwiKSx2b2lkIFMucmVqZWN0KHgsXCJ0aW1lb3V0XCIpO2lmKHQ9PT1MJiZ4KXJldHVybiB4LmFib3J0KFwic2VydmVyIGFib3J0XCIpLHZvaWQgUy5yZWplY3QoeCxcImVycm9yXCIsXCJzZXJ2ZXIgYWJvcnRcIik7aWYoTyYmTy5sb2NhdGlvbi5ocmVmIT09Zi5pZnJhbWVTcmN8fFQpe3YuZGV0YWNoRXZlbnQ/di5kZXRhY2hFdmVudChcIm9ubG9hZFwiLHMpOnYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKTt2YXIgcixpPVwic3VjY2Vzc1wiO3RyeXtpZihUKXRocm93XCJ0aW1lb3V0XCI7dmFyIG89XCJ4bWxcIj09PWYuZGF0YVR5cGV8fE8uWE1MRG9jdW1lbnR8fGUuaXNYTUxEb2MoTyk7aWYoYShcImlzWG1sPVwiK28pLCFvJiZ3aW5kb3cub3BlcmEmJihudWxsPT09Ty5ib2R5fHwhTy5ib2R5LmlubmVySFRNTCkmJi0tQylyZXR1cm4gYShcInJlcXVlaW5nIG9uTG9hZCBjYWxsYmFjaywgRE9NIG5vdCBhdmFpbGFibGVcIiksdm9pZCBzZXRUaW1lb3V0KHMsMjUwKTt2YXIgdT1PLmJvZHk/Ty5ib2R5Ok8uZG9jdW1lbnRFbGVtZW50O3gucmVzcG9uc2VUZXh0PXU/dS5pbm5lckhUTUw6bnVsbCx4LnJlc3BvbnNlWE1MPU8uWE1MRG9jdW1lbnQ/Ty5YTUxEb2N1bWVudDpPLG8mJihmLmRhdGFUeXBlPVwieG1sXCIpLHguZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJue1wiY29udGVudC10eXBlXCI6Zi5kYXRhVHlwZX1bZS50b0xvd2VyQ2FzZSgpXX0sdSYmKHguc3RhdHVzPU51bWJlcih1LmdldEF0dHJpYnV0ZShcInN0YXR1c1wiKSl8fHguc3RhdHVzLHguc3RhdHVzVGV4dD11LmdldEF0dHJpYnV0ZShcInN0YXR1c1RleHRcIil8fHguc3RhdHVzVGV4dCk7dmFyIGM9KGYuZGF0YVR5cGV8fFwiXCIpLnRvTG93ZXJDYXNlKCksbD0vKGpzb258c2NyaXB0fHRleHQpLy50ZXN0KGMpO2lmKGx8fGYudGV4dGFyZWEpe3ZhciBwPU8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKVswXTtpZihwKXgucmVzcG9uc2VUZXh0PXAudmFsdWUseC5zdGF0dXM9TnVtYmVyKHAuZ2V0QXR0cmlidXRlKFwic3RhdHVzXCIpKXx8eC5zdGF0dXMseC5zdGF0dXNUZXh0PXAuZ2V0QXR0cmlidXRlKFwic3RhdHVzVGV4dFwiKXx8eC5zdGF0dXNUZXh0O2Vsc2UgaWYobCl7dmFyIG09Ty5nZXRFbGVtZW50c0J5VGFnTmFtZShcInByZVwiKVswXSxnPU8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO20/eC5yZXNwb25zZVRleHQ9bS50ZXh0Q29udGVudD9tLnRleHRDb250ZW50Om0uaW5uZXJUZXh0OmcmJih4LnJlc3BvbnNlVGV4dD1nLnRleHRDb250ZW50P2cudGV4dENvbnRlbnQ6Zy5pbm5lclRleHQpfX1lbHNlXCJ4bWxcIj09PWMmJiF4LnJlc3BvbnNlWE1MJiZ4LnJlc3BvbnNlVGV4dCYmKHgucmVzcG9uc2VYTUw9cSh4LnJlc3BvbnNlVGV4dCkpO3RyeXtNPU4oeCxjLGYpfWNhdGNoKGUpe2k9XCJwYXJzZXJlcnJvclwiLHguZXJyb3I9cj1lfHxpfX1jYXRjaChlKXthKFwiZXJyb3IgY2F1Z2h0OiBcIixlKSxpPVwiZXJyb3JcIix4LmVycm9yPXI9ZXx8aX14LmFib3J0ZWQmJihhKFwidXBsb2FkIGFib3J0ZWRcIiksaT1udWxsKSx4LnN0YXR1cyYmKGk9eC5zdGF0dXM+PTIwMCYmeC5zdGF0dXM8MzAwfHwzMDQ9PT14LnN0YXR1cz9cInN1Y2Nlc3NcIjpcImVycm9yXCIpLFwic3VjY2Vzc1wiPT09aT8oZi5zdWNjZXNzJiZmLnN1Y2Nlc3MuY2FsbChmLmNvbnRleHQsTSxcInN1Y2Nlc3NcIix4KSxTLnJlc29sdmUoeC5yZXNwb25zZVRleHQsXCJzdWNjZXNzXCIseCksZCYmZS5ldmVudC50cmlnZ2VyKFwiYWpheFN1Y2Nlc3NcIixbeCxmXSkpOmkmJih2b2lkIDA9PT1yJiYocj14LnN0YXR1c1RleHQpLGYuZXJyb3ImJmYuZXJyb3IuY2FsbChmLmNvbnRleHQseCxpLHIpLFMucmVqZWN0KHgsXCJlcnJvclwiLHIpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhFcnJvclwiLFt4LGYscl0pKSxkJiZlLmV2ZW50LnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeCxmXSksZCYmIS0tZS5hY3RpdmUmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpLGYuY29tcGxldGUmJmYuY29tcGxldGUuY2FsbChmLmNvbnRleHQseCxpKSxYPSEwLGYudGltZW91dCYmY2xlYXJUaW1lb3V0KGopLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmlmcmFtZVRhcmdldD9oLmF0dHIoXCJzcmNcIixmLmlmcmFtZVNyYyk6aC5yZW1vdmUoKSx4LnJlc3BvbnNlWE1MPW51bGx9LDEwMCl9fX12YXIgdSxjLGYsZCxtLGgsdix4LHksYixULGosdz1wWzBdLFM9ZS5EZWZlcnJlZCgpO2lmKFMuYWJvcnQ9ZnVuY3Rpb24oZSl7eC5hYm9ydChlKX0scilmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKXU9ZShnW2NdKSxvP3UucHJvcChcImRpc2FibGVkXCIsITEpOnUucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpOyhmPWUuZXh0ZW5kKCEwLHt9LGUuYWpheFNldHRpbmdzLHQpKS5jb250ZXh0PWYuY29udGV4dHx8ZixtPVwianFGb3JtSU9cIisobmV3IERhdGUpLmdldFRpbWUoKTt2YXIgaz13Lm93bmVyRG9jdW1lbnQsRD1wLmNsb3Nlc3QoXCJib2R5XCIpO2lmKGYuaWZyYW1lVGFyZ2V0PyhiPShoPWUoZi5pZnJhbWVUYXJnZXQsaykpLmF0dHIyKFwibmFtZVwiKSk/bT1iOmguYXR0cjIoXCJuYW1lXCIsbSk6KGg9ZSgnPGlmcmFtZSBuYW1lPVwiJyttKydcIiBzcmM9XCInK2YuaWZyYW1lU3JjKydcIiAvPicsaykpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi0xMDAwcHhcIixsZWZ0OlwiLTEwMDBweFwifSksdj1oWzBdLHg9e2Fib3J0ZWQ6MCxyZXNwb25zZVRleHQ6bnVsbCxyZXNwb25zZVhNTDpudWxsLHN0YXR1czowLHN0YXR1c1RleHQ6XCJuL2FcIixnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXt9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKCl7fSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKCl7fSxhYm9ydDpmdW5jdGlvbih0KXt2YXIgcj1cInRpbWVvdXRcIj09PXQ/XCJ0aW1lb3V0XCI6XCJhYm9ydGVkXCI7YShcImFib3J0aW5nIHVwbG9hZC4uLiBcIityKSx0aGlzLmFib3J0ZWQ9MTt0cnl7di5jb250ZW50V2luZG93LmRvY3VtZW50LmV4ZWNDb21tYW5kJiZ2LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJTdG9wXCIpfWNhdGNoKGUpe31oLmF0dHIoXCJzcmNcIixmLmlmcmFtZVNyYykseC5lcnJvcj1yLGYuZXJyb3ImJmYuZXJyb3IuY2FsbChmLmNvbnRleHQseCxyLHQpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhFcnJvclwiLFt4LGYscl0pLGYuY29tcGxldGUmJmYuY29tcGxldGUuY2FsbChmLmNvbnRleHQseCxyKX19LChkPWYuZ2xvYmFsKSYmMD09ZS5hY3RpdmUrKyYmZS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTZW5kXCIsW3gsZl0pLGYuYmVmb3JlU2VuZCYmITE9PT1mLmJlZm9yZVNlbmQuY2FsbChmLmNvbnRleHQseCxmKSlyZXR1cm4gZi5nbG9iYWwmJmUuYWN0aXZlLS0sUy5yZWplY3QoKSxTO2lmKHguYWJvcnRlZClyZXR1cm4gUy5yZWplY3QoKSxTOyh5PXcuY2xrKSYmKGI9eS5uYW1lKSYmIXkuZGlzYWJsZWQmJihmLmV4dHJhRGF0YT1mLmV4dHJhRGF0YXx8e30sZi5leHRyYURhdGFbYl09eS52YWx1ZSxcImltYWdlXCI9PT15LnR5cGUmJihmLmV4dHJhRGF0YVtiK1wiLnhcIl09dy5jbGtfeCxmLmV4dHJhRGF0YVtiK1wiLnlcIl09dy5jbGtfeSkpO3ZhciBBPTEsTD0yLEY9ZShcIm1ldGFbbmFtZT1jc3JmLXRva2VuXVwiKS5hdHRyKFwiY29udGVudFwiKSxFPWUoXCJtZXRhW25hbWU9Y3NyZi1wYXJhbV1cIikuYXR0cihcImNvbnRlbnRcIik7RSYmRiYmKGYuZXh0cmFEYXRhPWYuZXh0cmFEYXRhfHx7fSxmLmV4dHJhRGF0YVtFXT1GKSxmLmZvcmNlU3luYz9pKCk6c2V0VGltZW91dChpLDEwKTt2YXIgTSxPLFgsQz01MCxxPWUucGFyc2VYTUx8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5BY3RpdmVYT2JqZWN0PygodD1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIikpLmFzeW5jPVwiZmFsc2VcIix0LmxvYWRYTUwoZSkpOnQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC94bWxcIiksdCYmdC5kb2N1bWVudEVsZW1lbnQmJlwicGFyc2VyZXJyb3JcIiE9PXQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lP3Q6bnVsbH0sXz1lLnBhcnNlSlNPTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ldmFsKFwiKFwiK2UrXCIpXCIpfSxOPWZ1bmN0aW9uKHQscixhKXt2YXIgbj10LmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpfHxcIlwiLGk9KFwieG1sXCI9PT1yfHwhcikmJm4uaW5kZXhPZihcInhtbFwiKT49MCxvPWk/dC5yZXNwb25zZVhNTDp0LnJlc3BvbnNlVGV4dDtyZXR1cm4gaSYmXCJwYXJzZXJlcnJvclwiPT09by5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUmJmUuZXJyb3ImJmUuZXJyb3IoXCJwYXJzZXJlcnJvclwiKSxhJiZhLmRhdGFGaWx0ZXImJihvPWEuZGF0YUZpbHRlcihvLHIpKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmKChcImpzb25cIj09PXJ8fCFyKSYmbi5pbmRleE9mKFwianNvblwiKT49MD9vPV8obyk6KFwic2NyaXB0XCI9PT1yfHwhcikmJm4uaW5kZXhPZihcImphdmFzY3JpcHRcIik+PTAmJmUuZ2xvYmFsRXZhbChvKSksb307cmV0dXJuIFN9aWYoIXRoaXMubGVuZ3RoKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc2tpcHBpbmcgc3VibWl0IHByb2Nlc3MgLSBubyBlbGVtZW50IHNlbGVjdGVkXCIpLHRoaXM7dmFyIGwsZixkLHA9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q9e3N1Y2Nlc3M6dH06XCJzdHJpbmdcIj09dHlwZW9mIHR8fCExPT09dCYmYXJndW1lbnRzLmxlbmd0aD4wPyh0PXt1cmw6dCxkYXRhOnIsZGF0YVR5cGU6bn0sXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmKHQuc3VjY2Vzcz1zKSk6dm9pZCAwPT09dCYmKHQ9e30pLGw9dC5tZXRob2R8fHQudHlwZXx8dGhpcy5hdHRyMihcIm1ldGhvZFwiKSwoZD0oZD1cInN0cmluZ1wiPT10eXBlb2YoZj10LnVybHx8dGhpcy5hdHRyMihcImFjdGlvblwiKSk/ZS50cmltKGYpOlwiXCIpfHx3aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIikmJihkPShkLm1hdGNoKC9eKFteI10rKS8pfHxbXSlbMV0pLHQ9ZS5leHRlbmQoITAse3VybDpkLHN1Y2Nlc3M6ZS5hamF4U2V0dGluZ3Muc3VjY2Vzcyx0eXBlOmx8fGUuYWpheFNldHRpbmdzLnR5cGUsaWZyYW1lU3JjOi9eaHR0cHMvaS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmfHxcIlwiKT9cImphdmFzY3JpcHQ6ZmFsc2VcIjpcImFib3V0OmJsYW5rXCJ9LHQpO3ZhciBtPXt9O2lmKHRoaXMudHJpZ2dlcihcImZvcm0tcHJlLXNlcmlhbGl6ZVwiLFt0aGlzLHQsbV0pLG0udmV0bylyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCB2ZXRvZWQgdmlhIGZvcm0tcHJlLXNlcmlhbGl6ZSB0cmlnZ2VyXCIpLHRoaXM7aWYodC5iZWZvcmVTZXJpYWxpemUmJiExPT09dC5iZWZvcmVTZXJpYWxpemUodGhpcyx0KSlyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCBhYm9ydGVkIHZpYSBiZWZvcmVTZXJpYWxpemUgY2FsbGJhY2tcIiksdGhpczt2YXIgaD10LnRyYWRpdGlvbmFsO3ZvaWQgMD09PWgmJihoPWUuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTt2YXIgdixnPVtdLHg9dGhpcy5mb3JtVG9BcnJheSh0LnNlbWFudGljLGcsdC5maWx0ZXJpbmcpO2lmKHQuZGF0YSl7dmFyIHk9ZS5pc0Z1bmN0aW9uKHQuZGF0YSk/dC5kYXRhKHgpOnQuZGF0YTt0LmV4dHJhRGF0YT15LHY9ZS5wYXJhbSh5LGgpfWlmKHQuYmVmb3JlU3VibWl0JiYhMT09PXQuYmVmb3JlU3VibWl0KHgsdGhpcyx0KSlyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCBhYm9ydGVkIHZpYSBiZWZvcmVTdWJtaXQgY2FsbGJhY2tcIiksdGhpcztpZih0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC12YWxpZGF0ZVwiLFt4LHRoaXMsdCxtXSksbS52ZXRvKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc3VibWl0IHZldG9lZCB2aWEgZm9ybS1zdWJtaXQtdmFsaWRhdGUgdHJpZ2dlclwiKSx0aGlzO3ZhciBiPWUucGFyYW0oeCxoKTt2JiYoYj1iP2IrXCImXCIrdjp2KSxcIkdFVFwiPT09dC50eXBlLnRvVXBwZXJDYXNlKCk/KHQudXJsKz0odC51cmwuaW5kZXhPZihcIj9cIik+PTA/XCImXCI6XCI/XCIpK2IsdC5kYXRhPW51bGwpOnQuZGF0YT1iO3ZhciBUPVtdO2lmKHQucmVzZXRGb3JtJiZULnB1c2goZnVuY3Rpb24oKXtwLnJlc2V0Rm9ybSgpfSksdC5jbGVhckZvcm0mJlQucHVzaChmdW5jdGlvbigpe3AuY2xlYXJGb3JtKHQuaW5jbHVkZUhpZGRlbil9KSwhdC5kYXRhVHlwZSYmdC50YXJnZXQpe3ZhciBqPXQuc3VjY2Vzc3x8ZnVuY3Rpb24oKXt9O1QucHVzaChmdW5jdGlvbihyLGEsbil7dmFyIGk9YXJndW1lbnRzLG89dC5yZXBsYWNlVGFyZ2V0P1wicmVwbGFjZVdpdGhcIjpcImh0bWxcIjtlKHQudGFyZ2V0KVtvXShyKS5lYWNoKGZ1bmN0aW9uKCl7ai5hcHBseSh0aGlzLGkpfSl9KX1lbHNlIHQuc3VjY2VzcyYmKGUuaXNBcnJheSh0LnN1Y2Nlc3MpP2UubWVyZ2UoVCx0LnN1Y2Nlc3MpOlQucHVzaCh0LnN1Y2Nlc3MpKTtpZih0LnN1Y2Nlc3M9ZnVuY3Rpb24oZSxyLGEpe2Zvcih2YXIgbj10LmNvbnRleHR8fHRoaXMsaT0wLG89VC5sZW5ndGg7aTxvO2krKylUW2ldLmFwcGx5KG4sW2UscixhfHxwLHBdKX0sdC5lcnJvcil7dmFyIHc9dC5lcnJvcjt0LmVycm9yPWZ1bmN0aW9uKGUscixhKXt2YXIgbj10LmNvbnRleHR8fHRoaXM7dy5hcHBseShuLFtlLHIsYSxwXSl9fWlmKHQuY29tcGxldGUpe3ZhciBTPXQuY29tcGxldGU7dC5jb21wbGV0ZT1mdW5jdGlvbihlLHIpe3ZhciBhPXQuY29udGV4dHx8dGhpcztTLmFwcGx5KGEsW2UscixwXSl9fXZhciBrPWUoXCJpbnB1dFt0eXBlPWZpbGVdOmVuYWJsZWRcIix0aGlzKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm5cIlwiIT09ZSh0aGlzKS52YWwoKX0pLmxlbmd0aD4wLEQ9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsQT1wLmF0dHIoXCJlbmN0eXBlXCIpPT09RHx8cC5hdHRyKFwiZW5jb2RpbmdcIik9PT1ELEw9aS5maWxlYXBpJiZpLmZvcm1kYXRhO2EoXCJmaWxlQVBJIDpcIitMKTt2YXIgRixFPShrfHxBKSYmIUw7ITEhPT10LmlmcmFtZSYmKHQuaWZyYW1lfHxFKT90LmNsb3NlS2VlcEFsaXZlP2UuZ2V0KHQuY2xvc2VLZWVwQWxpdmUsZnVuY3Rpb24oKXtGPWMoeCl9KTpGPWMoeCk6Rj0oa3x8QSkmJkw/ZnVuY3Rpb24ocil7Zm9yKHZhciBhPW5ldyBGb3JtRGF0YSxuPTA7bjxyLmxlbmd0aDtuKyspYS5hcHBlbmQocltuXS5uYW1lLHJbbl0udmFsdWUpO2lmKHQuZXh0cmFEYXRhKXt2YXIgaT11KHQuZXh0cmFEYXRhKTtmb3Iobj0wO248aS5sZW5ndGg7bisrKWlbbl0mJmEuYXBwZW5kKGlbbl1bMF0saVtuXVsxXSl9dC5kYXRhPW51bGw7dmFyIG89ZS5leHRlbmQoITAse30sZS5hamF4U2V0dGluZ3MsdCx7Y29udGVudFR5cGU6ITEscHJvY2Vzc0RhdGE6ITEsY2FjaGU6ITEsdHlwZTpsfHxcIlBPU1RcIn0pO3QudXBsb2FkUHJvZ3Jlc3MmJihvLnhocj1mdW5jdGlvbigpe3ZhciByPWUuYWpheFNldHRpbmdzLnhocigpO3JldHVybiByLnVwbG9hZCYmci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24oZSl7dmFyIHI9MCxhPWUubG9hZGVkfHxlLnBvc2l0aW9uLG49ZS50b3RhbDtlLmxlbmd0aENvbXB1dGFibGUmJihyPU1hdGguY2VpbChhL24qMTAwKSksdC51cGxvYWRQcm9ncmVzcyhlLGEsbixyKX0sITEpLHJ9KSxvLmRhdGE9bnVsbDt2YXIgcz1vLmJlZm9yZVNlbmQ7cmV0dXJuIG8uYmVmb3JlU2VuZD1mdW5jdGlvbihlLHIpe3QuZm9ybURhdGE/ci5kYXRhPXQuZm9ybURhdGE6ci5kYXRhPWEscyYmcy5jYWxsKHRoaXMsZSxyKX0sZS5hamF4KG8pfSh4KTplLmFqYXgodCkscC5yZW1vdmVEYXRhKFwianF4aHJcIikuZGF0YShcImpxeGhyXCIsRik7Zm9yKHZhciBNPTA7TTxnLmxlbmd0aDtNKyspZ1tNXT1udWxsO3JldHVybiB0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC1ub3RpZnlcIixbdGhpcyx0XSksdGhpc30sZS5mbi5hamF4Rm9ybT1mdW5jdGlvbihuLGksbyxzKXtpZigoXCJzdHJpbmdcIj09dHlwZW9mIG58fCExPT09biYmYXJndW1lbnRzLmxlbmd0aD4wKSYmKG49e3VybDpuLGRhdGE6aSxkYXRhVHlwZTpvfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYobi5zdWNjZXNzPXMpKSxuPW58fHt9LG4uZGVsZWdhdGlvbj1uLmRlbGVnYXRpb24mJmUuaXNGdW5jdGlvbihlLmZuLm9uKSwhbi5kZWxlZ2F0aW9uJiYwPT09dGhpcy5sZW5ndGgpe3ZhciB1PXtzOnRoaXMuc2VsZWN0b3IsYzp0aGlzLmNvbnRleHR9O3JldHVybiFlLmlzUmVhZHkmJnUucz8oYShcIkRPTSBub3QgcmVhZHksIHF1ZXVpbmcgYWpheEZvcm1cIiksZShmdW5jdGlvbigpe2UodS5zLHUuYykuYWpheEZvcm0obil9KSx0aGlzKTooYShcInRlcm1pbmF0aW5nOyB6ZXJvIGVsZW1lbnRzIGZvdW5kIGJ5IHNlbGVjdG9yXCIrKGUuaXNSZWFkeT9cIlwiOlwiIChET00gbm90IHJlYWR5KVwiKSksdGhpcyl9cmV0dXJuIG4uZGVsZWdhdGlvbj8oZShkb2N1bWVudCkub2ZmKFwic3VibWl0LmZvcm0tcGx1Z2luXCIsdGhpcy5zZWxlY3Rvcix0KS5vZmYoXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3Iscikub24oXCJzdWJtaXQuZm9ybS1wbHVnaW5cIix0aGlzLnNlbGVjdG9yLG4sdCkub24oXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3IsbixyKSx0aGlzKTp0aGlzLmFqYXhGb3JtVW5iaW5kKCkub24oXCJzdWJtaXQuZm9ybS1wbHVnaW5cIixuLHQpLm9uKFwiY2xpY2suZm9ybS1wbHVnaW5cIixuLHIpfSxlLmZuLmFqYXhGb3JtVW5iaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKFwic3VibWl0LmZvcm0tcGx1Z2luIGNsaWNrLmZvcm0tcGx1Z2luXCIpfSxlLmZuLmZvcm1Ub0FycmF5PWZ1bmN0aW9uKHQscixhKXt2YXIgbj1bXTtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuIG47dmFyIG8scz10aGlzWzBdLHU9dGhpcy5hdHRyKFwiaWRcIiksYz10fHx2b2lkIDA9PT1zLmVsZW1lbnRzP3MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpOnMuZWxlbWVudHM7aWYoYyYmKGM9ZS5tYWtlQXJyYXkoYykpLHUmJih0fHwvKEVkZ2V8VHJpZGVudClcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpJiYobz1lKCc6aW5wdXRbZm9ybT1cIicrdSsnXCJdJykuZ2V0KCkpLmxlbmd0aCYmKGM9KGN8fFtdKS5jb25jYXQobykpLCFjfHwhYy5sZW5ndGgpcmV0dXJuIG47ZS5pc0Z1bmN0aW9uKGEpJiYoYz1lLm1hcChjLGEpKTt2YXIgbCxmLGQscCxtLGgsdjtmb3IobD0wLGg9Yy5sZW5ndGg7bDxoO2wrKylpZihtPWNbbF0sKGQ9bS5uYW1lKSYmIW0uZGlzYWJsZWQpaWYodCYmcy5jbGsmJlwiaW1hZ2VcIj09PW0udHlwZSlzLmNsaz09PW0mJihuLnB1c2goe25hbWU6ZCx2YWx1ZTplKG0pLnZhbCgpLHR5cGU6bS50eXBlfSksbi5wdXNoKHtuYW1lOmQrXCIueFwiLHZhbHVlOnMuY2xrX3h9LHtuYW1lOmQrXCIueVwiLHZhbHVlOnMuY2xrX3l9KSk7ZWxzZSBpZigocD1lLmZpZWxkVmFsdWUobSwhMCkpJiZwLmNvbnN0cnVjdG9yPT09QXJyYXkpZm9yKHImJnIucHVzaChtKSxmPTAsdj1wLmxlbmd0aDtmPHY7ZisrKW4ucHVzaCh7bmFtZTpkLHZhbHVlOnBbZl19KTtlbHNlIGlmKGkuZmlsZWFwaSYmXCJmaWxlXCI9PT1tLnR5cGUpe3ImJnIucHVzaChtKTt2YXIgZz1tLmZpbGVzO2lmKGcubGVuZ3RoKWZvcihmPTA7ZjxnLmxlbmd0aDtmKyspbi5wdXNoKHtuYW1lOmQsdmFsdWU6Z1tmXSx0eXBlOm0udHlwZX0pO2Vsc2Ugbi5wdXNoKHtuYW1lOmQsdmFsdWU6XCJcIix0eXBlOm0udHlwZX0pfWVsc2UgbnVsbCE9PXAmJnZvaWQgMCE9PXAmJihyJiZyLnB1c2gobSksbi5wdXNoKHtuYW1lOmQsdmFsdWU6cCx0eXBlOm0udHlwZSxyZXF1aXJlZDptLnJlcXVpcmVkfSkpO2lmKCF0JiZzLmNsayl7dmFyIHg9ZShzLmNsaykseT14WzBdOyhkPXkubmFtZSkmJiF5LmRpc2FibGVkJiZcImltYWdlXCI9PT15LnR5cGUmJihuLnB1c2goe25hbWU6ZCx2YWx1ZTp4LnZhbCgpfSksbi5wdXNoKHtuYW1lOmQrXCIueFwiLHZhbHVlOnMuY2xrX3h9LHtuYW1lOmQrXCIueVwiLHZhbHVlOnMuY2xrX3l9KSl9cmV0dXJuIG59LGUuZm4uZm9ybVNlcmlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5wYXJhbSh0aGlzLmZvcm1Ub0FycmF5KHQpKX0sZS5mbi5maWVsZFNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uYW1lO2lmKGEpe3ZhciBuPWUuZmllbGRWYWx1ZSh0aGlzLHQpO2lmKG4mJm4uY29uc3RydWN0b3I9PT1BcnJheSlmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspci5wdXNoKHtuYW1lOmEsdmFsdWU6bltpXX0pO2Vsc2UgbnVsbCE9PW4mJnZvaWQgMCE9PW4mJnIucHVzaCh7bmFtZTp0aGlzLm5hbWUsdmFsdWU6bn0pfX0pLGUucGFyYW0ocil9LGUuZm4uZmllbGRWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9W10sYT0wLG49dGhpcy5sZW5ndGg7YTxuO2ErKyl7dmFyIGk9dGhpc1thXSxvPWUuZmllbGRWYWx1ZShpLHQpO251bGw9PT1vfHx2b2lkIDA9PT1vfHxvLmNvbnN0cnVjdG9yPT09QXJyYXkmJiFvLmxlbmd0aHx8KG8uY29uc3RydWN0b3I9PT1BcnJheT9lLm1lcmdlKHIsbyk6ci5wdXNoKG8pKX1yZXR1cm4gcn0sZS5maWVsZFZhbHVlPWZ1bmN0aW9uKHQscil7dmFyIGE9dC5uYW1lLGk9dC50eXBlLG89dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYodm9pZCAwPT09ciYmKHI9ITApLHImJighYXx8dC5kaXNhYmxlZHx8XCJyZXNldFwiPT09aXx8XCJidXR0b25cIj09PWl8fChcImNoZWNrYm94XCI9PT1pfHxcInJhZGlvXCI9PT1pKSYmIXQuY2hlY2tlZHx8KFwic3VibWl0XCI9PT1pfHxcImltYWdlXCI9PT1pKSYmdC5mb3JtJiZ0LmZvcm0uY2xrIT09dHx8XCJzZWxlY3RcIj09PW8mJi0xPT09dC5zZWxlY3RlZEluZGV4KSlyZXR1cm4gbnVsbDtpZihcInNlbGVjdFwiPT09byl7dmFyIHM9dC5zZWxlY3RlZEluZGV4O2lmKHM8MClyZXR1cm4gbnVsbDtmb3IodmFyIHU9W10sYz10Lm9wdGlvbnMsbD1cInNlbGVjdC1vbmVcIj09PWksZj1sP3MrMTpjLmxlbmd0aCxkPWw/czowO2Q8ZjtkKyspe3ZhciBwPWNbZF07aWYocC5zZWxlY3RlZCYmIXAuZGlzYWJsZWQpe3ZhciBtPXAudmFsdWU7aWYobXx8KG09cC5hdHRyaWJ1dGVzJiZwLmF0dHJpYnV0ZXMudmFsdWUmJiFwLmF0dHJpYnV0ZXMudmFsdWUuc3BlY2lmaWVkP3AudGV4dDpwLnZhbHVlKSxsKXJldHVybiBtO3UucHVzaChtKX19cmV0dXJuIHV9cmV0dXJuIGUodCkudmFsKCkucmVwbGFjZShuLFwiXFxyXFxuXCIpfSxlLmZuLmNsZWFyRm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZShcImlucHV0LHNlbGVjdCx0ZXh0YXJlYVwiLHRoaXMpLmNsZWFyRmllbGRzKHQpfSl9LGUuZm4uY2xlYXJGaWVsZHM9ZS5mbi5jbGVhcklucHV0cz1mdW5jdGlvbih0KXt2YXIgcj0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZW1haWx8bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlLG49dGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCk7ci50ZXN0KGEpfHxcInRleHRhcmVhXCI9PT1uP3RoaXMudmFsdWU9XCJcIjpcImNoZWNrYm94XCI9PT1hfHxcInJhZGlvXCI9PT1hP3RoaXMuY2hlY2tlZD0hMTpcInNlbGVjdFwiPT09bj90aGlzLnNlbGVjdGVkSW5kZXg9LTE6XCJmaWxlXCI9PT1hPy9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP2UodGhpcykucmVwbGFjZVdpdGgoZSh0aGlzKS5jbG9uZSghMCkpOmUodGhpcykudmFsKFwiXCIpOnQmJighMD09PXQmJi9oaWRkZW4vLnRlc3QoYSl8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiZlKHRoaXMpLmlzKHQpKSYmKHRoaXMudmFsdWU9XCJcIil9KX0sZS5mbi5yZXNldEZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxyPXRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaChyKXtjYXNlXCJpbnB1dFwiOnRoaXMuY2hlY2tlZD10aGlzLmRlZmF1bHRDaGVja2VkO2Nhc2VcInRleHRhcmVhXCI6cmV0dXJuIHRoaXMudmFsdWU9dGhpcy5kZWZhdWx0VmFsdWUsITA7Y2FzZVwib3B0aW9uXCI6Y2FzZVwib3B0Z3JvdXBcIjp2YXIgYT10LnBhcmVudHMoXCJzZWxlY3RcIik7cmV0dXJuIGEubGVuZ3RoJiZhWzBdLm11bHRpcGxlP1wib3B0aW9uXCI9PT1yP3RoaXMuc2VsZWN0ZWQ9dGhpcy5kZWZhdWx0U2VsZWN0ZWQ6dC5maW5kKFwib3B0aW9uXCIpLnJlc2V0Rm9ybSgpOmEucmVzZXRGb3JtKCksITA7Y2FzZVwic2VsZWN0XCI6cmV0dXJuIHQuZmluZChcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0ZWQ9dGhpcy5kZWZhdWx0U2VsZWN0ZWQsdGhpcy5kZWZhdWx0U2VsZWN0ZWQmJiF0WzBdLm11bHRpcGxlKXJldHVybiB0WzBdLnNlbGVjdGVkSW5kZXg9ZSwhMX0pLCEwO2Nhc2VcImxhYmVsXCI6dmFyIG49ZSh0LmF0dHIoXCJmb3JcIikpLGk9dC5maW5kKFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhXCIpO3JldHVybiBuWzBdJiZpLnVuc2hpZnQoblswXSksaS5yZXNldEZvcm0oKSwhMDtjYXNlXCJmb3JtXCI6cmV0dXJuKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucmVzZXR8fFwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLnJlc2V0JiYhdGhpcy5yZXNldC5ub2RlVHlwZSkmJnRoaXMucmVzZXQoKSwhMDtkZWZhdWx0OnJldHVybiB0LmZpbmQoXCJmb3JtLGlucHV0LGxhYmVsLHNlbGVjdCx0ZXh0YXJlYVwiKS5yZXNldEZvcm0oKSwhMH19KX0sZS5mbi5lbmFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSFlfSl9LGUuZm4uc2VsZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSEwKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj10aGlzLnR5cGU7aWYoXCJjaGVja2JveFwiPT09cnx8XCJyYWRpb1wiPT09cil0aGlzLmNoZWNrZWQ9dDtlbHNlIGlmKFwib3B0aW9uXCI9PT10aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGE9ZSh0aGlzKS5wYXJlbnQoXCJzZWxlY3RcIik7dCYmYVswXSYmXCJzZWxlY3Qtb25lXCI9PT1hWzBdLnR5cGUmJmEuZmluZChcIm9wdGlvblwiKS5zZWxlY3RlZCghMSksdGhpcy5zZWxlY3RlZD10fX0pfSxlLmZuLmFqYXhTdWJtaXQuZGVidWc9ITF9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5mb3JtLm1pbi5qcy5tYXBcbiIsIi8qKlxuKiBqcXVlcnktbWF0Y2gtaGVpZ2h0IDAuNy4yIGJ5IEBsaWFicnVcbiogaHR0cDovL2JybS5pby9qcXVlcnktbWF0Y2gtaGVpZ2h0L1xuKiBMaWNlbnNlOiBNSVRcbiovXG5cbjsoZnVuY3Rpb24oZmFjdG9yeSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXNlbWlcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydqUXVlcnknXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ2pRdWVyeSddIDogbnVsbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdsb2JhbFxuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxufSkoZnVuY3Rpb24oJCkge1xuICAgIC8qXG4gICAgKiAgaW50ZXJuYWxcbiAgICAqL1xuXG4gICAgdmFyIF9wcmV2aW91c1Jlc2l6ZVdpZHRoID0gLTEsXG4gICAgICAgIF91cGRhdGVUaW1lb3V0ID0gLTE7XG5cbiAgICAvKlxuICAgICogIF9wYXJzZVxuICAgICogIHZhbHVlIHBhcnNlIHV0aWxpdHkgZnVuY3Rpb25cbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHBhcnNlIHZhbHVlIGFuZCBjb252ZXJ0IE5hTiB0byAwXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9yb3dzXG4gICAgKiAgdXRpbGl0eSBmdW5jdGlvbiByZXR1cm5zIGFycmF5IG9mIGpRdWVyeSBzZWxlY3Rpb25zIHJlcHJlc2VudGluZyBlYWNoIHJvd1xuICAgICogIChhcyBkaXNwbGF5ZWQgYWZ0ZXIgZmxvYXQgd3JhcHBpbmcgYXBwbGllZCBieSBicm93c2VyKVxuICAgICovXG5cbiAgICB2YXIgX3Jvd3MgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdG9sZXJhbmNlID0gMSxcbiAgICAgICAgICAgICRlbGVtZW50cyA9ICQoZWxlbWVudHMpLFxuICAgICAgICAgICAgbGFzdFRvcCA9IG51bGwsXG4gICAgICAgICAgICByb3dzID0gW107XG5cbiAgICAgICAgLy8gZ3JvdXAgZWxlbWVudHMgYnkgdGhlaXIgdG9wIHBvc2l0aW9uXG4gICAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIHRvcCA9ICR0aGF0Lm9mZnNldCgpLnRvcCAtIF9wYXJzZSgkdGhhdC5jc3MoJ21hcmdpbi10b3AnKSksXG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IHJvd3MubGVuZ3RoID4gMCA/IHJvd3Nbcm93cy5sZW5ndGggLSAxXSA6IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChsYXN0Um93ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgaXRlbSBvbiB0aGUgcm93LCBzbyBqdXN0IHB1c2ggaXRcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goJHRoYXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcm93IHRvcCBpcyB0aGUgc2FtZSwgYWRkIHRvIHRoZSByb3cgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihNYXRoLmFicyhsYXN0VG9wIC0gdG9wKSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93cy5sZW5ndGggLSAxXSA9IGxhc3RSb3cuYWRkKCR0aGF0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugc3RhcnQgYSBuZXcgcm93IGdyb3VwXG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaCgkdGhhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IHJvdyB0b3BcbiAgICAgICAgICAgIGxhc3RUb3AgPSB0b3A7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9wYXJzZU9wdGlvbnNcbiAgICAqICBoYW5kbGUgcGx1Z2luIG9wdGlvbnNcbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgYnlSb3c6IHRydWUsXG4gICAgICAgICAgICBwcm9wZXJ0eTogJ2hlaWdodCcsXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICByZW1vdmU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKG9wdHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdHMuYnlSb3cgPSBvcHRpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICBvcHRzLnJlbW92ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodFxuICAgICogIHBsdWdpbiBkZWZpbml0aW9uXG4gICAgKi9cblxuICAgIHZhciBtYXRjaEhlaWdodCA9ICQuZm4ubWF0Y2hIZWlnaHQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0gX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAvLyBoYW5kbGUgcmVtb3ZlXG4gICAgICAgIGlmIChvcHRzLnJlbW92ZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgZml4ZWQgaGVpZ2h0IGZyb20gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmNzcyhvcHRzLnByb3BlcnR5LCAnJyk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBzZWxlY3RlZCBlbGVtZW50cyBmcm9tIGFsbCBncm91cHNcbiAgICAgICAgICAgICQuZWFjaChtYXRjaEhlaWdodC5fZ3JvdXBzLCBmdW5jdGlvbihrZXksIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZWxlbWVudHMgPSBncm91cC5lbGVtZW50cy5ub3QodGhhdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVE9ETzogY2xlYW51cCBlbXB0eSBncm91cHNcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPD0gMSAmJiAhb3B0cy50YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGlzIGdyb3VwIHNvIHdlIGNhbiByZS1hcHBseSBsYXRlciBvbiBsb2FkIGFuZCByZXNpemUgZXZlbnRzXG4gICAgICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50czogdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbWF0Y2ggZWFjaCBlbGVtZW50J3MgaGVpZ2h0IHRvIHRoZSB0YWxsZXN0IGVsZW1lbnQgaW4gdGhlIHNlbGVjdGlvblxuICAgICAgICBtYXRjaEhlaWdodC5fYXBwbHkodGhpcywgb3B0cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgcGx1Z2luIGdsb2JhbCBvcHRpb25zXG4gICAgKi9cblxuICAgIG1hdGNoSGVpZ2h0LnZlcnNpb24gPSAnMC43LjInO1xuICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMgPSBbXTtcbiAgICBtYXRjaEhlaWdodC5fdGhyb3R0bGUgPSA4MDtcbiAgICBtYXRjaEhlaWdodC5fbWFpbnRhaW5TY3JvbGwgPSBmYWxzZTtcbiAgICBtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlID0gbnVsbDtcbiAgICBtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUgPSBudWxsO1xuICAgIG1hdGNoSGVpZ2h0Ll9yb3dzID0gX3Jvd3M7XG4gICAgbWF0Y2hIZWlnaHQuX3BhcnNlID0gX3BhcnNlO1xuICAgIG1hdGNoSGVpZ2h0Ll9wYXJzZU9wdGlvbnMgPSBfcGFyc2VPcHRpb25zO1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodC5fYXBwbHlcbiAgICAqICBhcHBseSBtYXRjaEhlaWdodCB0byBnaXZlbiBlbGVtZW50c1xuICAgICovXG5cbiAgICBtYXRjaEhlaWdodC5fYXBwbHkgPSBmdW5jdGlvbihlbGVtZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IF9wYXJzZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAkZWxlbWVudHMgPSAkKGVsZW1lbnRzKSxcbiAgICAgICAgICAgIHJvd3MgPSBbJGVsZW1lbnRzXTtcblxuICAgICAgICAvLyB0YWtlIG5vdGUgb2Ygc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBodG1sSGVpZ2h0ID0gJCgnaHRtbCcpLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgIC8vIGdldCBoaWRkZW4gcGFyZW50c1xuICAgICAgICB2YXIgJGhpZGRlblBhcmVudHMgPSAkZWxlbWVudHMucGFyZW50cygpLmZpbHRlcignOmhpZGRlbicpO1xuXG4gICAgICAgIC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpbmxpbmUgc3R5bGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5kYXRhKCdzdHlsZS1jYWNoZScsICR0aGF0LmF0dHIoJ3N0eWxlJykpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0ZW1wb3JhcmlseSBtdXN0IGZvcmNlIGhpZGRlbiBwYXJlbnRzIHZpc2libGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAgICAgLy8gZ2V0IHJvd3MgaWYgdXNpbmcgYnlSb3csIG90aGVyd2lzZSBhc3N1bWUgb25lIHJvd1xuICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAhb3B0cy50YXJnZXQpIHtcblxuICAgICAgICAgICAgLy8gbXVzdCBmaXJzdCBmb3JjZSBhbiBhcmJpdHJhcnkgZXF1YWwgaGVpZ2h0IHNvIGZsb2F0aW5nIGVsZW1lbnRzIGJyZWFrIGV2ZW5seVxuICAgICAgICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVtcG9yYXJpbHkgZm9yY2UgYSB1c2FibGUgZGlzcGxheSB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ICE9PSAnaW5saW5lLWJsb2NrJyAmJiBkaXNwbGF5ICE9PSAnZmxleCcgJiYgZGlzcGxheSAhPT0gJ2lubGluZS1mbGV4Jykge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYWNoZSB0aGUgb3JpZ2luYWwgaW5saW5lIHN0eWxlXG4gICAgICAgICAgICAgICAgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnLCAkdGhhdC5hdHRyKCdzdHlsZScpKTtcblxuICAgICAgICAgICAgICAgICR0aGF0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogZGlzcGxheSxcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3Atd2lkdGgnOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItYm90dG9tLXdpZHRoJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGFycmF5IG9mIHJvd3MgKGJhc2VkIG9uIGVsZW1lbnQgdG9wIHBvc2l0aW9uKVxuICAgICAgICAgICAgcm93cyA9IF9yb3dzKCRlbGVtZW50cyk7XG5cbiAgICAgICAgICAgIC8vIHJldmVydCBvcmlnaW5hbCBpbmxpbmUgc3R5bGVzXG4gICAgICAgICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICR0aGF0LmF0dHIoJ3N0eWxlJywgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnKSB8fCAnJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuZWFjaChyb3dzLCBmdW5jdGlvbihrZXksIHJvdykge1xuICAgICAgICAgICAgdmFyICRyb3cgPSAkKHJvdyksXG4gICAgICAgICAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gMDtcblxuICAgICAgICAgICAgaWYgKCFvcHRzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYXBwbHkgdG8gcm93cyB3aXRoIG9ubHkgb25lIGl0ZW1cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAkcm93Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICRyb3cuY3NzKG9wdHMucHJvcGVydHksICcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgZmluZCB0aGUgbWF4IGhlaWdodFxuICAgICAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAkdGhhdC5hdHRyKCdzdHlsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlbXBvcmFyaWx5IGZvcmNlIGEgdXNhYmxlIGRpc3BsYXkgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdpbmxpbmUtYmxvY2snICYmIGRpc3BsYXkgIT09ICdmbGV4JyAmJiBkaXNwbGF5ICE9PSAnaW5saW5lLWZsZXgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB3ZSBnZXQgdGhlIGNvcnJlY3QgYWN0dWFsIGhlaWdodCAoYW5kIG5vdCBhIHByZXZpb3VzbHkgc2V0IGhlaWdodCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzcyA9IHsgJ2Rpc3BsYXknOiBkaXNwbGF5IH07XG4gICAgICAgICAgICAgICAgICAgIGNzc1tvcHRzLnByb3BlcnR5XSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAkdGhhdC5jc3MoY3NzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBtYXggaGVpZ2h0IChpbmNsdWRpbmcgcGFkZGluZywgYnV0IG5vdCBtYXJnaW4pXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhhdC5vdXRlckhlaWdodChmYWxzZSkgPiB0YXJnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEhlaWdodCA9ICR0aGF0Lm91dGVySGVpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVydCBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGF0LmNzcygnZGlzcGxheScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0YXJnZXQgc2V0LCB1c2UgdGhlIGhlaWdodCBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWlnaHQgPSBvcHRzLnRhcmdldC5vdXRlckhlaWdodChmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgYXBwbHkgdGhlIGhlaWdodCB0byBhbGwgZWxlbWVudHNcbiAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhcHBseSB0byBhIHRhcmdldFxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnRhcmdldCAmJiAkdGhhdC5pcyhvcHRzLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBwYWRkaW5nIGFuZCBib3JkZXIgY29ycmVjdGx5IChyZXF1aXJlZCB3aGVuIG5vdCB1c2luZyBib3JkZXItYm94KVxuICAgICAgICAgICAgICAgIGlmICgkdGhhdC5jc3MoJ2JveC1zaXppbmcnKSAhPT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyArPSBfcGFyc2UoJHRoYXQuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgX3BhcnNlKCR0aGF0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxQYWRkaW5nICs9IF9wYXJzZSgkdGhhdC5jc3MoJ3BhZGRpbmctdG9wJykpICsgX3BhcnNlKCR0aGF0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBoZWlnaHQgKGFjY291bnRpbmcgZm9yIHBhZGRpbmcgYW5kIGJvcmRlcilcbiAgICAgICAgICAgICAgICAkdGhhdC5jc3Mob3B0cy5wcm9wZXJ0eSwgKHRhcmdldEhlaWdodCAtIHZlcnRpY2FsUGFkZGluZykgKyAncHgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZXZlcnQgaGlkZGVuIHBhcmVudHNcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsICR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJykgfHwgbnVsbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9tYWludGFpblNjcm9sbCkge1xuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgoc2Nyb2xsVG9wIC8gaHRtbEhlaWdodCkgKiAkKCdodG1sJykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaVxuICAgICogIGFwcGxpZXMgbWF0Y2hIZWlnaHQgdG8gYWxsIGVsZW1lbnRzIHdpdGggYSBkYXRhLW1hdGNoLWhlaWdodCBhdHRyaWJ1dGVcbiAgICAqL1xuXG4gICAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ3JvdXBzID0ge307XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgZ3JvdXBzIGJ5IHRoZWlyIGdyb3VwSWQgc2V0IGJ5IGVsZW1lbnRzIHVzaW5nIGRhdGEtbWF0Y2gtaGVpZ2h0XG4gICAgICAgICQoJ1tkYXRhLW1hdGNoLWhlaWdodF0sIFtkYXRhLW1oXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQgPSAkdGhpcy5hdHRyKCdkYXRhLW1oJykgfHwgJHRoaXMuYXR0cignZGF0YS1tYXRjaC1oZWlnaHQnKTtcblxuICAgICAgICAgICAgaWYgKGdyb3VwSWQgaW4gZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzW2dyb3VwSWRdID0gZ3JvdXBzW2dyb3VwSWRdLmFkZCgkdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cElkXSA9ICR0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBseSBtYXRjaEhlaWdodCB0byBlYWNoIGdyb3VwXG4gICAgICAgICQuZWFjaChncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaEhlaWdodCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX3VwZGF0ZVxuICAgICogIHVwZGF0ZXMgbWF0Y2hIZWlnaHQgb24gYWxsIGN1cnJlbnQgZ3JvdXBzIHdpdGggdGhlaXIgY29ycmVjdCBvcHRpb25zXG4gICAgKi9cblxuICAgIHZhciBfdXBkYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUoZXZlbnQsIG1hdGNoSGVpZ2h0Ll9ncm91cHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5lYWNoKG1hdGNoSGVpZ2h0Ll9ncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWF0Y2hIZWlnaHQuX2FwcGx5KHRoaXMuZWxlbWVudHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9hZnRlclVwZGF0ZShldmVudCwgbWF0Y2hIZWlnaHQuX2dyb3Vwcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZSA9IGZ1bmN0aW9uKHRocm90dGxlLCBldmVudCkge1xuICAgICAgICAvLyBwcmV2ZW50IHVwZGF0ZSBpZiBmaXJlZCBmcm9tIGEgcmVzaXplIGV2ZW50XG4gICAgICAgIC8vIHdoZXJlIHRoZSB2aWV3cG9ydCB3aWR0aCBoYXNuJ3QgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICAvLyBmaXhlcyBhbiBldmVudCBsb29waW5nIGJ1ZyBpbiBJRThcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3dXaWR0aCA9PT0gX3ByZXZpb3VzUmVzaXplV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHJldmlvdXNSZXNpemVXaWR0aCA9IHdpbmRvd1dpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhyb3R0bGUgdXBkYXRlc1xuICAgICAgICBpZiAoIXRocm90dGxlKSB7XG4gICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChfdXBkYXRlVGltZW91dCA9PT0gLTEpIHtcbiAgICAgICAgICAgIF91cGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBfdXBkYXRlVGltZW91dCA9IC0xO1xuICAgICAgICAgICAgfSwgbWF0Y2hIZWlnaHQuX3Rocm90dGxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICogIGJpbmQgZXZlbnRzXG4gICAgKi9cblxuICAgIC8vIGFwcGx5IG9uIERPTSByZWFkeSBldmVudFxuICAgICQobWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSk7XG5cbiAgICAvLyB1c2Ugb24gb3IgYmluZCB3aGVyZSBzdXBwb3J0ZWRcbiAgICB2YXIgb24gPSAkLmZuLm9uID8gJ29uJyA6ICdiaW5kJztcblxuICAgIC8vIHVwZGF0ZSBoZWlnaHRzIG9uIGxvYWQgYW5kIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdsb2FkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZShmYWxzZSwgZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgLy8gdGhyb3R0bGVkIHVwZGF0ZSBoZWlnaHRzIG9uIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBtYXRjaEhlaWdodC5fdXBkYXRlKHRydWUsIGV2ZW50KTtcbiAgICB9KTtcblxufSk7XG4iLCIoZnVuY3Rpb24gKHJvb3QpIHsvKmdsb2JhbCBleHBvcnRzLCBJbnRsKi9cbi8qKlxuICogVGhpcyBzY3JpcHQgZ2l2ZXMgeW91IHRoZSB6b25lIGluZm8ga2V5IHJlcHJlc2VudGluZyB5b3VyIGRldmljZSdzIHRpbWUgem9uZSBzZXR0aW5nLlxuICpcbiAqIEBuYW1lIGpzVGltZXpvbmVEZXRlY3RcbiAqIEB2ZXJzaW9uIDEuMC42XG4gKiBAYXV0aG9yIEpvbiBOeWxhbmRlclxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UgLSBodHRwczovL2JpdGJ1Y2tldC5vcmcvcGVsbGVwaW0vanN0aW1lem9uZWRldGVjdC9zcmMvZGVmYXVsdC9MSUNFTkNFLnR4dFxuICpcbiAqIEZvciB1c2FnZSBhbmQgZXhhbXBsZXMsIHZpc2l0OlxuICogaHR0cDovL3BlbGxlcGltLmJpdGJ1Y2tldC5vcmcvanN0ei9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEpvbiBOeWxhbmRlclxuICovXG5cblxuLyoqXG4gKiBOYW1lc3BhY2UgdG8gaG9sZCBhbGwgdGhlIGNvZGUgZm9yIHRpbWV6b25lIGRldGVjdGlvbi5cbiAqL1xudmFyIGpzdHogPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgSEVNSVNQSEVSRV9TT1VUSCA9ICdzJyxcblxuICAgICAgICBjb25zdHMgPSB7XG4gICAgICAgICAgICBEQVk6IDg2NDAwMDAwLFxuICAgICAgICAgICAgSE9VUjogMzYwMDAwMCxcbiAgICAgICAgICAgIE1JTlVURTogNjAwMDAsXG4gICAgICAgICAgICBTRUNPTkQ6IDEwMDAsXG4gICAgICAgICAgICBCQVNFTElORV9ZRUFSOiAyMDE0LFxuICAgICAgICAgICAgTUFYX1NDT1JFOiA4NjQwMDAwMDAsIC8vIDEwIGRheXNcbiAgICAgICAgICAgIEFNQklHVUlUSUVTOiB7XG4gICAgICAgICAgICAgICAgJ0FtZXJpY2EvRGVudmVyJzogICAgICAgWydBbWVyaWNhL01hemF0bGFuJ10sXG4gICAgICAgICAgICAgICAgJ0V1cm9wZS9Mb25kb24nOiAgICAgICAgWydBZnJpY2EvQ2FzYWJsYW5jYSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0NoaWNhZ28nOiAgICAgIFsnQW1lcmljYS9NZXhpY29fQ2l0eSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0FzdW5jaW9uJzogICAgIFsnQW1lcmljYS9DYW1wb19HcmFuZGUnLCAnQW1lcmljYS9TYW50aWFnbyddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL01vbnRldmlkZW8nOiAgIFsnQW1lcmljYS9TYW9fUGF1bG8nLCAnQW1lcmljYS9TYW50aWFnbyddLFxuICAgICAgICAgICAgICAgIC8vIEV1cm9wZS9NaW5zayBzaG91bGQgbm90IGJlIGluIHRoaXMgbGlzdC4uLiBidXQgV2luZG93cy5cbiAgICAgICAgICAgICAgICAnQXNpYS9CZWlydXQnOiAgICAgICAgICBbJ0FzaWEvQW1tYW4nLCAnQXNpYS9KZXJ1c2FsZW0nLCAnRXVyb3BlL0hlbHNpbmtpJywgJ0FzaWEvRGFtYXNjdXMnLCAnQWZyaWNhL0NhaXJvJywgJ0FzaWEvR2F6YScsICdFdXJvcGUvTWluc2snXSxcbiAgICAgICAgICAgICAgICAnUGFjaWZpYy9BdWNrbGFuZCc6ICAgICBbJ1BhY2lmaWMvRmlqaSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0xvc19BbmdlbGVzJzogIFsnQW1lcmljYS9TYW50YV9Jc2FiZWwnXSxcbiAgICAgICAgICAgICAgICAnQW1lcmljYS9OZXdfWW9yayc6ICAgICBbJ0FtZXJpY2EvSGF2YW5hJ10sXG4gICAgICAgICAgICAgICAgJ0FtZXJpY2EvSGFsaWZheCc6ICAgICAgWydBbWVyaWNhL0dvb3NlX0JheSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0dvZHRoYWInOiAgICAgIFsnQW1lcmljYS9NaXF1ZWxvbiddLFxuICAgICAgICAgICAgICAgICdBc2lhL0R1YmFpJzogICAgICAgICAgIFsnQXNpYS9ZZXJldmFuJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvSmFrYXJ0YSc6ICAgICAgICAgWydBc2lhL0tyYXNub3lhcnNrJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvU2hhbmdoYWknOiAgICAgICAgWydBc2lhL0lya3V0c2snLCAnQXVzdHJhbGlhL1BlcnRoJ10sXG4gICAgICAgICAgICAgICAgJ0F1c3RyYWxpYS9TeWRuZXknOiAgICAgWydBdXN0cmFsaWEvTG9yZF9Ib3dlJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvVG9reW8nOiAgICAgICAgICAgWydBc2lhL1lha3V0c2snXSxcbiAgICAgICAgICAgICAgICAnQXNpYS9EaGFrYSc6ICAgICAgICAgICBbJ0FzaWEvT21zayddLFxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSByZWFsIHdvcmxkIFllcmV2YW4gaXMgbm90IGFtYmlnb3VzIGZvciBCYWt1Li4uIGJ1dCBXaW5kb3dzLlxuICAgICAgICAgICAgICAgICdBc2lhL0Jha3UnOiAgICAgICAgICAgIFsnQXNpYS9ZZXJldmFuJ10sXG4gICAgICAgICAgICAgICAgJ0F1c3RyYWxpYS9CcmlzYmFuZSc6ICAgWydBc2lhL1ZsYWRpdm9zdG9rJ10sXG4gICAgICAgICAgICAgICAgJ1BhY2lmaWMvTm91bWVhJzogICAgICAgWydBc2lhL1ZsYWRpdm9zdG9rJ10sXG4gICAgICAgICAgICAgICAgJ1BhY2lmaWMvTWFqdXJvJzogICAgICAgWydBc2lhL0thbWNoYXRrYScsICdQYWNpZmljL0ZpamknXSxcbiAgICAgICAgICAgICAgICAnUGFjaWZpYy9Ub25nYXRhcHUnOiAgICBbJ1BhY2lmaWMvQXBpYSddLFxuICAgICAgICAgICAgICAgICdBc2lhL0JhZ2hkYWQnOiAgICAgICAgIFsnRXVyb3BlL01pbnNrJywgJ0V1cm9wZS9Nb3Njb3cnXSxcbiAgICAgICAgICAgICAgICAnQXNpYS9LYXJhY2hpJzogICAgICAgICBbJ0FzaWEvWWVrYXRlcmluYnVyZyddLFxuICAgICAgICAgICAgICAgICdBZnJpY2EvSm9oYW5uZXNidXJnJzogIFsnQXNpYS9HYXphJywgJ0FmcmljYS9DYWlybyddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG9mZnNldCBpbiBtaW51dGVzIGZyb20gVVRDIGZvciBhIGNlcnRhaW4gZGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRfZGF0ZV9vZmZzZXQgPSBmdW5jdGlvbiBnZXRfZGF0ZV9vZmZzZXQoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gKG9mZnNldCAhPT0gbnVsbCA/IG9mZnNldCA6IDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgc29tZSBiYXNpYyBjYWxjdWxhdGlvbnMgdG8gY3JlYXRlIGluZm9ybWF0aW9uIGFib3V0XG4gICAgICAgICAqIHRoZSB1c2VyJ3MgdGltZXpvbmUuIEl0IHVzZXMgUkVGRVJFTkNFX1lFQVIgYXMgYSBzb2xpZCB5ZWFyIGZvciB3aGljaFxuICAgICAgICAgKiB0aGUgc2NyaXB0IGhhcyBiZWVuIHRlc3RlZCByYXRoZXIgdGhhbiBkZXBlbmQgb24gdGhlIHllYXIgc2V0IGJ5IHRoZVxuICAgICAgICAgKiBjbGllbnQgZGV2aWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm5zIGEga2V5IHRoYXQgY2FuIGJlIHVzZWQgdG8gZG8gbG9va3VwcyBpbiBqc3R6Lm9sc29uLnRpbWV6b25lcy5cbiAgICAgICAgICogZWc6IFwiNzIwLDEsMlwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgbG9va3VwX2tleSA9IGZ1bmN0aW9uIGxvb2t1cF9rZXkoKSB7XG4gICAgICAgICAgICB2YXIgamFudWFyeV9vZmZzZXQgPSBnZXRfZGF0ZV9vZmZzZXQobmV3IERhdGUoY29uc3RzLkJBU0VMSU5FX1lFQVIsIDAsIDIpKSxcbiAgICAgICAgICAgICAgICBqdW5lX29mZnNldCA9IGdldF9kYXRlX29mZnNldChuZXcgRGF0ZShjb25zdHMuQkFTRUxJTkVfWUVBUiwgNSwgMikpLFxuICAgICAgICAgICAgICAgIGRpZmYgPSBqYW51YXJ5X29mZnNldCAtIGp1bmVfb2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gamFudWFyeV9vZmZzZXQgKyBcIiwxXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGp1bmVfb2Zmc2V0ICsgXCIsMSxcIiArIEhFTUlTUEhFUkVfU09VVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBqYW51YXJ5X29mZnNldCArIFwiLDBcIjtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmllcyB0byBnZXQgdGhlIHRpbWUgem9uZSBrZXkgZGlyZWN0bHkgZnJvbSB0aGUgb3BlcmF0aW5nIHN5c3RlbSBmb3IgdGhvc2VcbiAgICAgICAgICogZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCB0aGUgRUNNQVNjcmlwdCBJbnRlcm5hdGlvbmFsaXphdGlvbiBBUEkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkgPSBmdW5jdGlvbiBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkoKSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0LCB0aW1lem9uZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgSW50bCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgSW50bC5EYXRlVGltZUZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gSW50bC5EYXRlVGltZUZvcm1hdCgpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgZm9ybWF0LnJlc29sdmVkT3B0aW9ucyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGltZXpvbmUgPSBmb3JtYXQucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG5cbiAgICAgICAgICAgIGlmICh0aW1lem9uZSAmJiAodGltZXpvbmUuaW5kZXhPZihcIi9cIikgPiAtMSB8fCB0aW1lem9uZSA9PT0gJ1VUQycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWV6b25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0aW5nIHBvaW50IGZvciBnZXR0aW5nIGFsbCB0aGUgRFNUIHJ1bGVzIGZvciBhIHNwZWNpZmljIHllYXJcbiAgICAgICAgICogZm9yIHRoZSBjdXJyZW50IHRpbWV6b25lIChhcyBkZXNjcmliZWQgYnkgdGhlIGNsaWVudCBzeXN0ZW0pLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHN0YXJ0IGFuZCBlbmQgYXR0cmlidXRlcywgb3IgZmFsc2UgaWYgbm9cbiAgICAgICAgICogRFNUIHJ1bGVzIHdlcmUgZm91bmQgZm9yIHRoZSB5ZWFyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geWVhclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB8fCB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGRzdF9kYXRlcyA9IGZ1bmN0aW9uIGRzdF9kYXRlcyh5ZWFyKSB7XG4gICAgICAgICAgICB2YXIgeWVhcnN0YXJ0ID0gbmV3IERhdGUoeWVhciwgMCwgMSwgMCwgMCwgMSwgMCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIHllYXJlbmQgPSBuZXcgRGF0ZSh5ZWFyLCAxMiwgMzEsIDIzLCA1OSwgNTkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0geWVhcnN0YXJ0O1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IChuZXcgRGF0ZShjdXJyZW50KSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBkc3Rfc3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGRzdF9lbmQgPSBudWxsO1xuXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCA8IHllYXJlbmQgLSA4NjQwMDAwMCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRlVG9DaGVjayA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBkYXRlVG9DaGVja09mZnNldCA9IGRhdGVUb0NoZWNrLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0ZVRvQ2hlY2tPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZVRvQ2hlY2tPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdF9zdGFydCA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlVG9DaGVja09mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHN0X2VuZCA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGRhdGVUb0NoZWNrT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnJlbnQgKz0gODY0MDAwMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkc3Rfc3RhcnQgJiYgZHN0X2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHM6IGZpbmRfZHN0X2ZvbGQoZHN0X3N0YXJ0KS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgIGU6IGZpbmRfZHN0X2ZvbGQoZHN0X2VuZCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9iYWJseSBjb21wbGV0ZWx5IHVubmVjZXNzYXJ5IGZ1bmN0aW9uIHRoYXQgcmVjdXJzaXZlbHkgZmluZHMgdGhlXG4gICAgICAgICAqIGV4YWN0ICh0byB0aGUgc2Vjb25kKSB0aW1lIHdoZW4gYSBEU1QgcnVsZSB3YXMgY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGFfZGF0ZSAtIFRoZSBjYW5kaWRhdGUgRGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHBhZGRpbmcgLSBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIHBhZGRpbmcgdG8gYWxsb3cgYXJvdW5kIHRoZSBjYW5kaWRhdGVcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBkYXRlIGZvciBmaW5kaW5nIHRoZSBmb2xkLlxuICAgICAgICAgKiBAcGFyYW0gaXRlcmF0b3IgLSBpbnRlZ2VyIHNwZWNpZnlpbmcgaG93IG1hbnkgbWlsbGlzZWNvbmRzIHRvIGl0ZXJhdGUgd2hpbGVcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgc2VhcmNoaW5nIGZvciB0aGUgZm9sZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBmaW5kX2RzdF9mb2xkID0gZnVuY3Rpb24gZmluZF9kc3RfZm9sZChhX2RhdGUsIHBhZGRpbmcsIGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhZGRpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IGNvbnN0cy5EQVk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSBjb25zdHMuSE9VUjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRhdGVfc3RhcnQgPSBuZXcgRGF0ZShhX2RhdGUuZ2V0VGltZSgpIC0gcGFkZGluZykuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIGRhdGVfZW5kID0gYV9kYXRlLmdldFRpbWUoKSArIHBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gbmV3IERhdGUoZGF0ZV9zdGFydCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBkYXRlX3N0YXJ0O1xuXG4gICAgICAgICAgICB2YXIgZHN0X2NoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCA8IGRhdGVfZW5kIC0gaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVRvQ2hlY2sgPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVRvQ2hlY2tPZmZzZXQgPSBkYXRlVG9DaGVjay5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVUb0NoZWNrT2Zmc2V0ICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0X2NoYW5nZSA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCArPSBpdGVyYXRvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZGRpbmcgPT09IGNvbnN0cy5EQVkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZF9kc3RfZm9sZChkc3RfY2hhbmdlLCBjb25zdHMuSE9VUiwgY29uc3RzLk1JTlVURSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYWRkaW5nID09PSBjb25zdHMuSE9VUikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5kX2RzdF9mb2xkKGRzdF9jaGFuZ2UsIGNvbnN0cy5NSU5VVEUsIGNvbnN0cy5TRUNPTkQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZHN0X2NoYW5nZTtcbiAgICAgICAgfSxcblxuICAgICAgICB3aW5kb3dzN19hZGFwdGF0aW9ucyA9IGZ1bmN0aW9uIHdpbmRvd3M3X2FkYXB0aW9ucyhydWxlX2xpc3QsIHByZWxpbWluYXJ5X3RpbWV6b25lLCBzY29yZSwgc2FtcGxlKSB7XG4gICAgICAgICAgICBpZiAoc2NvcmUgIT09ICdOL0EnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZWxpbWluYXJ5X3RpbWV6b25lID09PSAnQXNpYS9CZWlydXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnQWZyaWNhL0NhaXJvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDEzOTgzNzY4MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDE0MTE2Nzg4MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FzaWEvSmVydXNhbGVtJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDEzOTU5NjQ4MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDE0MTE4NTg4MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlbGltaW5hcnlfdGltZXpvbmUgPT09ICdBbWVyaWNhL1NhbnRpYWdvJykge1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FtZXJpY2EvQXN1bmNpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlX2xpc3RbNl0ucyA9PT0gMTQxMjQ4MTYwMDAwMCAmJiBydWxlX2xpc3RbNl0uZSA9PT0gMTM5NzM1ODAwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnQW1lcmljYS9DYW1wb19HcmFuZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlX2xpc3RbNl0ucyA9PT0gMTQxMzY5MTIwMDAwMCAmJiBydWxlX2xpc3RbNl0uZSA9PT0gMTM5MjUxOTYwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByZWxpbWluYXJ5X3RpbWV6b25lID09PSAnQW1lcmljYS9Nb250ZXZpZGVvJykge1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FtZXJpY2EvU2FvX1BhdWxvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDE0MTM2ODc2MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDEzOTI1MTYwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVsaW1pbmFyeV90aW1lem9uZSA9PT0gJ1BhY2lmaWMvQXVja2xhbmQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnUGFjaWZpYy9GaWppJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDE0MTQyNDU2MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDEzOTYxMDE2MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRha2VzIHRoZSBEU1QgcnVsZXMgZm9yIHRoZSBjdXJyZW50IHRpbWV6b25lLCBhbmQgcHJvY2VlZHMgdG8gZmluZCBtYXRjaGVzXG4gICAgICAgICAqIGluIHRoZSBqc3R6Lm9sc29uLmRzdF9ydWxlcy56b25lcyBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQ29tcGFyZXMgc2FtcGxlcyB0byB0aGUgY3VycmVudCB0aW1lem9uZSBvbiBhIHNjb3JpbmcgYmFzaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbmRpZGF0ZXMgYXJlIHJ1bGVkIGltbWVkaWF0ZWx5IGlmIGVpdGhlciB0aGUgY2FuZGlkYXRlIG9yIHRoZSBjdXJyZW50IHpvbmVcbiAgICAgICAgICogaGFzIGEgRFNUIHJ1bGUgd2hlcmUgdGhlIG90aGVyIGRvZXMgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBDYW5kaWRhdGVzIGFyZSBydWxlZCBvdXQgaW1tZWRpYXRlbHkgaWYgdGhlIGN1cnJlbnQgem9uZSBoYXMgYSBydWxlIHRoYXQgaXNcbiAgICAgICAgICogb3V0c2lkZSB0aGUgRFNUIHNjb3BlIG9mIHRoZSBjYW5kaWRhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbmRpZGF0ZXMgYXJlIGluY2x1ZGVkIGZvciBzY29yaW5nIGlmIHRoZSBjdXJyZW50IHpvbmVzIHJ1bGVzIGZhbGwgd2l0aGluIHRoZVxuICAgICAgICAgKiBzcGFuIG9mIHRoZSBzYW1wbGVzIHJ1bGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBMb3cgc2NvcmUgaXMgYmVzdCwgdGhlIHNjb3JlIGlzIGNhbGN1bGF0ZWQgYnkgc3VtbWluZyB1cCB0aGUgZGlmZmVyZW5jZXMgaW4gRFNUXG4gICAgICAgICAqIHJ1bGVzIGFuZCBpZiB0aGUgY29uc3RzLk1BWF9TQ09SRSBpcyBvdmVycmVhY2hlZCB0aGUgY2FuZGlkYXRlIGlzIHJ1bGVkIG91dC5cbiAgICAgICAgICpcbiAgICAgICAgICogWWFoIGZvbGxvdz8gOilcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHJ1bGVfbGlzdFxuICAgICAgICAgKiBAcGFyYW0gcHJlbGltaW5hcnlfdGltZXpvbmVcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBiZXN0X2RzdF9tYXRjaCA9IGZ1bmN0aW9uIGJlc3RfZHN0X21hdGNoKHJ1bGVfbGlzdCwgcHJlbGltaW5hcnlfdGltZXpvbmUpIHtcbiAgICAgICAgICAgIHZhciBzY29yZV9zYW1wbGUgPSBmdW5jdGlvbiBzY29yZV9zYW1wbGUoc2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjb3JlID0gMDtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZV9saXN0Lmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBzYW1wbGUgYW5kIGN1cnJlbnQgdGltZSB6b25lIHJlcG9ydCBEU1QgZHVyaW5nIHRoZSB5ZWFyLlxuICAgICAgICAgICAgICAgICAgICBpZiAoISFzYW1wbGUucnVsZXNbal0gJiYgISFydWxlX2xpc3Rbal0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgdGltZSB6b25lJ3MgRFNUIHJ1bGVzIGFyZSBpbnNpZGUgdGhlIHNhbXBsZSdzLiBJbmNsdWRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVfbGlzdFtqXS5zID49IHNhbXBsZS5ydWxlc1tqXS5zICYmIHJ1bGVfbGlzdFtqXS5lIDw9IHNhbXBsZS5ydWxlc1tqXS5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IE1hdGguYWJzKHJ1bGVfbGlzdFtqXS5zIC0gc2FtcGxlLnJ1bGVzW2pdLnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IE1hdGguYWJzKHNhbXBsZS5ydWxlc1tqXS5lIC0gcnVsZV9saXN0W2pdLmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCB0aW1lIHpvbmUncyBEU1QgcnVsZXMgYXJlIG91dHNpZGUgdGhlIHNhbXBsZSdzLiBEaXNjYXJkLlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA9ICdOL0EnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWF4IHNjb3JlIGhhcyBiZWVuIHJlYWNoZWQuIERpc2NhcmQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiBjb25zdHMuTUFYX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSAnTi9BJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3JlID0gd2luZG93czdfYWRhcHRhdGlvbnMocnVsZV9saXN0LCBwcmVsaW1pbmFyeV90aW1lem9uZSwgc2NvcmUsIHNhbXBsZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHNjb3JlYm9hcmQgPSB7fTtcbiAgICAgICAgICAgIHZhciBkc3Rfem9uZXMgPSBqc3R6Lm9sc29uLmRzdF9ydWxlcy56b25lcztcbiAgICAgICAgICAgIHZhciBkc3Rfem9uZXNfbGVuZ3RoID0gZHN0X3pvbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhbWJpZ3VpdGllcyA9IGNvbnN0cy5BTUJJR1VJVElFU1twcmVsaW1pbmFyeV90aW1lem9uZV07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHN0X3pvbmVzX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZSA9IGRzdF96b25lc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgc2NvcmUgPSBzY29yZV9zYW1wbGUoZHN0X3pvbmVzW2ldKTtcblxuICAgICAgICAgICAgICAgIGlmIChzY29yZSAhPT0gJ04vQScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVib2FyZFtzYW1wbGUubmFtZV0gPSBzY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIHR6IGluIHNjb3JlYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmVib2FyZC5oYXNPd25Qcm9wZXJ0eSh0eikpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbWJpZ3VpdGllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtYmlndWl0aWVzW2pdID09PSB0eikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ejtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByZWxpbWluYXJ5X3RpbWV6b25lO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYWtlcyB0aGUgcHJlbGltaW5hcnlfdGltZXpvbmUgYXMgZGV0ZWN0ZWQgYnkgbG9va3VwX2tleSgpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCdWlsZHMgdXAgdGhlIGN1cnJlbnQgdGltZXpvbmVzIERTVCBydWxlcyBmb3IgdGhlIHllYXJzIGRlZmluZWRcbiAgICAgICAgICogaW4gdGhlIGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGVyZSBhcmUgbm8gRFNUIG9jY3VyZW5jZXMgZm9yIHRob3NlIHllYXJzLCBpbW1lZGlhdGVseSByZXR1cm5zXG4gICAgICAgICAqIHRoZSBwcmVsaW1pbmFyeSB0aW1lem9uZS4gT3RoZXJ3aXNlIHByb2NlZWRzIGFuZCB0cmllcyB0byBzb2x2ZVxuICAgICAgICAgKiBhbWJpZ3VpdGllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZWxpbWluYXJ5X3RpbWV6b25lXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRpbWV6b25lX25hbWVcbiAgICAgICAgICovXG4gICAgICAgIGdldF9ieV9kc3QgPSBmdW5jdGlvbiBnZXRfYnlfZHN0KHByZWxpbWluYXJ5X3RpbWV6b25lKSB7XG4gICAgICAgICAgICB2YXIgZ2V0X3J1bGVzID0gZnVuY3Rpb24gZ2V0X3J1bGVzKCkge1xuICAgICAgICAgICAgICAgIHZhciBydWxlX2xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyX3J1bGVzID0gZHN0X2RhdGVzKGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZV9saXN0LnB1c2goeWVhcl9ydWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBydWxlX2xpc3Q7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNoZWNrX2hhc19kc3QgPSBmdW5jdGlvbiBjaGVja19oYXNfZHN0KHJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbaV0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJ1bGVzID0gZ2V0X3J1bGVzKCk7XG4gICAgICAgICAgICB2YXIgaGFzX2RzdCA9IGNoZWNrX2hhc19kc3QocnVsZXMpO1xuXG4gICAgICAgICAgICBpZiAoaGFzX2RzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiZXN0X2RzdF9tYXRjaChydWxlcywgcHJlbGltaW5hcnlfdGltZXpvbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJlbGltaW5hcnlfdGltZXpvbmU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgZ2V0X3RpbWV6b25lX2luZm8oKSB0byBmb3JtdWxhdGUgYSBrZXkgdG8gdXNlIGluIHRoZSBvbHNvbi50aW1lem9uZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBvbmUgZnVuY3Rpb24gXCIubmFtZSgpXCJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgT2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBkZXRlcm1pbmUgPSBmdW5jdGlvbiBkZXRlcm1pbmUoKSB7XG4gICAgICAgICAgICB2YXIgcHJlbGltaW5hcnlfdHogPSBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkoKTtcblxuICAgICAgICAgICAgaWYgKCFwcmVsaW1pbmFyeV90eikge1xuICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5X3R6ID0ganN0ei5vbHNvbi50aW1lem9uZXNbbG9va3VwX2tleSgpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RzLkFNQklHVUlUSUVTW3ByZWxpbWluYXJ5X3R6XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnlfdHogPSBnZXRfYnlfZHN0KHByZWxpbWluYXJ5X3R6KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlbGltaW5hcnlfdHo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRldGVybWluZTogZGV0ZXJtaW5lXG4gICAgfTtcbn0oKSk7XG5cblxuanN0ei5vbHNvbiA9IGpzdHoub2xzb24gfHwge307XG5cbi8qKlxuICogVGhlIGtleXMgaW4gdGhpcyBkaWN0aW9uYXJ5IGFyZSBjb21tYSBzZXBhcmF0ZWQgYXMgc3VjaDpcbiAqXG4gKiBGaXJzdCB0aGUgb2Zmc2V0IGNvbXBhcmVkIHRvIFVUQyB0aW1lIGluIG1pbnV0ZXMuXG4gKlxuICogVGhlbiBhIGZsYWcgd2hpY2ggaXMgMCBpZiB0aGUgdGltZXpvbmUgZG9lcyBub3QgdGFrZSBkYXlsaWdodCBzYXZpbmdzIGludG8gYWNjb3VudCBhbmQgMSBpZiBpdFxuICogZG9lcy5cbiAqXG4gKiBUaGlyZGx5IGFuIG9wdGlvbmFsICdzJyBzaWduaWZpZXMgdGhhdCB0aGUgdGltZXpvbmUgaXMgaW4gdGhlIHNvdXRoZXJuIGhlbWlzcGhlcmUsXG4gKiBvbmx5IGludGVyZXN0aW5nIGZvciB0aW1lem9uZXMgd2l0aCBEU1QuXG4gKlxuICogVGhlIG1hcHBlZCBhcnJheXMgaXMgdXNlZCBmb3IgY29uc3RydWN0aW5nIHRoZSBqc3R6LlRpbWVab25lIG9iamVjdCBmcm9tIHdpdGhpblxuICoganN0ei5kZXRlcm1pbmUoKTtcbiAqL1xuanN0ei5vbHNvbi50aW1lem9uZXMgPSB7XG4gICAgJy03MjAsMCc6ICdFdGMvR01UKzEyJyxcbiAgICAnLTY2MCwwJzogJ1BhY2lmaWMvUGFnb19QYWdvJyxcbiAgICAnLTY2MCwxLHMnOiAnUGFjaWZpYy9BcGlhJywgLy8gV2h5PyBCZWNhdXNlIHdpbmRvd3MuLi4gY3J5IVxuICAgICctNjAwLDEnOiAnQW1lcmljYS9BZGFrJyxcbiAgICAnLTYwMCwwJzogJ1BhY2lmaWMvSG9ub2x1bHUnLFxuICAgICctNTcwLDAnOiAnUGFjaWZpYy9NYXJxdWVzYXMnLFxuICAgICctNTQwLDAnOiAnUGFjaWZpYy9HYW1iaWVyJyxcbiAgICAnLTU0MCwxJzogJ0FtZXJpY2EvQW5jaG9yYWdlJyxcbiAgICAnLTQ4MCwxJzogJ0FtZXJpY2EvTG9zX0FuZ2VsZXMnLFxuICAgICctNDgwLDAnOiAnUGFjaWZpYy9QaXRjYWlybicsXG4gICAgJy00MjAsMCc6ICdBbWVyaWNhL1Bob2VuaXgnLFxuICAgICctNDIwLDEnOiAnQW1lcmljYS9EZW52ZXInLFxuICAgICctMzYwLDAnOiAnQW1lcmljYS9HdWF0ZW1hbGEnLFxuICAgICctMzYwLDEnOiAnQW1lcmljYS9DaGljYWdvJyxcbiAgICAnLTM2MCwxLHMnOiAnUGFjaWZpYy9FYXN0ZXInLFxuICAgICctMzAwLDAnOiAnQW1lcmljYS9Cb2dvdGEnLFxuICAgICctMzAwLDEnOiAnQW1lcmljYS9OZXdfWW9yaycsXG4gICAgJy0yNzAsMCc6ICdBbWVyaWNhL0NhcmFjYXMnLFxuICAgICctMjQwLDEnOiAnQW1lcmljYS9IYWxpZmF4JyxcbiAgICAnLTI0MCwwJzogJ0FtZXJpY2EvU2FudG9fRG9taW5nbycsXG4gICAgJy0yNDAsMSxzJzogJ0FtZXJpY2EvQXN1bmNpb24nLFxuICAgICctMjEwLDEnOiAnQW1lcmljYS9TdF9Kb2hucycsXG4gICAgJy0xODAsMSc6ICdBbWVyaWNhL0dvZHRoYWInLFxuICAgICctMTgwLDAnOiAnQW1lcmljYS9BcmdlbnRpbmEvQnVlbm9zX0FpcmVzJyxcbiAgICAnLTE4MCwxLHMnOiAnQW1lcmljYS9Nb250ZXZpZGVvJyxcbiAgICAnLTEyMCwwJzogJ0FtZXJpY2EvTm9yb25oYScsXG4gICAgJy0xMjAsMSc6ICdBbWVyaWNhL05vcm9uaGEnLFxuICAgICctNjAsMSc6ICdBdGxhbnRpYy9Bem9yZXMnLFxuICAgICctNjAsMCc6ICdBdGxhbnRpYy9DYXBlX1ZlcmRlJyxcbiAgICAnMCwwJzogJ1VUQycsXG4gICAgJzAsMSc6ICdFdXJvcGUvTG9uZG9uJyxcbiAgICAnNjAsMSc6ICdFdXJvcGUvQmVybGluJyxcbiAgICAnNjAsMCc6ICdBZnJpY2EvTGFnb3MnLFxuICAgICc2MCwxLHMnOiAnQWZyaWNhL1dpbmRob2VrJyxcbiAgICAnMTIwLDEnOiAnQXNpYS9CZWlydXQnLFxuICAgICcxMjAsMCc6ICdBZnJpY2EvSm9oYW5uZXNidXJnJyxcbiAgICAnMTgwLDAnOiAnQXNpYS9CYWdoZGFkJyxcbiAgICAnMTgwLDEnOiAnRXVyb3BlL01vc2NvdycsXG4gICAgJzIxMCwxJzogJ0FzaWEvVGVocmFuJyxcbiAgICAnMjQwLDAnOiAnQXNpYS9EdWJhaScsXG4gICAgJzI0MCwxJzogJ0FzaWEvQmFrdScsXG4gICAgJzI3MCwwJzogJ0FzaWEvS2FidWwnLFxuICAgICczMDAsMSc6ICdBc2lhL1lla2F0ZXJpbmJ1cmcnLFxuICAgICczMDAsMCc6ICdBc2lhL0thcmFjaGknLFxuICAgICczMzAsMCc6ICdBc2lhL0tvbGthdGEnLFxuICAgICczNDUsMCc6ICdBc2lhL0thdGhtYW5kdScsXG4gICAgJzM2MCwwJzogJ0FzaWEvRGhha2EnLFxuICAgICczNjAsMSc6ICdBc2lhL09tc2snLFxuICAgICczOTAsMCc6ICdBc2lhL1Jhbmdvb24nLFxuICAgICc0MjAsMSc6ICdBc2lhL0tyYXNub3lhcnNrJyxcbiAgICAnNDIwLDAnOiAnQXNpYS9KYWthcnRhJyxcbiAgICAnNDgwLDAnOiAnQXNpYS9TaGFuZ2hhaScsXG4gICAgJzQ4MCwxJzogJ0FzaWEvSXJrdXRzaycsXG4gICAgJzUyNSwwJzogJ0F1c3RyYWxpYS9FdWNsYScsXG4gICAgJzUyNSwxLHMnOiAnQXVzdHJhbGlhL0V1Y2xhJyxcbiAgICAnNTQwLDEnOiAnQXNpYS9ZYWt1dHNrJyxcbiAgICAnNTQwLDAnOiAnQXNpYS9Ub2t5bycsXG4gICAgJzU3MCwwJzogJ0F1c3RyYWxpYS9EYXJ3aW4nLFxuICAgICc1NzAsMSxzJzogJ0F1c3RyYWxpYS9BZGVsYWlkZScsXG4gICAgJzYwMCwwJzogJ0F1c3RyYWxpYS9CcmlzYmFuZScsXG4gICAgJzYwMCwxJzogJ0FzaWEvVmxhZGl2b3N0b2snLFxuICAgICc2MDAsMSxzJzogJ0F1c3RyYWxpYS9TeWRuZXknLFxuICAgICc2MzAsMSxzJzogJ0F1c3RyYWxpYS9Mb3JkX0hvd2UnLFxuICAgICc2NjAsMSc6ICdBc2lhL0thbWNoYXRrYScsXG4gICAgJzY2MCwwJzogJ1BhY2lmaWMvTm91bWVhJyxcbiAgICAnNjkwLDAnOiAnUGFjaWZpYy9Ob3Jmb2xrJyxcbiAgICAnNzIwLDEscyc6ICdQYWNpZmljL0F1Y2tsYW5kJyxcbiAgICAnNzIwLDAnOiAnUGFjaWZpYy9NYWp1cm8nLFxuICAgICc3NjUsMSxzJzogJ1BhY2lmaWMvQ2hhdGhhbScsXG4gICAgJzc4MCwwJzogJ1BhY2lmaWMvVG9uZ2F0YXB1JyxcbiAgICAnNzgwLDEscyc6ICdQYWNpZmljL0FwaWEnLFxuICAgICc4NDAsMCc6ICdQYWNpZmljL0tpcml0aW1hdGknXG59O1xuXG4vKiBCdWlsZCB0aW1lOiAyMDE1LTExLTAyIDEzOjAxOjAwWiBCdWlsZCBieSBpbnZva2luZyBweXRob24gdXRpbGl0aWVzL2RzdC5weSBnZW5lcmF0ZSAqL1xuanN0ei5vbHNvbi5kc3RfcnVsZXMgPSB7XG4gICAgXCJ5ZWFyc1wiOiBbXG4gICAgICAgIDIwMDgsXG4gICAgICAgIDIwMDksXG4gICAgICAgIDIwMTAsXG4gICAgICAgIDIwMTEsXG4gICAgICAgIDIwMTIsXG4gICAgICAgIDIwMTMsXG4gICAgICAgIDIwMTRcbiAgICBdLFxuICAgIFwiem9uZXNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBZnJpY2EvQ2Fpcm9cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMTk5NTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA5MDc0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjUwODAyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI0MDUyNDAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4NTg4MDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODQwNjk2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTE2Nzg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDA2ODQ0MDAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBZnJpY2EvQ2FzYWJsYW5jYVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyMDIyMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMTIyNzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTA4MDkyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjQzODE0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjgxMjIyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3Mjc1ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxMjA2NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE3ODg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNDg5NzA0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzQ1NDI4MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODM5MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM3NjEwMDAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDI4ODgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MDY5NDQ4MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvQXN1bmNpb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMDUwMzE2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjI0Mzg4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjM2NDgxMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI1NTgzODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI3MDk1NDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODYwNzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMDI0MDQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzE3NTI4MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzMzODU0MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM0OTU4MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM2NDA5NDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzODEwMzIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzOTU1NDM2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDEyNDgxNjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL0NhbXBvX0dyYW5kZVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwMzIxNzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQzODg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzQ2NjY4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU1ODM4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY2NzIxMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NzI4ODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI5ODE3MDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTg3Mzc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzAyMjUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzkyMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzYxMDcwMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MjI0MTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5MjUxOTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTM2OTEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvR29vc2VfQmF5XCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI1NTk0ODYwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNTAzNTI2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NzA0NDQ2MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzY0ODQ4NjAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODkwOTg4NjAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY4NTM5MjYwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzIwNTU1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI5OTk4ODg2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM1MjAwNTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMzE0NDU2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzODM0NTQ4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzYyODk1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0OTA0NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5NDM0NDgwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW1lcmljYS9IYXZhbmFcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5OTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA1NjQzNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDQ2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzNjQ4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODUwMTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjg1NDI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMjExNjA0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAwNTk3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUyMDA1MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMzI1NjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MzQ1NDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjI4OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQ5MDQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk0MzQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL01hemF0bGFuXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI1MDA4MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNzQ3MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQ1NzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzg5MjIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg1MTIwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjcwMzcxNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzE5OTYxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMwMTgyMTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM1MTQxMTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMzMyNzA4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzODI4NjA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzY1MzI1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0MzEwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5Njc3NDgwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW1lcmljYS9NZXhpY29fQ2l0eVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTAwNDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDc0Njg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0NTQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4OTE4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NTA4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDM2ODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTk1ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE4MTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTE0MDc2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMjY3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODU3MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NTMyMTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDMwNjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTY3NzEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvTWlxdWVsb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjU1OTg0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA1MDM4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU3MDQ4MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzNjQ4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4OTEwMjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjg1NDI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMjA1NTIwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjk5OTkyNDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUyMDAxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMTQ0MjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MzQ1MTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjI4OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQ5MDA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk0MzQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL1NhbnRhX0lzYWJlbFwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTAxMTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDc0NzYwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0NjEyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4OTI1NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NTE1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDM3NTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTk2NTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE4MjQ4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTE0MTQ4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMjc0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODY0NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NTMyODgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDMxNDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTY3Nzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvU2FudGlhZ29cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMDY4NDYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjIzNzg0MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjM3MDg2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI1NTIzMzYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI3MDM1MDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODY2ODMyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMDQ4MjM2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzEzODk5MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzM1NjY4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM0NjU1ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM2NzExODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNzg2MTI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzOTg1Njc2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDEwMDYyNDAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL1Nhb19QYXVsb1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwMzIxMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQzODUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzQ2NjMyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU1ODM0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY2NzE3NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NzI4NDQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI5ODE2NzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTg3MzQwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzAyMjE2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzg4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzYxMDY2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MjIzODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5MjUxNjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTM2ODc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvQW1tYW5cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjU0MDQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2NjU1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2ODUzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODEwNDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODMwMzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk1NTQ0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTk3NTI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxNjA4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0NzA2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5NTk1NzYwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9EYW1hc2N1c1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTQ4NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDcyNjAwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY4NTAwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MTA0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4Mjk5NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDE1OTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTc0OTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE2MDg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTExOTg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMDU4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyNjQ4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDUwODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDcwMjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTU5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvRHViYWlcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvR2F6YVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIxOTk1NzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY2NTUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTIwMTUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MTA0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjgxNDc0MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTY0MDg2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxMjE0NjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE2MDg4NjAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNDgxNzg0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMDU4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgwMjI5MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDUwODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDA5ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTU5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvSXJrdXRza1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk1NzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MTM2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MDcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjYzMjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDYxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcxMjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9KZXJ1c2FsZW1cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjMxNjEyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2NjYyNDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU0MDA2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODExMjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4NDI0NjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk1NjE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTc1MTAwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxNjE2MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzQ4MzU0ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMzA2NTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MjgyODQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjQ1MTUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQyNzgwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk1OTY0ODAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL0thbWNoYXRrYVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk0MzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY3OTkyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTYzOTI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjQ4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDUwODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTY5ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9LcmFzbm95YXJza1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk2MTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MTcyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MTA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjY2ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDY1MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcxNjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9PbXNrXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTY0ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgyMDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQxNDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNzA0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0Njg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzIwMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL1ZsYWRpdm9zdG9rXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTUwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgwNjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQwMDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNTYwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0NTQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzA1NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL1lha3V0c2tcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5NTQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2ODEwMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDAzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODI1OTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODQ1ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk3MDkyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvWWVrYXRlcmluYnVyZ1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk2ODQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MjQ0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MTgwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjc0MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDcyNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcyMzYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9ZZXJldmFuXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTcyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgyODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQyMTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNzc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0NzYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzI3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzE5OTI1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMwMTE3NjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXVzdHJhbGlhL0xvcmRfSG93ZVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwNzQwNzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjMxMzQyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzg4NTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU0NTgzODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjcwMzA2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NjAzMzQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMwMTc1NjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTc0ODMwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzMyMDYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzQ5NTM3NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzY1MjYwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MDk4NzAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5NjcxMDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTI0MzY2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkF1c3RyYWxpYS9QZXJ0aFwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwNjgxMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQ5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9IZWxzaW5raVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk4MjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4Mzg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MzI0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjg4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDg2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTkzNjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDExODc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTEzODYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMyNjM3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODM1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDY5MTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDI4NTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTYxNDEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9NaW5za1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk3OTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MzUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0Mjg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjg0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDgzMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczNDQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXVyb3BlL01vc2Nvd1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk3NTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MzE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MjUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjgxMjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDc5NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczMDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUGFjaWZpYy9BcGlhXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzAxNzUyODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMxNjg3MjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMzMzIwMjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNDg5MjcyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNjUyNTY4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzgwMzc2ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzk2NzA2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTQxMTgyNjQwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUGFjaWZpYy9GaWppXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY5Njk4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4Nzg0MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMyNzE1NDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTkyOTIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTg2MDQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzQxNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzkwMDUwMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4Mjc5NjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQyMTUwMzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTQ4NTA0MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9Mb25kb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5ODI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2ODM4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDMyNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODI4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODQ4NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk3MzgwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTk5MzY0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxMTg3NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUxMzg2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMjYzNzIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MjgzNTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjQ2OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQyODUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk2MTQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXVxufTtcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBqc3R6O1xufSBlbHNlIGlmICgodHlwZW9mIGRlZmluZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPSBudWxsKSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBqc3R6O1xuICAgIH0pO1xufSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHJvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5qc3R6ID0ganN0ejtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmpzdHogPSBqc3R6O1xuICAgIH1cbn1cbn0oKSk7XG4iLCIvKiEgbGlnaHRzbGlkZXIgLSB2MS4xLjYgLSAyMDE2LTEwLTI1XG4qIGh0dHBzOi8vZ2l0aHViLmNvbS9zYWNoaW5jaG9vbHVyL2xpZ2h0c2xpZGVyXG4qIENvcHlyaWdodCAoYykgMjAxNiBTYWNoaW4gTjsgTGljZW5zZWQgTUlUICovXG4hZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjt2YXIgYz17aXRlbTozLGF1dG9XaWR0aDohMSxzbGlkZU1vdmU6MSxzbGlkZU1hcmdpbjoxMCxhZGRDbGFzczpcIlwiLG1vZGU6XCJzbGlkZVwiLHVzZUNTUzohMCxjc3NFYXNpbmc6XCJlYXNlXCIsZWFzaW5nOlwibGluZWFyXCIsc3BlZWQ6NDAwLGF1dG86ITEscGF1c2VPbkhvdmVyOiExLGxvb3A6ITEsc2xpZGVFbmRBbmltYXRpb246ITAscGF1c2U6MmUzLGtleVByZXNzOiExLGNvbnRyb2xzOiEwLHByZXZIdG1sOlwiXCIsbmV4dEh0bWw6XCJcIixydGw6ITEsYWRhcHRpdmVIZWlnaHQ6ITEsdmVydGljYWw6ITEsdmVydGljYWxIZWlnaHQ6NTAwLHZUaHVtYldpZHRoOjEwMCx0aHVtYkl0ZW06MTAscGFnZXI6ITAsZ2FsbGVyeTohMSxnYWxsZXJ5TWFyZ2luOjUsdGh1bWJNYXJnaW46NSxjdXJyZW50UGFnZXJQb3NpdGlvbjpcIm1pZGRsZVwiLGVuYWJsZVRvdWNoOiEwLGVuYWJsZURyYWc6ITAsZnJlZU1vdmU6ITAsc3dpcGVUaHJlc2hvbGQ6NDAscmVzcG9uc2l2ZTpbXSxvbkJlZm9yZVN0YXJ0OmZ1bmN0aW9uKGEpe30sb25TbGlkZXJMb2FkOmZ1bmN0aW9uKGEpe30sb25CZWZvcmVTbGlkZTpmdW5jdGlvbihhLGIpe30sb25BZnRlclNsaWRlOmZ1bmN0aW9uKGEsYil7fSxvbkJlZm9yZU5leHRTbGlkZTpmdW5jdGlvbihhLGIpe30sb25CZWZvcmVQcmV2U2xpZGU6ZnVuY3Rpb24oYSxiKXt9fTthLmZuLmxpZ2h0U2xpZGVyPWZ1bmN0aW9uKGIpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcztpZih0aGlzLmxlbmd0aD4xKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmxpZ2h0U2xpZGVyKGIpfSksdGhpczt2YXIgZD17fSxlPWEuZXh0ZW5kKCEwLHt9LGMsYiksZj17fSxnPXRoaXM7ZC4kZWw9dGhpcyxcImZhZGVcIj09PWUubW9kZSYmKGUudmVydGljYWw9ITEpO3ZhciBoPWcuY2hpbGRyZW4oKSxpPWEod2luZG93KS53aWR0aCgpLGo9bnVsbCxrPW51bGwsbD0wLG09MCxuPSExLG89MCxwPVwiXCIscT0wLHI9ZS52ZXJ0aWNhbD09PSEwP1wiaGVpZ2h0XCI6XCJ3aWR0aFwiLHM9ZS52ZXJ0aWNhbD09PSEwP1wibWFyZ2luLWJvdHRvbVwiOlwibWFyZ2luLXJpZ2h0XCIsdD0wLHU9MCx2PTAsdz0wLHg9bnVsbCx5PVwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsej17fTtyZXR1cm4gei5jaGJyZWFrcG9pbnQ9ZnVuY3Rpb24oKXtpZihpPWEod2luZG93KS53aWR0aCgpLGUucmVzcG9uc2l2ZS5sZW5ndGgpe3ZhciBiO2lmKGUuYXV0b1dpZHRoPT09ITEmJihiPWUuaXRlbSksaTxlLnJlc3BvbnNpdmVbMF0uYnJlYWtwb2ludClmb3IodmFyIGM9MDtjPGUucmVzcG9uc2l2ZS5sZW5ndGg7YysrKWk8ZS5yZXNwb25zaXZlW2NdLmJyZWFrcG9pbnQmJihqPWUucmVzcG9uc2l2ZVtjXS5icmVha3BvaW50LGs9ZS5yZXNwb25zaXZlW2NdKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgayYmbnVsbCE9PWspZm9yKHZhciBkIGluIGsuc2V0dGluZ3Mpay5zZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShkKSYmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgZltkXXx8bnVsbD09PWZbZF0pJiYoZltkXT1lW2RdKSxlW2RdPWsuc2V0dGluZ3NbZF0pO2lmKCFhLmlzRW1wdHlPYmplY3QoZikmJmk+ZS5yZXNwb25zaXZlWzBdLmJyZWFrcG9pbnQpZm9yKHZhciBnIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShnKSYmKGVbZ109ZltnXSk7ZS5hdXRvV2lkdGg9PT0hMSYmdD4wJiZ2PjAmJmIhPT1lLml0ZW0mJihxPU1hdGgucm91bmQodC8oKHYrZS5zbGlkZU1hcmdpbikqZS5zbGlkZU1vdmUpKSl9fSx6LmNhbFNXPWZ1bmN0aW9uKCl7ZS5hdXRvV2lkdGg9PT0hMSYmKHY9KG8tKGUuaXRlbSplLnNsaWRlTWFyZ2luLWUuc2xpZGVNYXJnaW4pKS9lLml0ZW0pfSx6LmNhbFdpZHRoPWZ1bmN0aW9uKGEpe3ZhciBiPWE9PT0hMD9wLmZpbmQoXCIubHNsaWRlXCIpLmxlbmd0aDpoLmxlbmd0aDtpZihlLmF1dG9XaWR0aD09PSExKW09YiooditlLnNsaWRlTWFyZ2luKTtlbHNle209MDtmb3IodmFyIGM9MDtiPmM7YysrKW0rPXBhcnNlSW50KGguZXEoYykud2lkdGgoKSkrZS5zbGlkZU1hcmdpbn1yZXR1cm4gbX0sZD17ZG9Dc3M6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXCJ0cmFuc2l0aW9uXCIsXCJNb3pUcmFuc2l0aW9uXCIsXCJXZWJraXRUcmFuc2l0aW9uXCIsXCJPVHJhbnNpdGlvblwiLFwibXNUcmFuc2l0aW9uXCIsXCJLaHRtbFRyYW5zaXRpb25cIl0sYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY11pbiBiLnN0eWxlKXJldHVybiEwfTtyZXR1cm4gZS51c2VDU1MmJmEoKT8hMDohMX0sa2V5UHJlc3M6ZnVuY3Rpb24oKXtlLmtleVByZXNzJiZhKGRvY3VtZW50KS5vbihcImtleXVwLmxpZ2h0c2xpZGVyXCIsZnVuY3Rpb24oYil7YShcIjpmb2N1c1wiKS5pcyhcImlucHV0LCB0ZXh0YXJlYVwiKXx8KGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEsMzc9PT1iLmtleUNvZGU/Zy5nb1RvUHJldlNsaWRlKCk6Mzk9PT1iLmtleUNvZGUmJmcuZ29Ub05leHRTbGlkZSgpKX0pfSxjb250cm9sczpmdW5jdGlvbigpe2UuY29udHJvbHMmJihnLmFmdGVyKCc8ZGl2IGNsYXNzPVwibFNBY3Rpb25cIj48YSBjbGFzcz1cImxTUHJldlwiPicrZS5wcmV2SHRtbCsnPC9hPjxhIGNsYXNzPVwibFNOZXh0XCI+JytlLm5leHRIdG1sK1wiPC9hPjwvZGl2PlwiKSxlLmF1dG9XaWR0aD96LmNhbFdpZHRoKCExKTxvJiZwLmZpbmQoXCIubFNBY3Rpb25cIikuaGlkZSgpOmw8PWUuaXRlbSYmcC5maW5kKFwiLmxTQWN0aW9uXCIpLmhpZGUoKSxwLmZpbmQoXCIubFNBY3Rpb24gYVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEsXCJsU1ByZXZcIj09PWEodGhpcykuYXR0cihcImNsYXNzXCIpP2cuZ29Ub1ByZXZTbGlkZSgpOmcuZ29Ub05leHRTbGlkZSgpLCExfSkpfSxpbml0aWFsU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO1wiZmFkZVwiPT09ZS5tb2RlJiYoZS5hdXRvV2lkdGg9ITEsZS5zbGlkZUVuZEFuaW1hdGlvbj0hMSksZS5hdXRvJiYoZS5zbGlkZUVuZEFuaW1hdGlvbj0hMSksZS5hdXRvV2lkdGgmJihlLnNsaWRlTW92ZT0xLGUuaXRlbT0xKSxlLmxvb3AmJihlLnNsaWRlTW92ZT0xLGUuZnJlZU1vdmU9ITEpLGUub25CZWZvcmVTdGFydC5jYWxsKHRoaXMsZyksei5jaGJyZWFrcG9pbnQoKSxnLmFkZENsYXNzKFwibGlnaHRTbGlkZXJcIikud3JhcCgnPGRpdiBjbGFzcz1cImxTU2xpZGVPdXRlciAnK2UuYWRkQ2xhc3MrJ1wiPjxkaXYgY2xhc3M9XCJsU1NsaWRlV3JhcHBlclwiPjwvZGl2PjwvZGl2PicpLHA9Zy5wYXJlbnQoXCIubFNTbGlkZVdyYXBwZXJcIiksZS5ydGw9PT0hMCYmcC5wYXJlbnQoKS5hZGRDbGFzcyhcImxTcnRsXCIpLGUudmVydGljYWw/KHAucGFyZW50KCkuYWRkQ2xhc3MoXCJ2ZXJ0aWNhbFwiKSxvPWUudmVydGljYWxIZWlnaHQscC5jc3MoXCJoZWlnaHRcIixvK1wicHhcIikpOm89Zy5vdXRlcldpZHRoKCksaC5hZGRDbGFzcyhcImxzbGlkZVwiKSxlLmxvb3A9PT0hMCYmXCJzbGlkZVwiPT09ZS5tb2RlJiYoei5jYWxTVygpLHouY2xvbmU9ZnVuY3Rpb24oKXtpZih6LmNhbFdpZHRoKCEwKT5vKXtmb3IodmFyIGI9MCxjPTAsZD0wO2Q8aC5sZW5ndGgmJihiKz1wYXJzZUludChnLmZpbmQoXCIubHNsaWRlXCIpLmVxKGQpLndpZHRoKCkpK2Uuc2xpZGVNYXJnaW4sYysrLCEoYj49bytlLnNsaWRlTWFyZ2luKSk7ZCsrKTt2YXIgZj1lLmF1dG9XaWR0aD09PSEwP2M6ZS5pdGVtO2lmKGY8Zy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoKWZvcih2YXIgaT0wO2k8Zy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoLWY7aSsrKWguZXEoaSkucmVtb3ZlKCk7aWYoZjxnLmZpbmQoXCIuY2xvbmUucmlnaHRcIikubGVuZ3RoKWZvcih2YXIgaj1oLmxlbmd0aC0xO2o+aC5sZW5ndGgtMS1nLmZpbmQoXCIuY2xvbmUucmlnaHRcIikubGVuZ3RoO2otLSlxLS0saC5lcShqKS5yZW1vdmUoKTtmb3IodmFyIGs9Zy5maW5kKFwiLmNsb25lLnJpZ2h0XCIpLmxlbmd0aDtmPms7aysrKWcuZmluZChcIi5sc2xpZGVcIikuZXEoaykuY2xvbmUoKS5yZW1vdmVDbGFzcyhcImxzbGlkZVwiKS5hZGRDbGFzcyhcImNsb25lIHJpZ2h0XCIpLmFwcGVuZFRvKGcpLHErKztmb3IodmFyIGw9Zy5maW5kKFwiLmxzbGlkZVwiKS5sZW5ndGgtZy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoO2w+Zy5maW5kKFwiLmxzbGlkZVwiKS5sZW5ndGgtZjtsLS0pZy5maW5kKFwiLmxzbGlkZVwiKS5lcShsLTEpLmNsb25lKCkucmVtb3ZlQ2xhc3MoXCJsc2xpZGVcIikuYWRkQ2xhc3MoXCJjbG9uZSBsZWZ0XCIpLnByZXBlbmRUbyhnKTtoPWcuY2hpbGRyZW4oKX1lbHNlIGguaGFzQ2xhc3MoXCJjbG9uZVwiKSYmKGcuZmluZChcIi5jbG9uZVwiKS5yZW1vdmUoKSxhLm1vdmUoZywwKSl9LHouY2xvbmUoKSksei5zU1c9ZnVuY3Rpb24oKXtsPWgubGVuZ3RoLGUucnRsPT09ITAmJmUudmVydGljYWw9PT0hMSYmKHM9XCJtYXJnaW4tbGVmdFwiKSxlLmF1dG9XaWR0aD09PSExJiZoLmNzcyhyLHYrXCJweFwiKSxoLmNzcyhzLGUuc2xpZGVNYXJnaW4rXCJweFwiKSxtPXouY2FsV2lkdGgoITEpLGcuY3NzKHIsbStcInB4XCIpLGUubG9vcD09PSEwJiZcInNsaWRlXCI9PT1lLm1vZGUmJm49PT0hMSYmKHE9Zy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoKX0sei5jYWxMPWZ1bmN0aW9uKCl7aD1nLmNoaWxkcmVuKCksbD1oLmxlbmd0aH0sdGhpcy5kb0NzcygpJiZwLmFkZENsYXNzKFwidXNpbmdDc3NcIiksei5jYWxMKCksXCJzbGlkZVwiPT09ZS5tb2RlPyh6LmNhbFNXKCksei5zU1coKSxlLmxvb3A9PT0hMCYmKHQ9YS5zbGlkZVZhbHVlKCksdGhpcy5tb3ZlKGcsdCkpLGUudmVydGljYWw9PT0hMSYmdGhpcy5zZXRIZWlnaHQoZywhMSkpOih0aGlzLnNldEhlaWdodChnLCEwKSxnLmFkZENsYXNzKFwibFNGYWRlXCIpLHRoaXMuZG9Dc3MoKXx8KGguZmFkZU91dCgwKSxoLmVxKHEpLmZhZGVJbigwKSkpLGUubG9vcD09PSEwJiZcInNsaWRlXCI9PT1lLm1vZGU/aC5lcShxKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTpoLmZpcnN0KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIil9LHBhZ2VyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZih6LmNyZWF0ZVBhZ2VyPWZ1bmN0aW9uKCl7dz0oby0oZS50aHVtYkl0ZW0qZS50aHVtYk1hcmdpbi1lLnRodW1iTWFyZ2luKSkvZS50aHVtYkl0ZW07dmFyIGI9cC5maW5kKFwiLmxzbGlkZVwiKSxjPXAuZmluZChcIi5sc2xpZGVcIikubGVuZ3RoLGQ9MCxmPVwiXCIsaD0wO2ZvcihkPTA7Yz5kO2QrKyl7XCJzbGlkZVwiPT09ZS5tb2RlJiYoZS5hdXRvV2lkdGg/aCs9KHBhcnNlSW50KGIuZXEoZCkud2lkdGgoKSkrZS5zbGlkZU1hcmdpbikqZS5zbGlkZU1vdmU6aD1kKih2K2Uuc2xpZGVNYXJnaW4pKmUuc2xpZGVNb3ZlKTt2YXIgaT1iLmVxKGQqZS5zbGlkZU1vdmUpLmF0dHIoXCJkYXRhLXRodW1iXCIpO2lmKGYrPWUuZ2FsbGVyeT09PSEwPyc8bGkgc3R5bGU9XCJ3aWR0aDoxMDAlOycrcitcIjpcIit3K1wicHg7XCIrcytcIjpcIitlLnRodW1iTWFyZ2luKydweFwiPjxhIGhyZWY9XCIjXCI+PGltZyBzcmM9XCInK2krJ1wiIC8+PC9hPjwvbGk+JzonPGxpPjxhIGhyZWY9XCIjXCI+JysoZCsxKStcIjwvYT48L2xpPlwiLFwic2xpZGVcIj09PWUubW9kZSYmaD49bS1vLWUuc2xpZGVNYXJnaW4pe2QrPTE7dmFyIGo9MjtlLmF1dG9XaWR0aCYmKGYrPSc8bGk+PGEgaHJlZj1cIiNcIj4nKyhkKzEpK1wiPC9hPjwvbGk+XCIsaj0xKSxqPmQ/KGY9bnVsbCxwLnBhcmVudCgpLmFkZENsYXNzKFwibm9QYWdlclwiKSk6cC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcIm5vUGFnZXJcIik7YnJlYWt9fXZhciBrPXAucGFyZW50KCk7ay5maW5kKFwiLmxTUGFnZXJcIikuaHRtbChmKSxlLmdhbGxlcnk9PT0hMCYmKGUudmVydGljYWw9PT0hMCYmay5maW5kKFwiLmxTUGFnZXJcIikuY3NzKFwid2lkdGhcIixlLnZUaHVtYldpZHRoK1wicHhcIiksdT1kKihlLnRodW1iTWFyZ2luK3cpKy41LGsuZmluZChcIi5sU1BhZ2VyXCIpLmNzcyh7cHJvcGVydHk6dStcInB4XCIsXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6ZS5zcGVlZCtcIm1zXCJ9KSxlLnZlcnRpY2FsPT09ITAmJnAucGFyZW50KCkuY3NzKFwicGFkZGluZy1yaWdodFwiLGUudlRodW1iV2lkdGgrZS5nYWxsZXJ5TWFyZ2luK1wicHhcIiksay5maW5kKFwiLmxTUGFnZXJcIikuY3NzKHIsdStcInB4XCIpKTt2YXIgbD1rLmZpbmQoXCIubFNQYWdlclwiKS5maW5kKFwibGlcIik7bC5maXJzdCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLGwub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUubG9vcD09PSEwJiZcInNsaWRlXCI9PT1lLm1vZGU/cSs9bC5pbmRleCh0aGlzKS1rLmZpbmQoXCIubFNQYWdlclwiKS5maW5kKFwibGkuYWN0aXZlXCIpLmluZGV4KCk6cT1sLmluZGV4KHRoaXMpLGcubW9kZSghMSksZS5nYWxsZXJ5PT09ITAmJmEuc2xpZGVUaHVtYigpLCExfSl9LGUucGFnZXIpe3ZhciBiPVwibFNwZ1wiO2UuZ2FsbGVyeSYmKGI9XCJsU0dhbGxlcnlcIikscC5hZnRlcignPHVsIGNsYXNzPVwibFNQYWdlciAnK2IrJ1wiPjwvdWw+Jyk7dmFyIGM9ZS52ZXJ0aWNhbD9cIm1hcmdpbi1sZWZ0XCI6XCJtYXJnaW4tdG9wXCI7cC5wYXJlbnQoKS5maW5kKFwiLmxTUGFnZXJcIikuY3NzKGMsZS5nYWxsZXJ5TWFyZ2luK1wicHhcIiksei5jcmVhdGVQYWdlcigpfXNldFRpbWVvdXQoZnVuY3Rpb24oKXt6LmluaXQoKX0sMCl9LHNldEhlaWdodDpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZD10aGlzO2M9ZS5sb29wP2EuY2hpbGRyZW4oXCIubHNsaWRlIFwiKS5maXJzdCgpOmEuY2hpbGRyZW4oKS5maXJzdCgpO3ZhciBmPWZ1bmN0aW9uKCl7dmFyIGQ9Yy5vdXRlckhlaWdodCgpLGU9MCxmPWQ7YiYmKGQ9MCxlPTEwMCpmL28pLGEuY3NzKHtoZWlnaHQ6ZCtcInB4XCIsXCJwYWRkaW5nLWJvdHRvbVwiOmUrXCIlXCJ9KX07ZigpLGMuZmluZChcImltZ1wiKS5sZW5ndGg/Yy5maW5kKFwiaW1nXCIpWzBdLmNvbXBsZXRlPyhmKCkseHx8ZC5hdXRvKCkpOmMuZmluZChcImltZ1wiKS5vbihcImxvYWRcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmKCkseHx8ZC5hdXRvKCl9LDEwMCl9KTp4fHxkLmF1dG8oKX0sYWN0aXZlOmZ1bmN0aW9uKGEsYil7dGhpcy5kb0NzcygpJiZcImZhZGVcIj09PWUubW9kZSYmcC5hZGRDbGFzcyhcIm9uXCIpO3ZhciBjPTA7aWYocSplLnNsaWRlTW92ZTxsKXthLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHRoaXMuZG9Dc3MoKXx8XCJmYWRlXCIhPT1lLm1vZGV8fGIhPT0hMXx8YS5mYWRlT3V0KGUuc3BlZWQpLGM9Yj09PSEwP3E6cSplLnNsaWRlTW92ZTt2YXIgZCxmO2I9PT0hMCYmKGQ9YS5sZW5ndGgsZj1kLTEsYysxPj1kJiYoYz1mKSksZS5sb29wPT09ITAmJlwic2xpZGVcIj09PWUubW9kZSYmKGM9Yj09PSEwP3EtZy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoOnEqZS5zbGlkZU1vdmUsYj09PSEwJiYoZD1hLmxlbmd0aCxmPWQtMSxjKzE9PT1kP2M9ZjpjKzE+ZCYmKGM9MCkpKSx0aGlzLmRvQ3NzKCl8fFwiZmFkZVwiIT09ZS5tb2RlfHxiIT09ITF8fGEuZXEoYykuZmFkZUluKGUuc3BlZWQpLGEuZXEoYykuYWRkQ2xhc3MoXCJhY3RpdmVcIil9ZWxzZSBhLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLGEuZXEoYS5sZW5ndGgtMSkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy5kb0NzcygpfHxcImZhZGVcIiE9PWUubW9kZXx8YiE9PSExfHwoYS5mYWRlT3V0KGUuc3BlZWQpLGEuZXEoYykuZmFkZUluKGUuc3BlZWQpKX0sbW92ZTpmdW5jdGlvbihhLGIpe2UucnRsPT09ITAmJihiPS1iKSx0aGlzLmRvQ3NzKCk/YS5jc3MoZS52ZXJ0aWNhbD09PSEwP3t0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZCgwcHgsIFwiKy1iK1wicHgsIDBweClcIixcIi13ZWJraXQtdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzZCgwcHgsIFwiKy1iK1wicHgsIDBweClcIn06e3RyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiKy1iK1wicHgsIDBweCwgMHB4KVwiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiKy1iK1wicHgsIDBweCwgMHB4KVwifSk6ZS52ZXJ0aWNhbD09PSEwP2EuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpLmFuaW1hdGUoe3RvcDotYitcInB4XCJ9LGUuc3BlZWQsZS5lYXNpbmcpOmEuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpLmFuaW1hdGUoe2xlZnQ6LWIrXCJweFwifSxlLnNwZWVkLGUuZWFzaW5nKTt2YXIgYz1wLnBhcmVudCgpLmZpbmQoXCIubFNQYWdlclwiKS5maW5kKFwibGlcIik7dGhpcy5hY3RpdmUoYywhMCl9LGZhZGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZShoLCExKTt2YXIgYT1wLnBhcmVudCgpLmZpbmQoXCIubFNQYWdlclwiKS5maW5kKFwibGlcIik7dGhpcy5hY3RpdmUoYSwhMCl9LHNsaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt6LmNhbFNsaWRlPWZ1bmN0aW9uKCl7bT5vJiYodD1hLnNsaWRlVmFsdWUoKSxhLmFjdGl2ZShoLCExKSx0Pm0tby1lLnNsaWRlTWFyZ2luP3Q9bS1vLWUuc2xpZGVNYXJnaW46MD50JiYodD0wKSxhLm1vdmUoZyx0KSxlLmxvb3A9PT0hMCYmXCJzbGlkZVwiPT09ZS5tb2RlJiYocT49bC1nLmZpbmQoXCIuY2xvbmUubGVmdFwiKS5sZW5ndGgvZS5zbGlkZU1vdmUmJmEucmVzZXRTbGlkZShnLmZpbmQoXCIuY2xvbmUubGVmdFwiKS5sZW5ndGgpLDA9PT1xJiZhLnJlc2V0U2xpZGUocC5maW5kKFwiLmxzbGlkZVwiKS5sZW5ndGgpKSl9LHouY2FsU2xpZGUoKX0scmVzZXRTbGlkZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3AuZmluZChcIi5sU0FjdGlvbiBhXCIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3E9YSxwLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixcIjBtc1wiKSx0PWIuc2xpZGVWYWx1ZSgpLGIuYWN0aXZlKGgsITEpLGQubW92ZShnLHQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixlLnNwZWVkK1wibXNcIikscC5maW5kKFwiLmxTQWN0aW9uIGFcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKX0sNTApfSxlLnNwZWVkKzEwMCl9LHNsaWRlVmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT0wO2lmKGUuYXV0b1dpZHRoPT09ITEpYT1xKih2K2Uuc2xpZGVNYXJnaW4pKmUuc2xpZGVNb3ZlO2Vsc2V7YT0wO2Zvcih2YXIgYj0wO3E+YjtiKyspYSs9cGFyc2VJbnQoaC5lcShiKS53aWR0aCgpKStlLnNsaWRlTWFyZ2lufXJldHVybiBhfSxzbGlkZVRodW1iOmZ1bmN0aW9uKCl7dmFyIGE7c3dpdGNoKGUuY3VycmVudFBhZ2VyUG9zaXRpb24pe2Nhc2VcImxlZnRcIjphPTA7YnJlYWs7Y2FzZVwibWlkZGxlXCI6YT1vLzItdy8yO2JyZWFrO2Nhc2VcInJpZ2h0XCI6YT1vLXd9dmFyIGI9cS1nLmZpbmQoXCIuY2xvbmUubGVmdFwiKS5sZW5ndGgsYz1wLnBhcmVudCgpLmZpbmQoXCIubFNQYWdlclwiKTtcInNsaWRlXCI9PT1lLm1vZGUmJmUubG9vcD09PSEwJiYoYj49Yy5jaGlsZHJlbigpLmxlbmd0aD9iPTA6MD5iJiYoYj1jLmNoaWxkcmVuKCkubGVuZ3RoKSk7dmFyIGQ9YioodytlLnRodW1iTWFyZ2luKS1hO2Qrbz51JiYoZD11LW8tZS50aHVtYk1hcmdpbiksMD5kJiYoZD0wKSx0aGlzLm1vdmUoYyxkKX0sYXV0bzpmdW5jdGlvbigpe2UuYXV0byYmKGNsZWFySW50ZXJ2YWwoeCkseD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2cuZ29Ub05leHRTbGlkZSgpfSxlLnBhdXNlKSl9LHBhdXNlT25Ib3ZlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXM7ZS5hdXRvJiZlLnBhdXNlT25Ib3ZlciYmKHAub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXthKHRoaXMpLmFkZENsYXNzKFwibHMtaG92ZXJcIiksZy5wYXVzZSgpLGUuYXV0bz0hMH0pLHAub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oKXthKHRoaXMpLnJlbW92ZUNsYXNzKFwibHMtaG92ZXJcIikscC5maW5kKFwiLmxpZ2h0U2xpZGVyXCIpLmhhc0NsYXNzKFwibHNHcmFiYmluZ1wiKXx8Yi5hdXRvKCl9KSl9LHRvdWNoTW92ZTpmdW5jdGlvbihhLGIpe2lmKHAuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFwiMG1zXCIpLFwic2xpZGVcIj09PWUubW9kZSl7dmFyIGM9YS1iLGQ9dC1jO2lmKGQ+PW0tby1lLnNsaWRlTWFyZ2luKWlmKGUuZnJlZU1vdmU9PT0hMSlkPW0tby1lLnNsaWRlTWFyZ2luO2Vsc2V7dmFyIGY9bS1vLWUuc2xpZGVNYXJnaW47ZD1mKyhkLWYpLzV9ZWxzZSAwPmQmJihlLmZyZWVNb3ZlPT09ITE/ZD0wOmQvPTUpO3RoaXMubW92ZShnLGQpfX0sdG91Y2hFbmQ6ZnVuY3Rpb24oYSl7aWYocC5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsZS5zcGVlZCtcIm1zXCIpLFwic2xpZGVcIj09PWUubW9kZSl7dmFyIGI9ITEsYz0hMDt0LT1hLHQ+bS1vLWUuc2xpZGVNYXJnaW4/KHQ9bS1vLWUuc2xpZGVNYXJnaW4sZS5hdXRvV2lkdGg9PT0hMSYmKGI9ITApKTowPnQmJih0PTApO3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBjPTA7aWYoYnx8YSYmKGM9MSksZS5hdXRvV2lkdGgpZm9yKHZhciBkPTAsZj0wO2Y8aC5sZW5ndGgmJihkKz1wYXJzZUludChoLmVxKGYpLndpZHRoKCkpK2Uuc2xpZGVNYXJnaW4scT1mK2MsIShkPj10KSk7ZisrKTtlbHNle3ZhciBnPXQvKCh2K2Uuc2xpZGVNYXJnaW4pKmUuc2xpZGVNb3ZlKTtxPXBhcnNlSW50KGcpK2MsdD49bS1vLWUuc2xpZGVNYXJnaW4mJmclMSE9PTAmJnErK319O2E+PWUuc3dpcGVUaHJlc2hvbGQ/KGQoITEpLGM9ITEpOmE8PS1lLnN3aXBlVGhyZXNob2xkJiYoZCghMCksYz0hMSksZy5tb2RlKGMpLHRoaXMuc2xpZGVUaHVtYigpfWVsc2UgYT49ZS5zd2lwZVRocmVzaG9sZD9nLmdvVG9QcmV2U2xpZGUoKTphPD0tZS5zd2lwZVRocmVzaG9sZCYmZy5nb1RvTmV4dFNsaWRlKCl9LGVuYWJsZURyYWc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2lmKCF5KXt2YXIgYz0wLGQ9MCxmPSExO3AuZmluZChcIi5saWdodFNsaWRlclwiKS5hZGRDbGFzcyhcImxzR3JhYlwiKSxwLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7cmV0dXJuIG8+bSYmMCE9PW0/ITE6dm9pZChcImxTUHJldlwiIT09YShiLnRhcmdldCkuYXR0cihcImNsYXNzXCIpJiZcImxTTmV4dFwiIT09YShiLnRhcmdldCkuYXR0cihcImNsYXNzXCIpJiYoYz1lLnZlcnRpY2FsPT09ITA/Yi5wYWdlWTpiLnBhZ2VYLGY9ITAsYi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMSxwLnNjcm9sbExlZnQrPTEscC5zY3JvbGxMZWZ0LT0xLHAuZmluZChcIi5saWdodFNsaWRlclwiKS5yZW1vdmVDbGFzcyhcImxzR3JhYlwiKS5hZGRDbGFzcyhcImxzR3JhYmJpbmdcIiksY2xlYXJJbnRlcnZhbCh4KSkpfSksYSh3aW5kb3cpLm9uKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYSl7ZiYmKGQ9ZS52ZXJ0aWNhbD09PSEwP2EucGFnZVk6YS5wYWdlWCxiLnRvdWNoTW92ZShkLGMpKX0pLGEod2luZG93KS5vbihcIm1vdXNldXBcIixmdW5jdGlvbihnKXtpZihmKXtwLmZpbmQoXCIubGlnaHRTbGlkZXJcIikucmVtb3ZlQ2xhc3MoXCJsc0dyYWJiaW5nXCIpLmFkZENsYXNzKFwibHNHcmFiXCIpLGY9ITEsZD1lLnZlcnRpY2FsPT09ITA/Zy5wYWdlWTpnLnBhZ2VYO3ZhciBoPWQtYztNYXRoLmFicyhoKT49ZS5zd2lwZVRocmVzaG9sZCYmYSh3aW5kb3cpLm9uKFwiY2xpY2subHNcIixmdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0P2IucHJldmVudERlZmF1bHQoKTpiLnJldHVyblZhbHVlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYi5zdG9wUHJvcGFnYXRpb24oKSxhKHdpbmRvdykub2ZmKFwiY2xpY2subHNcIil9KSxiLnRvdWNoRW5kKGgpfX0pfX0sZW5hYmxlVG91Y2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKHkpe3ZhciBiPXt9LGM9e307cC5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbihhKXtjPWEub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLGIucGFnZVg9YS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVgsYi5wYWdlWT1hLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSxjbGVhckludGVydmFsKHgpfSkscC5vbihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGQpe2lmKG8+bSYmMCE9PW0pcmV0dXJuITE7dmFyIGY9ZC5vcmlnaW5hbEV2ZW50O2M9Zi50YXJnZXRUb3VjaGVzWzBdO3ZhciBnPU1hdGguYWJzKGMucGFnZVgtYi5wYWdlWCksaD1NYXRoLmFicyhjLnBhZ2VZLWIucGFnZVkpO2UudmVydGljYWw9PT0hMD8oMypoPmcmJmQucHJldmVudERlZmF1bHQoKSxhLnRvdWNoTW92ZShjLnBhZ2VZLGIucGFnZVkpKTooMypnPmgmJmQucHJldmVudERlZmF1bHQoKSxhLnRvdWNoTW92ZShjLnBhZ2VYLGIucGFnZVgpKX0pLHAub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7aWYobz5tJiYwIT09bSlyZXR1cm4hMTt2YXIgZDtkPWUudmVydGljYWw9PT0hMD9jLnBhZ2VZLWIucGFnZVk6Yy5wYWdlWC1iLnBhZ2VYLGEudG91Y2hFbmQoZCl9KX19LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLmluaXRpYWxTdHlsZSgpLHRoaXMuZG9Dc3MoKSYmKGUuZW5hYmxlVG91Y2g9PT0hMCYmYi5lbmFibGVUb3VjaCgpLGUuZW5hYmxlRHJhZz09PSEwJiZiLmVuYWJsZURyYWcoKSksYSh3aW5kb3cpLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2IuYXV0bygpfSksYSh3aW5kb3cpLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh4KX0pLGIucGFnZXIoKSxiLnBhdXNlT25Ib3ZlcigpLGIuY29udHJvbHMoKSxiLmtleVByZXNzKCl9fSxkLmJ1aWxkKCksei5pbml0PWZ1bmN0aW9uKCl7ei5jaGJyZWFrcG9pbnQoKSxlLnZlcnRpY2FsPT09ITA/KG89ZS5pdGVtPjE/ZS52ZXJ0aWNhbEhlaWdodDpoLm91dGVySGVpZ2h0KCkscC5jc3MoXCJoZWlnaHRcIixvK1wicHhcIikpOm89cC5vdXRlcldpZHRoKCksZS5sb29wPT09ITAmJlwic2xpZGVcIj09PWUubW9kZSYmei5jbG9uZSgpLHouY2FsTCgpLFwic2xpZGVcIj09PWUubW9kZSYmZy5yZW1vdmVDbGFzcyhcImxTU2xpZGVcIiksXCJzbGlkZVwiPT09ZS5tb2RlJiYoei5jYWxTVygpLHouc1NXKCkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcInNsaWRlXCI9PT1lLm1vZGUmJmcuYWRkQ2xhc3MoXCJsU1NsaWRlXCIpfSwxZTMpLGUucGFnZXImJnouY3JlYXRlUGFnZXIoKSxlLmFkYXB0aXZlSGVpZ2h0PT09ITAmJmUudmVydGljYWw9PT0hMSYmZy5jc3MoXCJoZWlnaHRcIixoLmVxKHEpLm91dGVySGVpZ2h0KCEwKSksZS5hZGFwdGl2ZUhlaWdodD09PSExJiYoXCJzbGlkZVwiPT09ZS5tb2RlP2UudmVydGljYWw9PT0hMT9kLnNldEhlaWdodChnLCExKTpkLmF1dG8oKTpkLnNldEhlaWdodChnLCEwKSksZS5nYWxsZXJ5PT09ITAmJmQuc2xpZGVUaHVtYigpLFwic2xpZGVcIj09PWUubW9kZSYmZC5zbGlkZSgpLGUuYXV0b1dpZHRoPT09ITE/aC5sZW5ndGg8PWUuaXRlbT9wLmZpbmQoXCIubFNBY3Rpb25cIikuaGlkZSgpOnAuZmluZChcIi5sU0FjdGlvblwiKS5zaG93KCk6ei5jYWxXaWR0aCghMSk8byYmMCE9PW0/cC5maW5kKFwiLmxTQWN0aW9uXCIpLmhpZGUoKTpwLmZpbmQoXCIubFNBY3Rpb25cIikuc2hvdygpfSxnLmdvVG9QcmV2U2xpZGU9ZnVuY3Rpb24oKXtpZihxPjApZS5vbkJlZm9yZVByZXZTbGlkZS5jYWxsKHRoaXMsZyxxKSxxLS0sZy5tb2RlKCExKSxlLmdhbGxlcnk9PT0hMCYmZC5zbGlkZVRodW1iKCk7ZWxzZSBpZihlLmxvb3A9PT0hMCl7aWYoZS5vbkJlZm9yZVByZXZTbGlkZS5jYWxsKHRoaXMsZyxxKSxcImZhZGVcIj09PWUubW9kZSl7dmFyIGE9bC0xO3E9cGFyc2VJbnQoYS9lLnNsaWRlTW92ZSl9Zy5tb2RlKCExKSxlLmdhbGxlcnk9PT0hMCYmZC5zbGlkZVRodW1iKCl9ZWxzZSBlLnNsaWRlRW5kQW5pbWF0aW9uPT09ITAmJihnLmFkZENsYXNzKFwibGVmdEVuZFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhcImxlZnRFbmRcIil9LDQwMCkpfSxnLmdvVG9OZXh0U2xpZGU9ZnVuY3Rpb24oKXt2YXIgYT0hMDtpZihcInNsaWRlXCI9PT1lLm1vZGUpe3ZhciBiPWQuc2xpZGVWYWx1ZSgpO2E9YjxtLW8tZS5zbGlkZU1hcmdpbn1xKmUuc2xpZGVNb3ZlPGwtZS5zbGlkZU1vdmUmJmE/KGUub25CZWZvcmVOZXh0U2xpZGUuY2FsbCh0aGlzLGcscSkscSsrLGcubW9kZSghMSksZS5nYWxsZXJ5PT09ITAmJmQuc2xpZGVUaHVtYigpKTplLmxvb3A9PT0hMD8oZS5vbkJlZm9yZU5leHRTbGlkZS5jYWxsKHRoaXMsZyxxKSxxPTAsZy5tb2RlKCExKSxlLmdhbGxlcnk9PT0hMCYmZC5zbGlkZVRodW1iKCkpOmUuc2xpZGVFbmRBbmltYXRpb249PT0hMCYmKGcuYWRkQ2xhc3MoXCJyaWdodEVuZFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhcInJpZ2h0RW5kXCIpfSw0MDApKX0sZy5tb2RlPWZ1bmN0aW9uKGEpe2UuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmZS52ZXJ0aWNhbD09PSExJiZnLmNzcyhcImhlaWdodFwiLGguZXEocSkub3V0ZXJIZWlnaHQoITApKSxuPT09ITEmJihcInNsaWRlXCI9PT1lLm1vZGU/ZC5kb0NzcygpJiYoZy5hZGRDbGFzcyhcImxTU2xpZGVcIiksXCJcIiE9PWUuc3BlZWQmJnAuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLGUuc3BlZWQrXCJtc1wiKSxcIlwiIT09ZS5jc3NFYXNpbmcmJnAuY3NzKFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIixlLmNzc0Vhc2luZykpOmQuZG9Dc3MoKSYmKFwiXCIhPT1lLnNwZWVkJiZnLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixlLnNwZWVkK1wibXNcIiksXCJcIiE9PWUuY3NzRWFzaW5nJiZnLmNzcyhcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsZS5jc3NFYXNpbmcpKSksYXx8ZS5vbkJlZm9yZVNsaWRlLmNhbGwodGhpcyxnLHEpLFwic2xpZGVcIj09PWUubW9kZT9kLnNsaWRlKCk6ZC5mYWRlKCkscC5oYXNDbGFzcyhcImxzLWhvdmVyXCIpfHxkLmF1dG8oKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YXx8ZS5vbkFmdGVyU2xpZGUuY2FsbCh0aGlzLGcscSl9LGUuc3BlZWQpLG49ITB9LGcucGxheT1mdW5jdGlvbigpe2cuZ29Ub05leHRTbGlkZSgpLGUuYXV0bz0hMCxkLmF1dG8oKX0sZy5wYXVzZT1mdW5jdGlvbigpe2UuYXV0bz0hMSxjbGVhckludGVydmFsKHgpfSxnLnJlZnJlc2g9ZnVuY3Rpb24oKXt6LmluaXQoKX0sZy5nZXRDdXJyZW50U2xpZGVDb3VudD1mdW5jdGlvbigpe3ZhciBhPXE7aWYoZS5sb29wKXt2YXIgYj1wLmZpbmQoXCIubHNsaWRlXCIpLmxlbmd0aCxjPWcuZmluZChcIi5jbG9uZS5sZWZ0XCIpLmxlbmd0aDthPWMtMT49cT9iKyhxLWMpOnE+PWIrYz9xLWItYzpxLWN9cmV0dXJuIGErMX0sZy5nZXRUb3RhbFNsaWRlQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcC5maW5kKFwiLmxzbGlkZVwiKS5sZW5ndGh9LGcuZ29Ub1NsaWRlPWZ1bmN0aW9uKGEpe3E9ZS5sb29wP2ErZy5maW5kKFwiLmNsb25lLmxlZnRcIikubGVuZ3RoLTE6YSxnLm1vZGUoITEpLGUuZ2FsbGVyeT09PSEwJiZkLnNsaWRlVGh1bWIoKX0sZy5kZXN0cm95PWZ1bmN0aW9uKCl7Zy5saWdodFNsaWRlciYmKGcuZ29Ub1ByZXZTbGlkZT1mdW5jdGlvbigpe30sZy5nb1RvTmV4dFNsaWRlPWZ1bmN0aW9uKCl7fSxnLm1vZGU9ZnVuY3Rpb24oKXt9LGcucGxheT1mdW5jdGlvbigpe30sZy5wYXVzZT1mdW5jdGlvbigpe30sZy5yZWZyZXNoPWZ1bmN0aW9uKCl7fSxnLmdldEN1cnJlbnRTbGlkZUNvdW50PWZ1bmN0aW9uKCl7fSxnLmdldFRvdGFsU2xpZGVDb3VudD1mdW5jdGlvbigpe30sZy5nb1RvU2xpZGU9ZnVuY3Rpb24oKXt9LGcubGlnaHRTbGlkZXI9bnVsbCx6PXtpbml0OmZ1bmN0aW9uKCl7fX0sZy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLmxTQWN0aW9uLCAubFNQYWdlclwiKS5yZW1vdmUoKSxnLnJlbW92ZUNsYXNzKFwibGlnaHRTbGlkZXIgbFNGYWRlIGxTU2xpZGUgbHNHcmFiIGxzR3JhYmJpbmcgbGVmdEVuZCByaWdodFwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikudW53cmFwKCkudW53cmFwKCksZy5jaGlsZHJlbigpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSxoLnJlbW92ZUNsYXNzKFwibHNsaWRlIGFjdGl2ZVwiKSxnLmZpbmQoXCIuY2xvbmVcIikucmVtb3ZlKCksaD1udWxsLHg9bnVsbCxuPSExLHE9MCl9LHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLm9uU2xpZGVyTG9hZC5jYWxsKHRoaXMsZyl9LDEwKSxhKHdpbmRvdykub24oXCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2VcIixmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSx6LmluaXQoKX0sMjAwKX0pLHRoaXN9fShqUXVlcnkpOyIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xudmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbnZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbnZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTIzJyxcbiAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZjAnLFxuICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG52YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9NYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSArICddJyxcbiAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xudmFyIHJzTG93ZXJNaXNjID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgIHJzVXBwZXJNaXNjID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgIHJzT3B0TG93ZXJDb250ciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgIHJzT3B0VXBwZXJDb250ciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4vKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbnZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gKi9cbnZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xudmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xudmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0TG93ZXJDb250ciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICByc1VwcGVyTWlzYyArICcrJyArIHJzT3B0VXBwZXJDb250ciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc0xvd2VyTWlzYywgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyTWlzYyArICcrJyArIHJzT3B0TG93ZXJDb250cixcbiAgcnNVcHBlciArICcrJyArIHJzT3B0VXBwZXJDb250cixcbiAgcnNEaWdpdHMsXG4gIHJzRW1vamlcbl0uam9pbignfCcpLCAnZycpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbnZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9NYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG52YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezIsfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xudmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICdcXHhkZic6ICdzcycsXG4gIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzcydcbn07XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICovXG5mdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gKi9cbnZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xufVxuXG4vKipcbiAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICovXG5mdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICB9XG4gIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuZ3RoO1xuICB9XG4gIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgc3RhcnQgPj4+PSAwO1xuXG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAqL1xuZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gKiAvLyA9PiAnZm9vQmFyJ1xuICpcbiAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICogLy8gPT4gJ2Zvb0JhcidcbiAqXG4gKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAqIC8vID0+ICdmb29CYXInXG4gKi9cbnZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICogdG8gbG93ZXIgY2FzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAqIC8vID0+ICdGcmVkJ1xuICovXG5mdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xufVxuXG4vKipcbiAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICogLy8gPT4gJ2RlamEgdnUnXG4gKi9cbmZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICogLy8gPT4gJ0ZyZWQnXG4gKlxuICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gKiAvLyA9PiAnRlJFRCdcbiAqL1xudmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbi8qKlxuICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAqXG4gKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gKi9cbmZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgcGF0dGVybiA9IGd1YXJkID8gdW5kZWZpbmVkIDogcGF0dGVybjtcblxuICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsQ2FzZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlTGVhZGluZ0RvdCA9IC9eXFwuLyxcbiAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gIH1cbiAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ1RvUGF0aCh2YWx1ZSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZShmdW5jdGlvbihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChyZUxlYWRpbmdEb3QudGVzdChzdHJpbmcpKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gQXNzaWduIGNhY2hlIHRvIGBfLm1lbW9pemVgLlxubWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldDtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xudmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbnZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbnZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTIzJyxcbiAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZjAnLFxuICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG52YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib01hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlICsgJ10nLFxuICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG52YXIgcnNMb3dlck1pc2MgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgcnNVcHBlck1pc2MgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgcnNPcHRMb3dlckNvbnRyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgcnNPcHRVcHBlckNvbnRyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXE7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xudmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAqL1xudmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG52YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRMb3dlckNvbnRyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gIHJzVXBwZXJNaXNjICsgJysnICsgcnNPcHRVcHBlckNvbnRyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTG93ZXJNaXNjLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgcnNVcHBlciArICc/JyArIHJzTG93ZXJNaXNjICsgJysnICsgcnNPcHRMb3dlckNvbnRyLFxuICByc1VwcGVyICsgJysnICsgcnNPcHRVcHBlckNvbnRyLFxuICByc0RpZ2l0cyxcbiAgcnNFbW9qaVxuXS5qb2luKCd8JyksICdnJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbnZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mix9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4vKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG52YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgJ1xceGRmJzogJ3NzJyxcbiAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3NzJ1xufTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vKipcbiAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAqL1xudmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xufVxuXG4vKipcbiAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICovXG5mdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gKiAvLyA9PiAnZGVqYSB2dSdcbiAqL1xuZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAqIC8vID0+ICdmb28tYmFyJ1xuICpcbiAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAqIC8vID0+ICdmb28tYmFyJ1xuICpcbiAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICogLy8gPT4gJ2Zvby1iYXInXG4gKi9cbnZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbn0pO1xuXG4vKipcbiAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICovXG5mdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBrZWJhYkNhc2U7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIGtleSA9PSAnX19wcm90b19fJ1xuICAgID8gdW5kZWZpbmVkXG4gICAgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xudmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgIH1cbiAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICogdmFsdWUgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgKHNyY0luZGV4ICYmIGlzRnVuY3Rpb24ob2JqVmFsdWUpKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICovXG5mdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICogICB9XG4gKiB9XG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICpcbiAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICovXG52YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2VXaXRoO1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gIGlmICh2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG4gIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgLy8gU2FmYXJpIDkgbWFrZXMgYGFyZ3VtZW50cy5sZW5ndGhgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHZhciByZXN1bHQgPSAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKVxuICAgID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKVxuICAgIDogW107XG5cbiAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICBza2lwSW5kZXhlcyA9ICEhbGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4KGtleSwgbGVuZ3RoKSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBbXSxcbiAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGlmIChpdGVyYXRlZSkge1xuICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gIH1cbiAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gIH1cbiAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICB9XG4gIG91dGVyOlxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIHBpY2suXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHByb3BzKSB7XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBwaWNrIGZyb20uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSB7fTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXkpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSBhcnJheTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gbmF0aXZlR2V0U3ltYm9scyA/IG92ZXJBcmcobmF0aXZlR2V0U3ltYm9scywgT2JqZWN0KSA6IHN0dWJBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbCBwcm9wZXJ0aWVzXG4gKiBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB3aGlsZSAob2JqZWN0KSB7XG4gICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXQgYXJlXG4gKiBub3Qgb21pdHRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3Byb3BzXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gb21pdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICpcbiAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICogLy8gPT4geyAnYic6ICcyJyB9XG4gKi9cbnZhciBvbWl0ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwcm9wcykge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcHJvcHMgPSBhcnJheU1hcChiYXNlRmxhdHRlbihwcm9wcywgMSksIHRvS2V5KTtcbiAgcmV0dXJuIGJhc2VQaWNrKG9iamVjdCwgYmFzZURpZmZlcmVuY2UoZ2V0QWxsS2V5c0luKG9iamVjdCksIHByb3BzKSk7XG59KTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvbWl0O1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgcmVMZWFkaW5nRG90ID0gL15cXC4vLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBwYXRoID0gaXNLZXkocGF0aCwgb2JqZWN0KSA/IFtwYXRoXSA6IGNhc3RQYXRoKHBhdGgpO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogc3RyaW5nVG9QYXRoKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplKGZ1bmN0aW9uKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHJlTGVhZGluZ0RvdC50ZXN0KHN0cmluZykpIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICogYHBhdGhgIGNyZWF0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAqIC8vID0+IDRcbiAqXG4gKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gKiAvLyA9PiA1XG4gKi9cbmZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0O1xuIiwiLy8hIG1vbWVudC5qc1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiBob29rcyAoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgICAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgcmZjMjgyMiAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5fcGY7XG4gICAgfVxuXG4gICAgdmFyIHNvbWU7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3Mud2Vla2RheU1pc21hdGNoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cbiAgICBmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG4gICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcbiAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG4gICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcbiAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcbiAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuICAgIGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgICAgICAvLyBvYmplY3RzLlxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXM7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICAgICAgc2FtZUVsc2UgOiAnTCdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG4gICAgdmFyIGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgICAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICAgICAgc3MgOiAnJWQgc2Vjb25kcycsXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggIDogJ2FuIGhvdXInLFxuICAgICAgICBoaCA6ICclZCBob3VycycsXG4gICAgICAgIGQgIDogJ2EgZGF5JyxcbiAgICAgICAgZGQgOiAnJWQgZGF5cycsXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxuICAgICAgICBNTSA6ICclZCBtb250aHMnLFxuICAgICAgICB5ICA6ICdhIHllYXInLFxuICAgICAgICB5eSA6ICclZCB5ZWFycydcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBhbGlhc2VzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbiAgICB9XG5cbiAgICB2YXIgcHJpb3JpdGllcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgICAgIHZhciB1bml0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSkgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbiAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGkgPSA1O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcbiAgICB2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG4gICAgdmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuICAgIHZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxuICAgIHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuICAgIHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbiAgICB2YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXG4gICAgLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4gICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgICAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW5zID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgWUVBUiA9IDA7XG4gICAgdmFyIE1PTlRIID0gMTtcbiAgICB2YXIgREFURSA9IDI7XG4gICAgdmFyIEhPVVIgPSAzO1xuICAgIHZhciBNSU5VVEUgPSA0O1xuICAgIHZhciBTRUNPTkQgPSA1O1xuICAgIHZhciBNSUxMSVNFQ09ORCA9IDY7XG4gICAgdmFyIFdFRUsgPSA3O1xuICAgIHZhciBXRUVLREFZID0gODtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgICAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bml0ID09PSAnRnVsbFllYXInICYmIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiYgbW9tLm1vbnRoKCkgPT09IDEgJiYgbW9tLmRhdGUoKSA9PT0gMjkpIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUsIG1vbS5tb250aCgpLCBkYXlzSW5Nb250aCh2YWx1ZSwgbW9tLm1vbnRoKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9kKG4sIHgpIHtcbiAgICAgICAgcmV0dXJuICgobiAlIHgpICsgeCkgJSB4O1xuICAgIH1cblxuICAgIHZhciBpbmRleE9mO1xuXG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgIC8vIEkga25vd1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICBpZiAoaXNOYU4oeWVhcikgfHwgaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RNb250aCA9IG1vZChtb250aCwgMTIpO1xuICAgICAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgICAgICByZXR1cm4gbW9kTW9udGggPT09IDEgPyAoaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgpIDogKDMxIC0gbW9kTW9udGggJSA3ICUgMik7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cbiAgICAgICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLCBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAgICAgLy8gdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblxuICAgICAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIC8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG4gICAgZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG4gICAgICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICAgICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuICAgICAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXG4gICAgICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICAgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ3cnLCAnd3cnLCAnVycsICdXVyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICAgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbiAgICB9XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5cyA6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5kYXkoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluID0gJ1N1X01vX1R1X1dlX1RoX0ZyX1NhJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7XG4gICAgbWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignaycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIGtJbnB1dCA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgICAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIHZhciBiYXNlQ29uZmlnID0ge1xuICAgICAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgICAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgICAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgICAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICAgICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UsXG4gICAgICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgICAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICAgICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICAgICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICAgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICAgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICAgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2VcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge307XG4gICAgdmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG4gICAgdmFyIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuICAgIH1cblxuICAgIC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuICAgIC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4gICAgLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuICAgIGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgICAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuICAgIC8vIGxvY2FsZSBrZXkuXG4gICAgZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvY2FsZSAnICsga2V5ICsgICcgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgIHRtcExvY2FsZSA9IGxvYWRMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgICAgICB2YXIgb3ZlcmZsb3c7XG4gICAgICAgIHZhciBhID0gbS5fYTtcblxuICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgICAgICAtMTtcblxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4gICAgLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gICAgLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCBleHBlY3RlZFdlZWtkYXksIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDID8gY29uZmlnLl9kLmdldFVUQ0RheSgpIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICAgICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgICAgIHcgPSBjb25maWcuX3c7XG4gICAgICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvdyA9IDE7XG4gICAgICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5pbmcgb2Ygd2Vla1xuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG4gICAgICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaXNvIDg2MDEgcmVnZXhcbiAgICAvLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbiAgICB2YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcbiAgICB2YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbiAgICB2YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxuICAgIHZhciBpc29EYXRlcyA9IFtcbiAgICAgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcbiAgICAgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgICAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICAgICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgICAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgICAgICAvLyBZWVlZTU0gaXMgTk9UIGFsbG93ZWQgYnkgdGhlIHN0YW5kYXJkXG4gICAgICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWURERCcsIC9cXGR7N30vXVxuICAgIF07XG5cbiAgICAvLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG4gICAgdmFyIGlzb1RpbWVzID0gW1xuICAgICAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgICAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEgnLCAvXFxkXFxkL11cbiAgICBdO1xuXG4gICAgdmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgICAgIHZhciBpLCBsLFxuICAgICAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNvVGltZXNbaV1bMV0uZXhlYyhtYXRjaFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJGQyAyODIyIHJlZ2V4OiBGb3IgZGV0YWlscyBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzI4MjIjc2VjdGlvbi0zLjNcbiAgICB2YXIgcmZjMjgyMiA9IC9eKD86KE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksP1xccyk/KFxcZHsxLDJ9KVxccyhKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylcXHMoXFxkezIsNH0pXFxzKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkpP1xccyg/OihVVHxHTVR8W0VDTVBdW1NEXVQpfChbWnpdKXwoWystXVxcZHs0fSkpJC87XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RnJvbVJGQzI4MjJTdHJpbmdzKHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXG4gICAgICAgICAgICB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSxcbiAgICAgICAgICAgIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydC5pbmRleE9mKG1vbnRoU3RyKSxcbiAgICAgICAgICAgIHBhcnNlSW50KGRheVN0ciwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQoaG91clN0ciwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobWludXRlU3RyLCAxMClcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoc2Vjb25kU3RyKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpIHtcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XG4gICAgICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgICAgICByZXR1cm4gMjAwMCArIHllYXI7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csICcgJykucmVwbGFjZSgvKFxcc1xccyspL2csICcgJykucmVwbGFjZSgvXlxcc1xccyovLCAnJykucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tXZWVrZGF5KHdlZWtkYXlTdHIsIHBhcnNlZElucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKHdlZWtkYXlTdHIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVudGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgICAgIHZhciB3ZWVrZGF5UHJvdmlkZWQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydC5pbmRleE9mKHdlZWtkYXlTdHIpLFxuICAgICAgICAgICAgICAgIHdlZWtkYXlBY3R1YWwgPSBuZXcgRGF0ZShwYXJzZWRJbnB1dFswXSwgcGFyc2VkSW5wdXRbMV0sIHBhcnNlZElucHV0WzJdKS5nZXREYXkoKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5UHJvdmlkZWQgIT09IHdlZWtkYXlBY3R1YWwpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgb2JzT2Zmc2V0cyA9IHtcbiAgICAgICAgVVQ6IDAsXG4gICAgICAgIEdNVDogMCxcbiAgICAgICAgRURUOiAtNCAqIDYwLFxuICAgICAgICBFU1Q6IC01ICogNjAsXG4gICAgICAgIENEVDogLTUgKiA2MCxcbiAgICAgICAgQ1NUOiAtNiAqIDYwLFxuICAgICAgICBNRFQ6IC02ICogNjAsXG4gICAgICAgIE1TVDogLTcgKiA2MCxcbiAgICAgICAgUERUOiAtNyAqIDYwLFxuICAgICAgICBQU1Q6IC04ICogNjBcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KG9ic09mZnNldCwgbWlsaXRhcnlPZmZzZXQsIG51bU9mZnNldCkge1xuICAgICAgICBpZiAob2JzT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzT2Zmc2V0c1tvYnNPZmZzZXRdO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbGl0YXJ5T2Zmc2V0KSB7XG4gICAgICAgICAgICAvLyB0aGUgb25seSBhbGxvd2VkIG1pbGl0YXJ5IHR6IGlzIFpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhtID0gcGFyc2VJbnQobnVtT2Zmc2V0LCAxMCk7XG4gICAgICAgICAgICB2YXIgbSA9IGhtICUgMTAwLCBoID0gKGhtIC0gbSkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gaCAqIDYwICsgbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgYW5kIHRpbWUgZnJvbSByZWYgMjgyMiBmb3JtYXRcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tUkZDMjgyMihjb25maWcpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gcmZjMjgyMi5leGVjKHByZXByb2Nlc3NSRkMyODIyKGNvbmZpZy5faSkpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBwYXJzZWRBcnJheSA9IGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MobWF0Y2hbNF0sIG1hdGNoWzNdLCBtYXRjaFsyXSwgbWF0Y2hbNV0sIG1hdGNoWzZdLCBtYXRjaFs3XSk7XG4gICAgICAgICAgICBpZiAoIWNoZWNrV2Vla2RheShtYXRjaFsxXSwgcGFyc2VkQXJyYXksIGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IHBhcnNlZEFycmF5O1xuICAgICAgICAgICAgY29uZmlnLl90em0gPSBjYWxjdWxhdGVPZmZzZXQobWF0Y2hbOF0sIG1hdGNoWzldLCBtYXRjaFsxMF0pO1xuXG4gICAgICAgICAgICBjb25maWcuX2QgPSBjcmVhdGVVVENEYXRlLmFwcGx5KG51bGwsIGNvbmZpZy5fYSk7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5yZmMyODIyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsIGF0dGVtcHQsIHVzZSBJbnB1dCBGYWxsYmFja1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cblxuICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuICAgICAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBSRkMyODIyIG9yIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuICAgICAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gUkZDMjgyMi9JU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuICAgIGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgUkZDIDI4MjIgZm9ybVxuICAgIGhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5SRkNfMjgyMikge1xuICAgICAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2EgPSBbXTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXG4gICAgICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgICAgICB2YXIgaXNQbTtcblxuICAgICAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIHZhciB0ZW1wQ29uZmlnLFxuICAgICAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgICAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gIGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuICAgICAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG4gICAgICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgICAgIGMuX2wgPSBsb2NhbGU7XG4gICAgICAgIGMuX2kgPSBpbnB1dDtcbiAgICAgICAgYy5fZiA9IGZvcm1hdDtcbiAgICAgICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXG4gICAgICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbiAgICAvLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4gICAgLy9cbiAgICAvLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4gICAgLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbiAgICBmdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcbiAgICAgICAgdmFyIHJlcywgaTtcbiAgICAgICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbiAgICBmdW5jdGlvbiBtaW4gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1heCAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbiAgICB9XG5cbiAgICB2YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbiAgICB9O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gWyd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgJ21pbGxpc2Vjb25kJ107XG5cbiAgICBmdW5jdGlvbiBpc0R1cmF0aW9uVmFsaWQobSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbSkge1xuICAgICAgICAgICAgaWYgKCEoaW5kZXhPZi5jYWxsKG9yZGVyaW5nLCBrZXkpICE9PSAtMSAmJiAobVtrZXldID09IG51bGwgfHwgIWlzTmFOKG1ba2V5XSkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1bml0SGFzRGVjaW1hbCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAobVtvcmRlcmluZ1tpXV0pIHtcbiAgICAgICAgICAgICAgICBpZiAodW5pdEhhc0RlY2ltYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvbmx5IGFsbG93IG5vbi1pbnRlZ2VycyBmb3Igc21hbGxlc3QgdW5pdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdChtW29yZGVyaW5nW2ldXSkgIT09IHRvSW50KG1bb3JkZXJpbmdbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICB1bml0SGFzRGVjaW1hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZCQxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbihOYU4pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuICAgICAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG4gICAgICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IDAsXG4gICAgICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuICAgICAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gaXNEdXJhdGlvblZhbGlkKG5vcm1hbGl6ZWRJbnB1dCk7XG5cbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgICAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG4gICAgICAgICAgICB3ZWVrcyAqIDc7XG4gICAgICAgIC8vIEl0IGlzIGltcG9zc2libGUgdG8gdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG4gICAgICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICAgICAgcXVhcnRlcnMgKiAzICtcbiAgICAgICAgICAgIHllYXJzICogMTI7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IGdldExvY2FsZSgpO1xuXG4gICAgICAgIHRoaXMuX2J1YmJsZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvZmZzZXQoJ1onLCAnOicpO1xuICAgIG9mZnNldCgnWlonLCAnJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIHRpbWV6b25lIGNodW5rZXJcbiAgICAvLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cbiAgICAvLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbiAgICB2YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbiAgICBmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgICAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgICAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAgICAgMCA6XG4gICAgICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuICAgIGZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcbiAgICAgICAgdmFyIHJlcywgZGlmZjtcbiAgICAgICAgaWYgKG1vZGVsLl9pc1VUQykge1xuICAgICAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcbiAgICAgICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgICAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICAgICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4gICAgLy8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG4gICAgaG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcbiAgICAvLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuICAgIC8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbiAgICAvLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG4gICAgLy9cbiAgICAvLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbiAgICAvLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcbiAgICAvLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG4gICAgLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4gICAgLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cbiAgICBmdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lLCBrZWVwTWludXRlcykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICBsb2NhbEFkanVzdDtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYgJiYgIWtlZXBNaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgICAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRab25lID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSk7XG4gICAgICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMb2NhbCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0YyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEFTUC5ORVQganNvbiBkYXRlIGZvcm1hdCByZWdleFxuICAgIHZhciBhc3BOZXRSZWdleCA9IC9eKFxcLXxcXCspPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4gICAgLy8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcbiAgICAvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4gICAgLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuICAgIHZhciBpc29SZWdleCA9IC9eKC18XFwrKT9QKD86KFstK10/WzAtOSwuXSopWSk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopVyk/KD86KFstK10/WzAtOSwuXSopRCk/KD86VCg/OihbLStdP1swLTksLl0qKUgpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVMpPyk/JC87XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9IGlucHV0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHkgIDogMCxcbiAgICAgICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbXMgOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogKG1hdGNoWzFdID09PSAnKycpID8gMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBkIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgICAgICBzIDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cbiAgICAgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG4gICAgY3JlYXRlRHVyYXRpb24uaW52YWxpZCA9IGNyZWF0ZUludmFsaWQkMTtcblxuICAgIGZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAgICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAgICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG4gICAgICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICAgICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcbiAgICAgICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICAgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgICAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhZGQgICAgICA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKTtcbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbiAgICBmdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAgICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgICAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICAgICAgaW5wdXRNcztcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJiBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaWZmIChpbnB1dCwgdW5pdHMsIGFzRmxvYXQpIHtcbiAgICAgICAgdmFyIHRoYXQsXG4gICAgICAgICAgICB6b25lRGVsdGEsXG4gICAgICAgICAgICBvdXRwdXQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoYXQgPSBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIHRoaXMpO1xuXG4gICAgICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAxMjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb250aCc6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMzsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMWUzOyBicmVhazsgLy8gMTAwMFxuICAgICAgICAgICAgY2FzZSAnbWludXRlJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDZlNDsgYnJlYWs7IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgY2FzZSAnaG91cic6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAzNmU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA4NjRlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gNjA0OGU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGRlZmF1bHQ6IG91dHB1dCA9IHRoaXMgLSB0aGF0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuICAgICAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgICAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG4gICAgICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICAgICAgYW5jaG9yMiwgYWRqdXN0O1xuXG4gICAgICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XG4gICAgICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgICAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbiAgICB9XG5cbiAgICBob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbiAgICBob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JU09TdHJpbmcoa2VlcE9mZnNldCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXRjID0ga2VlcE9mZnNldCAhPT0gdHJ1ZTtcbiAgICAgICAgdmFyIG0gPSB1dGMgPyB0aGlzLmNsb25lKCkudXRjKCkgOiB0aGlzO1xuICAgICAgICBpZiAobS55ZWFyKCkgPCAwIHx8IG0ueWVhcigpID4gOTk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyA6ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG4gICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICAgICAgaWYgKHV0Yykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSArIHRoaXMudXRjT2Zmc2V0KCkgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnWicsIGZvcm1hdE1vbWVudChtLCAnWicpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sIHV0YyA/ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyA6ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGh1bWFuIHJlYWRhYmxlIHJlcHJlc2VudGF0aW9uIG9mIGEgbW9tZW50IHRoYXQgY2FuXG4gICAgICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0L2RvY3MvYXBpL3V0aWwuaHRtbCN1dGlsX2N1c3RvbV9pbnNwZWN0X2Z1bmN0aW9uX29uX29iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnVuYyA9ICdtb21lbnQnO1xuICAgICAgICB2YXIgem9uZSA9ICcnO1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgICAgICBmdW5jID0gdGhpcy51dGNPZmZzZXQoKSA9PT0gMCA/ICdtb21lbnQudXRjJyA6ICdtb21lbnQucGFyc2Vab25lJztcbiAgICAgICAgICAgIHpvbmUgPSAnWic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZWZpeCA9ICdbJyArIGZ1bmMgKyAnKFwiXSc7XG4gICAgICAgIHZhciB5ZWFyID0gKDAgPD0gdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICAgICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XG4gICAgICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XG4gICAgICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICAvLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4gICAgLy8gaW5zdGFuY2UuICBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSBsb2NhbGUgY29uZmlndXJhdGlvblxuICAgIC8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICBmdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgICAgICB2YXIgbmV3TG9jYWxlRGF0YTtcblxuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG4gICAgICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRGF0YSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAgICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2VcbiAgICAgICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuICAgICAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuICAgICAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdkYXRlJyBpcyBhbiBhbGlhcyBmb3IgJ2RheScsIHNvIGl0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHN1Y2guXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0FycmF5ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b09iamVjdCAoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDIgKCkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4gKHRva2VuLCBnZXR0ZXIpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xuICAgIH1cblxuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgICAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICAgICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgICAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcbiAgICAgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgICAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG4gICAgYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIFwib3JkaW5hbFBhcnNlXCIgZmFsbGJhY2sgaW4gbmV4dCBtYWpvciByZWxlYXNlLlxuICAgICAgICByZXR1cm4gaXNTdHJpY3QgP1xuICAgICAgICAgIChsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2UgfHwgbG9jYWxlLl9vcmRpbmFsUGFyc2UpIDpcbiAgICAgICAgICBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50O1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG4gICAgYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ21tJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbiAgICB9KTtcblxuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWlsbGlzZWNvbmQnLCAxNik7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxuICAgIHZhciB0b2tlbjtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xuICAgIHByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbiAgICBwcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xuICAgIHByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbiAgICBwcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xuICAgIHByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xuICAgIHByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbiAgICBwcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG4gICAgcHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcbiAgICBwcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xuICAgIHByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xuICAgIHByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xuICAgIHByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbiAgICBwcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xuICAgIHByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xuICAgIHByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xuICAgIHByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbiAgICBwcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xuICAgIHByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQyO1xuICAgIHByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbiAgICBwcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcbiAgICBwcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG4gICAgcHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG4gICAgcHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XG4gICAgcHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG4gICAgcHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG4gICAgcHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xuICAgIHByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG4gICAgcHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xuICAgIHByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG4gICAgcHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG4gICAgcHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbiAgICBwcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XG4gICAgcHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG4gICAgcHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbiAgICBwcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG4gICAgcHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xuICAgIHByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuICAgIHByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuICAgIHByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuICAgIHByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG4gICAgcHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcbiAgICBwcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuICAgIHByb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG4gICAgcHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcbiAgICBwcm90by53ZWVrICAgICAgICAgICA9IHByb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG4gICAgcHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xuICAgIHByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG4gICAgcHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjtcbiAgICBwcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBwcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbiAgICBwcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuICAgIHByb3RvLmlzb1dlZWtkYXkgPSBnZXRTZXRJU09EYXlPZldlZWs7XG4gICAgcHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcbiAgICBwcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuICAgIHByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG4gICAgcHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcbiAgICBwcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuICAgIHByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xuICAgIHByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG4gICAgcHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIHByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG4gICAgcHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbiAgICBwcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIHByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbiAgICBwcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuICAgIHByb3RvLmlzVXRjICAgICAgICAgICAgICAgID0gaXNVdGM7XG4gICAgcHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xuICAgIHByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG4gICAgcHJvdG8uZGF0ZXMgID0gZGVwcmVjYXRlKCdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsIGdldFNldERheU9mTW9udGgpO1xuICAgIHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuICAgIHByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xuICAgIHByb3RvLnpvbmUgICA9IGRlcHJlY2F0ZSgnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLCBnZXRTZXRab25lKTtcbiAgICBwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90byQxLmNhbGVuZGFyICAgICAgICA9IGNhbGVuZGFyO1xuICAgIHByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG4gICAgcHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbiAgICBwcm90byQxLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG4gICAgcHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG4gICAgcHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG4gICAgcHJvdG8kMS5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZVRpbWU7XG4gICAgcHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xuICAgIHByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4gICAgcHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG4gICAgcHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcbiAgICBwcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xuICAgIHByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICBwcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xuICAgIHByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuICAgIHByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxuICAgIHByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xuICAgIHByb3RvJDEud2Vla2RheXNTaG9ydFJlZ2V4ICA9ICAgICAgICB3ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbiAgICBwcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xuICAgIHByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuICAgIGZ1bmN0aW9uIGdldCQxIChmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvLyAoKVxuICAgIC8vICg1KVxuICAgIC8vIChmbXQsIDUpXG4gICAgLy8gKGZtdClcbiAgICAvLyAodHJ1ZSlcbiAgICAvLyAodHJ1ZSwgNSlcbiAgICAvLyAodHJ1ZSwgZm10LCA1KVxuICAgIC8vICh0cnVlLCBmbXQpXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsZVNvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIChpICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbiAgICB9XG5cbiAgICBnZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcbiAgICAgICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIGhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcbiAgICBob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbiAgICB2YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG4gICAgZnVuY3Rpb24gYWJzICgpIHtcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICAgICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXG4gICAgICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuICAgIGZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWJibGUgKCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICAgICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG4gICAgICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAgICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgICAgIG1vbnRocyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cbiAgICAgICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgICAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG4gICAgICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcbiAgICAgICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgICAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgICAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG4gICAgICAgIGRhdGEuZGF5cyAgID0gZGF5cztcbiAgICAgICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5c1RvTW9udGhzIChkYXlzKSB7XG4gICAgICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgICAgIHJldHVybiBkYXlzICogNDgwMCAvIDE0NjA5NztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgICAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcbiAgICAgICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRheXM7XG4gICAgICAgIHZhciBtb250aHM7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuICAgIGZ1bmN0aW9uIHZhbHVlT2YkMSAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbiAgICB2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbiAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbiAgICB2YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbiAgICB2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbiAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbiAgICB2YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbiAgICB2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuICAgIGZ1bmN0aW9uIGNsb25lJDEgKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24odGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzW3VuaXRzICsgJ3MnXSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5fZGF0YVtuYW1lXSA6IE5hTjtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG4gICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcbiAgICB2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuICAgIHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuICAgIHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG4gICAgZnVuY3Rpb24gd2Vla3MgKCkge1xuICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbiAgICB9XG5cbiAgICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuICAgIHZhciB0aHJlc2hvbGRzID0ge1xuICAgICAgICBzczogNDQsICAgICAgICAgLy8gYSBmZXcgc2Vjb25kcyB0byBzZWNvbmRzXG4gICAgICAgIHMgOiA0NSwgICAgICAgICAvLyBzZWNvbmRzIHRvIG1pbnV0ZVxuICAgICAgICBtIDogNDUsICAgICAgICAgLy8gbWludXRlcyB0byBob3VyXG4gICAgICAgIGggOiAyMiwgICAgICAgICAvLyBob3VycyB0byBkYXlcbiAgICAgICAgZCA6IDI2LCAgICAgICAgIC8vIGRheXMgdG8gbW9udGhcbiAgICAgICAgTSA6IDExICAgICAgICAgIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgfTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xuICAgICAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG4gICAgICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xuICAgICAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcbiAgICAgICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG4gICAgICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xuXG4gICAgICAgIHZhciBhID0gc2Vjb25kcyA8PSB0aHJlc2hvbGRzLnNzICYmIFsncycsIHNlY29uZHNdICB8fFxuICAgICAgICAgICAgICAgIHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgICAmJiBbJ3NzJywgc2Vjb25kc10gfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDw9IDEgICAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA8IHRocmVzaG9sZHMubSAgICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBob3VycyAgIDwgdGhyZXNob2xkcy5oICAgJiYgWydoaCcsIGhvdXJzXSAgIHx8XG4gICAgICAgICAgICAgICAgZGF5cyAgICA8PSAxICAgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgICAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDw9IDEgICAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA8IHRocmVzaG9sZHMuTSAgICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgICAgICBhWzJdID0gd2l0aG91dFN1ZmZpeDtcbiAgICAgICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG4gICAgICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgICAgIHJldHVybiBzdWJzdGl0dXRlVGltZUFnby5hcHBseShudWxsLCBhKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcgKHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Yocm91bmRpbmdGdW5jdGlvbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICAgICAgaWYgKHRocmVzaG9sZHNbdGhyZXNob2xkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbWl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG4gICAgICAgIH1cbiAgICAgICAgdGhyZXNob2xkc1t0aHJlc2hvbGRdID0gbGltaXQ7XG4gICAgICAgIGlmICh0aHJlc2hvbGQgPT09ICdzJykge1xuICAgICAgICAgICAgdGhyZXNob2xkcy5zcyA9IGxpbWl0IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgICAgIGlmICh3aXRoU3VmZml4KSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhbGUucG9zdGZvcm1hdChvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG4gICAgZnVuY3Rpb24gc2lnbih4KSB7XG4gICAgICAgIHJldHVybiAoKHggPiAwKSAtICh4IDwgMCkpIHx8ICt4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcbiAgICAgICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgICAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG4gICAgICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgICAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSBhYnMkMSh0aGlzLl9kYXlzKTtcbiAgICAgICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG4gICAgICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBzZWNvbmRzICU9IDYwO1xuICAgICAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cblxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgICAgICB2YXIgWSA9IHllYXJzO1xuICAgICAgICB2YXIgTSA9IG1vbnRocztcbiAgICAgICAgdmFyIEQgPSBkYXlzO1xuICAgICAgICB2YXIgaCA9IGhvdXJzO1xuICAgICAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgICAgIHZhciBzID0gc2Vjb25kcyA/IHNlY29uZHMudG9GaXhlZCgzKS5yZXBsYWNlKC9cXC4/MCskLywgJycpIDogJyc7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cbiAgICAgICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuICAgICAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdGFsU2lnbiA9IHRvdGFsIDwgMCA/ICctJyA6ICcnO1xuICAgICAgICB2YXIgeW1TaWduID0gc2lnbih0aGlzLl9tb250aHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgICAgICB2YXIgZGF5c1NpZ24gPSBzaWduKHRoaXMuX2RheXMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgICAgICB2YXIgaG1zU2lnbiA9IHNpZ24odGhpcy5fbWlsbGlzZWNvbmRzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcblxuICAgICAgICByZXR1cm4gdG90YWxTaWduICsgJ1AnICtcbiAgICAgICAgICAgIChZID8geW1TaWduICsgWSArICdZJyA6ICcnKSArXG4gICAgICAgICAgICAoTSA/IHltU2lnbiArIE0gKyAnTScgOiAnJykgK1xuICAgICAgICAgICAgKEQgPyBkYXlzU2lnbiArIEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAgICAgKGggPyBobXNTaWduICsgaCArICdIJyA6ICcnKSArXG4gICAgICAgICAgICAobSA/IGhtc1NpZ24gKyBtICsgJ00nIDogJycpICtcbiAgICAgICAgICAgIChzID8gaG1zU2lnbiArIHMgKyAnUycgOiAnJyk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBwcm90byQyLmlzVmFsaWQgICAgICAgID0gaXNWYWxpZCQxO1xuICAgIHByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XG4gICAgcHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xuICAgIHByb3RvJDIuc3VidHJhY3QgICAgICAgPSBzdWJ0cmFjdCQxO1xuICAgIHByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcbiAgICBwcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG4gICAgcHJvdG8kMi5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbiAgICBwcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xuICAgIHByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuICAgIHByb3RvJDIuYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG4gICAgcHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG4gICAgcHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuICAgIHByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuICAgIHByb3RvJDIudmFsdWVPZiAgICAgICAgPSB2YWx1ZU9mJDE7XG4gICAgcHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbiAgICBwcm90byQyLmNsb25lICAgICAgICAgID0gY2xvbmUkMTtcbiAgICBwcm90byQyLmdldCAgICAgICAgICAgID0gZ2V0JDI7XG4gICAgcHJvdG8kMi5taWxsaXNlY29uZHMgICA9IG1pbGxpc2Vjb25kcztcbiAgICBwcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbiAgICBwcm90byQyLm1pbnV0ZXMgICAgICAgID0gbWludXRlcztcbiAgICBwcm90byQyLmhvdXJzICAgICAgICAgID0gaG91cnM7XG4gICAgcHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG4gICAgcHJvdG8kMi53ZWVrcyAgICAgICAgICA9IHdlZWtzO1xuICAgIHByb3RvJDIubW9udGhzICAgICAgICAgPSBtb250aHM7XG4gICAgcHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xuICAgIHByb3RvJDIuaHVtYW5pemUgICAgICAgPSBodW1hbml6ZTtcbiAgICBwcm90byQyLnRvSVNPU3RyaW5nICAgID0gdG9JU09TdHJpbmckMTtcbiAgICBwcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbiAgICBwcm90byQyLnRvSlNPTiAgICAgICAgID0gdG9JU09TdHJpbmckMTtcbiAgICBwcm90byQyLmxvY2FsZSAgICAgICAgID0gbG9jYWxlO1xuICAgIHByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4gICAgcHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcbiAgICBwcm90byQyLmxhbmcgPSBsYW5nO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbiAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG4gICAgaG9va3MudmVyc2lvbiA9ICcyLjIyLjInO1xuXG4gICAgc2V0SG9va0NhbGxiYWNrKGNyZWF0ZUxvY2FsKTtcblxuICAgIGhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuICAgIGhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbiAgICBob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG4gICAgaG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuICAgIGhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbiAgICBob29rcy51bml4ICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVbml4O1xuICAgIGhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG4gICAgaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuICAgIGhvb2tzLmxvY2FsZSAgICAgICAgICAgICAgICA9IGdldFNldEdsb2JhbExvY2FsZTtcbiAgICBob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuICAgIGhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuICAgIGhvb2tzLmlzTW9tZW50ICAgICAgICAgICAgICA9IGlzTW9tZW50O1xuICAgIGhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcbiAgICBob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG4gICAgaG9va3MubG9jYWxlRGF0YSAgICAgICAgICAgID0gZ2V0TG9jYWxlO1xuICAgIGhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG4gICAgaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuICAgIGhvb2tzLndlZWtkYXlzTWluICAgICAgICAgICA9IGxpc3RXZWVrZGF5c01pbjtcbiAgICBob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG4gICAgaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuICAgIGhvb2tzLmxvY2FsZXMgICAgICAgICAgICAgICA9IGxpc3RMb2NhbGVzO1xuICAgIGhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuICAgIGhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuICAgIGhvb2tzLnJlbGF0aXZlVGltZVJvdW5kaW5nICA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuICAgIGhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbiAgICBob29rcy5jYWxlbmRhckZvcm1hdCAgICAgICAgPSBnZXRDYWxlbmRhckZvcm1hdDtcbiAgICBob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblxuICAgIC8vIGN1cnJlbnRseSBIVE1MNSBpbnB1dCB0eXBlIG9ubHkgc3VwcG9ydHMgMjQtaG91ciBmb3JtYXRzXG4gICAgaG9va3MuSFRNTDVfRk1UID0ge1xuICAgICAgICBEQVRFVElNRV9MT0NBTDogJ1lZWVktTU0tRERUSEg6bW0nLCAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgLz5cbiAgICAgICAgREFURVRJTUVfTE9DQUxfU0VDT05EUzogJ1lZWVktTU0tRERUSEg6bW06c3MnLCAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIxXCIgLz5cbiAgICAgICAgREFURVRJTUVfTE9DQUxfTVM6ICdZWVlZLU1NLUREVEhIOm1tOnNzLlNTUycsICAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIERBVEU6ICdZWVlZLU1NLUREJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIC8+XG4gICAgICAgIFRJTUU6ICdISDptbScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIC8+XG4gICAgICAgIFRJTUVfU0VDT05EUzogJ0hIOm1tOnNzJywgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIxXCIgLz5cbiAgICAgICAgVElNRV9NUzogJ0hIOm1tOnNzLlNTUycsICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICAgICAgV0VFSzogJ1lZWVktW1ddV1cnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ3ZWVrXCIgLz5cbiAgICAgICAgTU9OVEg6ICdZWVlZLU1NJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJtb250aFwiIC8+XG4gICAgfTtcblxuICAgIHJldHVybiBob29rcztcblxufSkpKTtcbiIsIi8vICAgICAoYykgMjAxMi0yMDE2IEFpcmJuYiwgSW5jLlxuLy9cbi8vICAgICBwb2x5Z2xvdC5qcyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQlNEXG4vLyAgICAgbGljZW5zZS4gRm9yIGFsbCBsaWNlbnNpbmcgaW5mb3JtYXRpb24sIGRldGFpbHMsIGFuZCBkb2N1bWVudGlvbjpcbi8vICAgICBodHRwOi8vYWlyYm5iLmdpdGh1Yi5jb20vcG9seWdsb3QuanNcbi8vXG4vL1xuLy8gUG9seWdsb3QuanMgaXMgYW4gSTE4biBoZWxwZXIgbGlicmFyeSB3cml0dGVuIGluIEphdmFTY3JpcHQsIG1hZGUgdG9cbi8vIHdvcmsgYm90aCBpbiB0aGUgYnJvd3NlciBhbmQgaW4gTm9kZS4gSXQgcHJvdmlkZXMgYSBzaW1wbGUgc29sdXRpb24gZm9yXG4vLyBpbnRlcnBvbGF0aW9uIGFuZCBwbHVyYWxpemF0aW9uLCBiYXNlZCBvZmYgb2YgQWlyYm5iJ3Ncbi8vIGV4cGVyaWVuY2UgYWRkaW5nIEkxOG4gZnVuY3Rpb25hbGl0eSB0byBpdHMgQmFja2JvbmUuanMgYW5kIE5vZGUgYXBwcy5cbi8vXG4vLyBQb2x5bGdsb3QgaXMgYWdub3N0aWMgdG8geW91ciB0cmFuc2xhdGlvbiBiYWNrZW5kLiBJdCBkb2Vzbid0IHBlcmZvcm0gYW55XG4vLyB0cmFuc2xhdGlvbjsgaXQgc2ltcGx5IGdpdmVzIHlvdSBhIHdheSB0byBtYW5hZ2UgdHJhbnNsYXRlZCBwaHJhc2VzIGZyb21cbi8vIHlvdXIgY2xpZW50LSBvciBzZXJ2ZXItc2lkZSBKYXZhU2NyaXB0IGFwcGxpY2F0aW9uLlxuLy9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9yRWFjaCA9IHJlcXVpcmUoJ2Zvci1lYWNoJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcbnZhciBoYXMgPSByZXF1aXJlKCdoYXMnKTtcbnZhciB0cmltID0gcmVxdWlyZSgnc3RyaW5nLnByb3RvdHlwZS50cmltJyk7XG5cbnZhciB3YXJuID0gZnVuY3Rpb24gd2FybihtZXNzYWdlKSB7XG4gIHdhcm5pbmcoZmFsc2UsIG1lc3NhZ2UpO1xufTtcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgc3BsaXQgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0O1xuXG4vLyAjIyMjIFBsdXJhbGl6YXRpb24gbWV0aG9kc1xuLy8gVGhlIHN0cmluZyB0aGF0IHNlcGFyYXRlcyB0aGUgZGlmZmVyZW50IHBocmFzZSBwb3NzaWJpbGl0aWVzLlxudmFyIGRlbGltZXRlciA9ICd8fHx8JztcblxuLy8gTWFwcGluZyBmcm9tIHBsdXJhbGl6YXRpb24gZ3JvdXAgcGx1cmFsIGxvZ2ljLlxudmFyIHBsdXJhbFR5cGVzID0ge1xuICBhcmFiaWM6IGZ1bmN0aW9uIChuKSB7XG4gICAgLy8gaHR0cDovL3d3dy5hcmFiZXllcy5vcmcvUGx1cmFsX0Zvcm1zXG4gICAgaWYgKG4gPCAzKSB7IHJldHVybiBuOyB9XG4gICAgaWYgKG4gJSAxMDAgPj0gMyAmJiBuICUgMTAwIDw9IDEwKSByZXR1cm4gMztcbiAgICByZXR1cm4gbiAlIDEwMCA+PSAxMSA/IDQgOiA1O1xuICB9LFxuICBjaGluZXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9LFxuICBnZXJtYW46IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuICE9PSAxID8gMSA6IDA7IH0sXG4gIGZyZW5jaDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gPiAxID8gMSA6IDA7IH0sXG4gIHJ1c3NpYW46IGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKG4gJSAxMCA9PT0gMSAmJiBuICUgMTAwICE9PSAxMSkgeyByZXR1cm4gMDsgfVxuICAgIHJldHVybiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDI7XG4gIH0sXG4gIGN6ZWNoOiBmdW5jdGlvbiAobikge1xuICAgIGlmIChuID09PSAxKSB7IHJldHVybiAwOyB9XG4gICAgcmV0dXJuIChuID49IDIgJiYgbiA8PSA0KSA/IDEgOiAyO1xuICB9LFxuICBwb2xpc2g6IGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKG4gPT09IDEpIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyO1xuICB9LFxuICBpY2VsYW5kaWM6IGZ1bmN0aW9uIChuKSB7IHJldHVybiAobiAlIDEwICE9PSAxIHx8IG4gJSAxMDAgPT09IDExKSA/IDEgOiAwOyB9XG59O1xuXG4vLyBNYXBwaW5nIGZyb20gcGx1cmFsaXphdGlvbiBncm91cCB0byBpbmRpdmlkdWFsIGxvY2FsZXMuXG52YXIgcGx1cmFsVHlwZVRvTGFuZ3VhZ2VzID0ge1xuICBhcmFiaWM6IFsnYXInXSxcbiAgY2hpbmVzZTogWydmYScsICdpZCcsICdqYScsICdrbycsICdsbycsICdtcycsICd0aCcsICd0cicsICd6aCddLFxuICBnZXJtYW46IFsnZGEnLCAnZGUnLCAnZW4nLCAnZXMnLCAnZmknLCAnZWwnLCAnaGUnLCAnaHUnLCAnaXQnLCAnbmwnLCAnbm8nLCAncHQnLCAnc3YnXSxcbiAgZnJlbmNoOiBbJ2ZyJywgJ3RsJywgJ3B0LWJyJ10sXG4gIHJ1c3NpYW46IFsnaHInLCAncnUnLCAnbHQnXSxcbiAgY3plY2g6IFsnY3MnLCAnc2snXSxcbiAgcG9saXNoOiBbJ3BsJ10sXG4gIGljZWxhbmRpYzogWydpcyddXG59O1xuXG5mdW5jdGlvbiBsYW5nVG9UeXBlTWFwKG1hcHBpbmcpIHtcbiAgdmFyIHJldCA9IHt9O1xuICBmb3JFYWNoKG1hcHBpbmcsIGZ1bmN0aW9uIChsYW5ncywgdHlwZSkge1xuICAgIGZvckVhY2gobGFuZ3MsIGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICByZXRbbGFuZ10gPSB0eXBlO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gcGx1cmFsVHlwZU5hbWUobG9jYWxlKSB7XG4gIHZhciBsYW5nVG9QbHVyYWxUeXBlID0gbGFuZ1RvVHlwZU1hcChwbHVyYWxUeXBlVG9MYW5ndWFnZXMpO1xuICByZXR1cm4gbGFuZ1RvUGx1cmFsVHlwZVtsb2NhbGVdXG4gICAgfHwgbGFuZ1RvUGx1cmFsVHlwZVtzcGxpdC5jYWxsKGxvY2FsZSwgLy0vLCAxKVswXV1cbiAgICB8fCBsYW5nVG9QbHVyYWxUeXBlLmVuO1xufVxuXG5mdW5jdGlvbiBwbHVyYWxUeXBlSW5kZXgobG9jYWxlLCBjb3VudCkge1xuICByZXR1cm4gcGx1cmFsVHlwZXNbcGx1cmFsVHlwZU5hbWUobG9jYWxlKV0oY291bnQpO1xufVxuXG52YXIgZG9sbGFyUmVnZXggPSAvXFwkL2c7XG52YXIgZG9sbGFyQmlsbHNZYWxsID0gJyQkJztcbnZhciB0b2tlblJlZ2V4ID0gLyVcXHsoLio/KVxcfS9nO1xuXG4vLyAjIyMgdHJhbnNmb3JtUGhyYXNlKHBocmFzZSwgc3Vic3RpdHV0aW9ucywgbG9jYWxlKVxuLy9cbi8vIFRha2VzIGEgcGhyYXNlIHN0cmluZyBhbmQgdHJhbnNmb3JtcyBpdCBieSBjaG9vc2luZyB0aGUgY29ycmVjdFxuLy8gcGx1cmFsIGZvcm0gYW5kIGludGVycG9sYXRpbmcgaXQuXG4vL1xuLy8gICAgIHRyYW5zZm9ybVBocmFzZSgnSGVsbG8sICV7bmFtZX0hJywge25hbWU6ICdTcGlrZSd9KTtcbi8vICAgICAvLyBcIkhlbGxvLCBTcGlrZSFcIlxuLy9cbi8vIFRoZSBjb3JyZWN0IHBsdXJhbCBmb3JtIGlzIHNlbGVjdGVkIGlmIHN1YnN0aXR1dGlvbnMuc21hcnRfY291bnRcbi8vIGlzIHNldC4gWW91IGNhbiBwYXNzIGluIGEgbnVtYmVyIGluc3RlYWQgb2YgYW4gT2JqZWN0IGFzIGBzdWJzdGl0dXRpb25zYFxuLy8gYXMgYSBzaG9ydGN1dCBmb3IgYHNtYXJ0X2NvdW50YC5cbi8vXG4vLyAgICAgdHJhbnNmb3JtUGhyYXNlKCcle3NtYXJ0X2NvdW50fSBuZXcgbWVzc2FnZXMgfHx8fCAxIG5ldyBtZXNzYWdlJywge3NtYXJ0X2NvdW50OiAxfSwgJ2VuJyk7XG4vLyAgICAgLy8gXCIxIG5ldyBtZXNzYWdlXCJcbi8vXG4vLyAgICAgdHJhbnNmb3JtUGhyYXNlKCcle3NtYXJ0X2NvdW50fSBuZXcgbWVzc2FnZXMgfHx8fCAxIG5ldyBtZXNzYWdlJywge3NtYXJ0X2NvdW50OiAyfSwgJ2VuJyk7XG4vLyAgICAgLy8gXCIyIG5ldyBtZXNzYWdlc1wiXG4vL1xuLy8gICAgIHRyYW5zZm9ybVBocmFzZSgnJXtzbWFydF9jb3VudH0gbmV3IG1lc3NhZ2VzIHx8fHwgMSBuZXcgbWVzc2FnZScsIDUsICdlbicpO1xuLy8gICAgIC8vIFwiNSBuZXcgbWVzc2FnZXNcIlxuLy9cbi8vIFlvdSBzaG91bGQgcGFzcyBpbiBhIHRoaXJkIGFyZ3VtZW50LCB0aGUgbG9jYWxlLCB0byBzcGVjaWZ5IHRoZSBjb3JyZWN0IHBsdXJhbCB0eXBlLlxuLy8gSXQgZGVmYXVsdHMgdG8gYCdlbidgIHdpdGggMiBwbHVyYWwgZm9ybXMuXG5mdW5jdGlvbiB0cmFuc2Zvcm1QaHJhc2UocGhyYXNlLCBzdWJzdGl0dXRpb25zLCBsb2NhbGUpIHtcbiAgaWYgKHR5cGVvZiBwaHJhc2UgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9seWdsb3QudHJhbnNmb3JtUGhyYXNlIGV4cGVjdHMgYXJndW1lbnQgIzEgdG8gYmUgc3RyaW5nJyk7XG4gIH1cblxuICBpZiAoc3Vic3RpdHV0aW9ucyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHBocmFzZTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBwaHJhc2U7XG5cbiAgLy8gYWxsb3cgbnVtYmVyIGFzIGEgcGx1cmFsaXphdGlvbiBzaG9ydGN1dFxuICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzdWJzdGl0dXRpb25zID09PSAnbnVtYmVyJyA/IHsgc21hcnRfY291bnQ6IHN1YnN0aXR1dGlvbnMgfSA6IHN1YnN0aXR1dGlvbnM7XG5cbiAgLy8gU2VsZWN0IHBsdXJhbCBmb3JtOiBiYXNlZCBvbiBhIHBocmFzZSB0ZXh0IHRoYXQgY29udGFpbnMgYG5gXG4gIC8vIHBsdXJhbCBmb3JtcyBzZXBhcmF0ZWQgYnkgYGRlbGltZXRlcmAsIGEgYGxvY2FsZWAsIGFuZCBhIGBzdWJzdGl0dXRpb25zLnNtYXJ0X2NvdW50YCxcbiAgLy8gY2hvb3NlIHRoZSBjb3JyZWN0IHBsdXJhbCBmb3JtLiBUaGlzIGlzIG9ubHkgZG9uZSBpZiBgY291bnRgIGlzIHNldC5cbiAgaWYgKG9wdGlvbnMuc21hcnRfY291bnQgIT0gbnVsbCAmJiByZXN1bHQpIHtcbiAgICB2YXIgdGV4dHMgPSBzcGxpdC5jYWxsKHJlc3VsdCwgZGVsaW1ldGVyKTtcbiAgICByZXN1bHQgPSB0cmltKHRleHRzW3BsdXJhbFR5cGVJbmRleChsb2NhbGUgfHwgJ2VuJywgb3B0aW9ucy5zbWFydF9jb3VudCldIHx8IHRleHRzWzBdKTtcbiAgfVxuXG4gIC8vIEludGVycG9sYXRlOiBDcmVhdGVzIGEgYFJlZ0V4cGAgb2JqZWN0IGZvciBlYWNoIGludGVycG9sYXRpb24gcGxhY2Vob2xkZXIuXG4gIHJlc3VsdCA9IHJlcGxhY2UuY2FsbChyZXN1bHQsIHRva2VuUmVnZXgsIGZ1bmN0aW9uIChleHByZXNzaW9uLCBhcmd1bWVudCkge1xuICAgIGlmICghaGFzKG9wdGlvbnMsIGFyZ3VtZW50KSB8fCBvcHRpb25zW2FyZ3VtZW50XSA9PSBudWxsKSB7IHJldHVybiBleHByZXNzaW9uOyB9XG4gICAgLy8gRW5zdXJlIHJlcGxhY2VtZW50IHZhbHVlIGlzIGVzY2FwZWQgdG8gcHJldmVudCBzcGVjaWFsICQtcHJlZml4ZWQgcmVnZXggcmVwbGFjZSB0b2tlbnMuXG4gICAgcmV0dXJuIHJlcGxhY2UuY2FsbChvcHRpb25zW2FyZ3VtZW50XSwgZG9sbGFyUmVnZXgsIGRvbGxhckJpbGxzWWFsbCk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICMjIyBQb2x5Z2xvdCBjbGFzcyBjb25zdHJ1Y3RvclxuZnVuY3Rpb24gUG9seWdsb3Qob3B0aW9ucykge1xuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMucGhyYXNlcyA9IHt9O1xuICB0aGlzLmV4dGVuZChvcHRzLnBocmFzZXMgfHwge30pO1xuICB0aGlzLmN1cnJlbnRMb2NhbGUgPSBvcHRzLmxvY2FsZSB8fCAnZW4nO1xuICB2YXIgYWxsb3dNaXNzaW5nID0gb3B0cy5hbGxvd01pc3NpbmcgPyB0cmFuc2Zvcm1QaHJhc2UgOiBudWxsO1xuICB0aGlzLm9uTWlzc2luZ0tleSA9IHR5cGVvZiBvcHRzLm9uTWlzc2luZ0tleSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMub25NaXNzaW5nS2V5IDogYWxsb3dNaXNzaW5nO1xuICB0aGlzLndhcm4gPSBvcHRzLndhcm4gfHwgd2Fybjtcbn1cblxuLy8gIyMjIHBvbHlnbG90LmxvY2FsZShbbG9jYWxlXSlcbi8vXG4vLyBHZXQgb3Igc2V0IGxvY2FsZS4gSW50ZXJuYWxseSwgUG9seWdsb3Qgb25seSB1c2VzIGxvY2FsZSBmb3IgcGx1cmFsaXphdGlvbi5cblBvbHlnbG90LnByb3RvdHlwZS5sb2NhbGUgPSBmdW5jdGlvbiAobmV3TG9jYWxlKSB7XG4gIGlmIChuZXdMb2NhbGUpIHRoaXMuY3VycmVudExvY2FsZSA9IG5ld0xvY2FsZTtcbiAgcmV0dXJuIHRoaXMuY3VycmVudExvY2FsZTtcbn07XG5cbi8vICMjIyBwb2x5Z2xvdC5leHRlbmQocGhyYXNlcylcbi8vXG4vLyBVc2UgYGV4dGVuZGAgdG8gdGVsbCBQb2x5Z2xvdCBob3cgdG8gdHJhbnNsYXRlIGEgZ2l2ZW4ga2V5LlxuLy9cbi8vICAgICBwb2x5Z2xvdC5leHRlbmQoe1xuLy8gICAgICAgXCJoZWxsb1wiOiBcIkhlbGxvXCIsXG4vLyAgICAgICBcImhlbGxvX25hbWVcIjogXCJIZWxsbywgJXtuYW1lfVwiXG4vLyAgICAgfSk7XG4vL1xuLy8gVGhlIGtleSBjYW4gYmUgYW55IHN0cmluZy4gIEZlZWwgZnJlZSB0byBjYWxsIGBleHRlbmRgIG11bHRpcGxlIHRpbWVzO1xuLy8gaXQgd2lsbCBvdmVycmlkZSBhbnkgcGhyYXNlcyB3aXRoIHRoZSBzYW1lIGtleSwgYnV0IGxlYXZlIGV4aXN0aW5nIHBocmFzZXNcbi8vIHVudG91Y2hlZC5cbi8vXG4vLyBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHBhc3MgbmVzdGVkIHBocmFzZSBvYmplY3RzLCB3aGljaCBnZXQgZmxhdHRlbmVkXG4vLyBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZSBuZXN0ZWQga2V5cyBjb25jYXRlbmF0ZWQgdXNpbmcgZG90IG5vdGF0aW9uLlxuLy9cbi8vICAgICBwb2x5Z2xvdC5leHRlbmQoe1xuLy8gICAgICAgXCJuYXZcIjoge1xuLy8gICAgICAgICBcImhlbGxvXCI6IFwiSGVsbG9cIixcbi8vICAgICAgICAgXCJoZWxsb19uYW1lXCI6IFwiSGVsbG8sICV7bmFtZX1cIixcbi8vICAgICAgICAgXCJzaWRlYmFyXCI6IHtcbi8vICAgICAgICAgICBcIndlbGNvbWVcIjogXCJXZWxjb21lXCJcbi8vICAgICAgICAgfVxuLy8gICAgICAgfVxuLy8gICAgIH0pO1xuLy9cbi8vICAgICBjb25zb2xlLmxvZyhwb2x5Z2xvdC5waHJhc2VzKTtcbi8vICAgICAvLyB7XG4vLyAgICAgLy8gICAnbmF2LmhlbGxvJzogJ0hlbGxvJyxcbi8vICAgICAvLyAgICduYXYuaGVsbG9fbmFtZSc6ICdIZWxsbywgJXtuYW1lfScsXG4vLyAgICAgLy8gICAnbmF2LnNpZGViYXIud2VsY29tZSc6ICdXZWxjb21lJ1xuLy8gICAgIC8vIH1cbi8vXG4vLyBgZXh0ZW5kYCBhY2NlcHRzIGFuIG9wdGlvbmFsIHNlY29uZCBhcmd1bWVudCwgYHByZWZpeGAsIHdoaWNoIGNhbiBiZSB1c2VkXG4vLyB0byBwcmVmaXggZXZlcnkga2V5IGluIHRoZSBwaHJhc2VzIG9iamVjdCB3aXRoIHNvbWUgc3RyaW5nLCB1c2luZyBkb3Rcbi8vIG5vdGF0aW9uLlxuLy9cbi8vICAgICBwb2x5Z2xvdC5leHRlbmQoe1xuLy8gICAgICAgXCJoZWxsb1wiOiBcIkhlbGxvXCIsXG4vLyAgICAgICBcImhlbGxvX25hbWVcIjogXCJIZWxsbywgJXtuYW1lfVwiXG4vLyAgICAgfSwgXCJuYXZcIik7XG4vL1xuLy8gICAgIGNvbnNvbGUubG9nKHBvbHlnbG90LnBocmFzZXMpO1xuLy8gICAgIC8vIHtcbi8vICAgICAvLyAgICduYXYuaGVsbG8nOiAnSGVsbG8nLFxuLy8gICAgIC8vICAgJ25hdi5oZWxsb19uYW1lJzogJ0hlbGxvLCAle25hbWV9J1xuLy8gICAgIC8vIH1cbi8vXG4vLyBUaGlzIGZlYXR1cmUgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHN1cHBvcnQgbmVzdGVkIHBocmFzZSBvYmplY3RzLlxuUG9seWdsb3QucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChtb3JlUGhyYXNlcywgcHJlZml4KSB7XG4gIGZvckVhY2gobW9yZVBocmFzZXMsIGZ1bmN0aW9uIChwaHJhc2UsIGtleSkge1xuICAgIHZhciBwcmVmaXhlZEtleSA9IHByZWZpeCA/IHByZWZpeCArICcuJyArIGtleSA6IGtleTtcbiAgICBpZiAodHlwZW9mIHBocmFzZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMuZXh0ZW5kKHBocmFzZSwgcHJlZml4ZWRLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBocmFzZXNbcHJlZml4ZWRLZXldID0gcGhyYXNlO1xuICAgIH1cbiAgfSwgdGhpcyk7XG59O1xuXG4vLyAjIyMgcG9seWdsb3QudW5zZXQocGhyYXNlcylcbi8vIFVzZSBgdW5zZXRgIHRvIHNlbGVjdGl2ZWx5IHJlbW92ZSBrZXlzIGZyb20gYSBwb2x5Z2xvdCBpbnN0YW5jZS5cbi8vXG4vLyAgICAgcG9seWdsb3QudW5zZXQoXCJzb21lX2tleVwiKTtcbi8vICAgICBwb2x5Z2xvdC51bnNldCh7XG4vLyAgICAgICBcImhlbGxvXCI6IFwiSGVsbG9cIixcbi8vICAgICAgIFwiaGVsbG9fbmFtZVwiOiBcIkhlbGxvLCAle25hbWV9XCJcbi8vICAgICB9KTtcbi8vXG4vLyBUaGUgdW5zZXQgbWV0aG9kIGNhbiB0YWtlIGVpdGhlciBhIHN0cmluZyAoZm9yIHRoZSBrZXkpLCBvciBhbiBvYmplY3QgaGFzaCB3aXRoXG4vLyB0aGUga2V5cyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHVuc2V0LlxuUG9seWdsb3QucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24gKG1vcmVQaHJhc2VzLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBtb3JlUGhyYXNlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBkZWxldGUgdGhpcy5waHJhc2VzW21vcmVQaHJhc2VzXTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoKG1vcmVQaHJhc2VzLCBmdW5jdGlvbiAocGhyYXNlLCBrZXkpIHtcbiAgICAgIHZhciBwcmVmaXhlZEtleSA9IHByZWZpeCA/IHByZWZpeCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmICh0eXBlb2YgcGhyYXNlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLnVuc2V0KHBocmFzZSwgcHJlZml4ZWRLZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGhyYXNlc1twcmVmaXhlZEtleV07XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH1cbn07XG5cbi8vICMjIyBwb2x5Z2xvdC5jbGVhcigpXG4vL1xuLy8gQ2xlYXJzIGFsbCBwaHJhc2VzLiBVc2VmdWwgZm9yIHNwZWNpYWwgY2FzZXMsIHN1Y2ggYXMgZnJlZWluZ1xuLy8gdXAgbWVtb3J5IGlmIHlvdSBoYXZlIGxvdHMgb2YgcGhyYXNlcyBidXQgbm8gbG9uZ2VyIG5lZWQgdG9cbi8vIHBlcmZvcm0gYW55IHRyYW5zbGF0aW9uLiBBbHNvIHVzZWQgaW50ZXJuYWxseSBieSBgcmVwbGFjZWAuXG5Qb2x5Z2xvdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucGhyYXNlcyA9IHt9O1xufTtcblxuLy8gIyMjIHBvbHlnbG90LnJlcGxhY2UocGhyYXNlcylcbi8vXG4vLyBDb21wbGV0ZWx5IHJlcGxhY2UgdGhlIGV4aXN0aW5nIHBocmFzZXMgd2l0aCBhIG5ldyBzZXQgb2YgcGhyYXNlcy5cbi8vIE5vcm1hbGx5LCBqdXN0IHVzZSBgZXh0ZW5kYCB0byBhZGQgbW9yZSBwaHJhc2VzLCBidXQgdW5kZXIgY2VydGFpblxuLy8gY2lyY3Vtc3RhbmNlcywgeW91IG1heSB3YW50IHRvIG1ha2Ugc3VyZSBubyBvbGQgcGhyYXNlcyBhcmUgbHlpbmcgYXJvdW5kLlxuUG9seWdsb3QucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAobmV3UGhyYXNlcykge1xuICB0aGlzLmNsZWFyKCk7XG4gIHRoaXMuZXh0ZW5kKG5ld1BocmFzZXMpO1xufTtcblxuXG4vLyAjIyMgcG9seWdsb3QudChrZXksIG9wdGlvbnMpXG4vL1xuLy8gVGhlIG1vc3QtdXNlZCBtZXRob2QuIFByb3ZpZGUgYSBrZXksIGFuZCBgdGAgd2lsbCByZXR1cm4gdGhlXG4vLyBwaHJhc2UuXG4vL1xuLy8gICAgIHBvbHlnbG90LnQoXCJoZWxsb1wiKTtcbi8vICAgICA9PiBcIkhlbGxvXCJcbi8vXG4vLyBUaGUgcGhyYXNlIHZhbHVlIGlzIHByb3ZpZGVkIGZpcnN0IGJ5IGEgY2FsbCB0byBgcG9seWdsb3QuZXh0ZW5kKClgIG9yXG4vLyBgcG9seWdsb3QucmVwbGFjZSgpYC5cbi8vXG4vLyBQYXNzIGluIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHBlcmZvcm0gaW50ZXJwb2xhdGlvbi5cbi8vXG4vLyAgICAgcG9seWdsb3QudChcImhlbGxvX25hbWVcIiwge25hbWU6IFwiU3Bpa2VcIn0pO1xuLy8gICAgID0+IFwiSGVsbG8sIFNwaWtlXCJcbi8vXG4vLyBJZiB5b3UgbGlrZSwgeW91IGNhbiBwcm92aWRlIGEgZGVmYXVsdCB2YWx1ZSBpbiBjYXNlIHRoZSBwaHJhc2UgaXMgbWlzc2luZy5cbi8vIFVzZSB0aGUgc3BlY2lhbCBvcHRpb24ga2V5IFwiX1wiIHRvIHNwZWNpZnkgYSBkZWZhdWx0LlxuLy9cbi8vICAgICBwb2x5Z2xvdC50KFwiaV9saWtlX3RvX3dyaXRlX2luX2xhbmd1YWdlXCIsIHtcbi8vICAgICAgIF86IFwiSSBsaWtlIHRvIHdyaXRlIGluICV7bGFuZ3VhZ2V9LlwiLFxuLy8gICAgICAgbGFuZ3VhZ2U6IFwiSmF2YVNjcmlwdFwiXG4vLyAgICAgfSk7XG4vLyAgICAgPT4gXCJJIGxpa2UgdG8gd3JpdGUgaW4gSmF2YVNjcmlwdC5cIlxuLy9cblBvbHlnbG90LnByb3RvdHlwZS50ID0gZnVuY3Rpb24gKGtleSwgb3B0aW9ucykge1xuICB2YXIgcGhyYXNlLCByZXN1bHQ7XG4gIHZhciBvcHRzID0gb3B0aW9ucyA9PSBudWxsID8ge30gOiBvcHRpb25zO1xuICBpZiAodHlwZW9mIHRoaXMucGhyYXNlc1trZXldID09PSAnc3RyaW5nJykge1xuICAgIHBocmFzZSA9IHRoaXMucGhyYXNlc1trZXldO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLl8gPT09ICdzdHJpbmcnKSB7XG4gICAgcGhyYXNlID0gb3B0cy5fO1xuICB9IGVsc2UgaWYgKHRoaXMub25NaXNzaW5nS2V5KSB7XG4gICAgdmFyIG9uTWlzc2luZ0tleSA9IHRoaXMub25NaXNzaW5nS2V5O1xuICAgIHJlc3VsdCA9IG9uTWlzc2luZ0tleShrZXksIG9wdHMsIHRoaXMuY3VycmVudExvY2FsZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy53YXJuKCdNaXNzaW5nIHRyYW5zbGF0aW9uIGZvciBrZXk6IFwiJyArIGtleSArICdcIicpO1xuICAgIHJlc3VsdCA9IGtleTtcbiAgfVxuICBpZiAodHlwZW9mIHBocmFzZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXN1bHQgPSB0cmFuc2Zvcm1QaHJhc2UocGhyYXNlLCBvcHRzLCB0aGlzLmN1cnJlbnRMb2NhbGUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vICMjIyBwb2x5Z2xvdC5oYXMoa2V5KVxuLy9cbi8vIENoZWNrIGlmIHBvbHlnbG90IGhhcyBhIHRyYW5zbGF0aW9uIGZvciBnaXZlbiBrZXlcblBvbHlnbG90LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBoYXModGhpcy5waHJhc2VzLCBrZXkpO1xufTtcblxuLy8gZXhwb3J0IHRyYW5zZm9ybVBocmFzZVxuUG9seWdsb3QudHJhbnNmb3JtUGhyYXNlID0gdHJhbnNmb3JtUGhyYXNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBvbHlnbG90O1xuIiwiLyohXG4gKiBQaWthZGF5XG4gKlxuICogQ29weXJpZ2h0IMKpIDIwMTQgRGF2aWQgQnVzaGVsbCB8IEJTRCAmIE1JVCBsaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL2RidXNoZWxsL1Bpa2FkYXlcbiAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpXG57XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1vbWVudDtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIENvbW1vbkpTIG1vZHVsZVxuICAgICAgICAvLyBMb2FkIG1vbWVudC5qcyBhcyBhbiBvcHRpb25hbCBkZXBlbmRlbmN5XG4gICAgICAgIHRyeSB7IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpOyB9IGNhdGNoIChlKSB7fVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkobW9tZW50KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShmdW5jdGlvbiAocmVxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMb2FkIG1vbWVudC5qcyBhcyBhbiBvcHRpb25hbCBkZXBlbmRlbmN5XG4gICAgICAgICAgICB2YXIgaWQgPSAnbW9tZW50JztcbiAgICAgICAgICAgIHRyeSB7IG1vbWVudCA9IHJlcShpZCk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShtb21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LlBpa2FkYXkgPSBmYWN0b3J5KHJvb3QubW9tZW50KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChtb21lbnQpXG57XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogZmVhdHVyZSBkZXRlY3Rpb24gYW5kIGhlbHBlciBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICB2YXIgaGFzTW9tZW50ID0gdHlwZW9mIG1vbWVudCA9PT0gJ2Z1bmN0aW9uJyxcblxuICAgIGhhc0V2ZW50TGlzdGVuZXJzID0gISF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcixcblxuICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuXG4gICAgc3RvID0gd2luZG93LnNldFRpbWVvdXQsXG5cbiAgICBhZGRFdmVudCA9IGZ1bmN0aW9uKGVsLCBlLCBjYWxsYmFjaywgY2FwdHVyZSlcbiAgICB7XG4gICAgICAgIGlmIChoYXNFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBjYWxsYmFjaywgISFjYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbihlbCwgZSwgY2FsbGJhY2ssIGNhcHR1cmUpXG4gICAge1xuICAgICAgICBpZiAoaGFzRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgY2FsbGJhY2ssICEhY2FwdHVyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbC5kZXRhY2hFdmVudCgnb24nICsgZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRyaW0gPSBmdW5jdGlvbihzdHIpXG4gICAge1xuICAgICAgICByZXR1cm4gc3RyLnRyaW0gPyBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csJycpO1xuICAgIH0sXG5cbiAgICBoYXNDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbilcbiAgICB7XG4gICAgICAgIHJldHVybiAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgJyArIGNuICsgJyAnKSAhPT0gLTE7XG4gICAgfSxcblxuICAgIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNuKVxuICAgIHtcbiAgICAgICAgaWYgKCFoYXNDbGFzcyhlbCwgY24pKSB7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPSAoZWwuY2xhc3NOYW1lID09PSAnJykgPyBjbiA6IGVsLmNsYXNzTmFtZSArICcgJyArIGNuO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWwsIGNuKVxuICAgIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdHJpbSgoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKCcgJyArIGNuICsgJyAnLCAnICcpKTtcbiAgICB9LFxuXG4gICAgaXNBcnJheSA9IGZ1bmN0aW9uKG9iailcbiAgICB7XG4gICAgICAgIHJldHVybiAoL0FycmF5LykudGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSk7XG4gICAgfSxcblxuICAgIGlzRGF0ZSA9IGZ1bmN0aW9uKG9iailcbiAgICB7XG4gICAgICAgIHJldHVybiAoL0RhdGUvKS50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSAmJiAhaXNOYU4ob2JqLmdldFRpbWUoKSk7XG4gICAgfSxcblxuICAgIGlzV2Vla2VuZCA9IGZ1bmN0aW9uKGRhdGUpXG4gICAge1xuICAgICAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgcmV0dXJuIGRheSA9PT0gMCB8fCBkYXkgPT09IDY7XG4gICAgfSxcblxuICAgIGlzTGVhcFllYXIgPSBmdW5jdGlvbih5ZWFyKVxuICAgIHtcbiAgICAgICAgLy8gc29sdXRpb24gYnkgTWF0dGkgVmlya2t1bmVuOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODgxOTUxXG4gICAgICAgIHJldHVybiB5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDA7XG4gICAgfSxcblxuICAgIGdldERheXNJbk1vbnRoID0gZnVuY3Rpb24oeWVhciwgbW9udGgpXG4gICAge1xuICAgICAgICByZXR1cm4gWzMxLCBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdW21vbnRoXTtcbiAgICB9LFxuXG4gICAgc2V0VG9TdGFydE9mRGF5ID0gZnVuY3Rpb24oZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmIChpc0RhdGUoZGF0ZSkpIGRhdGUuc2V0SG91cnMoMCwwLDAsMCk7XG4gICAgfSxcblxuICAgIGNvbXBhcmVEYXRlcyA9IGZ1bmN0aW9uKGEsYilcbiAgICB7XG4gICAgICAgIC8vIHdlYWsgZGF0ZSBjb21wYXJpc29uICh1c2Ugc2V0VG9TdGFydE9mRGF5KGRhdGUpIHRvIGVuc3VyZSBjb3JyZWN0IHJlc3VsdClcbiAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKTtcbiAgICB9LFxuXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24odG8sIGZyb20sIG92ZXJ3cml0ZSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wLCBoYXNQcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gZnJvbSkge1xuICAgICAgICAgICAgaGFzUHJvcCA9IHRvW3Byb3BdICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoaGFzUHJvcCAmJiB0eXBlb2YgZnJvbVtwcm9wXSA9PT0gJ29iamVjdCcgJiYgZnJvbVtwcm9wXSAhPT0gbnVsbCAmJiBmcm9tW3Byb3BdLm5vZGVOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEYXRlKGZyb21bcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gbmV3IERhdGUoZnJvbVtwcm9wXS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoZnJvbVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSBmcm9tW3Byb3BdLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSBleHRlbmQoe30sIGZyb21bcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChvdmVyd3JpdGUgfHwgIWhhc1Byb3ApIHtcbiAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH0sXG5cbiAgICBmaXJlRXZlbnQgPSBmdW5jdGlvbihlbCwgZXZlbnROYW1lLCBkYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIGV2O1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICAgICAgICAgICAgZXYuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgZXYgPSBleHRlbmQoZXYsIGRhdGEpO1xuICAgICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QpIHtcbiAgICAgICAgICAgIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICAgICAgICAgIGV2ID0gZXh0ZW5kKGV2LCBkYXRhKTtcbiAgICAgICAgICAgIGVsLmZpcmVFdmVudCgnb24nICsgZXZlbnROYW1lLCBldik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYWRqdXN0Q2FsZW5kYXIgPSBmdW5jdGlvbihjYWxlbmRhcikge1xuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPCAwKSB7XG4gICAgICAgICAgICBjYWxlbmRhci55ZWFyIC09IE1hdGguY2VpbChNYXRoLmFicyhjYWxlbmRhci5tb250aCkvMTIpO1xuICAgICAgICAgICAgY2FsZW5kYXIubW9udGggKz0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGVuZGFyLm1vbnRoID4gMTEpIHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnllYXIgKz0gTWF0aC5mbG9vcihNYXRoLmFicyhjYWxlbmRhci5tb250aCkvMTIpO1xuICAgICAgICAgICAgY2FsZW5kYXIubW9udGggLT0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGVuZGFyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkZWZhdWx0cyBhbmQgbG9jYWxpc2F0aW9uXG4gICAgICovXG4gICAgZGVmYXVsdHMgPSB7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcGlja2VyIHRvIGEgZm9ybSBmaWVsZFxuICAgICAgICBmaWVsZDogbnVsbCxcblxuICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNob3cvaGlkZSB0aGUgcGlja2VyIG9uIGBmaWVsZGAgZm9jdXMgKGRlZmF1bHQgYHRydWVgIGlmIGBmaWVsZGAgaXMgc2V0KVxuICAgICAgICBib3VuZDogdW5kZWZpbmVkLFxuXG4gICAgICAgIC8vIHBvc2l0aW9uIG9mIHRoZSBkYXRlcGlja2VyLCByZWxhdGl2ZSB0byB0aGUgZmllbGQgKGRlZmF1bHQgdG8gYm90dG9tICYgbGVmdClcbiAgICAgICAgLy8gKCdib3R0b20nICYgJ2xlZnQnIGtleXdvcmRzIGFyZSBub3QgdXNlZCwgJ3RvcCcgJiAncmlnaHQnIGFyZSBtb2RpZmllciBvbiB0aGUgYm90dG9tL2xlZnQgcG9zaXRpb24pXG4gICAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGxlZnQnLFxuXG4gICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgZml0IGluIHRoZSB2aWV3cG9ydCBldmVuIGlmIGl0IG1lYW5zIHJlcG9zaXRpb25pbmcgZnJvbSB0aGUgcG9zaXRpb24gb3B0aW9uXG4gICAgICAgIHJlcG9zaXRpb246IHRydWUsXG5cbiAgICAgICAgLy8gdGhlIGRlZmF1bHQgb3V0cHV0IGZvcm1hdCBmb3IgYC50b1N0cmluZygpYCBhbmQgYGZpZWxkYCB2YWx1ZVxuICAgICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJyxcblxuICAgICAgICAvLyB0aGUgdG9TdHJpbmcgZnVuY3Rpb24gd2hpY2ggZ2V0cyBwYXNzZWQgYSBjdXJyZW50IGRhdGUgb2JqZWN0IGFuZCBmb3JtYXRcbiAgICAgICAgLy8gYW5kIHJldHVybnMgYSBzdHJpbmdcbiAgICAgICAgdG9TdHJpbmc6IG51bGwsXG5cbiAgICAgICAgLy8gdXNlZCB0byBjcmVhdGUgZGF0ZSBvYmplY3QgZnJvbSBjdXJyZW50IGlucHV0IHN0cmluZ1xuICAgICAgICBwYXJzZTogbnVsbCxcblxuICAgICAgICAvLyB0aGUgaW5pdGlhbCBkYXRlIHRvIHZpZXcgd2hlbiBmaXJzdCBvcGVuZWRcbiAgICAgICAgZGVmYXVsdERhdGU6IG51bGwsXG5cbiAgICAgICAgLy8gbWFrZSB0aGUgYGRlZmF1bHREYXRlYCB0aGUgaW5pdGlhbCBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICBzZXREZWZhdWx0RGF0ZTogZmFsc2UsXG5cbiAgICAgICAgLy8gZmlyc3QgZGF5IG9mIHdlZWsgKDA6IFN1bmRheSwgMTogTW9uZGF5IGV0YylcbiAgICAgICAgZmlyc3REYXk6IDAsXG5cbiAgICAgICAgLy8gdGhlIGRlZmF1bHQgZmxhZyBmb3IgbW9tZW50J3Mgc3RyaWN0IGRhdGUgcGFyc2luZ1xuICAgICAgICBmb3JtYXRTdHJpY3Q6IGZhbHNlLFxuXG4gICAgICAgIC8vIHRoZSBtaW5pbXVtL2VhcmxpZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICAgICAgbWluRGF0ZTogbnVsbCxcbiAgICAgICAgLy8gdGhlIG1heGltdW0vbGF0ZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICAgICAgbWF4RGF0ZTogbnVsbCxcblxuICAgICAgICAvLyBudW1iZXIgb2YgeWVhcnMgZWl0aGVyIHNpZGUsIG9yIGFycmF5IG9mIHVwcGVyL2xvd2VyIHJhbmdlXG4gICAgICAgIHllYXJSYW5nZTogMTAsXG5cbiAgICAgICAgLy8gc2hvdyB3ZWVrIG51bWJlcnMgYXQgaGVhZCBvZiByb3dcbiAgICAgICAgc2hvd1dlZWtOdW1iZXI6IGZhbHNlLFxuXG4gICAgICAgIC8vIFdlZWsgcGlja2VyIG1vZGVcbiAgICAgICAgcGlja1dob2xlV2VlazogZmFsc2UsXG5cbiAgICAgICAgLy8gdXNlZCBpbnRlcm5hbGx5IChkb24ndCBjb25maWcgb3V0c2lkZSlcbiAgICAgICAgbWluWWVhcjogMCxcbiAgICAgICAgbWF4WWVhcjogOTk5OSxcbiAgICAgICAgbWluTW9udGg6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4TW9udGg6IHVuZGVmaW5lZCxcblxuICAgICAgICBzdGFydFJhbmdlOiBudWxsLFxuICAgICAgICBlbmRSYW5nZTogbnVsbCxcblxuICAgICAgICBpc1JUTDogZmFsc2UsXG5cbiAgICAgICAgLy8gQWRkaXRpb25hbCB0ZXh0IHRvIGFwcGVuZCB0byB0aGUgeWVhciBpbiB0aGUgY2FsZW5kYXIgdGl0bGVcbiAgICAgICAgeWVhclN1ZmZpeDogJycsXG5cbiAgICAgICAgLy8gUmVuZGVyIHRoZSBtb250aCBhZnRlciB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICAgICAgICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuXG4gICAgICAgIC8vIFJlbmRlciBkYXlzIG9mIHRoZSBjYWxlbmRhciBncmlkIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICAgICAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBmYWxzZSxcblxuICAgICAgICAvLyBBbGxvd3MgdXNlciB0byBzZWxlY3QgZGF5cyB0aGF0IGZhbGwgaW4gdGhlIG5leHQgb3IgcHJldmlvdXMgbW9udGhcbiAgICAgICAgZW5hYmxlU2VsZWN0aW9uRGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBmYWxzZSxcblxuICAgICAgICAvLyBob3cgbWFueSBtb250aHMgYXJlIHZpc2libGVcbiAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG5cbiAgICAgICAgLy8gd2hlbiBudW1iZXJPZk1vbnRocyBpcyB1c2VkLCB0aGlzIHdpbGwgaGVscCB5b3UgdG8gY2hvb3NlIHdoZXJlIHRoZSBtYWluIGNhbGVuZGFyIHdpbGwgYmUgKGRlZmF1bHQgYGxlZnRgLCBjYW4gYmUgc2V0IHRvIGByaWdodGApXG4gICAgICAgIC8vIG9ubHkgdXNlZCBmb3IgdGhlIGZpcnN0IGRpc3BsYXkgb3Igd2hlbiBhIHNlbGVjdGVkIGRhdGUgaXMgbm90IHZpc2libGVcbiAgICAgICAgbWFpbkNhbGVuZGFyOiAnbGVmdCcsXG5cbiAgICAgICAgLy8gU3BlY2lmeSBhIERPTSBlbGVtZW50IHRvIHJlbmRlciB0aGUgY2FsZW5kYXIgaW5cbiAgICAgICAgY29udGFpbmVyOiB1bmRlZmluZWQsXG5cbiAgICAgICAgLy8gQmx1ciBmaWVsZCB3aGVuIGRhdGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgYmx1ckZpZWxkT25TZWxlY3QgOiB0cnVlLFxuXG4gICAgICAgIC8vIGludGVybmF0aW9uYWxpemF0aW9uXG4gICAgICAgIGkxOG46IHtcbiAgICAgICAgICAgIHByZXZpb3VzTW9udGggOiAnUHJldmlvdXMgTW9udGgnLFxuICAgICAgICAgICAgbmV4dE1vbnRoICAgICA6ICdOZXh0IE1vbnRoJyxcbiAgICAgICAgICAgIG1vbnRocyAgICAgICAgOiBbJ0phbnVhcnknLCdGZWJydWFyeScsJ01hcmNoJywnQXByaWwnLCdNYXknLCdKdW5lJywnSnVseScsJ0F1Z3VzdCcsJ1NlcHRlbWJlcicsJ09jdG9iZXInLCdOb3ZlbWJlcicsJ0RlY2VtYmVyJ10sXG4gICAgICAgICAgICB3ZWVrZGF5cyAgICAgIDogWydTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCdGcmlkYXknLCdTYXR1cmRheSddLFxuICAgICAgICAgICAgd2Vla2RheXNTaG9ydCA6IFsnU3VuJywnTW9uJywnVHVlJywnV2VkJywnVGh1JywnRnJpJywnU2F0J11cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBUaGVtZSBDbGFzc25hbWVcbiAgICAgICAgdGhlbWU6IG51bGwsXG5cbiAgICAgICAgLy8gZXZlbnRzIGFycmF5XG4gICAgICAgIGV2ZW50czogW10sXG5cbiAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgb25TZWxlY3Q6IG51bGwsXG4gICAgICAgIG9uT3BlbjogbnVsbCxcbiAgICAgICAgb25DbG9zZTogbnVsbCxcbiAgICAgICAgb25EcmF3OiBudWxsLFxuXG4gICAgICAgIC8vIEVuYWJsZSBrZXlib2FyZCBpbnB1dFxuICAgICAgICBrZXlib2FyZElucHV0OiB0cnVlXG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogdGVtcGxhdGluZyBmdW5jdGlvbnMgdG8gYWJzdHJhY3QgSFRNTCByZW5kZXJpbmdcbiAgICAgKi9cbiAgICByZW5kZXJEYXlOYW1lID0gZnVuY3Rpb24ob3B0cywgZGF5LCBhYmJyKVxuICAgIHtcbiAgICAgICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XG4gICAgICAgIHdoaWxlIChkYXkgPj0gNykge1xuICAgICAgICAgICAgZGF5IC09IDc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFiYnIgPyBvcHRzLmkxOG4ud2Vla2RheXNTaG9ydFtkYXldIDogb3B0cy5pMThuLndlZWtkYXlzW2RheV07XG4gICAgfSxcblxuICAgIHJlbmRlckRheSA9IGZ1bmN0aW9uKG9wdHMpXG4gICAge1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIHZhciBhcmlhU2VsZWN0ZWQgPSAnZmFsc2UnO1xuICAgICAgICBpZiAob3B0cy5pc0VtcHR5KSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goJ2lzLW91dHNpZGUtY3VycmVudC1tb250aCcpO1xuXG4gICAgICAgICAgICAgICAgaWYoIW9wdHMuZW5hYmxlU2VsZWN0aW9uRGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3Rpb24tZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8dGQgY2xhc3M9XCJpcy1lbXB0eVwiPjwvdGQ+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc1RvZGF5KSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtdG9kYXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIGFyaWFTZWxlY3RlZCA9ICd0cnVlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5oYXNFdmVudCkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2hhcy1ldmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzSW5SYW5nZSkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLWlucmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc1N0YXJ0UmFuZ2UpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1zdGFydHJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNFbmRSYW5nZSkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLWVuZHJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICc8dGQgZGF0YS1kYXk9XCInICsgb3B0cy5kYXkgKyAnXCIgY2xhc3M9XCInICsgYXJyLmpvaW4oJyAnKSArICdcIiBhcmlhLXNlbGVjdGVkPVwiJyArIGFyaWFTZWxlY3RlZCArICdcIj4nICtcbiAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJwaWthLWJ1dHRvbiBwaWthLWRheVwiIHR5cGU9XCJidXR0b25cIiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtcGlrYS15ZWFyPVwiJyArIG9wdHMueWVhciArICdcIiBkYXRhLXBpa2EtbW9udGg9XCInICsgb3B0cy5tb250aCArICdcIiBkYXRhLXBpa2EtZGF5PVwiJyArIG9wdHMuZGF5ICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5kYXkgK1xuICAgICAgICAgICAgICAgICAnPC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAnPC90ZD4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJXZWVrID0gZnVuY3Rpb24gKGQsIG0sIHkpIHtcbiAgICAgICAgLy8gTGlmdGVkIGZyb20gaHR0cDovL2phdmFzY3JpcHQuYWJvdXQuY29tL2xpYnJhcnkvYmx3ZWVreWVhci5odG0sIGxpZ2h0bHkgbW9kaWZpZWQuXG4gICAgICAgIHZhciBvbmVqYW4gPSBuZXcgRGF0ZSh5LCAwLCAxKSxcbiAgICAgICAgICAgIHdlZWtOdW0gPSBNYXRoLmNlaWwoKCgobmV3IERhdGUoeSwgbSwgZCkgLSBvbmVqYW4pIC8gODY0MDAwMDApICsgb25lamFuLmdldERheSgpKzEpLzcpO1xuICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cInBpa2Etd2Vla1wiPicgKyB3ZWVrTnVtICsgJzwvdGQ+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyUm93ID0gZnVuY3Rpb24oZGF5cywgaXNSVEwsIHBpY2tXaG9sZVdlZWssIGlzUm93U2VsZWN0ZWQpXG4gICAge1xuICAgICAgICByZXR1cm4gJzx0ciBjbGFzcz1cInBpa2Etcm93JyArIChwaWNrV2hvbGVXZWVrID8gJyBwaWNrLXdob2xlLXdlZWsnIDogJycpICsgKGlzUm93U2VsZWN0ZWQgPyAnIGlzLXNlbGVjdGVkJyA6ICcnKSArICdcIj4nICsgKGlzUlRMID8gZGF5cy5yZXZlcnNlKCkgOiBkYXlzKS5qb2luKCcnKSArICc8L3RyPic7XG4gICAgfSxcblxuICAgIHJlbmRlckJvZHkgPSBmdW5jdGlvbihyb3dzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICc8dGJvZHk+JyArIHJvd3Muam9pbignJykgKyAnPC90Ym9keT4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJIZWFkID0gZnVuY3Rpb24ob3B0cylcbiAgICB7XG4gICAgICAgIHZhciBpLCBhcnIgPSBbXTtcbiAgICAgICAgaWYgKG9wdHMuc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8dGg+PC90aD4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnPHRoIHNjb3BlPVwiY29sXCI+PGFiYnIgdGl0bGU9XCInICsgcmVuZGVyRGF5TmFtZShvcHRzLCBpKSArICdcIj4nICsgcmVuZGVyRGF5TmFtZShvcHRzLCBpLCB0cnVlKSArICc8L2FiYnI+PC90aD4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzx0aGVhZD48dHI+JyArIChvcHRzLmlzUlRMID8gYXJyLnJldmVyc2UoKSA6IGFycikuam9pbignJykgKyAnPC90cj48L3RoZWFkPic7XG4gICAgfSxcblxuICAgIHJlbmRlclRpdGxlID0gZnVuY3Rpb24oaW5zdGFuY2UsIGMsIHllYXIsIG1vbnRoLCByZWZZZWFyLCByYW5kSWQpXG4gICAge1xuICAgICAgICB2YXIgaSwgaiwgYXJyLFxuICAgICAgICAgICAgb3B0cyA9IGluc3RhbmNlLl9vLFxuICAgICAgICAgICAgaXNNaW5ZZWFyID0geWVhciA9PT0gb3B0cy5taW5ZZWFyLFxuICAgICAgICAgICAgaXNNYXhZZWFyID0geWVhciA9PT0gb3B0cy5tYXhZZWFyLFxuICAgICAgICAgICAgaHRtbCA9ICc8ZGl2IGlkPVwiJyArIHJhbmRJZCArICdcIiBjbGFzcz1cInBpa2EtdGl0bGVcIiByb2xlPVwiaGVhZGluZ1wiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiPicsXG4gICAgICAgICAgICBtb250aEh0bWwsXG4gICAgICAgICAgICB5ZWFySHRtbCxcbiAgICAgICAgICAgIHByZXYgPSB0cnVlLFxuICAgICAgICAgICAgbmV4dCA9IHRydWU7XG5cbiAgICAgICAgZm9yIChhcnIgPSBbXSwgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyAoeWVhciA9PT0gcmVmWWVhciA/IGkgLSBjIDogMTIgKyBpIC0gYykgKyAnXCInICtcbiAgICAgICAgICAgICAgICAoaSA9PT0gbW9udGggPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6ICcnKSArXG4gICAgICAgICAgICAgICAgKChpc01pblllYXIgJiYgaSA8IG9wdHMubWluTW9udGgpIHx8IChpc01heFllYXIgJiYgaSA+IG9wdHMubWF4TW9udGgpID8gJ2Rpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJykgKyAnPicgK1xuICAgICAgICAgICAgICAgIG9wdHMuaTE4bi5tb250aHNbaV0gKyAnPC9vcHRpb24+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBtb250aEh0bWwgPSAnPGRpdiBjbGFzcz1cInBpa2EtbGFiZWxcIj4nICsgb3B0cy5pMThuLm1vbnRoc1ttb250aF0gKyAnPHNlbGVjdCBjbGFzcz1cInBpa2Etc2VsZWN0IHBpa2Etc2VsZWN0LW1vbnRoXCIgdGFiaW5kZXg9XCItMVwiPicgKyBhcnIuam9pbignJykgKyAnPC9zZWxlY3Q+PC9kaXY+JztcblxuICAgICAgICBpZiAoaXNBcnJheShvcHRzLnllYXJSYW5nZSkpIHtcbiAgICAgICAgICAgIGkgPSBvcHRzLnllYXJSYW5nZVswXTtcbiAgICAgICAgICAgIGogPSBvcHRzLnllYXJSYW5nZVsxXSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpID0geWVhciAtIG9wdHMueWVhclJhbmdlO1xuICAgICAgICAgICAgaiA9IDEgKyB5ZWFyICsgb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGFyciA9IFtdOyBpIDwgaiAmJiBpIDw9IG9wdHMubWF4WWVhcjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSBvcHRzLm1pblllYXIpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBpICsgJ1wiJyArIChpID09PSB5ZWFyID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInOiAnJykgKyAnPicgKyAoaSkgKyAnPC9vcHRpb24+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeWVhckh0bWwgPSAnPGRpdiBjbGFzcz1cInBpa2EtbGFiZWxcIj4nICsgeWVhciArIG9wdHMueWVhclN1ZmZpeCArICc8c2VsZWN0IGNsYXNzPVwicGlrYS1zZWxlY3QgcGlrYS1zZWxlY3QteWVhclwiIHRhYmluZGV4PVwiLTFcIj4nICsgYXJyLmpvaW4oJycpICsgJzwvc2VsZWN0PjwvZGl2Pic7XG5cbiAgICAgICAgaWYgKG9wdHMuc2hvd01vbnRoQWZ0ZXJZZWFyKSB7XG4gICAgICAgICAgICBodG1sICs9IHllYXJIdG1sICsgbW9udGhIdG1sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHRtbCArPSBtb250aEh0bWwgKyB5ZWFySHRtbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01pblllYXIgJiYgKG1vbnRoID09PSAwIHx8IG9wdHMubWluTW9udGggPj0gbW9udGgpKSB7XG4gICAgICAgICAgICBwcmV2ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNYXhZZWFyICYmIChtb250aCA9PT0gMTEgfHwgb3B0cy5tYXhNb250aCA8PSBtb250aCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8YnV0dG9uIGNsYXNzPVwicGlrYS1wcmV2JyArIChwcmV2ID8gJycgOiAnIGlzLWRpc2FibGVkJykgKyAnXCIgdHlwZT1cImJ1dHRvblwiPicgKyBvcHRzLmkxOG4ucHJldmlvdXNNb250aCArICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjID09PSAoaW5zdGFuY2UuX28ubnVtYmVyT2ZNb250aHMgLSAxKSApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9XCJwaWthLW5leHQnICsgKG5leHQgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArICdcIiB0eXBlPVwiYnV0dG9uXCI+JyArIG9wdHMuaTE4bi5uZXh0TW9udGggKyAnPC9idXR0b24+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodG1sICs9ICc8L2Rpdj4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJUYWJsZSA9IGZ1bmN0aW9uKG9wdHMsIGRhdGEsIHJhbmRJZClcbiAgICB7XG4gICAgICAgIHJldHVybiAnPHRhYmxlIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGNsYXNzPVwicGlrYS10YWJsZVwiIHJvbGU9XCJncmlkXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJyArIHJhbmRJZCArICdcIj4nICsgcmVuZGVySGVhZChvcHRzKSArIHJlbmRlckJvZHkoZGF0YSkgKyAnPC90YWJsZT4nO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFBpa2FkYXkgY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBQaWthZGF5ID0gZnVuY3Rpb24ob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIG9wdHMgPSBzZWxmLmNvbmZpZyhvcHRpb25zKTtcblxuICAgICAgICBzZWxmLl9vbk1vdXNlRG93biA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5fdikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQsICdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtYnV0dG9uJykgJiYgIWhhc0NsYXNzKHRhcmdldCwgJ2lzLWVtcHR5JykgJiYgIWhhc0NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAnaXMtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldERhdGUobmV3IERhdGUodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1waWthLXllYXInKSwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1waWthLW1vbnRoJyksIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGlrYS1kYXknKSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmJsdXJGaWVsZE9uU2VsZWN0ICYmIG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5maWVsZC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLXByZXYnKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnByZXZNb250aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLW5leHQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm5leHRNb250aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzQ2xhc3ModGFyZ2V0LCAncGlrYS1zZWxlY3QnKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgdG91Y2ggZXZlbnQgcHJldmVudCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fYyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25DaGFuZ2UgPSBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAncGlrYS1zZWxlY3QtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b01vbnRoKHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdC15ZWFyJykpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmdvdG9ZZWFyKHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25LZXlDaGFuZ2UgPSBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmlzVmlzaWJsZSgpKSB7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2goZS5rZXlDb2RlKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5maWVsZC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnc3VidHJhY3QnLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3REYXRlKCdzdWJ0cmFjdCcsIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdERhdGUoJ2FkZCcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdERhdGUoJ2FkZCcsIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0ZTtcblxuICAgICAgICAgICAgaWYgKGUuZmlyZWRCeSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLnBhcnNlKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG9wdHMucGFyc2Uob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNNb21lbnQpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KG9wdHMuZmllbGQudmFsdWUsIG9wdHMuZm9ybWF0LCBvcHRzLmZvcm1hdFN0cmljdCk7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IChkYXRlICYmIGRhdGUuaXNWYWxpZCgpKSA/IGRhdGUudG9EYXRlKCkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2Uob3B0cy5maWVsZC52YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGF0ZShkYXRlKSkge1xuICAgICAgICAgICAgICBzZWxmLnNldERhdGUoZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNlbGYuX3YpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbklucHV0Rm9jdXMgPSBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlbGYuc2hvdygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uSW5wdXRDbGljayA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgc2VsZi5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dEJsdXIgPSBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElFIGFsbG93cyBwaWthIGRpdiB0byBnYWluIGZvY3VzOyBjYXRjaCBibHVyIHRoZSBpbnB1dCBmaWVsZFxuICAgICAgICAgICAgdmFyIHBFbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHBFbCwgJ3Bpa2Etc2luZ2xlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICgocEVsID0gcEVsLnBhcmVudE5vZGUpKTtcblxuICAgICAgICAgICAgaWYgKCFzZWxmLl9jKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fYiA9IHN0byhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5fYyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uQ2xpY2sgPSBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50LFxuICAgICAgICAgICAgICAgIHBFbCA9IHRhcmdldDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNFdmVudExpc3RlbmVycyAmJiBoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQub25jaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnb25jaGFuZ2UnLCAncmV0dXJuOycpO1xuICAgICAgICAgICAgICAgICAgICBhZGRFdmVudCh0YXJnZXQsICdjaGFuZ2UnLCBzZWxmLl9vbkNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChoYXNDbGFzcyhwRWwsICdwaWthLXNpbmdsZScpIHx8IHBFbCA9PT0gb3B0cy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoKHBFbCA9IHBFbC5wYXJlbnROb2RlKSk7XG4gICAgICAgICAgICBpZiAoc2VsZi5fdiAmJiB0YXJnZXQgIT09IG9wdHMudHJpZ2dlciAmJiBwRWwgIT09IG9wdHMudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHNlbGYuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2VsZi5lbC5jbGFzc05hbWUgPSAncGlrYS1zaW5nbGUnICsgKG9wdHMuaXNSVEwgPyAnIGlzLXJ0bCcgOiAnJykgKyAob3B0cy50aGVtZSA/ICcgJyArIG9wdHMudGhlbWUgOiAnJyk7XG5cbiAgICAgICAgYWRkRXZlbnQoc2VsZi5lbCwgJ21vdXNlZG93bicsIHNlbGYuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgYWRkRXZlbnQoc2VsZi5lbCwgJ3RvdWNoZW5kJywgc2VsZi5fb25Nb3VzZURvd24sIHRydWUpO1xuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAnY2hhbmdlJywgc2VsZi5fb25DaGFuZ2UpO1xuXG4gICAgICAgIGlmIChvcHRzLmtleWJvYXJkSW5wdXQpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIHNlbGYuX29uS2V5Q2hhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRzLmZpZWxkKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBvcHRzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxmLmVsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2VsZi5lbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMuZmllbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2VsZi5lbCwgb3B0cy5maWVsZC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLmZpZWxkLCAnY2hhbmdlJywgc2VsZi5fb25JbnB1dENoYW5nZSk7XG5cbiAgICAgICAgICAgIGlmICghb3B0cy5kZWZhdWx0RGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNNb21lbnQgJiYgb3B0cy5maWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLmRlZmF1bHREYXRlID0gbW9tZW50KG9wdHMuZmllbGQudmFsdWUsIG9wdHMuZm9ybWF0KS50b0RhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLmRlZmF1bHREYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShvcHRzLmZpZWxkLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdHMuc2V0RGVmYXVsdERhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZkRhdGUgPSBvcHRzLmRlZmF1bHREYXRlO1xuXG4gICAgICAgIGlmIChpc0RhdGUoZGVmRGF0ZSkpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnNldERlZmF1bHREYXRlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmdvdG9EYXRlKGRlZkRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5nb3RvRGF0ZShuZXcgRGF0ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHNlbGYuZWwuY2xhc3NOYW1lICs9ICcgaXMtYm91bmQnO1xuICAgICAgICAgICAgYWRkRXZlbnQob3B0cy50cmlnZ2VyLCAnY2xpY2snLCBzZWxmLl9vbklucHV0Q2xpY2spO1xuICAgICAgICAgICAgYWRkRXZlbnQob3B0cy50cmlnZ2VyLCAnZm9jdXMnLCBzZWxmLl9vbklucHV0Rm9jdXMpO1xuICAgICAgICAgICAgYWRkRXZlbnQob3B0cy50cmlnZ2VyLCAnYmx1cicsIHNlbGYuX29uSW5wdXRCbHVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogcHVibGljIFBpa2FkYXkgQVBJXG4gICAgICovXG4gICAgUGlrYWRheS5wcm90b3R5cGUgPSB7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogY29uZmlndXJlIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZzogZnVuY3Rpb24ob3B0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9vKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IGV4dGVuZCh0aGlzLl9vLCBvcHRpb25zLCB0cnVlKTtcblxuICAgICAgICAgICAgb3B0cy5pc1JUTCA9ICEhb3B0cy5pc1JUTDtcblxuICAgICAgICAgICAgb3B0cy5maWVsZCA9IChvcHRzLmZpZWxkICYmIG9wdHMuZmllbGQubm9kZU5hbWUpID8gb3B0cy5maWVsZCA6IG51bGw7XG5cbiAgICAgICAgICAgIG9wdHMudGhlbWUgPSAodHlwZW9mIG9wdHMudGhlbWUpID09PSAnc3RyaW5nJyAmJiBvcHRzLnRoZW1lID8gb3B0cy50aGVtZSA6IG51bGw7XG5cbiAgICAgICAgICAgIG9wdHMuYm91bmQgPSAhIShvcHRzLmJvdW5kICE9PSB1bmRlZmluZWQgPyBvcHRzLmZpZWxkICYmIG9wdHMuYm91bmQgOiBvcHRzLmZpZWxkKTtcblxuICAgICAgICAgICAgb3B0cy50cmlnZ2VyID0gKG9wdHMudHJpZ2dlciAmJiBvcHRzLnRyaWdnZXIubm9kZU5hbWUpID8gb3B0cy50cmlnZ2VyIDogb3B0cy5maWVsZDtcblxuICAgICAgICAgICAgb3B0cy5kaXNhYmxlV2Vla2VuZHMgPSAhIW9wdHMuZGlzYWJsZVdlZWtlbmRzO1xuXG4gICAgICAgICAgICBvcHRzLmRpc2FibGVEYXlGbiA9ICh0eXBlb2Ygb3B0cy5kaXNhYmxlRGF5Rm4pID09PSAnZnVuY3Rpb24nID8gb3B0cy5kaXNhYmxlRGF5Rm4gOiBudWxsO1xuXG4gICAgICAgICAgICB2YXIgbm9tID0gcGFyc2VJbnQob3B0cy5udW1iZXJPZk1vbnRocywgMTApIHx8IDE7XG4gICAgICAgICAgICBvcHRzLm51bWJlck9mTW9udGhzID0gbm9tID4gNCA/IDQgOiBub207XG5cbiAgICAgICAgICAgIGlmICghaXNEYXRlKG9wdHMubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1pbkRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNEYXRlKG9wdHMubWF4RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1heERhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgob3B0cy5taW5EYXRlICYmIG9wdHMubWF4RGF0ZSkgJiYgb3B0cy5tYXhEYXRlIDwgb3B0cy5taW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5tYXhEYXRlID0gb3B0cy5taW5EYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5taW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNaW5EYXRlKG9wdHMubWluRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5tYXhEYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNYXhEYXRlKG9wdHMubWF4RGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHZhciBmYWxsYmFjayA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEwO1xuICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlWzBdID0gcGFyc2VJbnQob3B0cy55ZWFyUmFuZ2VbMF0sIDEwKSB8fCBmYWxsYmFjaztcbiAgICAgICAgICAgICAgICBvcHRzLnllYXJSYW5nZVsxXSA9IHBhcnNlSW50KG9wdHMueWVhclJhbmdlWzFdLCAxMCkgfHwgZmFsbGJhY2s7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlID0gTWF0aC5hYnMocGFyc2VJbnQob3B0cy55ZWFyUmFuZ2UsIDEwKSkgfHwgZGVmYXVsdHMueWVhclJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLnllYXJSYW5nZSA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLnllYXJSYW5nZSA9IDEwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gYSBmb3JtYXR0ZWQgc3RyaW5nIG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbiAodXNpbmcgTW9tZW50LmpzIGlmIGF2YWlsYWJsZSlcbiAgICAgICAgICovXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbihmb3JtYXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLl9vLmZvcm1hdDtcbiAgICAgICAgICAgIGlmICghaXNEYXRlKHRoaXMuX2QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX28udG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX28udG9TdHJpbmcodGhpcy5fZCwgZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNNb21lbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudCh0aGlzLl9kKS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kLnRvRGF0ZVN0cmluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gYSBNb21lbnQuanMgb2JqZWN0IG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbiAoaWYgYXZhaWxhYmxlKVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9tZW50OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNNb21lbnQgPyBtb21lbnQodGhpcy5fZCkgOiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGZyb20gYSBNb21lbnQuanMgb2JqZWN0IChpZiBhdmFpbGFibGUpXG4gICAgICAgICAqL1xuICAgICAgICBzZXRNb21lbnQ6IGZ1bmN0aW9uKGRhdGUsIHByZXZlbnRPblNlbGVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhhc01vbWVudCAmJiBtb21lbnQuaXNNb21lbnQoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERhdGUoZGF0ZS50b0RhdGUoKSwgcHJldmVudE9uU2VsZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJuIGEgRGF0ZSBvYmplY3Qgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXREYXRlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBpc0RhdGUodGhpcy5fZCkgPyBuZXcgRGF0ZSh0aGlzLl9kLmdldFRpbWUoKSkgOiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXREYXRlOiBmdW5jdGlvbihkYXRlLCBwcmV2ZW50T25TZWxlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2QgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX28uZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5maWVsZC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQodGhpcy5fby5maWVsZCwgJ2NoYW5nZScsIHsgZmlyZWRCeTogdGhpcyB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBtaW4gPSB0aGlzLl9vLm1pbkRhdGUsXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5fby5tYXhEYXRlO1xuXG4gICAgICAgICAgICBpZiAoaXNEYXRlKG1pbikgJiYgZGF0ZSA8IG1pbikge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtaW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShtYXgpICYmIGRhdGUgPiBtYXgpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbWF4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgc2V0VG9TdGFydE9mRGF5KHRoaXMuX2QpO1xuICAgICAgICAgICAgdGhpcy5nb3RvRGF0ZSh0aGlzLl9kKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX28uZmllbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLmZpZWxkLnZhbHVlID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudCh0aGlzLl9vLmZpZWxkLCAnY2hhbmdlJywgeyBmaXJlZEJ5OiB0aGlzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwcmV2ZW50T25TZWxlY3QgJiYgdHlwZW9mIHRoaXMuX28ub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm9uU2VsZWN0LmNhbGwodGhpcywgdGhpcy5nZXREYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGRhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdvdG9EYXRlOiBmdW5jdGlvbihkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbmV3Q2FsZW5kYXIgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsZW5kYXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aC0xXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ubW9udGgsIDEpLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgZW5kIG9mIHRoZSBtb250aFxuICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXRNb250aChsYXN0VmlzaWJsZURhdGUuZ2V0TW9udGgoKSsxKTtcbiAgICAgICAgICAgICAgICBsYXN0VmlzaWJsZURhdGUuc2V0RGF0ZShsYXN0VmlzaWJsZURhdGUuZ2V0RGF0ZSgpLTEpO1xuICAgICAgICAgICAgICAgIG5ld0NhbGVuZGFyID0gKHZpc2libGVEYXRlIDwgZmlyc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgfHwgbGFzdFZpc2libGVEYXRlLmdldFRpbWUoKSA8IHZpc2libGVEYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0NhbGVuZGFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnMgPSBbe1xuICAgICAgICAgICAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5tYWluQ2FsZW5kYXIgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggKz0gMSAtIHRoaXMuX28ubnVtYmVyT2ZNb250aHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkanVzdERhdGU6IGZ1bmN0aW9uKHNpZ24sIGRheXMpIHtcblxuICAgICAgICAgICAgdmFyIGRheSA9IHRoaXMuZ2V0RGF0ZSgpIHx8IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IHBhcnNlSW50KGRheXMpKjI0KjYwKjYwKjEwMDA7XG5cbiAgICAgICAgICAgIHZhciBuZXdEYXk7XG5cbiAgICAgICAgICAgIGlmIChzaWduID09PSAnYWRkJykge1xuICAgICAgICAgICAgICAgIG5ld0RheSA9IG5ldyBEYXRlKGRheS52YWx1ZU9mKCkgKyBkaWZmZXJlbmNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2lnbiA9PT0gJ3N1YnRyYWN0Jykge1xuICAgICAgICAgICAgICAgIG5ld0RheSA9IG5ldyBEYXRlKGRheS52YWx1ZU9mKCkgLSBkaWZmZXJlbmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXREYXRlKG5ld0RheSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0Q2FsZW5kYXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdID0gYWRqdXN0Q2FsZW5kYXIodGhpcy5jYWxlbmRhcnNbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgYyA9IDE7IGMgPCB0aGlzLl9vLm51bWJlck9mTW9udGhzOyBjKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1tjXSA9IGFkanVzdENhbGVuZGFyKHtcbiAgICAgICAgICAgICAgICAgICAgbW9udGg6IHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoICsgYyxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogdGhpcy5jYWxlbmRhcnNbMF0ueWVhclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ290b1RvZGF5OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgbW9udGggKHplcm8taW5kZXgsIGUuZy4gMDogSmFudWFyeSlcbiAgICAgICAgICovXG4gICAgICAgIGdvdG9Nb250aDogZnVuY3Rpb24obW9udGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmV4dE1vbnRoOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKys7XG4gICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHByZXZNb250aDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aC0tO1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBmdWxsIHllYXIgKGUuZy4gXCIyMDEyXCIpXG4gICAgICAgICAqL1xuICAgICAgICBnb3RvWWVhcjogZnVuY3Rpb24oeWVhcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpc05hTih5ZWFyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHRoZSBtaW5EYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZXRNaW5EYXRlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgc2V0VG9TdGFydE9mRGF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pbkRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pblllYXIgID0gdmFsdWUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pbk1vbnRoID0gdmFsdWUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5EYXRlID0gZGVmYXVsdHMubWluRGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pblllYXIgID0gZGVmYXVsdHMubWluWWVhcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pbk1vbnRoID0gZGVmYXVsdHMubWluTW9udGg7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5zdGFydFJhbmdlID0gZGVmYXVsdHMuc3RhcnRSYW5nZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB0aGUgbWF4RGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0TWF4RGF0ZTogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHNldFRvU3RhcnRPZkRheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhEYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhZZWFyID0gdmFsdWUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heE1vbnRoID0gdmFsdWUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhEYXRlID0gZGVmYXVsdHMubWF4RGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heFllYXIgPSBkZWZhdWx0cy5tYXhZZWFyO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4TW9udGggPSBkZWZhdWx0cy5tYXhNb250aDtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLmVuZFJhbmdlID0gZGVmYXVsdHMuZW5kUmFuZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFN0YXJ0UmFuZ2U6IGZ1bmN0aW9uKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vLnN0YXJ0UmFuZ2UgPSB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRFbmRSYW5nZTogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX28uZW5kUmFuZ2UgPSB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVmcmVzaCB0aGUgSFRNTFxuICAgICAgICAgKi9cbiAgICAgICAgZHJhdzogZnVuY3Rpb24oZm9yY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdiAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3B0cyA9IHRoaXMuX28sXG4gICAgICAgICAgICAgICAgbWluWWVhciA9IG9wdHMubWluWWVhcixcbiAgICAgICAgICAgICAgICBtYXhZZWFyID0gb3B0cy5tYXhZZWFyLFxuICAgICAgICAgICAgICAgIG1pbk1vbnRoID0gb3B0cy5taW5Nb250aCxcbiAgICAgICAgICAgICAgICBtYXhNb250aCA9IG9wdHMubWF4TW9udGgsXG4gICAgICAgICAgICAgICAgaHRtbCA9ICcnLFxuICAgICAgICAgICAgICAgIHJhbmRJZDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3kgPD0gbWluWWVhcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSBtaW5ZZWFyO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obWluTW9udGgpICYmIHRoaXMuX20gPCBtaW5Nb250aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tID0gbWluTW9udGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3kgPj0gbWF4WWVhcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSBtYXhZZWFyO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obWF4TW9udGgpICYmIHRoaXMuX20gPiBtYXhNb250aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tID0gbWF4TW9udGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByYW5kSWQgPSAncGlrYS10aXRsZS0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikucmVwbGFjZSgvW15hLXpdKy9nLCAnJykuc3Vic3RyKDAsIDIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IG9wdHMubnVtYmVyT2ZNb250aHM7IGMrKykge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwaWthLWxlbmRhclwiPicgKyByZW5kZXJUaXRsZSh0aGlzLCBjLCB0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciwgcmFuZElkKSArIHRoaXMucmVuZGVyKHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLCByYW5kSWQpICsgJzwvZGl2Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICBpZihvcHRzLmZpZWxkLnR5cGUgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0byhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMudHJpZ2dlci5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fby5vbkRyYXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm9uRHJhdyh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGhlIHNjcmVlbiByZWFkZXIgdXNlciBrbm93IHRvIHVzZSBhcnJvdyBrZXlzXG4gICAgICAgICAgICAgICAgb3B0cy5maWVsZC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVXNlIHRoZSBhcnJvdyBrZXlzIHRvIHBpY2sgYSBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0UG9zaXRpb246IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZpZWxkLCBwRWwsIHdpZHRoLCBoZWlnaHQsIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0LCBzY3JvbGxUb3AsIGxlZnQsIHRvcCwgY2xpZW50UmVjdDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX28uY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG4gICAgICAgICAgICBmaWVsZCA9IHRoaXMuX28udHJpZ2dlcjtcbiAgICAgICAgICAgIHBFbCA9IGZpZWxkO1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLmVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNsaWVudFJlY3QgPSBmaWVsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gY2xpZW50UmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHRvcCA9IGNsaWVudFJlY3QuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gcEVsLm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgdG9wICA9IHBFbC5vZmZzZXRUb3AgKyBwRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHdoaWxlKChwRWwgPSBwRWwub2Zmc2V0UGFyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ICs9IHBFbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgICAgICB0b3AgICs9IHBFbC5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkZWZhdWx0IHBvc2l0aW9uIGlzIGJvdHRvbSAmIGxlZnRcbiAgICAgICAgICAgIGlmICgodGhpcy5fby5yZXBvc2l0aW9uICYmIGxlZnQgKyB3aWR0aCA+IHZpZXdwb3J0V2lkdGgpIHx8XG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLnBvc2l0aW9uLmluZGV4T2YoJ3JpZ2h0JykgPiAtMSAmJlxuICAgICAgICAgICAgICAgICAgICBsZWZ0IC0gd2lkdGggKyBmaWVsZC5vZmZzZXRXaWR0aCA+IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gbGVmdCAtIHdpZHRoICsgZmllbGQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRoaXMuX28ucmVwb3NpdGlvbiAmJiB0b3AgKyBoZWlnaHQgPiB2aWV3cG9ydEhlaWdodCArIHNjcm9sbFRvcCkgfHxcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28ucG9zaXRpb24uaW5kZXhPZigndG9wJykgPiAtMSAmJlxuICAgICAgICAgICAgICAgICAgICB0b3AgLSBoZWlnaHQgLSBmaWVsZC5vZmZzZXRIZWlnaHQgPiAwXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdG9wID0gdG9wIC0gaGVpZ2h0IC0gZmllbGQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gdG9wICsgJ3B4JztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVuZGVyIEhUTUwgZm9yIGEgcGFydGljdWxhciBtb250aFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih5ZWFyLCBtb250aCwgcmFuZElkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3B0cyAgID0gdGhpcy5fbyxcbiAgICAgICAgICAgICAgICBub3cgICAgPSBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGRheXMgICA9IGdldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSkuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgZGF0YSAgID0gW10sXG4gICAgICAgICAgICAgICAgcm93ICAgID0gW107XG4gICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkobm93KTtcbiAgICAgICAgICAgIGlmIChvcHRzLmZpcnN0RGF5ID4gMCkge1xuICAgICAgICAgICAgICAgIGJlZm9yZSAtPSBvcHRzLmZpcnN0RGF5O1xuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZSArPSA3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyAxMSA6IG1vbnRoIC0gMSxcbiAgICAgICAgICAgICAgICBuZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyAwIDogbW9udGggKyAxLFxuICAgICAgICAgICAgICAgIHllYXJPZlByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IHllYXIgLSAxIDogeWVhcixcbiAgICAgICAgICAgICAgICB5ZWFyT2ZOZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyB5ZWFyICsgMSA6IHllYXIsXG4gICAgICAgICAgICAgICAgZGF5c0luUHJldmlvdXNNb250aCA9IGdldERheXNJbk1vbnRoKHllYXJPZlByZXZpb3VzTW9udGgsIHByZXZpb3VzTW9udGgpO1xuICAgICAgICAgICAgdmFyIGNlbGxzID0gZGF5cyArIGJlZm9yZSxcbiAgICAgICAgICAgICAgICBhZnRlciA9IGNlbGxzO1xuICAgICAgICAgICAgd2hpbGUoYWZ0ZXIgPiA3KSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgLT0gNztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbGxzICs9IDcgLSBhZnRlcjtcbiAgICAgICAgICAgIHZhciBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHIgPSAwOyBpIDwgY2VsbHM7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEgKyAoaSAtIGJlZm9yZSkpLFxuICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gaXNEYXRlKHRoaXMuX2QpID8gY29tcGFyZURhdGVzKGRheSwgdGhpcy5fZCkgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaXNUb2RheSA9IGNvbXBhcmVEYXRlcyhkYXksIG5vdyksXG4gICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50ID0gb3B0cy5ldmVudHMuaW5kZXhPZihkYXkudG9EYXRlU3RyaW5nKCkpICE9PSAtMSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaXNFbXB0eSA9IGkgPCBiZWZvcmUgfHwgaSA+PSAoZGF5cyArIGJlZm9yZSksXG4gICAgICAgICAgICAgICAgICAgIGRheU51bWJlciA9IDEgKyAoaSAtIGJlZm9yZSksXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gbW9udGgsXG4gICAgICAgICAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyLFxuICAgICAgICAgICAgICAgICAgICBpc1N0YXJ0UmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgY29tcGFyZURhdGVzKG9wdHMuc3RhcnRSYW5nZSwgZGF5KSxcbiAgICAgICAgICAgICAgICAgICAgaXNFbmRSYW5nZSA9IG9wdHMuZW5kUmFuZ2UgJiYgY29tcGFyZURhdGVzKG9wdHMuZW5kUmFuZ2UsIGRheSksXG4gICAgICAgICAgICAgICAgICAgIGlzSW5SYW5nZSA9IG9wdHMuc3RhcnRSYW5nZSAmJiBvcHRzLmVuZFJhbmdlICYmIG9wdHMuc3RhcnRSYW5nZSA8IGRheSAmJiBkYXkgPCBvcHRzLmVuZFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gKG9wdHMubWluRGF0ZSAmJiBkYXkgPCBvcHRzLm1pbkRhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3B0cy5tYXhEYXRlICYmIGRheSA+IG9wdHMubWF4RGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcHRzLmRpc2FibGVXZWVrZW5kcyAmJiBpc1dlZWtlbmQoZGF5KSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcHRzLmRpc2FibGVEYXlGbiAmJiBvcHRzLmRpc2FibGVEYXlGbihkYXkpKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlOdW1iZXIgPSBkYXlzSW5QcmV2aW91c01vbnRoICsgZGF5TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBwcmV2aW91c01vbnRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZlByZXZpb3VzTW9udGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlOdW1iZXIgPSBkYXlOdW1iZXIgLSBkYXlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBuZXh0TW9udGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mTmV4dE1vbnRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGRheUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheTogZGF5TnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogeWVhck51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50OiBoYXNFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RvZGF5OiBpc1RvZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRW1wdHk6IGlzRW1wdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N0YXJ0UmFuZ2U6IGlzU3RhcnRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRW5kUmFuZ2U6IGlzRW5kUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luUmFuZ2U6IGlzSW5SYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IG9wdHMuc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRocyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVNlbGVjdGlvbkRheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5lbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHNcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnBpY2tXaG9sZVdlZWsgJiYgaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcm93LnB1c2gocmVuZGVyRGF5KGRheUNvbmZpZykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCsrciA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5zaG93V2Vla051bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93LnVuc2hpZnQocmVuZGVyV2VlayhpIC0gYmVmb3JlLCBtb250aCwgeWVhcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChyZW5kZXJSb3cocm93LCBvcHRzLmlzUlRMLCBvcHRzLnBpY2tXaG9sZVdlZWssIGlzV2Vla1NlbGVjdGVkKSk7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyVGFibGUob3B0cywgZGF0YSwgcmFuZElkKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Y7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmVsLCAnaXMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX28uYm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkanVzdFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fby5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5vbk9wZW4uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMuX3Y7XG4gICAgICAgICAgICBpZiAodiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5ib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5fb25DbGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJzsgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbCwgJ2lzLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3YgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0aGlzLl9vLm9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5vbkNsb3NlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHQU1FIE9WRVJcbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG9wdHMgPSB0aGlzLl9vO1xuXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICByZW1vdmVFdmVudCh0aGlzLmVsLCAndG91Y2hlbmQnLCB0aGlzLl9vbk1vdXNlRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICByZW1vdmVFdmVudCh0aGlzLmVsLCAnY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKG9wdHMua2V5Ym9hcmRJbnB1dCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX29uS2V5Q2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQob3B0cy5maWVsZCwgJ2NoYW5nZScsIHRoaXMuX29uSW5wdXRDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KG9wdHMudHJpZ2dlciwgJ2NsaWNrJywgdGhpcy5fb25JbnB1dENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQob3B0cy50cmlnZ2VyLCAnZm9jdXMnLCB0aGlzLl9vbklucHV0Rm9jdXMpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudChvcHRzLnRyaWdnZXIsICdibHVyJywgdGhpcy5fb25JbnB1dEJsdXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICByZXR1cm4gUGlrYWRheTtcbn0pKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbiEoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGhvd2V2ZXIsIHRoZVxuICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgICAvLyB0aHJvd24gYmFjayBpbnRvIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIGFzIGlzIHRoZSBjYXNlXG4gICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAgIC8vIGFsbG93cyB0aGUgY29uc3VtZXIgdG8gZGVjaWRlIHdoYXQgdG8gZG8gd2l0aCB0aGUgeWllbGRlZFxuICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgICAgLy8gYXdhaXQsIGJ5IGNvbnRyYXN0LCB0aGVyZSBpcyBubyBvcHBvcnR1bml0eSB0byBleGFtaW5lIHRoZVxuICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgICAvLyBsZXQgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBoYW5kbGUgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHJ1bnRpbWUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KVxuICAgICk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbiAgLy8gSW4gc2xvcHB5IG1vZGUsIHVuYm91bmQgYHRoaXNgIHJlZmVycyB0byB0aGUgZ2xvYmFsIG9iamVjdCwgZmFsbGJhY2sgdG9cbiAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3IgaWYgd2UncmUgaW4gZ2xvYmFsIHN0cmljdCBtb2RlLiBUaGF0IGlzIHNhZGx5IGEgZm9ybVxuICAvLyBvZiBpbmRpcmVjdCBldmFsIHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LlxuICAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBFUyA9IHJlcXVpcmUoJ2VzLWFic3RyYWN0L2VzNScpO1xudmFyIHJlcGxhY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcblxudmFyIGxlZnRXaGl0ZXNwYWNlID0gL15bXFx4MDlcXHgwQVxceDBCXFx4MENcXHgwRFxceDIwXFx4QTBcXHUxNjgwXFx1MTgwRVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFxcdTIwMjlcXHVGRUZGXSsvO1xudmFyIHJpZ2h0V2hpdGVzcGFjZSA9IC9bXFx4MDlcXHgwQVxceDBCXFx4MENcXHgwRFxceDIwXFx4QTBcXHUxNjgwXFx1MTgwRVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFxcdTIwMjlcXHVGRUZGXSskLztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmltKCkge1xuXHR2YXIgUyA9IEVTLlRvU3RyaW5nKEVTLkNoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXMpKTtcblx0cmV0dXJuIHJlcGxhY2UocmVwbGFjZShTLCBsZWZ0V2hpdGVzcGFjZSwgJycpLCByaWdodFdoaXRlc3BhY2UsICcnKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBzaGltID0gcmVxdWlyZSgnLi9zaGltJyk7XG5cbnZhciBib3VuZFRyaW0gPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgZ2V0UG9seWZpbGwoKSk7XG5cbmRlZmluZShib3VuZFRyaW0sIHtcblx0Z2V0UG9seWZpbGw6IGdldFBvbHlmaWxsLFxuXHRpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb24sXG5cdHNoaW06IHNoaW1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJvdW5kVHJpbTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG52YXIgemVyb1dpZHRoU3BhY2UgPSAnXFx1MjAwYic7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdGlmIChTdHJpbmcucHJvdG90eXBlLnRyaW0gJiYgemVyb1dpZHRoU3BhY2UudHJpbSgpID09PSB6ZXJvV2lkdGhTcGFjZSkge1xuXHRcdHJldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW07XG5cdH1cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hpbVN0cmluZ1RyaW0oKSB7XG5cdHZhciBwb2x5ZmlsbCA9IGdldFBvbHlmaWxsKCk7XG5cdGRlZmluZShTdHJpbmcucHJvdG90eXBlLCB7IHRyaW06IHBvbHlmaWxsIH0sIHsgdHJpbTogZnVuY3Rpb24gKCkgeyByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltICE9PSBwb2x5ZmlsbDsgfSB9KTtcblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIl19
